globalThis.$localize=Object.assign(globalThis.$localize || {},{locale:"ar-AR"});
"use strict";(function(global,_global$ng,_global$ng2,_global$ng2$common,_global$ng$common,_global$ng$common$loc){(_global$ng=global.ng)!==null&&_global$ng!==void 0?_global$ng:global.ng={};(_global$ng2$common=(_global$ng2=global.ng).common)!==null&&_global$ng2$common!==void 0?_global$ng2$common:_global$ng2.common={};(_global$ng$common$loc=(_global$ng$common=global.ng.common).locales)!==null&&_global$ng$common$loc!==void 0?_global$ng$common$loc:_global$ng$common.locales={};const u=undefined;function plural(val){const n=val;if(n===0)return 0;if(n===1)return 1;if(n===2)return 2;if(n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10)return 3;if(n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99)return 4;return 5}global.ng.common.locales["ar"]=["ar",[["\u0635","\u0645"],u,u],[["\u0635","\u0645"],u,["\u0635\u0628\u0627\u062D\u064B\u0627","\u0645\u0633\u0627\u0621\u064B"]],[["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0627\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],u,["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"]],u,[["\u064A","\u0641","\u0645","\u0623","\u0648","\u0646","\u0644","\u063A","\u0633","\u0643","\u0628","\u062F"],["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],u],u,[["\u0642.\u0645","\u0645"],u,["\u0642\u0628\u0644 \u0627\u0644\u0645\u064A\u0644\u0627\u062F","\u0645\u064A\u0644\u0627\u062F\u064A"]],6,[5,6],["d\u200F/M\u200F/y","dd\u200F/MM\u200F/y","d MMMM y","EEEE\u060C d MMMM y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",u,"{1} \u0641\u064A {0}",u],[".",",",";","\u200E%\u200E","\u200E+","\u200E-","E","\xD7","\u2030","\u221E","\u0644\u064A\u0633\xA0\u0631\u0642\u0645\u064B\u0627",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"EGP","\u062C.\u0645.\u200F","\u062C\u0646\u064A\u0647 \u0645\u0635\u0631\u064A",{"AED":["\u062F.\u0625.\u200F"],"ARS":[u,"AR$"],"AUD":["AU$"],"BBD":[u,"BB$"],"BHD":["\u062F.\u0628.\u200F"],"BMD":[u,"BM$"],"BND":[u,"BN$"],"BSD":[u,"BS$"],"BYN":[u,"\u0440."],"BZD":[u,"BZ$"],"CAD":["CA$"],"CLP":[u,"CL$"],"CNY":["CN\xA5"],"COP":[u,"CO$"],"CUP":[u,"CU$"],"DOP":[u,"DO$"],"DZD":["\u062F.\u062C.\u200F"],"EGP":["\u062C.\u0645.\u200F","E\xA3"],"FJD":[u,"FJ$"],"GBP":["UK\xA3"],"GYD":[u,"GY$"],"HKD":["HK$"],"IQD":["\u062F.\u0639.\u200F"],"IRR":["\u0631.\u0625."],"JMD":[u,"JM$"],"JOD":["\u062F.\u0623.\u200F"],"JPY":["JP\xA5"],"KWD":["\u062F.\u0643.\u200F"],"KYD":[u,"KY$"],"LBP":["\u0644.\u0644.\u200F","L\xA3"],"LRD":[u,"$LR"],"LYD":["\u062F.\u0644.\u200F"],"MAD":["\u062F.\u0645.\u200F"],"MRU":["\u0623.\u0645."],"MXN":["MX$"],"NZD":["NZ$"],"OMR":["\u0631.\u0639.\u200F"],"PHP":[u,"\u20B1"],"QAR":["\u0631.\u0642.\u200F"],"SAR":["\u0631.\u0633.\u200F"],"SBD":[u,"SB$"],"SDD":["\u062F.\u0633.\u200F"],"SDG":["\u062C.\u0633."],"SRD":[u,"SR$"],"SYP":["\u0644.\u0633.\u200F","\xA3"],"THB":["\u0E3F"],"TND":["\u062F.\u062A.\u200F"],"TTD":[u,"TT$"],"TWD":["NT$"],"USD":["US$"],"UYU":[u,"UY$"],"YER":["\u0631.\u064A.\u200F"]},"rtl",plural,[[["\u0641\u062C\u0631\u064B\u0627","\u0635\u0628\u0627\u062D\u064B\u0627","\u0638\u0647\u0631\u064B\u0627","\u0628\u0639\u062F \u0627\u0644\u0638\u0647\u0631","\u0645\u0633\u0627\u0621\u064B","\u0645\u0646\u062A\u0635\u0641 \u0627\u0644\u0644\u064A\u0644","\u0644\u064A\u0644\u0627\u064B"],["\u0641\u062C\u0631\u064B\u0627","\u0635","\u0638\u0647\u0631\u064B\u0627","\u0628\u0639\u062F \u0627\u0644\u0638\u0647\u0631","\u0645\u0633\u0627\u0621\u064B","\u0641\u064A \u0627\u0644\u0645\u0633\u0627\u0621","\u0644\u064A\u0644\u0627\u064B"],["\u0641\u064A \u0627\u0644\u0635\u0628\u0627\u062D","\u0635\u0628\u0627\u062D\u064B\u0627","\u0638\u0647\u0631\u064B\u0627","\u0628\u0639\u062F \u0627\u0644\u0638\u0647\u0631","\u0645\u0633\u0627\u0621\u064B","\u0641\u064A \u0627\u0644\u0645\u0633\u0627\u0621","\u0644\u064A\u0644\u0627\u064B"]],[["\u0641\u062C\u0631\u064B\u0627","\u0635\u0628\u0627\u062D\u064B\u0627","\u0638\u0647\u0631\u064B\u0627","\u0628\u0639\u062F \u0627\u0644\u0638\u0647\u0631","\u0645\u0633\u0627\u0621\u064B","\u0645\u0646\u062A\u0635\u0641 \u0627\u0644\u0644\u064A\u0644","\u0644\u064A\u0644\u0627\u064B"],["\u0641\u062C\u0631\u064B\u0627","\u0635","\u0638\u0647\u0631\u064B\u0627","\u0628\u0639\u062F \u0627\u0644\u0638\u0647\u0631","\u0645\u0633\u0627\u0621\u064B","\u0645\u0646\u062A\u0635\u0641 \u0627\u0644\u0644\u064A\u0644","\u0644\u064A\u0644\u0627\u064B"],["\u0641\u062C\u0631\u064B\u0627","\u0635\u0628\u0627\u062D\u064B\u0627","\u0638\u0647\u0631\u064B\u0627","\u0628\u0639\u062F \u0627\u0644\u0638\u0647\u0631","\u0645\u0633\u0627\u0621\u064B","\u0645\u0646\u062A\u0635\u0641 \u0627\u0644\u0644\u064A\u0644","\u0644\u064A\u0644\u0627\u064B"]],[["03:00","06:00"],["06:00","12:00"],["12:00","13:00"],["13:00","18:00"],["18:00","24:00"],["00:00","01:00"],["01:00","03:00"]]]]})(globalThis);;
(self.webpackChunkpaperless_ui=self.webpackChunkpaperless_ui||[]).push([[792],{83:(vi,St,Xt)=>{"use strict";var Nt=Xt(195);function $(Z){for(var st=Z.length;--st>=0;)Z[st]=0}var Me=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],be=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],nt=new Array(576);$(nt);var Ze=new Array(60);$(Ze);var pt=new Array(512);$(pt);var zt=new Array(256);$(zt);var Xe=new Array(29);$(Xe);var Ct,Ut,Ot,tt=new Array(30);function ct(Z,st,_t,Rt,he){this.static_tree=Z,this.extra_bits=st,this.extra_base=_t,this.elems=Rt,this.max_length=he,this.has_stree=Z&&Z.length}function mn(Z,st){this.dyn_tree=Z,this.max_code=0,this.stat_desc=st}function $n(Z){return Z<256?pt[Z]:pt[256+(Z>>>7)]}function hn(Z,st){Z.pending_buf[Z.pending++]=255&st,Z.pending_buf[Z.pending++]=st>>>8&255}function Wn(Z,st,_t){Z.bi_valid>16-_t?(Z.bi_buf|=st<<Z.bi_valid&65535,hn(Z,Z.bi_buf),Z.bi_buf=st>>16-Z.bi_valid,Z.bi_valid+=_t-16):(Z.bi_buf|=st<<Z.bi_valid&65535,Z.bi_valid+=_t)}function xn(Z,st,_t){Wn(Z,_t[2*st],_t[2*st+1])}function Xn(Z,st){var _t=0;do{_t|=1&Z,Z>>>=1,_t<<=1}while(--st>0);return _t>>>1}function Ps(Z,st,_t){var ze,F,Rt=new Array(16),he=0;for(ze=1;ze<=15;ze++)Rt[ze]=he=he+_t[ze-1]<<1;for(F=0;F<=st;F++){var ot=Z[2*F+1];0!==ot&&(Z[2*F]=Xn(Rt[ot]++,ot))}}function as(Z){var st;for(st=0;st<286;st++)Z.dyn_ltree[2*st]=0;for(st=0;st<30;st++)Z.dyn_dtree[2*st]=0;for(st=0;st<19;st++)Z.bl_tree[2*st]=0;Z.dyn_ltree[512]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function fr(Z){Z.bi_valid>8?hn(Z,Z.bi_buf):Z.bi_valid>0&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function tn(Z,st,_t,Rt){var he=2*st,ze=2*_t;return Z[he]<Z[ze]||Z[he]===Z[ze]&&Rt[st]<=Rt[_t]}function vn(Z,st,_t){for(var Rt=Z.heap[_t],he=_t<<1;he<=Z.heap_len&&(he<Z.heap_len&&tn(st,Z.heap[he+1],Z.heap[he],Z.depth)&&he++,!tn(st,Rt,Z.heap[he],Z.depth));)Z.heap[_t]=Z.heap[he],_t=he,he<<=1;Z.heap[_t]=Rt}function Vt(Z,st,_t){var Rt,he,F,ot,ze=0;if(0!==Z.last_lit)do{Rt=Z.pending_buf[Z.d_buf+2*ze]<<8|Z.pending_buf[Z.d_buf+2*ze+1],he=Z.pending_buf[Z.l_buf+ze],ze++,0===Rt?xn(Z,he,st):(xn(Z,(F=zt[he])+256+1,st),0!==(ot=Me[F])&&Wn(Z,he-=Xe[F],ot),xn(Z,F=$n(--Rt),_t),0!==(ot=be[F])&&Wn(Z,Rt-=tt[F],ot))}while(ze<Z.last_lit);xn(Z,256,st)}function It(Z,st){var F,ot,A,_t=st.dyn_tree,Rt=st.stat_desc.static_tree,he=st.stat_desc.has_stree,ze=st.stat_desc.elems,pn=-1;for(Z.heap_len=0,Z.heap_max=573,F=0;F<ze;F++)0!==_t[2*F]?(Z.heap[++Z.heap_len]=pn=F,Z.depth[F]=0):_t[2*F+1]=0;for(;Z.heap_len<2;)_t[2*(A=Z.heap[++Z.heap_len]=pn<2?++pn:0)]=1,Z.depth[A]=0,Z.opt_len--,he&&(Z.static_len-=Rt[2*A+1]);for(st.max_code=pn,F=Z.heap_len>>1;F>=1;F--)vn(Z,_t,F);A=ze;do{F=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],vn(Z,_t,1),ot=Z.heap[1],Z.heap[--Z.heap_max]=F,Z.heap[--Z.heap_max]=ot,_t[2*A]=_t[2*F]+_t[2*ot],Z.depth[A]=(Z.depth[F]>=Z.depth[ot]?Z.depth[F]:Z.depth[ot])+1,_t[2*F+1]=_t[2*ot+1]=A,Z.heap[1]=A++,vn(Z,_t,1)}while(Z.heap_len>=2);Z.heap[--Z.heap_max]=Z.heap[1],function to(Z,st){var A,Ne,ye,V,ae,Oe,_t=st.dyn_tree,Rt=st.max_code,he=st.stat_desc.static_tree,ze=st.stat_desc.has_stree,F=st.stat_desc.extra_bits,ot=st.stat_desc.extra_base,pn=st.stat_desc.max_length,Kt=0;for(V=0;V<=15;V++)Z.bl_count[V]=0;for(_t[2*Z.heap[Z.heap_max]+1]=0,A=Z.heap_max+1;A<573;A++)(V=_t[2*_t[2*(Ne=Z.heap[A])+1]+1]+1)>pn&&(V=pn,Kt++),_t[2*Ne+1]=V,!(Ne>Rt)&&(Z.bl_count[V]++,ae=0,Ne>=ot&&(ae=F[Ne-ot]),Z.opt_len+=(Oe=_t[2*Ne])*(V+ae),ze&&(Z.static_len+=Oe*(he[2*Ne+1]+ae)));if(0!==Kt){do{for(V=pn-1;0===Z.bl_count[V];)V--;Z.bl_count[V]--,Z.bl_count[V+1]+=2,Z.bl_count[pn]--,Kt-=2}while(Kt>0);for(V=pn;0!==V;V--)for(Ne=Z.bl_count[V];0!==Ne;)!((ye=Z.heap[--A])>Rt)&&(_t[2*ye+1]!==V&&(Z.opt_len+=(V-_t[2*ye+1])*_t[2*ye],_t[2*ye+1]=V),Ne--)}}(Z,st),Ps(_t,pn,Z.bl_count)}function Ii(Z,st,_t){var Rt,ze,he=-1,F=st[1],ot=0,pn=7,A=4;for(0===F&&(pn=138,A=3),st[2*(_t+1)+1]=65535,Rt=0;Rt<=_t;Rt++)ze=F,F=st[2*(Rt+1)+1],!(++ot<pn&&ze===F)&&(ot<A?Z.bl_tree[2*ze]+=ot:0!==ze?(ze!==he&&Z.bl_tree[2*ze]++,Z.bl_tree[32]++):ot<=10?Z.bl_tree[34]++:Z.bl_tree[36]++,ot=0,he=ze,0===F?(pn=138,A=3):ze===F?(pn=6,A=3):(pn=7,A=4))}function Qs(Z,st,_t){var Rt,ze,he=-1,F=st[1],ot=0,pn=7,A=4;for(0===F&&(pn=138,A=3),Rt=0;Rt<=_t;Rt++)if(ze=F,F=st[2*(Rt+1)+1],!(++ot<pn&&ze===F)){if(ot<A)do{xn(Z,ze,Z.bl_tree)}while(0!==--ot);else 0!==ze?(ze!==he&&(xn(Z,ze,Z.bl_tree),ot--),xn(Z,16,Z.bl_tree),Wn(Z,ot-3,2)):ot<=10?(xn(Z,17,Z.bl_tree),Wn(Z,ot-3,3)):(xn(Z,18,Z.bl_tree),Wn(Z,ot-11,7));ot=0,he=ze,0===F?(pn=138,A=3):ze===F?(pn=6,A=3):(pn=7,A=4)}}$(tt);var Vr=!1;function Js(Z,st,_t,Rt){Wn(Z,0+(Rt?1:0),3),function zn(Z,st,_t,Rt){fr(Z),Rt&&(hn(Z,_t),hn(Z,~_t)),Nt.arraySet(Z.pending_buf,Z.window,st,_t,Z.pending),Z.pending+=_t}(Z,st,_t,!0)}St._tr_init=function S0(Z){Vr||(function Oi(){var Z,st,_t,Rt,he,ze=new Array(16);for(_t=0,Rt=0;Rt<28;Rt++)for(Xe[Rt]=_t,Z=0;Z<1<<Me[Rt];Z++)zt[_t++]=Rt;for(zt[_t-1]=Rt,he=0,Rt=0;Rt<16;Rt++)for(tt[Rt]=he,Z=0;Z<1<<be[Rt];Z++)pt[he++]=Rt;for(he>>=7;Rt<30;Rt++)for(tt[Rt]=he<<7,Z=0;Z<1<<be[Rt]-7;Z++)pt[256+he++]=Rt;for(st=0;st<=15;st++)ze[st]=0;for(Z=0;Z<=143;)nt[2*Z+1]=8,Z++,ze[8]++;for(;Z<=255;)nt[2*Z+1]=9,Z++,ze[9]++;for(;Z<=279;)nt[2*Z+1]=7,Z++,ze[7]++;for(;Z<=287;)nt[2*Z+1]=8,Z++,ze[8]++;for(Ps(nt,287,ze),Z=0;Z<30;Z++)Ze[2*Z+1]=5,Ze[2*Z]=Xn(Z,5);Ct=new ct(nt,Me,257,286,15),Ut=new ct(Ze,be,0,30,15),Ot=new ct(new Array(0),Se,0,19,7)}(),Vr=!0),Z.l_desc=new mn(Z.dyn_ltree,Ct),Z.d_desc=new mn(Z.dyn_dtree,Ut),Z.bl_desc=new mn(Z.bl_tree,Ot),Z.bi_buf=0,Z.bi_valid=0,as(Z)},St._tr_stored_block=Js,St._tr_flush_block=function ga(Z,st,_t,Rt){var he,ze,F=0;Z.level>0?(2===Z.strm.data_type&&(Z.strm.data_type=function m1(Z){var _t,st=4093624447;for(_t=0;_t<=31;_t++,st>>>=1)if(1&st&&0!==Z.dyn_ltree[2*_t])return 0;if(0!==Z.dyn_ltree[18]||0!==Z.dyn_ltree[20]||0!==Z.dyn_ltree[26])return 1;for(_t=32;_t<256;_t++)if(0!==Z.dyn_ltree[2*_t])return 1;return 0}(Z)),It(Z,Z.l_desc),It(Z,Z.d_desc),F=function Vs(Z){var st;for(Ii(Z,Z.dyn_ltree,Z.l_desc.max_code),Ii(Z,Z.dyn_dtree,Z.d_desc.max_code),It(Z,Z.bl_desc),st=18;st>=3&&0===Z.bl_tree[2*Ie[st]+1];st--);return Z.opt_len+=3*(st+1)+5+5+4,st}(Z),(ze=Z.static_len+3+7>>>3)<=(he=Z.opt_len+3+7>>>3)&&(he=ze)):he=ze=_t+5,_t+4<=he&&-1!==st?Js(Z,st,_t,Rt):4===Z.strategy||ze===he?(Wn(Z,2+(Rt?1:0),3),Vt(Z,nt,Ze)):(Wn(Z,4+(Rt?1:0),3),function Li(Z,st,_t,Rt){var he;for(Wn(Z,st-257,5),Wn(Z,_t-1,5),Wn(Z,Rt-4,4),he=0;he<Rt;he++)Wn(Z,Z.bl_tree[2*Ie[he]+1],3);Qs(Z,Z.dyn_ltree,st-1),Qs(Z,Z.dyn_dtree,_t-1)}(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,F+1),Vt(Z,Z.dyn_ltree,Z.dyn_dtree)),as(Z),Rt&&fr(Z)},St._tr_tally=function ja(Z,st,_t){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=st>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&st,Z.pending_buf[Z.l_buf+Z.last_lit]=255&_t,Z.last_lit++,0===st?Z.dyn_ltree[2*_t]++:(Z.matches++,st--,Z.dyn_ltree[2*(zt[_t]+256+1)]++,Z.dyn_dtree[2*$n(st)]++),Z.last_lit===Z.lit_bufsize-1},St._tr_align=function Wo(Z){Wn(Z,2,3),xn(Z,256,nt),function Zo(Z){16===Z.bi_valid?(hn(Z,Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0):Z.bi_valid>=8&&(Z.pending_buf[Z.pending++]=255&Z.bi_buf,Z.bi_buf>>=8,Z.bi_valid-=8)}(Z)}},139:vi=>{"use strict";vi.exports=function St(Xt,Nt,gt,Ht){for(var te=65535&Xt,ht=Xt>>>16&65535,$=0;0!==gt;){gt-=$=gt>2e3?2e3:gt;do{ht=ht+(te=te+Nt[Ht++]|0)|0}while(--$);te%=65521,ht%=65521}return te|ht<<16}},153:(vi,St,Xt)=>{"use strict";var ga,Nt=Xt(195),gt=Xt(83),Ht=Xt(139),te=Xt(597),ht=Xt(200),j=-2,ct=262;function as(A,Ne){return A.msg=ht[Ne],Ne}function fr(A){return(A<<1)-(A>4?9:0)}function zn(A){for(var Ne=A.length;--Ne>=0;)A[Ne]=0}function tn(A){var Ne=A.state,ye=Ne.pending;ye>A.avail_out&&(ye=A.avail_out),0!==ye&&(Nt.arraySet(A.output,Ne.pending_buf,Ne.pending_out,ye,A.next_out),A.next_out+=ye,Ne.pending_out+=ye,A.total_out+=ye,A.avail_out-=ye,Ne.pending-=ye,0===Ne.pending&&(Ne.pending_out=0))}function vn(A,Ne){gt._tr_flush_block(A,A.block_start>=0?A.block_start:-1,A.strstart-A.block_start,Ne),A.block_start=A.strstart,tn(A.strm)}function Vt(A,Ne){A.pending_buf[A.pending++]=Ne}function It(A,Ne){A.pending_buf[A.pending++]=Ne>>>8&255,A.pending_buf[A.pending++]=255&Ne}function Ii(A,Ne,ye,V){var ae=A.avail_in;return ae>V&&(ae=V),0===ae?0:(A.avail_in-=ae,Nt.arraySet(Ne,A.input,A.next_in,ae,ye),1===A.state.wrap?A.adler=Ht(A.adler,Ne,ae,ye):2===A.state.wrap&&(A.adler=te(A.adler,Ne,ae,ye)),A.next_in+=ae,A.total_in+=ae,ae)}function Qs(A,Ne){var ae,Oe,ye=A.max_chain_length,V=A.strstart,Kt=A.prev_length,yt=A.nice_match,At=A.strstart>A.w_size-ct?A.strstart-(A.w_size-ct):0,li=A.window,Za=A.w_mask,Jt=A.prev,ci=A.strstart+258,Xo=li[V+Kt-1],Is=li[V+Kt];A.prev_length>=A.good_match&&(ye>>=2),yt>A.lookahead&&(yt=A.lookahead);do{if(li[(ae=Ne)+Kt]===Is&&li[ae+Kt-1]===Xo&&li[ae]===li[V]&&li[++ae]===li[V+1]){V+=2,ae++;do{}while(li[++V]===li[++ae]&&li[++V]===li[++ae]&&li[++V]===li[++ae]&&li[++V]===li[++ae]&&li[++V]===li[++ae]&&li[++V]===li[++ae]&&li[++V]===li[++ae]&&li[++V]===li[++ae]&&V<ci);if(Oe=258-(ci-V),V=ci-258,Oe>Kt){if(A.match_start=Ne,Kt=Oe,Oe>=yt)break;Xo=li[V+Kt-1],Is=li[V+Kt]}}}while((Ne=Jt[Ne&Za])>At&&0!==--ye);return Kt<=A.lookahead?Kt:A.lookahead}function Vs(A){var ye,V,ae,Oe,Kt,Ne=A.w_size;do{if(Oe=A.window_size-A.lookahead-A.strstart,A.strstart>=Ne+(Ne-ct)){Nt.arraySet(A.window,A.window,Ne,Ne,0),A.match_start-=Ne,A.strstart-=Ne,A.block_start-=Ne,ye=V=A.hash_size;do{ae=A.head[--ye],A.head[ye]=ae>=Ne?ae-Ne:0}while(--V);ye=V=Ne;do{ae=A.prev[--ye],A.prev[ye]=ae>=Ne?ae-Ne:0}while(--V);Oe+=Ne}if(0===A.strm.avail_in)break;if(V=Ii(A.strm,A.window,A.strstart+A.lookahead,Oe),A.lookahead+=V,A.lookahead+A.insert>=3)for(A.ins_h=A.window[Kt=A.strstart-A.insert],A.ins_h=(A.ins_h<<A.hash_shift^A.window[Kt+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[Kt+3-1])&A.hash_mask,A.prev[Kt&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=Kt,Kt++,A.insert--,!(A.lookahead+A.insert<3)););}while(A.lookahead<ct&&0!==A.strm.avail_in)}function m1(A,Ne){for(var ye,V;;){if(A.lookahead<ct){if(Vs(A),A.lookahead<ct&&0===Ne)return 1;if(0===A.lookahead)break}if(ye=0,A.lookahead>=3&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+3-1])&A.hash_mask,ye=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),0!==ye&&A.strstart-ye<=A.w_size-ct&&(A.match_length=Qs(A,ye)),A.match_length>=3)if(V=gt._tr_tally(A,A.strstart-A.match_start,A.match_length-3),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=3){A.match_length--;do{A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+3-1])&A.hash_mask,ye=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart}while(0!==--A.match_length);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else V=gt._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(V&&(vn(A,!1),0===A.strm.avail_out))return 1}return A.insert=A.strstart<2?A.strstart:2,4===Ne?(vn(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(vn(A,!1),0===A.strm.avail_out)?1:2}function Vr(A,Ne){for(var ye,V,ae;;){if(A.lookahead<ct){if(Vs(A),A.lookahead<ct&&0===Ne)return 1;if(0===A.lookahead)break}if(ye=0,A.lookahead>=3&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+3-1])&A.hash_mask,ye=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=2,0!==ye&&A.prev_length<A.max_lazy_match&&A.strstart-ye<=A.w_size-ct&&(A.match_length=Qs(A,ye),A.match_length<=5&&(1===A.strategy||3===A.match_length&&A.strstart-A.match_start>4096)&&(A.match_length=2)),A.prev_length>=3&&A.match_length<=A.prev_length){ae=A.strstart+A.lookahead-3,V=gt._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-3),A.lookahead-=A.prev_length-1,A.prev_length-=2;do{++A.strstart<=ae&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+3-1])&A.hash_mask,ye=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart)}while(0!==--A.prev_length);if(A.match_available=0,A.match_length=2,A.strstart++,V&&(vn(A,!1),0===A.strm.avail_out))return 1}else if(A.match_available){if((V=gt._tr_tally(A,0,A.window[A.strstart-1]))&&vn(A,!1),A.strstart++,A.lookahead--,0===A.strm.avail_out)return 1}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(V=gt._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<2?A.strstart:2,4===Ne?(vn(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(vn(A,!1),0===A.strm.avail_out)?1:2}function Wo(A,Ne,ye,V,ae){this.good_length=A,this.max_lazy=Ne,this.nice_length=ye,this.max_chain=V,this.func=ae}function Z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Nt.Buf16(1146),this.dyn_dtree=new Nt.Buf16(122),this.bl_tree=new Nt.Buf16(78),zn(this.dyn_ltree),zn(this.dyn_dtree),zn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Nt.Buf16(16),this.heap=new Nt.Buf16(573),zn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Nt.Buf16(573),zn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function st(A){var Ne;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=2,(Ne=A.state).pending=0,Ne.pending_out=0,Ne.wrap<0&&(Ne.wrap=-Ne.wrap),Ne.status=Ne.wrap?42:113,A.adler=2===Ne.wrap?0:1,Ne.last_flush=0,gt._tr_init(Ne),0):as(A,j)}function _t(A){var Ne=st(A);return 0===Ne&&function ja(A){A.window_size=2*A.w_size,zn(A.head),A.max_lazy_match=ga[A.level].max_lazy,A.good_match=ga[A.level].good_length,A.nice_match=ga[A.level].nice_length,A.max_chain_length=ga[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=2,A.match_available=0,A.ins_h=0}(A.state),Ne}function he(A,Ne,ye,V,ae,Oe){if(!A)return j;var Kt=1;if(-1===Ne&&(Ne=6),V<0?(Kt=0,V=-V):V>15&&(Kt=2,V-=16),ae<1||ae>9||8!==ye||V<8||V>15||Ne<0||Ne>9||Oe<0||Oe>4)return as(A,j);8===V&&(V=9);var yt=new Z;return A.state=yt,yt.strm=A,yt.wrap=Kt,yt.gzhead=null,yt.w_bits=V,yt.w_size=1<<yt.w_bits,yt.w_mask=yt.w_size-1,yt.hash_bits=ae+7,yt.hash_size=1<<yt.hash_bits,yt.hash_mask=yt.hash_size-1,yt.hash_shift=~~((yt.hash_bits+3-1)/3),yt.window=new Nt.Buf8(2*yt.w_size),yt.head=new Nt.Buf16(yt.hash_size),yt.prev=new Nt.Buf16(yt.w_size),yt.lit_bufsize=1<<ae+6,yt.pending_buf_size=4*yt.lit_bufsize,yt.pending_buf=new Nt.Buf8(yt.pending_buf_size),yt.d_buf=1*yt.lit_bufsize,yt.l_buf=3*yt.lit_bufsize,yt.level=Ne,yt.strategy=Oe,yt.method=ye,_t(A)}ga=[new Wo(0,0,0,0,function Li(A,Ne){var ye=65535;for(ye>A.pending_buf_size-5&&(ye=A.pending_buf_size-5);;){if(A.lookahead<=1){if(Vs(A),0===A.lookahead&&0===Ne)return 1;if(0===A.lookahead)break}A.strstart+=A.lookahead,A.lookahead=0;var V=A.block_start+ye;if((0===A.strstart||A.strstart>=V)&&(A.lookahead=A.strstart-V,A.strstart=V,vn(A,!1),0===A.strm.avail_out)||A.strstart-A.block_start>=A.w_size-ct&&(vn(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,4===Ne?(vn(A,!0),0===A.strm.avail_out?3:4):(A.strstart>A.block_start&&vn(A,!1),1)}),new Wo(4,4,8,4,m1),new Wo(4,5,16,8,m1),new Wo(4,6,32,32,m1),new Wo(4,4,16,16,Vr),new Wo(8,16,32,32,Vr),new Wo(8,16,128,128,Vr),new Wo(8,32,128,256,Vr),new Wo(32,128,258,1024,Vr),new Wo(32,258,258,4096,Vr)],St.deflateInit=function ze(A,Ne){return he(A,Ne,8,15,8,0)},St.deflateInit2=he,St.deflateReset=_t,St.deflateResetKeep=st,St.deflateSetHeader=function Rt(A,Ne){return A&&A.state&&2===A.state.wrap?(A.state.gzhead=Ne,0):j},St.deflate=function F(A,Ne){var ye,V,ae,Oe;if(!A||!A.state||Ne>5||Ne<0)return A?as(A,j):j;if(V=A.state,!A.output||!A.input&&0!==A.avail_in||666===V.status&&4!==Ne)return as(A,0===A.avail_out?-5:j);if(V.strm=A,ye=V.last_flush,V.last_flush=Ne,42===V.status)if(2===V.wrap)A.adler=0,Vt(V,31),Vt(V,139),Vt(V,8),V.gzhead?(Vt(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),Vt(V,255&V.gzhead.time),Vt(V,V.gzhead.time>>8&255),Vt(V,V.gzhead.time>>16&255),Vt(V,V.gzhead.time>>24&255),Vt(V,9===V.level?2:V.strategy>=2||V.level<2?4:0),Vt(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(Vt(V,255&V.gzhead.extra.length),Vt(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(A.adler=te(A.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(Vt(V,0),Vt(V,0),Vt(V,0),Vt(V,0),Vt(V,0),Vt(V,9===V.level?2:V.strategy>=2||V.level<2?4:0),Vt(V,3),V.status=113);else{var Kt=8+(V.w_bits-8<<4)<<8;Kt|=(V.strategy>=2||V.level<2?0:V.level<6?1:6===V.level?2:3)<<6,0!==V.strstart&&(Kt|=32),Kt+=31-Kt%31,V.status=113,It(V,Kt),0!==V.strstart&&(It(V,A.adler>>>16),It(V,65535&A.adler)),A.adler=1}if(69===V.status)if(V.gzhead.extra){for(ae=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>ae&&(A.adler=te(A.adler,V.pending_buf,V.pending-ae,ae)),tn(A),ae=V.pending,V.pending!==V.pending_buf_size));)Vt(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>ae&&(A.adler=te(A.adler,V.pending_buf,V.pending-ae,ae)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(73===V.status)if(V.gzhead.name){ae=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>ae&&(A.adler=te(A.adler,V.pending_buf,V.pending-ae,ae)),tn(A),ae=V.pending,V.pending===V.pending_buf_size)){Oe=1;break}Oe=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,Vt(V,Oe)}while(0!==Oe);V.gzhead.hcrc&&V.pending>ae&&(A.adler=te(A.adler,V.pending_buf,V.pending-ae,ae)),0===Oe&&(V.gzindex=0,V.status=91)}else V.status=91;if(91===V.status)if(V.gzhead.comment){ae=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>ae&&(A.adler=te(A.adler,V.pending_buf,V.pending-ae,ae)),tn(A),ae=V.pending,V.pending===V.pending_buf_size)){Oe=1;break}Oe=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,Vt(V,Oe)}while(0!==Oe);V.gzhead.hcrc&&V.pending>ae&&(A.adler=te(A.adler,V.pending_buf,V.pending-ae,ae)),0===Oe&&(V.status=103)}else V.status=103;if(103===V.status&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&tn(A),V.pending+2<=V.pending_buf_size&&(Vt(V,255&A.adler),Vt(V,A.adler>>8&255),A.adler=0,V.status=113)):V.status=113),0!==V.pending){if(tn(A),0===A.avail_out)return V.last_flush=-1,0}else if(0===A.avail_in&&fr(Ne)<=fr(ye)&&4!==Ne)return as(A,-5);if(666===V.status&&0!==A.avail_in)return as(A,-5);if(0!==A.avail_in||0!==V.lookahead||0!==Ne&&666!==V.status){var At=2===V.strategy?function Js(A,Ne){for(var ye;;){if(0===A.lookahead&&(Vs(A),0===A.lookahead)){if(0===Ne)return 1;break}if(A.match_length=0,ye=gt._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,ye&&(vn(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,4===Ne?(vn(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(vn(A,!1),0===A.strm.avail_out)?1:2}(V,Ne):3===V.strategy?function S0(A,Ne){for(var ye,V,ae,Oe,Kt=A.window;;){if(A.lookahead<=258){if(Vs(A),A.lookahead<=258&&0===Ne)return 1;if(0===A.lookahead)break}if(A.match_length=0,A.lookahead>=3&&A.strstart>0&&(V=Kt[ae=A.strstart-1])===Kt[++ae]&&V===Kt[++ae]&&V===Kt[++ae]){Oe=A.strstart+258;do{}while(V===Kt[++ae]&&V===Kt[++ae]&&V===Kt[++ae]&&V===Kt[++ae]&&V===Kt[++ae]&&V===Kt[++ae]&&V===Kt[++ae]&&V===Kt[++ae]&&ae<Oe);A.match_length=258-(Oe-ae),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=3?(ye=gt._tr_tally(A,1,A.match_length-3),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(ye=gt._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),ye&&(vn(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,4===Ne?(vn(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(vn(A,!1),0===A.strm.avail_out)?1:2}(V,Ne):ga[V.level].func(V,Ne);if((3===At||4===At)&&(V.status=666),1===At||3===At)return 0===A.avail_out&&(V.last_flush=-1),0;if(2===At&&(1===Ne?gt._tr_align(V):5!==Ne&&(gt._tr_stored_block(V,0,0,!1),3===Ne&&(zn(V.head),0===V.lookahead&&(V.strstart=0,V.block_start=0,V.insert=0))),tn(A),0===A.avail_out))return V.last_flush=-1,0}return 4!==Ne?0:V.wrap<=0?1:(2===V.wrap?(Vt(V,255&A.adler),Vt(V,A.adler>>8&255),Vt(V,A.adler>>16&255),Vt(V,A.adler>>24&255),Vt(V,255&A.total_in),Vt(V,A.total_in>>8&255),Vt(V,A.total_in>>16&255),Vt(V,A.total_in>>24&255)):(It(V,A.adler>>>16),It(V,65535&A.adler)),tn(A),V.wrap>0&&(V.wrap=-V.wrap),0!==V.pending?0:1)},St.deflateEnd=function ot(A){var Ne;return A&&A.state?42!==(Ne=A.state.status)&&69!==Ne&&73!==Ne&&91!==Ne&&103!==Ne&&113!==Ne&&666!==Ne?as(A,j):(A.state=null,113===Ne?as(A,-3):0):j},St.deflateSetDictionary=function pn(A,Ne){var V,ae,Oe,Kt,yt,At,li,Za,ye=Ne.length;if(!A||!A.state||2===(Kt=(V=A.state).wrap)||1===Kt&&42!==V.status||V.lookahead)return j;for(1===Kt&&(A.adler=Ht(A.adler,Ne,ye,0)),V.wrap=0,ye>=V.w_size&&(0===Kt&&(zn(V.head),V.strstart=0,V.block_start=0,V.insert=0),Za=new Nt.Buf8(V.w_size),Nt.arraySet(Za,Ne,ye-V.w_size,V.w_size,0),Ne=Za,ye=V.w_size),yt=A.avail_in,At=A.next_in,li=A.input,A.avail_in=ye,A.next_in=0,A.input=Ne,Vs(V);V.lookahead>=3;){ae=V.strstart,Oe=V.lookahead-2;do{V.ins_h=(V.ins_h<<V.hash_shift^V.window[ae+3-1])&V.hash_mask,V.prev[ae&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ae,ae++}while(--Oe);V.strstart=ae,V.lookahead=2,Vs(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=2,V.match_available=0,A.next_in=At,A.input=li,A.avail_in=yt,V.wrap=Kt,0},St.deflateInfo="pako deflate (from Nodeca project)"},171:vi=>{"use strict";vi.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},195:(vi,St)=>{"use strict";var Xt=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Nt(te,ht){return Object.prototype.hasOwnProperty.call(te,ht)}St.assign=function(te){for(var ht=Array.prototype.slice.call(arguments,1);ht.length;){var $=ht.shift();if($){if("object"!=typeof $)throw new TypeError($+"must be non-object");for(var x in $)Nt($,x)&&(te[x]=$[x])}}return te},St.shrinkBuf=function(te,ht){return te.length===ht?te:te.subarray?te.subarray(0,ht):(te.length=ht,te)};var gt={arraySet:function(te,ht,$,x,W){if(ht.subarray&&te.subarray)te.set(ht.subarray($,$+x),W);else for(var q=0;q<x;q++)te[W+q]=ht[$+q]},flattenChunks:function(te){var ht,$,x,W,q,Q;for(x=0,ht=0,$=te.length;ht<$;ht++)x+=te[ht].length;for(Q=new Uint8Array(x),W=0,ht=0,$=te.length;ht<$;ht++)Q.set(q=te[ht],W),W+=q.length;return Q}},Ht={arraySet:function(te,ht,$,x,W){for(var q=0;q<x;q++)te[W+q]=ht[$+q]},flattenChunks:function(te){return[].concat.apply([],te)}};St.setTyped=function(te){te?(St.Buf8=Uint8Array,St.Buf16=Uint16Array,St.Buf32=Int32Array,St.assign(St,gt)):(St.Buf8=Array,St.Buf16=Array,St.Buf32=Array,St.assign(St,Ht))},St.setTyped(Xt)},200:vi=>{"use strict";vi.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},221:(vi,St,Xt)=>{!function(){var gt,te,ht,$,x,W,Nt={};function Ht(){typeof process>"u"&&console.log.apply(console,arguments)}vi.exports=Nt,gt=Xt(586),te=Nt,ht=gt,$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},x=function(){function q(Q){this.message="JPEG error: "+Q}return(q.prototype=Error()).name="JpegError",q.constructor=q}(),W=function(){function q(Q,X){this.message=Q,this.g=X}return(q.prototype=Error()).name="DNLMarkerError",q.constructor=q}(),function(){function q(){this.M=null,this.B=-1}function Q(H,U){for(var z,K,ie=0,ee=[],de=16;0<de&&!H[de-1];)de--;ee.push({children:[],index:0});var _e,Y=ee[0];for(z=0;z<de;z++){for(K=0;K<H[z];K++){for((Y=ee.pop()).children[Y.index]=U[ie];0<Y.index;)Y=ee.pop();for(Y.index++,ee.push(Y);ee.length<=z;)ee.push(_e={children:[],index:0}),Y.children[Y.index]=_e.children,Y=_e;ie++}z+1<de&&(ee.push(_e={children:[],index:0}),Y.children[Y.index]=_e.children,Y=_e)}return ee[0].children}function X(H,U,ie,ee,z,K,de,Y,_e){function Ae(){if(0<Ct)return Ct--,ct>>Ct&1;if(255===(ct=H[U++])){var tn=H[U++];if(tn){if(220===tn&&zt){U+=2;var vn=H[U++]<<8|H[U++];if(0<vn&&vn!==ie.g)throw new W("Found DNL marker (0xFFDC) while parsing scan data",vn)}throw new x("unexpected marker "+(ct<<8|tn).toString(16))}}return Ct=7,ct>>>7}function Me(tn){for(;;){if("number"==typeof(tn=tn[Ae()]))return tn;if("object"!==(typeof tn>"u"?"undefined":$(tn)))throw new x("invalid huffman sequence")}}function be(tn){for(var vn=0;0<tn;)vn=vn<<1|Ae(),tn--;return vn}function Se(tn){if(1===tn)return 1===Ae()?1:-1;var vn=be(tn);return vn>=1<<tn-1?vn:vn+(-1<<tn)+1}for(var mn,hn,Wn,xn,Xn,Oi,as,zt=9<arguments.length&&void 0!==arguments[9]&&arguments[9],Xe=ie.P,tt=U,ct=0,Ct=0,Ut=0,Ot=0,$n=ee.length,Zo=ie.S?0===K?0===Y?function dt(tn,vn){var Vt=Me(tn.D);Vt=0===Vt?0:Se(Vt)<<_e,tn.a[vn]=tn.m+=Vt}:function nt(tn,vn){tn.a[vn]|=Ae()<<_e}:0===Y?function Ze(tn,vn){if(0<Ut)Ut--;else for(var Vt=K;Vt<=de;){var It=Me(tn.o),Ii=15&It;if(It>>=4,0===Ii){if(15>It){Ut=be(It)+(1<<It)-1;break}Vt+=16}else tn.a[vn+ne[Vt+=It]]=Se(Ii)*(1<<_e),Vt++}}:function pt(tn,vn){for(var Ii,Vt=K,It=0;Vt<=de;){var Qs=0>tn.a[Ii=vn+ne[Vt]]?-1:1;switch(Ot){case 0:if(Ii=15&(It=Me(tn.o)),It>>=4,0===Ii)15>It?(Ut=be(It)+(1<<It),Ot=4):(It=16,Ot=1);else{if(1!==Ii)throw new x("invalid ACn encoding");mn=Se(Ii),Ot=It?2:3}continue;case 1:case 2:tn.a[Ii]?tn.a[Ii]+=Qs*(Ae()<<_e):0===--It&&(Ot=2===Ot?3:0);break;case 3:tn.a[Ii]?tn.a[Ii]+=Qs*(Ae()<<_e):(tn.a[Ii]=mn<<_e,Ot=0);break;case 4:tn.a[Ii]&&(tn.a[Ii]+=Qs*(Ae()<<_e))}Vt++}4===Ot&&0===--Ut&&(Ot=0)}:function Ie(tn,vn){var Vt=Me(tn.D);for(Vt=0===Vt?0:Se(Vt),tn.a[vn]=tn.m+=Vt,Vt=1;64>Vt;){var It=Me(tn.o),Ii=15&It;if(It>>=4,0===Ii){if(15>It)break;Vt+=16}else tn.a[vn+ne[Vt+=It]]=Se(Ii),Vt++}},to=0,Ps=1===$n?ee[0].c*ee[0].l:Xe*ie.O;to<Ps;){var fr=z?Math.min(Ps-to,z):Ps;for(hn=0;hn<$n;hn++)ee[hn].m=0;if(Ut=0,1===$n){var zn=ee[0];for(Xn=0;Xn<fr;Xn++)Zo(zn,64*((zn.c+1)*(to/zn.c|0)+to%zn.c)),to++}else for(Xn=0;Xn<fr;Xn++){for(hn=0;hn<$n;hn++)for(Oi=(zn=ee[hn]).h,as=zn.j,Wn=0;Wn<as;Wn++)for(xn=0;xn<Oi;xn++)Zo(zn,64*((zn.c+1)*((to/Xe|0)*zn.j+Wn)+(to%Xe*zn.h+xn)));to++}if(Ct=0,(zn=j(H,U))&&zn.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+zn.f),U=zn.offset),!(zn=zn&&zn.F)||65280>=zn)throw new x("marker was not found");if(!(65488<=zn&&65495>=zn))break;U+=2}return(zn=j(H,U))&&zn.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+zn.f),U=zn.offset),U-tt}function B(H,U){for(var ie=U.c,ee=U.l,z=new Int16Array(64),K=0;K<ee;K++)for(var de=0;de<ie;de++){var Y=64*((U.c+1)*K+de),_e=z,Ae=U.G,Me=U.a;if(!Ae)throw new x("missing required Quantization Table.");for(var be=0;64>be;be+=8){var Se=Me[Y+be],Ie=Me[Y+be+1],dt=Me[Y+be+2],nt=Me[Y+be+3],Ze=Me[Y+be+4],pt=Me[Y+be+5],zt=Me[Y+be+6],Xe=Me[Y+be+7];if(Se*=Ae[be],0===(Ie|dt|nt|Ze|pt|zt|Xe))_e[be]=Se=5793*Se+512>>10,_e[be+1]=Se,_e[be+2]=Se,_e[be+3]=Se,_e[be+4]=Se,_e[be+5]=Se,_e[be+6]=Se,_e[be+7]=Se;else{nt*=Ae[be+3],pt*=Ae[be+5];var tt=5793*Se+128>>8,ct=5793*(Ze*=Ae[be+4])+128>>8,Ct=dt*=Ae[be+2],Ut=zt*=Ae[be+6];ct=(tt=tt+ct+1>>1)-ct,Se=3784*Ct+1567*Ut+128>>8,Ct=1567*Ct-3784*Ut+128>>8,pt=(Ze=(Ze=2896*((Ie*=Ae[be+1])-(Xe*=Ae[be+7]))+128>>8)+(pt<<=4)+1>>1)-pt,nt=(Xe=(Xe=2896*(Ie+Xe)+128>>8)+(nt<<=4)+1>>1)-nt,Ut=(tt=tt+(Ut=Se)+1>>1)-Ut,Ct=(ct=ct+Ct+1>>1)-Ct,Se=2276*Ze+3406*Xe+2048>>12,Ze=3406*Ze-2276*Xe+2048>>12,Xe=Se,Se=799*nt+4017*pt+2048>>12,nt=4017*nt-799*pt+2048>>12,pt=Se,_e[be]=tt+Xe,_e[be+7]=tt-Xe,_e[be+1]=ct+pt,_e[be+6]=ct-pt,_e[be+2]=Ct+nt,_e[be+5]=Ct-nt,_e[be+3]=Ut+Ze,_e[be+4]=Ut-Ze}}for(Ae=0;8>Ae;++Ae)Se=_e[Ae],0===((Ie=_e[Ae+8])|(dt=_e[Ae+16])|(nt=_e[Ae+24])|(Ze=_e[Ae+32])|(pt=_e[Ae+40])|(zt=_e[Ae+48])|(Xe=_e[Ae+56]))?(Me[Y+Ae]=Se=-2040>(Se=5793*Se+8192>>14)?0:2024<=Se?255:Se+2056>>4,Me[Y+Ae+8]=Se,Me[Y+Ae+16]=Se,Me[Y+Ae+24]=Se,Me[Y+Ae+32]=Se,Me[Y+Ae+40]=Se,Me[Y+Ae+48]=Se,Me[Y+Ae+56]=Se):(ct=(tt=4112+((tt=5793*Se+2048>>12)+(ct=5793*Ze+2048>>12)+1>>1))-ct,Se=3784*(Ct=dt)+1567*(Ut=zt)+2048>>12,Ct=1567*Ct-3784*Ut+2048>>12,Ut=Se,pt=(Ze=(Ze=2896*(Ie-Xe)+2048>>12)+pt+1>>1)-pt,nt=(Xe=(Xe=2896*(Ie+Xe)+2048>>12)+nt+1>>1)-nt,Se=2276*Ze+3406*Xe+2048>>12,Ze=3406*Ze-2276*Xe+2048>>12,Xe=Se,Se=799*nt+4017*pt+2048>>12,nt=4017*nt-799*pt+2048>>12,pt=Se,Se=(tt=tt+Ut+1>>1)+Xe,Ie=(ct=ct+Ct+1>>1)+pt,zt=ct-pt,pt=(Ct=ct-Ct)-nt,Ie=16>Ie?0:4080<=Ie?255:Ie>>4,dt=16>(dt=Ct+nt)?0:4080<=dt?255:dt>>4,nt=16>(nt=(Ut=tt-Ut)+Ze)?0:4080<=nt?255:nt>>4,Ze=16>(Ze=Ut-Ze)?0:4080<=Ze?255:Ze>>4,pt=16>pt?0:4080<=pt?255:pt>>4,zt=16>zt?0:4080<=zt?255:zt>>4,Xe=16>(Xe=tt-Xe)?0:4080<=Xe?255:Xe>>4,Me[Y+Ae]=Se=16>Se?0:4080<=Se?255:Se>>4,Me[Y+Ae+8]=Ie,Me[Y+Ae+16]=dt,Me[Y+Ae+24]=nt,Me[Y+Ae+32]=Ze,Me[Y+Ae+40]=pt,Me[Y+Ae+48]=zt,Me[Y+Ae+56]=Xe)}return U.a}function j(H,U){var ie=2<arguments.length&&void 0!==arguments[2]?arguments[2]:U,ee=H.length-1;if(U>=ee)return null;var z=H[U]<<8|H[U+1];if(65472<=z&&65534>=z)return{f:null,F:z,offset:U};for(var K=H[ie=ie<U?ie:U]<<8|H[ie+1];!(65472<=K&&65534>=K);){if(++ie>=ee)return null;K=H[ie]<<8|H[ie+1]}return{f:z.toString(16),F:K,offset:ie}}var ne=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);q.prototype={parse:function(H){function U(){var Ct=H[de]<<8|H[de+1];return de+=2,Ct}function ee(Ct){for(var Ut=Math.ceil(Ct.v/8/Ct.s),Ot=Math.ceil(Ct.g/8/Ct.u),mn=0;mn<Ct.b.length;mn++){tt=Ct.b[mn];var $n=Math.ceil(Math.ceil(Ct.v/8)*tt.h/Ct.s),hn=Math.ceil(Math.ceil(Ct.g/8)*tt.j/Ct.u);tt.a=new Int16Array(64*Ot*tt.j*(Ut*tt.h+1)),tt.c=$n,tt.l=hn}Ct.P=Ut,Ct.O=Ot}var z=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).N,K=void 0===z?null:z,de=0,Y=null,_e=0;z=[];var Ct,Ut,Ae=[],Me=[],be=U();if(65496!==be)throw new x("SOI not found");for(be=U();65497!==be;){switch(be){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Se=(Ct=void 0,void 0,Ct=U(),(Ut=j(H,Ct=de+Ct-2,de))&&Ut.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+Ut.f),Ct=Ut.offset),Ct=H.subarray(de,Ct),de+=Ct.length,Ct);65518===be&&65===Se[0]&&100===Se[1]&&111===Se[2]&&98===Se[3]&&101===Se[4]&&(Y={version:Se[5]<<8|Se[6],Y:Se[7]<<8|Se[8],Z:Se[9]<<8|Se[10],W:Se[11]});break;case 65499:be=U()+de-2;for(var Ie;de<be;){var dt=H[de++],nt=new Uint16Array(64);if(dt>>4){if(dt>>4!=1)throw new x("DQT - invalid table spec");for(Se=0;64>Se;Se++)nt[Ie=ne[Se]]=U()}else for(Se=0;64>Se;Se++)nt[Ie=ne[Se]]=H[de++];z[15&dt]=nt}break;case 65472:case 65473:case 65474:if(Ze)throw new x("Only single frame JPEGs supported");U();var Ze={};for(Ze.X=65473===be,Ze.S=65474===be,Ze.precision=H[de++],be=U(),Ze.g=K||be,Ze.v=U(),Ze.b=[],Ze.C={},Se=H[de++],be=nt=dt=0;be<Se;be++){Ie=H[de];var pt=H[de+1]>>4,zt=15&H[de+1];dt<pt&&(dt=pt),nt<zt&&(nt=zt),pt=Ze.b.push({h:pt,j:zt,T:H[de+2],G:null}),Ze.C[Ie]=pt-1,de+=3}Ze.s=dt,Ze.u=nt,ee(Ze);break;case 65476:for(Ie=U(),be=2;be<Ie;){for(dt=H[de++],nt=new Uint8Array(16),Se=pt=0;16>Se;Se++,de++)pt+=nt[Se]=H[de];for(zt=new Uint8Array(pt),Se=0;Se<pt;Se++,de++)zt[Se]=H[de];be+=17+pt,(dt>>4?Ae:Me)[15&dt]=Q(nt,zt)}break;case 65501:U();var Xe=U();break;case 65498:for(Se=1===++_e&&!K,U(),dt=H[de++],Ie=[],be=0;be<dt;be++){nt=Ze.C[H[de++]];var tt=Ze.b[nt];nt=H[de++],tt.D=Me[nt>>4],tt.o=Ae[15&nt],Ie.push(tt)}be=H[de++],dt=H[de++],nt=H[de++];try{var ct=X(H,de,Ze,Ie,Xe,be,dt,nt>>4,15&nt,Se);de+=ct}catch(Ct){if(Ct instanceof W)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(H,{N:Ct.g});throw Ct}break;case 65500:de+=4;break;case 65535:255!==H[de]&&de--;break;default:if(255===H[de-3]&&192<=H[de-2]&&254>=H[de-2])de-=3;else{if(!(Se=j(H,de-2))||!Se.f)throw new x("unknown marker "+be.toString(16));(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+Se.f),de=Se.offset}}be=U()}for(this.width=Ze.v,this.height=Ze.g,this.A=Y,this.b=[],be=0;be<Ze.b.length;be++)(Xe=z[(tt=Ze.b[be]).T])&&(tt.G=Xe),this.b.push({R:B(0,tt),U:tt.h/Ze.s,V:tt.j/Ze.u,c:tt.c,l:tt.l});this.i=this.b.length},L:function(H,U){var z,K,ie=this.width/H,ee=this.height/U,de=this.b.length,Y=H*U*de,_e=new Uint8ClampedArray(Y),Ae=new Uint32Array(H);for(K=0;K<de;K++){var Me=this.b[K],be=Me.U*ie,Se=Me.V*ee,Ie=K,dt=Me.R,nt=Me.c+1<<3;for(z=0;z<H;z++)Ae[z]=(4294967288&(Me=0|z*be))<<3|7&Me;for(be=0;be<U;be++)for(Me=nt*(4294967288&(Me=0|be*Se))|(7&Me)<<3,z=0;z<H;z++)_e[Ie]=dt[Me+Ae[z]],Ie+=de}if(ee=this.M)for(K=0;K<Y;)for(ie=Me=0;Me<de;Me++,K++,ie+=2)_e[K]=(_e[K]*ee[ie]>>8)+ee[ie+1];return _e},w:function(){return this.A?!!this.A.W:3===this.i?0!==this.B:1===this.B},I:function(H){for(var U,ie,ee,z=0,K=H.length;z<K;z+=3)ie=H[z+1],H[z]=(U=H[z])-179.456+1.402*(ee=H[z+2]),H[z+1]=U+135.459-.344*ie-.714*ee,H[z+2]=U-226.816+1.772*ie;return H},K:function(H){for(var U,ie,ee,z,K=0,de=0,Y=H.length;de<Y;de+=4)H[K++]=(ie=H[de+1])*(-660635669420364e-19*ie+.000437130475926232*(ee=H[de+2])-54080610064599e-18*(U=H[de])+.00048449797120281*(z=H[de+3])-.154362151871126)-122.67195406894+ee*(-.000957964378445773*ee+.000817076911346625*U-.00477271405408747*z+1.53380253221734)+U*(.000961250184130688*U-.00266257332283933*z+.48357088451265)+z*(-.000336197177618394*z+.484791561490776),H[K++]=107.268039397724+ie*(219927104525741e-19*ie-.000640992018297945*ee+.000659397001245577*U+.000426105652938837*z-.176491792462875)+ee*(-.000778269941513683*ee+.00130872261408275*U+.000770482631801132*z-.151051492775562)+U*(.00126935368114843*U-.00265090189010898*z+.25802910206845)+z*(-.000318913117588328*z-.213742400323665),H[K++]=ie*(-.000570115196973677*ie-263409051004589e-19*ee+.0020741088115012*U-.00288260236853442*z+.814272968359295)-20.810012546947+ee*(-153496057440975e-19*ee-.000132689043961446*U+.000560833691242812*z-.195152027534049)+U*(.00174418132927582*U-.00255243321439347*z+.116935020465145)+z*(-.000343531996510555*z+.24165260232407);return H.subarray(0,K)},J:function(H){for(var U,ie,ee,z=0,K=H.length;z<K;z+=4)ie=H[z+1],H[z]=434.456-(U=H[z])-1.402*(ee=H[z+2]),H[z+1]=119.541-U+.344*ie+.714*ee,H[z+2]=481.816-U-1.772*ie;return H},H:function(H){for(var U,ie,ee,z,K=0,de=1/255,Y=0,_e=H.length;Y<_e;Y+=4)H[K++]=255+(U=H[Y]*de)*(-4.387332384609988*U+54.48615194189176*(ie=H[Y+1]*de)+18.82290502165302*(ee=H[Y+2]*de)+212.25662451639585*(z=H[Y+3]*de)-285.2331026137004)+ie*(1.7149763477362134*ie-5.6096736904047315*ee-17.873870861415444*z-5.497006427196366)+ee*(-2.5217340131683033*ee-21.248923337353073*z+17.5119270841813)-z*(21.86122147463605*z+189.48180835922747),H[K++]=255+U*(8.841041422036149*U+60.118027045597366*ie+6.871425592049007*ee+31.159100130055922*z-79.2970844816548)+ie*(-15.310361306967817*ie+17.575251261109482*ee+131.35250912493976*z-190.9453302588951)+ee*(4.444339102852739*ee+9.8632861493405*z-24.86741582555878)-z*(20.737325471181034*z+187.80453709719578),H[K++]=255+U*(.8842522430003296*U+8.078677503112928*ie+30.89978309703729*ee-.23883238689178934*z-14.183576799673286)+ie*(10.49593273432072*ie+63.02378494754052*ee+50.606957656360734*z-112.23884253719248)+ee*(.03296041114873217*ee+115.60384449646641*z-193.58209356861505)-z*(22.33816807309886*z+180.12613974708367);return H.subarray(0,K)},getData:function(H,U,ie){if(4<this.i)throw new x("Unsupported color mode");if(H=this.L(H,U),1===this.i&&ie){ie=H.length,U=new Uint8ClampedArray(3*ie);for(var ee=0,z=0;z<ie;z++){var K=H[z];U[ee++]=K,U[ee++]=K,U[ee++]=K}return U}if(3===this.i&&this.w())return this.I(H);if(4===this.i){if(this.w())return ie?this.K(H):this.J(H);if(ie)return this.H(H)}return H}},te.JpegDecoder=q}(),te.encodeImage=function($,x,W,q){var Q={t256:[x],t257:[W],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[W],t279:[x*W*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(q)for(var X in q)Q[X]=q[X];var B=new Uint8Array(te.encode([Q])),j=new Uint8Array($),ne=new Uint8Array(1e3+x*W*4);for(X=0;X<B.length;X++)ne[X]=B[X];for(X=0;X<j.length;X++)ne[1e3+X]=j[X];return ne.buffer},te.encode=function($){var x=new Uint8Array(2e4),W=4,q=te._binBE;x[0]=77,x[1]=77,x[3]=42;var Q=8;q.writeUint(x,W,Q),W+=4;for(var X=0;X<$.length;X++){var B=te._writeIFD(q,x,Q,$[X]);Q=B[1],X<$.length-1&&q.writeUint(x,B[0],Q)}return x.slice(0,Q).buffer},te.decode=function($){te.decode._decodeG3.allow2D=null;var x=new Uint8Array($),W=0,Q="II"==te._binBE.readASCII(x,W,2)?te._binLE:te._binBE,B=(Q.readUshort(x,W+=2),Q.readUint(x,W+=2));W+=4;for(var j=[];;){var ne=te._readIFD(Q,x,B,j,0,!1);if(0==(B=Q.readUint(x,ne)))break}return j},te.decodeImage=function($,x,W){var q=new Uint8Array($),Q=te._binBE.readASCII(q,0,2);if(null!=x.t256){x.isLE="II"==Q,x.width=x.t256[0],x.height=x.t257[0];var j,X=x.t259?x.t259[0]:1,B=x.t266?x.t266[0]:1;x.t284&&2==x.t284[0]&&Ht("PlanarConfiguration 2 should not be used!"),j=x.t258?Math.min(32,x.t258[0])*x.t258.length:x.t277?x.t277[0]:1,1==X&&null!=x.t279&&x.t278&&32803==x.t262[0]&&(j=Math.round(8*x.t279[0]/(x.width*x.t278[0])));var ne=8*Math.ceil(x.width*j/8),H=x.t273;null==H&&(H=x.t324);var U=x.t279;1==X&&1==H.length&&(U=[x.height*(ne>>>3)]),null==U&&(U=x.t325);var ie=new Uint8Array(x.height*(ne>>>3)),ee=0;if(null!=x.t322){for(var z=x.t322[0],K=x.t323[0],de=Math.floor((x.width+z-1)/z),Y=Math.floor((x.height+K-1)/K),_e=new Uint8Array(0|Math.ceil(z*K*j/8)),Ae=0;Ae<Y;Ae++)for(var Me=0;Me<de;Me++){for(var be=Ae*de+Me,Se=0;Se<_e.length;Se++)_e[Se]=0;te.decode._decompress(x,W,q,H[be],U[be],X,_e,0,B),6==X?ie=_e:te._copyTile(_e,0|Math.ceil(z*j/8),K,ie,0|Math.ceil(x.width*j/8),x.height,0|Math.ceil(Me*z*j/8),Ae*K)}ee=8*ie.length}else{var Ie=x.t278?x.t278[0]:x.height;for(Ie=Math.min(Ie,x.height),be=0;be<H.length;be++)te.decode._decompress(x,W,q,H[be],U[be],X,ie,0|Math.ceil(ee/8),B),ee+=ne*Ie;ee=Math.min(ee,8*ie.length)}x.data=new Uint8Array(ie.buffer,0,0|Math.ceil(ee/8))}},te.decode._decompress=function($,x,W,q,Q,X,B,j,ne){if(1==X||Q==B.length&&32767!=X)for(var H=0;H<Q;H++)B[j+H]=W[q+H];else if(3==X)te.decode._decodeG3(W,q,Q,B,j,$.width,ne);else if(4==X)te.decode._decodeG4(W,q,Q,B,j,$.width,ne);else if(5==X)te.decode._decodeLZW(W,q,B,j);else if(6==X)te.decode._decodeOldJPEG($,W,q,Q,B,j);else if(7==X)te.decode._decodeNewJPEG($,W,q,Q,B,j);else if(8==X)for(var U=new Uint8Array(W.buffer,q,Q),ie=ht.inflate(U),ee=0;ee<ie.length;ee++)B[j+ee]=ie[ee];else 32767==X?te.decode._decodeARW($,W,q,Q,B,j):32773==X?te.decode._decodePackBits(W,q,Q,B,j):32809==X?te.decode._decodeThunder(W,q,Q,B,j):34713==X?te.decode._decodeNikon($,x,W,q,Q,B,j):Ht("Unknown compression",X);var z=$.t258?Math.min(32,$.t258[0]):1,K=$.t277?$.t277[0]:1,de=z*K>>>3,Y=$.t278?$.t278[0]:$.height,_e=Math.ceil(z*K*$.width/8);if(16==z&&!$.isLE&&null==$.t33422)for(var Ae=0;Ae<Y;Ae++)for(var Me=j+Ae*_e,be=1;be<_e;be+=2){var Se=B[Me+be];B[Me+be]=B[Me+be-1],B[Me+be-1]=Se}if($.t317&&2==$.t317[0])for(Ae=0;Ae<Y;Ae++){var Ie=j+Ae*_e;if(16==z)for(H=de;H<_e;H+=2){var dt=(B[Ie+H+1]<<8|B[Ie+H])+(B[Ie+H-de+1]<<8|B[Ie+H-de]);B[Ie+H]=255&dt,B[Ie+H+1]=dt>>>8&255}else if(3==K)for(H=3;H<_e;H+=3)B[Ie+H]=B[Ie+H]+B[Ie+H-3]&255,B[Ie+H+1]=B[Ie+H+1]+B[Ie+H-2]&255,B[Ie+H+2]=B[Ie+H+2]+B[Ie+H-1]&255;else for(H=de;H<_e;H++)B[Ie+H]=B[Ie+H]+B[Ie+H-de]&255}},te.decode._ljpeg_diff=function($,x,W){var Q,X,q=te.decode._getbithuff;return Q=q($,x,W[0],W),!((X=q($,x,Q,0))&1<<Q-1)&&(X-=(1<<Q)-1),X},te.decode._decodeARW=function($,x,W,q,Q,X){var B=$.t256[0],j=$.t257[0],ne=$.t258[0],H=$.isLE?te._binLE:te._binBE;if(B*j==q||B*j*1.5==q)if(B*j*1.5!=q){var pt,zt,Xe,tt,ct,Ct,Ut,mn,dt=new Uint16Array(16),$n=new Uint8Array(B+1);for(nt=0;nt<j;nt++){for(var hn=0;hn<B;hn++)$n[hn]=x[W++];for(mn=0,Ze=0;Ze<B-30;mn+=16){for(zt=2047&(pt=H.readUint($n,mn)),Xe=2047&pt>>>11,tt=15&pt>>>22,ct=15&pt>>>26,Ct=0;Ct<4&&128<<Ct<=zt-Xe;Ct++);for(Ut=30,Ot=0;Ot<16;Ot++)Ot==tt?dt[Ot]=zt:Ot==ct?dt[Ot]=Xe:(dt[Ot]=((H.readUshort($n,mn+(Ut>>3))>>>(7&Ut)&127)<<Ct)+Xe,dt[Ot]>2047&&(dt[Ot]=2047),Ut+=7);for(Ot=0;Ot<16;Ot++,Ze+=2)te.decode._putsF(Q,(nt*B+Ze)*ne,dt[Ot]<<1<<16-ne);Ze-=1&Ze?1:31}}}else for(var Ot=0;Ot<q;Ot+=3){var be=x[W+Ot+0],Se=x[W+Ot+1],Ie=x[W+Ot+2];Q[X+Ot]=Se<<4|be>>>4,Q[X+Ot+1]=be<<4|Ie>>>4,Q[X+Ot+2]=Ie<<4|Se>>>4}else{j+=8;var de,Ze,nt,ie=[W,0,0,0],ee=new Uint16Array(32770),z=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],Y=0,_e=te.decode._ljpeg_diff;for(ee[0]=15,de=Ot=0;Ot<18;Ot++)for(var Ae=32768>>>(z[Ot]>>>8),K=0;K<Ae;K++)ee[++de]=z[Ot];for(Ze=B;Ze--;)for(nt=0;nt<j+1;nt+=2)nt==j&&(nt=1),Y+=_e(x,ie,ee),nt<j&&te.decode._putsF(Q,(nt*B+Ze)*ne,(4095&Y)<<16-ne)}},te.decode._decodeNikon=function($,x,W,q,Q,X,B){var j=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],ne=$.t256[0],H=$.t257[0],U=$.t258[0],ie=0,ee=0,z=te.decode._make_decoder,K=te.decode._getbithuff,de=x[0].exifIFD.makerNote,Y=de.t150?de.t150:de.t140,_e=0,Ae=Y[_e++],Me=Y[_e++];(73==Ae||88==Me)&&(_e+=2110),70==Ae&&(ie=2),14==U&&(ie+=3);for(var be=[[0,0],[0,0]],Se=$.isLE?te._binLE:te._binBE,pt=0;pt<2;pt++)for(var Ie=0;Ie<2;Ie++)be[pt][Ie]=Se.readShort(Y,_e),_e+=2;var dt=1<<U&32767,nt=0,Ze=Se.readShort(Y,_e);_e+=2,Ze>1&&(nt=Math.floor(dt/(Ze-1))),68==Ae&&32==Me&&nt>0&&(ee=Se.readShort(Y,562));var zt,Xe,tt,ct,Ct,Ot=[0,0],mn=z(j[ie]),$n=[q,0,0,0];for(zt=0;zt<H;zt++)for(ee&&zt==ee&&(mn=z(j[ie+1])),Xe=0;Xe<ne;Xe++){pt=K(W,$n,mn[0],mn),!((Ct=1+(K(W,$n,(tt=15&pt)-(ct=pt>>>4),0)<<1)<<ct>>>1)&1<<tt-1)&&(Ct-=(1<<tt)-(0==ct?1:0)),Xe<2?Ot[Xe]=be[1&zt][Xe]+=Ct:Ot[1&Xe]+=Ct;var hn=Math.min(Math.max(Ot[1&Xe],0),(1<<U)-1);te.decode._putsF(X,(zt*ne+Xe)*U,hn<<16-U)}},te.decode._putsF=function($,x,W){var q=x>>>3;$[q]|=(W<<=8-(7&x))>>>16,$[q+1]|=W>>>8,$[q+2]|=W},te.decode._getbithuff=function($,x,W,q){var B,j=x[0],ne=x[1],H=x[2],U=x[3];if(0==W||H<0)return 0;for(;!U&&H<W&&-1!=(B=$[j++])&&!(U=0);)ne=(ne<<8)+B,H+=8;if(B=ne<<32-H>>>32-W,q?(H-=q[B+1]>>>8,B=255&q[B+1]):H-=W,H<0)throw"e";return x[0]=j,x[1]=ne,x[2]=H,x[3]=U,B},te.decode._make_decoder=function($){var x,W,q,Q,X,B=[];for(x=16;0!=x&&!$[x];x--);var j=17;for(B[0]=x,q=W=1;W<=x;W++)for(Q=0;Q<$[W];Q++,++j)for(X=0;X<1<<x-W;X++)q<=1<<x&&(B[q++]=W<<8|$[j]);return B},te.decode._decodeNewJPEG=function($,x,W,q,Q,X){var B=$.t347,j=B?B.length:0,ne=new Uint8Array(j+q);if(B){for(var ie=0,ee=0;ee<j-1&&(255!=B[ee]||217!=B[ee+1]);ee++)ne[ie++]=B[ee];var z=x[W],K=x[W+1];for((255!=z||216!=K)&&(ne[ie++]=z,ne[ie++]=K),ee=2;ee<q;ee++)ne[ie++]=x[W+ee]}else for(ee=0;ee<q;ee++)ne[ee]=x[W+ee];if(32803==$.t262[0]||34892==$.t262[0]){var de=$.t258[0],Y=te.LosslessJpegDecode(ne),_e=Y.length;if(16==de)if($.isLE)for(ee=0;ee<_e;ee++)Q[X+(ee<<1)]=255&Y[ee],Q[X+(ee<<1)+1]=Y[ee]>>>8;else for(ee=0;ee<_e;ee++)Q[X+(ee<<1)]=Y[ee]>>>8,Q[X+(ee<<1)+1]=255&Y[ee];else{if(14!=de&&12!=de)throw new Error("unsupported bit depth "+de);var Ae=16-de;for(ee=0;ee<_e;ee++)te.decode._putsF(Q,ee*de,Y[ee]<<Ae)}}else{var Me=new te.JpegDecoder;Me.parse(ne);var be=Me.getData(Me.width,Me.height);for(ee=0;ee<be.length;ee++)Q[X+ee]=be[ee]}6==$.t262[0]&&($.t262[0]=2)},te.decode._decodeOldJPEGInit=function($,x,W,q){var z,K,Y,_e,Ae,Q=216,ie=0,ee=0,de=!1,Me=$.t513,be=Me?Me[0]:0,Se=$.t514,Ie=Se?Se[0]:0,dt=$.t324||$.t273||Me,nt=$.t530,Ze=0,pt=0,zt=$.t277?$.t277[0]:1,Xe=$.t515;if(dt&&(ee=dt[0],de=dt.length>1),!de){if(255==x[W]&&x[W+1]==Q)return{jpegOffset:W};if(null!=Me&&(255==x[W+be]&&x[W+be+1]==Q?ie=W+be:Ht("JPEGInterchangeFormat does not point to SOI"),null==Se?Ht("JPEGInterchangeFormatLength field is missing"):(be>=ee||be+Ie<=ee)&&Ht("JPEGInterchangeFormatLength field value is invalid"),null!=ie))return{jpegOffset:ie}}if(null!=nt&&(Ze=nt[0],pt=nt[1]),null!=Me&&null!=Se)if(Ie>=2&&be+Ie<=ee){for(z=255==x[W+be+Ie-2]&&x[W+be+Ie-1]==Q?new Uint8Array(Ie-2):new Uint8Array(Ie),Y=0;Y<z.length;Y++)z[Y]=x[W+be+Y];Ht("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else Ht("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==z){var tt=0,ct=[];ct[tt++]=255,ct[tt++]=Q;var Ct=$.t519;if(null==Ct)throw new Error("JPEGQTables tag is missing");for(Y=0;Y<Ct.length;Y++)for(ct[tt++]=255,ct[tt++]=219,ct[tt++]=0,ct[tt++]=67,ct[tt++]=Y,_e=0;_e<64;_e++)ct[tt++]=x[W+Ct[Y]+_e];for(Ae=0;Ae<2;Ae++){var Ut=$[0==Ae?"t520":"t521"];if(null==Ut)throw new Error((0==Ae?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(Y=0;Y<Ut.length;Y++){ct[tt++]=255,ct[tt++]=196;var Ot=19;for(_e=0;_e<16;_e++)Ot+=x[W+Ut[Y]+_e];for(ct[tt++]=Ot>>>8,ct[tt++]=255&Ot,ct[tt++]=Y|Ae<<4,_e=0;_e<16;_e++)ct[tt++]=x[W+Ut[Y]+_e];for(_e=0;_e<Ot;_e++)ct[tt++]=x[W+Ut[Y]+16+_e]}}if(ct[tt++]=255,ct[tt++]=192,ct[tt++]=0,ct[tt++]=8+3*zt,ct[tt++]=8,ct[tt++]=$.height>>>8&255,ct[tt++]=255&$.height,ct[tt++]=$.width>>>8&255,ct[tt++]=255&$.width,ct[tt++]=zt,1==zt)ct[tt++]=1,ct[tt++]=17,ct[tt++]=0;else for(Y=0;Y<3;Y++)ct[tt++]=Y+1,ct[tt++]=0!=Y?17:(15&Ze)<<4|15&pt,ct[tt++]=Y;null!=Xe&&0!=Xe[0]&&(ct[tt++]=255,ct[tt++]=221,ct[tt++]=0,ct[tt++]=4,ct[tt++]=Xe[0]>>>8&255,ct[tt++]=255&Xe[0]),z=new Uint8Array(ct)}var mn=-1;for(Y=0;Y<z.length-1;){if(255==z[Y]&&192==z[Y+1]){mn=Y;break}Y++}if(-1==mn){var $n=new Uint8Array(z.length+10+3*zt);$n.set(z);var hn=z.length;if(mn=z.length,(z=$n)[hn++]=255,z[hn++]=192,z[hn++]=0,z[hn++]=8+3*zt,z[hn++]=8,z[hn++]=$.height>>>8&255,z[hn++]=255&$.height,z[hn++]=$.width>>>8&255,z[hn++]=255&$.width,z[hn++]=zt,1==zt)z[hn++]=1,z[hn++]=17,z[hn++]=0;else for(Y=0;Y<3;Y++)z[hn++]=Y+1,z[hn++]=0!=Y?17:(15&Ze)<<4|15&pt,z[hn++]=Y}if(255==x[ee]&&218==x[ee+1]){var Wn=x[ee+2]<<8|x[ee+3];for((K=new Uint8Array(Wn+2))[0]=x[ee],K[1]=x[ee+1],K[2]=x[ee+2],K[3]=x[ee+3],Y=0;Y<Wn-2;Y++)K[Y+4]=x[ee+Y+4]}else{var xn=0;if((K=new Uint8Array(8+2*zt))[xn++]=255,K[xn++]=218,K[xn++]=0,K[xn++]=6+2*zt,K[xn++]=zt,1==zt)K[xn++]=1,K[xn++]=0;else for(Y=0;Y<3;Y++)K[xn++]=Y+1,K[xn++]=Y<<4|Y;K[xn++]=0,K[xn++]=63,K[xn++]=0}return{jpegOffset:W,tables:z,sosMarker:K,sofPosition:mn}},te.decode._decodeOldJPEG=function($,x,W,q,Q,X){var j,ne,H,U,ie=te.decode._decodeOldJPEGInit($,x,W,q);if(null!=ie.jpegOffset)for(j=W+q-ie.jpegOffset,H=new Uint8Array(j),B=0;B<j;B++)H[B]=x[ie.jpegOffset+B];else{for(ne=ie.tables.length,(H=new Uint8Array(ne+ie.sosMarker.length+q+2)).set(ie.tables),U=ne,H[ie.sofPosition+5]=$.height>>>8&255,H[ie.sofPosition+6]=255&$.height,H[ie.sofPosition+7]=$.width>>>8&255,H[ie.sofPosition+8]=255&$.width,(255!=x[W]||x[W+1]!=SOS)&&(H.set(ie.sosMarker,U),U+=sosMarker.length),B=0;B<q;B++)H[U++]=x[W+B];H[U++]=255,H[U++]=EOI}var ee=new te.JpegDecoder;ee.parse(H);for(var z=ee.getData(ee.width,ee.height),B=0;B<z.length;B++)Q[X+B]=z[B];$.t262&&6==$.t262[0]&&($.t262[0]=2)},te.decode._decodePackBits=function($,x,W,q,Q){for(var X=new Int8Array($.buffer),B=new Int8Array(q.buffer),j=x+W;x<j;){var ne=X[x];if(x++,ne>=0&&ne<128)for(var H=0;H<ne+1;H++)B[Q]=X[x],Q++,x++;if(ne>=-127&&ne<0){for(H=0;H<1-ne;H++)B[Q]=X[x],Q++;x++}}},te.decode._decodeThunder=function($,x,W,q,Q){for(var X=[0,1,0,-1],B=[0,1,2,3,0,-3,-2,-1],j=x+W,ne=2*Q,H=0;x<j;){var U=$[x],ie=U>>>6,ee=63&U;if(x++,3==ie&&(q[ne>>>1]|=(H=15&ee)<<4*(1-ne&1),ne++),0==ie)for(var z=0;z<ee;z++)q[ne>>>1]|=H<<4*(1-ne&1),ne++;if(2==ie)for(z=0;z<2;z++)4!=(K=ee>>>3*(1-z)&7)&&(q[ne>>>1]|=(H+=B[K])<<4*(1-ne&1),ne++);if(1==ie)for(z=0;z<3;z++){var K;2!=(K=ee>>>2*(2-z)&3)&&(q[ne>>>1]|=(H+=X[K])<<4*(1-ne&1),ne++)}}},te.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},te.decode._lens=function(){var $=function(ne,H,U,ie){for(var ee=0;ee<H.length;ee++)ne[H[ee]]=U+ee*ie},x="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",W="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",q="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",Q="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",X="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";x=x.split(","),W=W.split(","),q=q.split(","),Q=Q.split(","),X=X.split(",");var B={},j={};return $(B,x,0,1),$(B,q,64,64),$(B,X,1792,64),$(j,W,0,1),$(j,Q,64,64),$(j,X,1792,64),[B,j]}(),te.decode._decodeG4=function($,x,W,q,Q,X,B){for(var j=te.decode,ne=x<<3,H=0,U="",ie=[],ee=[],z=0;z<X;z++)ee.push(0);ee=j._makeDiff(ee);for(var K=0,de=0,_e=0,Ae=0,Me=0,be=0,Se="",Ie=0,dt=8*Math.ceil(X/8);ne>>>3<x+W;){_e=j._findDiff(ee,K+(0==K?0:1),1-Me),Ae=j._findDiff(ee,_e,Me);var nt=0;if(1==B&&(nt=$[ne>>>3]>>>7-(7&ne)&1),2==B&&(nt=$[ne>>>3]>>>(7&ne)&1),ne++,U+=nt,"H"==Se){if(null!=j._lens[Me][U]){var Ze=j._lens[Me][U];U="",H+=Ze,Ze<64&&(j._addNtimes(ie,H,Me),K+=H,Me=1-Me,H=0,0==--Ie&&(Se=""))}}else"0001"==U&&(U="",j._addNtimes(ie,Ae-K,Me),K=Ae),"001"==U&&(U="",Se="H",Ie=2),null!=j._dmap[U]&&(j._addNtimes(ie,(de=_e+j._dmap[U])-K,Me),K=de,U="",Me=1-Me);ie.length==X&&""==Se&&(j._writeBits(ie,q,8*Q+be*dt),Me=0,be++,K=0,ee=j._makeDiff(ie),ie=[])}},te.decode._findDiff=function($,x,W){for(var q=0;q<$.length;q+=2)if($[q]>=x&&$[q+1]==W)return $[q]},te.decode._makeDiff=function($){var x=[];1==$[0]&&x.push(0,1);for(var W=1;W<$.length;W++)$[W-1]!=$[W]&&x.push(W,$[W]);return x.push($.length,0,$.length,1),x},te.decode._decodeG3=function($,x,W,q,Q,X,B){for(var j=te.decode,ne=x<<3,H=0,U="",ie=[],ee=[],z=0;z<X;z++)ie.push(0);for(var K=0,de=0,_e=0,Ae=0,Me=0,be=-1,Se="",Ie=0,dt=!1,nt=8*Math.ceil(X/8);ne>>>3<x+W;){_e=j._findDiff(ee,K+(0==K?0:1),1-Me),Ae=j._findDiff(ee,_e,Me);var Ze=0;if(1==B&&(Ze=$[ne>>>3]>>>7-(7&ne)&1),2==B&&(Ze=$[ne>>>3]>>>(7&ne)&1),ne++,U+=Ze,dt){if(null!=j._lens[Me][U]){var pt=j._lens[Me][U];U="",H+=pt,pt<64&&(j._addNtimes(ie,H,Me),Me=1-Me,H=0)}}else"H"==Se?null!=j._lens[Me][U]&&(pt=j._lens[Me][U],U="",H+=pt,pt<64&&(j._addNtimes(ie,H,Me),K+=H,Me=1-Me,H=0,0==--Ie&&(Se=""))):("0001"==U&&(U="",j._addNtimes(ie,Ae-K,Me),K=Ae),"001"==U&&(U="",Se="H",Ie=2),null!=j._dmap[U]&&(j._addNtimes(ie,(de=_e+j._dmap[U])-K,Me),K=de,U="",Me=1-Me));U.endsWith("000000000001")&&(be>=0&&j._writeBits(ie,q,8*Q+be*nt),1==B&&(dt=1==($[ne>>>3]>>>7-(7&ne)&1)),2==B&&(dt=1==($[ne>>>3]>>>(7&ne)&1)),ne++,null==j._decodeG3.allow2D&&(j._decodeG3.allow2D=dt),j._decodeG3.allow2D||(dt=!0,ne--),U="",Me=0,be++,K=0,ee=j._makeDiff(ie),ie=[])}ie.length==X&&j._writeBits(ie,q,8*Q+be*nt)},te.decode._addNtimes=function($,x,W){for(var q=0;q<x;q++)$.push(W)},te.decode._writeBits=function($,x,W){for(var q=0;q<$.length;q++)x[W+q>>>3]|=$[q]<<7-(W+q&7)},te.decode._decodeLZW=function($,x,W,q){if(null==te.decode._lzwTab){for(var Q=new Uint32Array(65535),X=new Uint16Array(65535),U=new Uint8Array(2e6),B=0;B<256;B++)U[B<<2]=B,Q[B]=B<<2,X[B]=1;te.decode._lzwTab=[Q,X,U]}for(var j=te.decode._copyData,ne=te.decode._lzwTab[0],H=te.decode._lzwTab[1],ie=(U=te.decode._lzwTab[2],258),ee=1032,z=9,K=x<<3,Ae=0,Me=0;Ae=($[K>>>3]<<16|$[K+8>>>3]<<8|$[K+16>>>3])>>24-(7&K)-z&(1<<z)-1,K+=z,257!=Ae;){if(256==Ae){if(ie=258,ee=1032,Ae=($[K>>>3]<<16|$[K+8>>>3]<<8|$[K+16>>>3])>>24-(7&K)-(z=9)&(1<<z)-1,K+=z,257==Ae)break;W[q]=Ae,q++}else if(Ae<ie){var be=ne[Ae],Se=H[Ae];j(U,be,W,q,Se),q+=Se,Me>=ie?(ne[ie]=ee,U[ne[ie]]=be[0],H[ie]=1,ee=ee+1+3&-4,ie++):(ne[ie]=ee,j(U,ne[Me],U,ee,dt=H[Me]),U[ee+dt]=U[be],dt++,H[ie]=dt,ie++,ee=ee+dt+3&-4),ie+1==1<<z&&z++}else{var dt;Me>=ie?(ne[ie]=ee,H[ie]=0,ie++):(ne[ie]=ee,j(U,ne[Me],U,ee,dt=H[Me]),U[ee+dt]=U[ee],dt++,H[ie]=dt,ie++,j(U,ee,W,q,dt),q+=dt,ee=ee+dt+3&-4),ie+1==1<<z&&z++}Me=Ae}},te.decode._copyData=function($,x,W,q,Q){for(var X=0;X<Q;X+=4)W[q+X]=$[x+X],W[q+X+1]=$[x+X+1],W[q+X+2]=$[x+X+2],W[q+X+3]=$[x+X+3]},te.tags={},te.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},te._readIFD=function($,x,W,q,Q,X){var B=$.readUshort(x,W);W+=2;var j={};q.push(j),X&&Ht("   ".repeat(Q),q.length-1,">>>----------------");for(var ne=0;ne<B;ne++){var H=$.readUshort(x,W),U=$.readUshort(x,W+=2),ie=$.readUint(x,W+=2),ee=$.readUint(x,W+=4);W+=4;var z=[];if((1==U||7==U)&&(z=new Uint8Array(x.buffer,ie<5?W-4:ee,ie)),2==U){var K=ie<5?W-4:ee;x[K]<128?z.push($.readASCII(x,K,ie-1)):z=new Uint8Array(x.buffer,K,ie-1)}if(3==U)for(var Y=0;Y<ie;Y++)z.push($.readUshort(x,(ie<3?W-4:ee)+2*Y));if(4==U)for(Y=0;Y<ie;Y++)z.push($.readUint(x,(ie<2?W-4:ee)+4*Y));if(5==U)for(Y=0;Y<ie;Y++)z.push($.readUint(x,ee+8*Y)/$.readUint(x,ee+8*Y+4));if(8==U)for(Y=0;Y<ie;Y++)z.push($.readShort(x,(ie<3?W-4:ee)+2*Y));if(9==U)for(Y=0;Y<ie;Y++)z.push($.readInt(x,(ie<2?W-4:ee)+4*Y));if(10==U)for(Y=0;Y<ie;Y++)z.push($.readInt(x,ee+8*Y)/$.readInt(x,ee+8*Y+4));if(11==U)for(Y=0;Y<ie;Y++)z.push($.readFloat(x,ee+4*Y));if(12==U)for(Y=0;Y<ie;Y++)z.push($.readDouble(x,ee+8*Y));if(j["t"+H]=z,0!=ie&&0==z.length&&Ht("unknown TIFF tag type: ",U,"num:",ie),X&&Ht("   ".repeat(Q),H,U,te.tags[H],z),(330!=H||!j.t272||"DSLR-A100"!=j.t272[0])&&(330==H||34665==H||50740==H&&$.readUshort(x,$.readUint(z,0))<300)){var _e=50740==H?[$.readUint(z,0)]:z,Ae=[];for(Y=0;Y<_e.length;Y++)te._readIFD($,x,_e[Y],Ae,Q+1,X);330==H&&(j.subIFD=Ae),34665==H&&(j.exifIFD=Ae[0]),50740==H&&(j.dngPrvt=Ae[0])}if(37500==H){var Me=z;if("Nikon"==$.readASCII(Me,0,5))j.makerNote=te.decode(Me.slice(10).buffer)[0];else if($.readUshort(x,ee)<300){var be=[];te._readIFD($,x,ee,be,Q+1,X),j.makerNote=be[0]}}}return X&&Ht("   ".repeat(Q),"<<<---------------"),W},te._writeIFD=function($,x,W,q){var Q=Object.keys(q);$.writeUshort(x,W,Q.length);for(var X=(W+=2)+12*Q.length+4,B=0;B<Q.length;B++){var j=Q[B],ne=parseInt(j.slice(1)),H=te.ttypes[ne];if(null==H)throw new Error("unknown type of tag: "+ne);var U=q[j];2==H&&(U=U[0]+"\0");var ie=U.length;$.writeUshort(x,W,ne),$.writeUshort(x,W+=2,H),$.writeUint(x,W+=2,ie);var ee=[-1,1,1,2,4,8,0,0,0,0,0,0,8][H]*ie,z=W+=4;if(ee>4&&($.writeUint(x,W,X),z=X),2==H&&$.writeASCII(x,z,U),3==H)for(var K=0;K<ie;K++)$.writeUshort(x,z+2*K,U[K]);if(4==H)for(K=0;K<ie;K++)$.writeUint(x,z+4*K,U[K]);if(5==H)for(K=0;K<ie;K++)$.writeUint(x,z+8*K,Math.round(1e4*U[K])),$.writeUint(x,z+8*K+4,1e4);if(12==H)for(K=0;K<ie;K++)$.writeDouble(x,z+8*K,U[K]);ee>4&&(X+=ee+=1&ee),W+=4}return[W,X]},te.toRGBA8=function($){var x=$.width,W=$.height,q=x*W,Q=4*q,X=$.data,B=new Uint8Array(4*q),j=$.t262?$.t262[0]:2,ne=$.t258?Math.min(32,$.t258[0]):1;if(0==j)for(var H=Math.ceil(ne*x/8),U=0;U<W;U++){var ie=U*H,ee=U*x;if(1==ne)for(var z=0;z<x;z++)B[K=ee+z<<2]=B[K+1]=B[K+2]=255*(1-(de=X[ie+(z>>3)]>>7-(7&z)&1)),B[K+3]=255;if(4==ne)for(z=0;z<x;z++)B[K=ee+z<<2]=B[K+1]=B[K+2]=17*(15-(de=X[ie+(z>>1)]>>4-4*(1&z)&15)),B[K+3]=255;if(8==ne)for(z=0;z<x;z++)B[K=ee+z<<2]=B[K+1]=B[K+2]=255-(de=X[ie+z]),B[K+3]=255}else if(1==j)for(H=Math.ceil(ne*x/8),U=0;U<W;U++){if(ie=U*H,ee=U*x,1==ne)for(z=0;z<x;z++)B[K=ee+z<<2]=B[K+1]=B[K+2]=255*(de=X[ie+(z>>3)]>>7-(7&z)&1),B[K+3]=255;if(2==ne)for(z=0;z<x;z++)B[K=ee+z<<2]=B[K+1]=B[K+2]=85*(de=X[ie+(z>>2)]>>6-2*(3&z)&3),B[K+3]=255;if(8==ne)for(z=0;z<x;z++)B[K=ee+z<<2]=B[K+1]=B[K+2]=de=X[ie+z],B[K+3]=255;if(16==ne)for(z=0;z<x;z++){var de=X[ie+(2*z+1)];B[K=ee+z<<2]=B[K+1]=B[K+2]=Math.min(255,de),B[K+3]=255}}else if(2==j){var Y=$.t258?$.t258.length:3;if(8==ne){if(4==Y)for(z=0;z<Q;z++)B[z]=X[z];if(3==Y)for(z=0;z<q;z++)B[K=z<<2]=X[_e=3*z],B[K+1]=X[_e+1],B[K+2]=X[_e+2],B[K+3]=255}else{if(4==Y)for(z=0;z<q;z++)B[K=z<<2]=X[_e=8*z+1],B[K+1]=X[_e+2],B[K+2]=X[_e+4],B[K+3]=X[_e+6];if(3==Y)for(z=0;z<q;z++){var _e;B[K=z<<2]=X[_e=6*z+1],B[K+1]=X[_e+2],B[K+2]=X[_e+4],B[K+3]=255}}}else if(3==j){var Ae=$.t320;for(z=0;z<q;z++){var Me=X[z];B[K=z<<2]=Ae[Me]>>8,B[K+1]=Ae[256+Me]>>8,B[K+2]=Ae[512+Me]>>8,B[K+3]=255}}else if(5==j){var be=(Y=$.t258?$.t258.length:4)>4?1:0;for(z=0;z<q;z++){var K,Se=z*Y,dt=255-X[Se+1],nt=255-X[Se+2],Ze=1/255*(255-X[Se+3]);B[K=z<<2]=~~((255-X[Se])*Ze+.5),B[K+1]=~~(dt*Ze+.5),B[K+2]=~~(nt*Ze+.5),B[K+3]=255*(1-be)+X[Se+4]*be}}else Ht("Unknown Photometric interpretation: "+j);return B},te.replaceIMG=function($){null==$&&($=document.getElementsByTagName("img"));for(var x=["tif","tiff","dng","cr2","nef"],W=0;W<$.length;W++){var q=$[W],Q=q.getAttribute("src");if(null!=Q){var X=Q.split(".").pop().toLowerCase();if(-1!=x.indexOf(X)){var B=new XMLHttpRequest;te._xhrs.push(B),te._imgs.push(q),B.open("GET",Q),B.responseType="arraybuffer",B.onload=te._imgLoaded,B.send()}}}},te._xhrs=[],te._imgs=[],te._imgLoaded=function($){var x=$.target.response,W=te.decode(x),q=W,Q=0,X=q[0];W[0].subIFD&&(q=q.concat(W[0].subIFD));for(var B=0;B<q.length;B++)if(!(null==(ee=q[B]).t258||ee.t258.length<3)){var j=ee.t256*ee.t257;j>Q&&(Q=j,X=ee)}te.decodeImage(x,X,W);var ne=te.toRGBA8(X),H=X.width,U=X.height,ie=te._xhrs.indexOf($.target),ee=te._imgs[ie];te._xhrs.splice(ie,1),te._imgs.splice(ie,1);var z=document.createElement("canvas");z.width=H,z.height=U;var K=z.getContext("2d"),de=K.createImageData(H,U);for(B=0;B<ne.length;B++)de.data[B]=ne[B];K.putImageData(de,0,0),ee.setAttribute("src",z.toDataURL())},te._binBE={nextZero:function($,x){for(;0!=$[x];)x++;return x},readUshort:function($,x){return $[x]<<8|$[x+1]},readShort:function($,x){var W=te._binBE.ui8;return W[0]=$[x+1],W[1]=$[x+0],te._binBE.i16[0]},readInt:function($,x){var W=te._binBE.ui8;return W[0]=$[x+3],W[1]=$[x+2],W[2]=$[x+1],W[3]=$[x+0],te._binBE.i32[0]},readUint:function($,x){var W=te._binBE.ui8;return W[0]=$[x+3],W[1]=$[x+2],W[2]=$[x+1],W[3]=$[x+0],te._binBE.ui32[0]},readASCII:function($,x,W){for(var q="",Q=0;Q<W;Q++)q+=String.fromCharCode($[x+Q]);return q},readFloat:function($,x){for(var W=te._binBE.ui8,q=0;q<4;q++)W[q]=$[x+3-q];return te._binBE.fl32[0]},readDouble:function($,x){for(var W=te._binBE.ui8,q=0;q<8;q++)W[q]=$[x+7-q];return te._binBE.fl64[0]},writeUshort:function($,x,W){$[x]=W>>8&255,$[x+1]=255&W},writeUint:function($,x,W){$[x]=W>>24&255,$[x+1]=W>>16&255,$[x+2]=W>>8&255,$[x+3]=255&W},writeASCII:function($,x,W){for(var q=0;q<W.length;q++)$[x+q]=W.charCodeAt(q)},writeDouble:function($,x,W){te._binBE.fl64[0]=W;for(var q=0;q<8;q++)$[x+q]=te._binBE.ui8[7-q]}},te._binBE.ui8=new Uint8Array(8),te._binBE.i16=new Int16Array(te._binBE.ui8.buffer),te._binBE.i32=new Int32Array(te._binBE.ui8.buffer),te._binBE.ui32=new Uint32Array(te._binBE.ui8.buffer),te._binBE.fl32=new Float32Array(te._binBE.ui8.buffer),te._binBE.fl64=new Float64Array(te._binBE.ui8.buffer),te._binLE={nextZero:te._binBE.nextZero,readUshort:function($,x){return $[x+1]<<8|$[x]},readShort:function($,x){var W=te._binBE.ui8;return W[0]=$[x+0],W[1]=$[x+1],te._binBE.i16[0]},readInt:function($,x){var W=te._binBE.ui8;return W[0]=$[x+0],W[1]=$[x+1],W[2]=$[x+2],W[3]=$[x+3],te._binBE.i32[0]},readUint:function($,x){var W=te._binBE.ui8;return W[0]=$[x+0],W[1]=$[x+1],W[2]=$[x+2],W[3]=$[x+3],te._binBE.ui32[0]},readASCII:te._binBE.readASCII,readFloat:function($,x){for(var W=te._binBE.ui8,q=0;q<4;q++)W[q]=$[x+q];return te._binBE.fl32[0]},readDouble:function($,x){for(var W=te._binBE.ui8,q=0;q<8;q++)W[q]=$[x+q];return te._binBE.fl64[0]}},te._copyTile=function($,x,W,q,Q,X,B,j){for(var ne=Math.min(x,Q-B),H=Math.min(W,X-j),U=0;U<H;U++)for(var ie=(j+U)*Q+B,ee=U*x,z=0;z<ne;z++)q[ie+z]=$[ee+z]},te.LosslessJpegDecode=function(){function $(Q){this.w=Q,this.N=0,this._=0,this.G=0}$.prototype={t:function(Q){this.N=Math.max(0,Math.min(this.w.length,Q))},i:function(){return this.w[this.N++]},l:function(){var Q=this.N;return this.N+=2,this.w[Q]<<8|this.w[Q+1]},J:function(){return 0==this._&&(this.G=this.w[this.N],this.N+=1+(this.G+1>>>8),this._=8),this.G>>>--this._&1},Z:function(Q){var X=this._,B=this.G,j=Math.min(X,Q);Q-=j;for(var ne=B>>>(X-=j)&(1<<j)-1;Q>0;)this.N+=1+((B=this.w[this.N])+1>>>8),Q-=j=Math.min(8,Q),ne<<=j,ne|=B>>>(X=8-j)&(1<<j)-1;return this._=X,this.G=B,ne}};var x={};function W(Q){this.z=new $(Q),this.D(this.z)}return x.X=function(){return[0,0,-1]},x.s=function(Q,X,B){Q[x.Y(Q,0,B)+2]=X},x.Y=function(Q,X,B){if(-1!=Q[X+2])return 0;if(0==B)return X;for(var j=0;j<2;j++){0==Q[X+j]&&(Q[X+j]=Q.length,Q.push(0),Q.push(0),Q.push(-1));var ne=x.Y(Q,Q[X+j],B-1);if(0!=ne)return ne}return 0},x.B=function(Q,X){for(var B=0,j=0,H=X._,U=X.G,ie=X.N;;)if(0==H&&(ie+=1+((U=X.w[ie])+1>>>8),H=8),-1!=(j=Q[(B=Q[B+(U>>>--H&1)])+2]))return X._=H,X.G=U,X.N=ie,j;return-1},W.prototype={$:function(Q,X){this.Q=Q.i(),this.F=Q.l(),this.o=Q.l();var B=this.O=Q.i();this.L=[];for(var j=0;j<B;j++){var ne=Q.i();Q.i(),Q.i(),this.L[ne]=j}Q.t(Q.N+X-(6+3*B))},e:function(){var Q=0,X=this.z.i();null==this.H&&(this.H={});for(var B=this.H[X]=x.X(),j=[],ne=0;ne<16;ne++)j[ne]=this.z.i(),Q+=j[ne];for(ne=0;ne<16;ne++)for(var H=0;H<j[ne];H++)x.s(B,this.z.i(),ne+1);return Q+17},W:function(Q){for(;Q>0;)Q-=this.e()},p:function(Q,X){var B=Q.i();this.U||(this.U=[]);for(var j=0;j<B;j++){var ne=Q.i(),H=Q.i();this.U[this.L[ne]]=this.H[H>>>4]}this.g=Q.i(),Q.t(Q.N+X-(2+2*B))},D:function(Q){var X=!1;if((B=Q.l())===W.q)do{var B=Q.l(),j=Q.l()-2;switch(B){case W.m:this.$(Q,j);break;case W.K:this.W(j);break;case W.V:this.p(Q,j),X=!0;break;default:Q.t(Q.N+j)}}while(!X)},I:function(Q,X){var B=x.B(X,Q);if(16==B)return-32768;var j=Q.Z(B);return!(j&1<<B-1)&&(j-=(1<<B)-1),j},B:function(Q,X){for(var B=this.z,j=this.O,ne=this.F,H=this.I,U=this.g,ie=this.o*j,ee=this.U,z=0;z<j;z++)Q[z]=H(B,ee[z])+(1<<this.Q-1);for(var K=j;K<ie;K+=j)for(z=0;z<j;z++)Q[K+z]=H(B,ee[z])+Q[K+z-j];for(var de=X,Y=1;Y<ne;Y++){for(z=0;z<j;z++)Q[de+z]=H(B,ee[z])+Q[de+z-X];for(K=j;K<ie;K+=j)for(z=0;z<j;z++){var _e=de+K+z,Ae=Q[_e-j];6==U&&(Ae=Q[_e-X]+(Ae-Q[_e-j-X]>>>1)),Q[_e]=Ae+H(B,ee[z])}de+=X}}},W.m=65475,W.K=65476,W.q=65496,W.V=65498,function q(Q){var X=new W(Q),j=new(X.Q>8?Uint16Array:Uint8Array)(X.o*X.F*X.O);return X.B(j,X.o*X.O),j}}()}()},290:(vi,St,Xt)=>{"use strict";var Nt=Xt(195),gt=!0,Ht=!0;try{String.fromCharCode.apply(null,[0])}catch{gt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ht=!1}for(var te=new Nt.Buf8(256),ht=0;ht<256;ht++)te[ht]=ht>=252?6:ht>=248?5:ht>=240?4:ht>=224?3:ht>=192?2:1;function $(x,W){if(W<65534&&(x.subarray&&Ht||!x.subarray&&gt))return String.fromCharCode.apply(null,Nt.shrinkBuf(x,W));for(var q="",Q=0;Q<W;Q++)q+=String.fromCharCode(x[Q]);return q}te[254]=te[254]=1,St.string2buf=function(x){var W,q,Q,X,B,j=x.length,ne=0;for(X=0;X<j;X++)55296==(64512&(q=x.charCodeAt(X)))&&X+1<j&&56320==(64512&(Q=x.charCodeAt(X+1)))&&(q=65536+(q-55296<<10)+(Q-56320),X++),ne+=q<128?1:q<2048?2:q<65536?3:4;for(W=new Nt.Buf8(ne),B=0,X=0;B<ne;X++)55296==(64512&(q=x.charCodeAt(X)))&&X+1<j&&56320==(64512&(Q=x.charCodeAt(X+1)))&&(q=65536+(q-55296<<10)+(Q-56320),X++),q<128?W[B++]=q:q<2048?(W[B++]=192|q>>>6,W[B++]=128|63&q):q<65536?(W[B++]=224|q>>>12,W[B++]=128|q>>>6&63,W[B++]=128|63&q):(W[B++]=240|q>>>18,W[B++]=128|q>>>12&63,W[B++]=128|q>>>6&63,W[B++]=128|63&q);return W},St.buf2binstring=function(x){return $(x,x.length)},St.binstring2buf=function(x){for(var W=new Nt.Buf8(x.length),q=0,Q=W.length;q<Q;q++)W[q]=x.charCodeAt(q);return W},St.buf2string=function(x,W){var q,Q,X,B,j=W||x.length,ne=new Array(2*j);for(Q=0,q=0;q<j;)if((X=x[q++])<128)ne[Q++]=X;else if((B=te[X])>4)ne[Q++]=65533,q+=B-1;else{for(X&=2===B?31:3===B?15:7;B>1&&q<j;)X=X<<6|63&x[q++],B--;B>1?ne[Q++]=65533:X<65536?ne[Q++]=X:(ne[Q++]=55296|(X-=65536)>>10&1023,ne[Q++]=56320|1023&X)}return $(ne,Q)},St.utf8border=function(x,W){var q;for((W=W||x.length)>x.length&&(W=x.length),q=W-1;q>=0&&128==(192&x[q]);)q--;return q<0||0===q?W:q+te[x[q]]>W?q:W}},359:vi=>{"use strict";vi.exports=function(gt,Ht){var te,ht,$,x,W,q,Q,X,B,j,ne,H,U,ie,ee,z,K,de,Y,_e,Ae,Me,be,Se,Ie;Se=gt.input,$=(ht=gt.next_in)+(gt.avail_in-5),Ie=gt.output,W=(x=gt.next_out)-(Ht-gt.avail_out),q=x+(gt.avail_out-257),Q=(te=gt.state).dmax,X=te.wsize,B=te.whave,j=te.wnext,ne=te.window,H=te.hold,U=te.bits,ie=te.lencode,ee=te.distcode,z=(1<<te.lenbits)-1,K=(1<<te.distbits)-1;e:do{U<15&&(H+=Se[ht++]<<U,H+=Se[ht++]<<(U+=8),U+=8),de=ie[H&z];t:for(;;){if(H>>>=Y=de>>>24,U-=Y,0==(Y=de>>>16&255))Ie[x++]=65535&de;else{if(!(16&Y)){if(64&Y){if(32&Y){te.mode=12;break e}gt.msg="invalid literal/length code",te.mode=30;break e}de=ie[(65535&de)+(H&(1<<Y)-1)];continue t}for(_e=65535&de,(Y&=15)&&(U<Y&&(H+=Se[ht++]<<U,U+=8),_e+=H&(1<<Y)-1,H>>>=Y,U-=Y),U<15&&(H+=Se[ht++]<<U,H+=Se[ht++]<<(U+=8),U+=8),de=ee[H&K];;){if(H>>>=Y=de>>>24,U-=Y,16&(Y=de>>>16&255)){if(Ae=65535&de,U<(Y&=15)&&(H+=Se[ht++]<<U,(U+=8)<Y&&(H+=Se[ht++]<<U,U+=8)),(Ae+=H&(1<<Y)-1)>Q){gt.msg="invalid distance too far back",te.mode=30;break e}if(H>>>=Y,U-=Y,Ae>(Y=x-W)){if((Y=Ae-Y)>B&&te.sane){gt.msg="invalid distance too far back",te.mode=30;break e}if(Me=0,be=ne,0===j){if(Me+=X-Y,Y<_e){_e-=Y;do{Ie[x++]=ne[Me++]}while(--Y);Me=x-Ae,be=Ie}}else if(j<Y){if(Me+=X+j-Y,(Y-=j)<_e){_e-=Y;do{Ie[x++]=ne[Me++]}while(--Y);if(Me=0,j<_e){_e-=Y=j;do{Ie[x++]=ne[Me++]}while(--Y);Me=x-Ae,be=Ie}}}else if(Me+=j-Y,Y<_e){_e-=Y;do{Ie[x++]=ne[Me++]}while(--Y);Me=x-Ae,be=Ie}for(;_e>2;)Ie[x++]=be[Me++],Ie[x++]=be[Me++],Ie[x++]=be[Me++],_e-=3;_e&&(Ie[x++]=be[Me++],_e>1&&(Ie[x++]=be[Me++]))}else{Me=x-Ae;do{Ie[x++]=Ie[Me++],Ie[x++]=Ie[Me++],Ie[x++]=Ie[Me++],_e-=3}while(_e>2);_e&&(Ie[x++]=Ie[Me++],_e>1&&(Ie[x++]=Ie[Me++]))}break}if(64&Y){gt.msg="invalid distance code",te.mode=30;break e}de=ee[(65535&de)+(H&(1<<Y)-1)]}}break}}while(ht<$&&x<q);H&=(1<<(U-=(_e=U>>3)<<3))-1,gt.next_in=ht-=_e,gt.next_out=x,gt.avail_in=ht<$?$-ht+5:5-(ht-$),gt.avail_out=x<q?q-x+257:257-(x-q),te.hold=H,te.bits=U}},373:(vi,St,Xt)=>{"use strict";var Nt=Xt(873),gt=Xt(195),Ht=Xt(290),te=Xt(171),ht=Xt(200),$=Xt(920),x=Xt(776),W=Object.prototype.toString;function q(B){if(!(this instanceof q))return new q(B);this.options=gt.assign({chunkSize:16384,windowBits:0,to:""},B||{});var j=this.options;j.raw&&j.windowBits>=0&&j.windowBits<16&&(j.windowBits=-j.windowBits,0===j.windowBits&&(j.windowBits=-15)),j.windowBits>=0&&j.windowBits<16&&!(B&&B.windowBits)&&(j.windowBits+=32),j.windowBits>15&&j.windowBits<48&&!(15&j.windowBits)&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $,this.strm.avail_out=0;var ne=Nt.inflateInit2(this.strm,j.windowBits);if(ne!==te.Z_OK)throw new Error(ht[ne]);if(this.header=new x,Nt.inflateGetHeader(this.strm,this.header),j.dictionary&&("string"==typeof j.dictionary?j.dictionary=Ht.string2buf(j.dictionary):"[object ArrayBuffer]"===W.call(j.dictionary)&&(j.dictionary=new Uint8Array(j.dictionary)),j.raw&&(ne=Nt.inflateSetDictionary(this.strm,j.dictionary))!==te.Z_OK))throw new Error(ht[ne])}function Q(B,j){var ne=new q(j);if(ne.push(B,!0),ne.err)throw ne.msg||ht[ne.err];return ne.result}q.prototype.push=function(B,j){var ie,ee,z,K,de,ne=this.strm,H=this.options.chunkSize,U=this.options.dictionary,Y=!1;if(this.ended)return!1;ee=j===~~j?j:!0===j?te.Z_FINISH:te.Z_NO_FLUSH,ne.input="string"==typeof B?Ht.binstring2buf(B):"[object ArrayBuffer]"===W.call(B)?new Uint8Array(B):B,ne.next_in=0,ne.avail_in=ne.input.length;do{if(0===ne.avail_out&&(ne.output=new gt.Buf8(H),ne.next_out=0,ne.avail_out=H),(ie=Nt.inflate(ne,te.Z_NO_FLUSH))===te.Z_NEED_DICT&&U&&(ie=Nt.inflateSetDictionary(this.strm,U)),ie===te.Z_BUF_ERROR&&!0===Y&&(ie=te.Z_OK,Y=!1),ie!==te.Z_STREAM_END&&ie!==te.Z_OK)return this.onEnd(ie),this.ended=!0,!1;ne.next_out&&(0===ne.avail_out||ie===te.Z_STREAM_END||0===ne.avail_in&&(ee===te.Z_FINISH||ee===te.Z_SYNC_FLUSH))&&("string"===this.options.to?(z=Ht.utf8border(ne.output,ne.next_out),K=ne.next_out-z,de=Ht.buf2string(ne.output,z),ne.next_out=K,ne.avail_out=H-K,K&&gt.arraySet(ne.output,ne.output,z,K,0),this.onData(de)):this.onData(gt.shrinkBuf(ne.output,ne.next_out))),0===ne.avail_in&&0===ne.avail_out&&(Y=!0)}while((ne.avail_in>0||0===ne.avail_out)&&ie!==te.Z_STREAM_END);return ie===te.Z_STREAM_END&&(ee=te.Z_FINISH),ee===te.Z_FINISH?(ie=Nt.inflateEnd(this.strm),this.onEnd(ie),this.ended=!0,ie===te.Z_OK):(ee===te.Z_SYNC_FLUSH&&(this.onEnd(te.Z_OK),ne.avail_out=0),!0)},q.prototype.onData=function(B){this.chunks.push(B)},q.prototype.onEnd=function(B){B===te.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):gt.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},St.Inflate=q,St.inflate=Q,St.inflateRaw=function X(B,j){return(j=j||{}).raw=!0,Q(B,j)},St.ungzip=Q},586:(vi,St,Xt)=>{"use strict";var ht={};(0,Xt(195).assign)(ht,Xt(949),Xt(373),Xt(171)),vi.exports=ht},597:vi=>{"use strict";var Xt=function St(){for(var gt,Ht=[],te=0;te<256;te++){gt=te;for(var ht=0;ht<8;ht++)gt=1&gt?3988292384^gt>>>1:gt>>>1;Ht[te]=gt}return Ht}();vi.exports=function Nt(gt,Ht,te,ht){var $=Xt,x=ht+te;gt^=-1;for(var W=ht;W<x;W++)gt=gt>>>8^$[255&(gt^Ht[W])];return-1^gt}},664:function(vi,St){var Xt,gt;void 0!==(gt="function"==typeof(Xt=function(){"use strict";function te(Q,X,B){var j=new XMLHttpRequest;j.open("GET",Q),j.responseType="blob",j.onload=function(){q(j.response,X,B)},j.onerror=function(){console.error("could not download file")},j.send()}function ht(Q){var X=new XMLHttpRequest;X.open("HEAD",Q,!1);try{X.send()}catch{}return 200<=X.status&&299>=X.status}function $(Q){try{Q.dispatchEvent(new MouseEvent("click"))}catch{var X=document.createEvent("MouseEvents");X.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Q.dispatchEvent(X)}}var x="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,W=x.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),q=x.saveAs||("object"!=typeof window||window!==x?function(){}:"download"in HTMLAnchorElement.prototype&&!W?function(Q,X,B){var j=x.URL||x.webkitURL,ne=document.createElement("a");ne.download=X=X||Q.name||"download",ne.rel="noopener","string"==typeof Q?(ne.href=Q,ne.origin===location.origin?$(ne):ht(ne.href)?te(Q,X,B):$(ne,ne.target="_blank")):(ne.href=j.createObjectURL(Q),setTimeout(function(){j.revokeObjectURL(ne.href)},4e4),setTimeout(function(){$(ne)},0))}:"msSaveOrOpenBlob"in navigator?function(Q,X,B){if(X=X||Q.name||"download","string"!=typeof Q)navigator.msSaveOrOpenBlob(function Ht(Q,X){return typeof X>"u"?X={autoBom:!1}:"object"!=typeof X&&(console.warn("Deprecated: Expected third argument to be a object"),X={autoBom:!X}),X.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Q.type)?new Blob(["\ufeff",Q],{type:Q.type}):Q}(Q,B),X);else if(ht(Q))te(Q,X,B);else{var j=document.createElement("a");j.href=Q,j.target="_blank",setTimeout(function(){$(j)})}}:function(Q,X,B,j){if((j=j||open("","_blank"))&&(j.document.title=j.document.body.innerText="downloading..."),"string"==typeof Q)return te(Q,X,B);var ne="application/octet-stream"===Q.type,H=/constructor/i.test(x.HTMLElement)||x.safari,U=/CriOS\/[\d]+/.test(navigator.userAgent);if((U||ne&&H||W)&&typeof FileReader<"u"){var ie=new FileReader;ie.onloadend=function(){var K=ie.result;K=U?K:K.replace(/^data:[^;]*;/,"data:attachment/file;"),j?j.location.href=K:location=K,j=null},ie.readAsDataURL(Q)}else{var ee=x.URL||x.webkitURL,z=ee.createObjectURL(Q);j?j.location=z:location.href=z,j=null,setTimeout(function(){ee.revokeObjectURL(z)},4e4)}});x.saveAs=q.saveAs=q,vi.exports=q})?Xt.apply(St,[]):Xt)&&(vi.exports=gt)},776:vi=>{"use strict";vi.exports=function St(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},873:(vi,St,Xt)=>{"use strict";var Nt=Xt(195),gt=Xt(139),Ht=Xt(597),te=Xt(359),ht=Xt(924),H=-2;function It(he){return(he>>>24&255)+(he>>>8&65280)+((65280&he)<<8)+((255&he)<<24)}function Ii(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Nt.Buf16(320),this.work=new Nt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Qs(he){var ze;return he&&he.state?(he.total_in=he.total_out=(ze=he.state).total=0,he.msg="",ze.wrap&&(he.adler=1&ze.wrap),ze.mode=1,ze.last=0,ze.havedict=0,ze.dmax=32768,ze.head=null,ze.hold=0,ze.bits=0,ze.lencode=ze.lendyn=new Nt.Buf32(852),ze.distcode=ze.distdyn=new Nt.Buf32(592),ze.sane=1,ze.back=-1,0):H}function Vs(he){var ze;return he&&he.state?((ze=he.state).wsize=0,ze.whave=0,ze.wnext=0,Qs(he)):H}function Li(he,ze){var F,ot;return!he||!he.state||(ot=he.state,ze<0?(F=0,ze=-ze):(F=1+(ze>>4),ze<48&&(ze&=15)),ze&&(ze<8||ze>15))?H:(null!==ot.window&&ot.wbits!==ze&&(ot.window=null),ot.wrap=F,ot.wbits=ze,Vs(he))}function m1(he,ze){var F,ot;return he?(ot=new Ii,he.state=ot,ot.window=null,0!==(F=Li(he,ze))&&(he.state=null),F):H}var Js,Wo,S0=!0;function ga(he){if(S0){var ze;for(Js=new Nt.Buf32(512),Wo=new Nt.Buf32(32),ze=0;ze<144;)he.lens[ze++]=8;for(;ze<256;)he.lens[ze++]=9;for(;ze<280;)he.lens[ze++]=7;for(;ze<288;)he.lens[ze++]=8;for(ht(1,he.lens,0,288,Js,0,he.work,{bits:9}),ze=0;ze<32;)he.lens[ze++]=5;ht(2,he.lens,0,32,Wo,0,he.work,{bits:5}),S0=!1}he.lencode=Js,he.lenbits=9,he.distcode=Wo,he.distbits=5}function ja(he,ze,F,ot){var pn,A=he.state;return null===A.window&&(A.wsize=1<<A.wbits,A.wnext=0,A.whave=0,A.window=new Nt.Buf8(A.wsize)),ot>=A.wsize?(Nt.arraySet(A.window,ze,F-A.wsize,A.wsize,0),A.wnext=0,A.whave=A.wsize):((pn=A.wsize-A.wnext)>ot&&(pn=ot),Nt.arraySet(A.window,ze,F-ot,pn,A.wnext),(ot-=pn)?(Nt.arraySet(A.window,ze,F-ot,ot,0),A.wnext=ot,A.whave=A.wsize):(A.wnext+=pn,A.wnext===A.wsize&&(A.wnext=0),A.whave<A.wsize&&(A.whave+=pn))),0}St.inflateReset=Vs,St.inflateReset2=Li,St.inflateResetKeep=Qs,St.inflateInit=function Vr(he){return m1(he,15)},St.inflateInit2=m1,St.inflate=function Z(he,ze){var F,ot,pn,A,Ne,ye,V,ae,Oe,Kt,yt,At,li,Za,ci,Xo,Is,er,Be,fc,Qn,pa,De,Wa,Jt=0,ls=new Nt.Buf8(4),mr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!he||!he.state||!he.output||!he.input&&0!==he.avail_in)return H;12===(F=he.state).mode&&(F.mode=13),Ne=he.next_out,pn=he.output,A=he.next_in,ot=he.input,ae=F.hold,Oe=F.bits,Kt=ye=he.avail_in,yt=V=he.avail_out,pa=0;e:for(;;)switch(F.mode){case 1:if(0===F.wrap){F.mode=13;break}for(;Oe<16;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}if(2&F.wrap&&35615===ae){F.check=0,ls[0]=255&ae,ls[1]=ae>>>8&255,F.check=Ht(F.check,ls,2,0),ae=0,Oe=0,F.mode=2;break}if(F.flags=0,F.head&&(F.head.done=!1),!(1&F.wrap)||(((255&ae)<<8)+(ae>>8))%31){he.msg="incorrect header check",F.mode=30;break}if(8!=(15&ae)){he.msg="unknown compression method",F.mode=30;break}if(Oe-=4,Qn=8+(15&(ae>>>=4)),0===F.wbits)F.wbits=Qn;else if(Qn>F.wbits){he.msg="invalid window size",F.mode=30;break}F.dmax=1<<Qn,he.adler=F.check=1,F.mode=512&ae?10:12,ae=0,Oe=0;break;case 2:for(;Oe<16;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}if(F.flags=ae,8!=(255&F.flags)){he.msg="unknown compression method",F.mode=30;break}if(57344&F.flags){he.msg="unknown header flags set",F.mode=30;break}F.head&&(F.head.text=ae>>8&1),512&F.flags&&(ls[0]=255&ae,ls[1]=ae>>>8&255,F.check=Ht(F.check,ls,2,0)),ae=0,Oe=0,F.mode=3;case 3:for(;Oe<32;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}F.head&&(F.head.time=ae),512&F.flags&&(ls[0]=255&ae,ls[1]=ae>>>8&255,ls[2]=ae>>>16&255,ls[3]=ae>>>24&255,F.check=Ht(F.check,ls,4,0)),ae=0,Oe=0,F.mode=4;case 4:for(;Oe<16;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}F.head&&(F.head.xflags=255&ae,F.head.os=ae>>8),512&F.flags&&(ls[0]=255&ae,ls[1]=ae>>>8&255,F.check=Ht(F.check,ls,2,0)),ae=0,Oe=0,F.mode=5;case 5:if(1024&F.flags){for(;Oe<16;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}F.length=ae,F.head&&(F.head.extra_len=ae),512&F.flags&&(ls[0]=255&ae,ls[1]=ae>>>8&255,F.check=Ht(F.check,ls,2,0)),ae=0,Oe=0}else F.head&&(F.head.extra=null);F.mode=6;case 6:if(1024&F.flags&&((At=F.length)>ye&&(At=ye),At&&(F.head&&(Qn=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Array(F.head.extra_len)),Nt.arraySet(F.head.extra,ot,A,At,Qn)),512&F.flags&&(F.check=Ht(F.check,ot,At,A)),ye-=At,A+=At,F.length-=At),F.length))break e;F.length=0,F.mode=7;case 7:if(2048&F.flags){if(0===ye)break e;At=0;do{Qn=ot[A+At++],F.head&&Qn&&F.length<65536&&(F.head.name+=String.fromCharCode(Qn))}while(Qn&&At<ye);if(512&F.flags&&(F.check=Ht(F.check,ot,At,A)),ye-=At,A+=At,Qn)break e}else F.head&&(F.head.name=null);F.length=0,F.mode=8;case 8:if(4096&F.flags){if(0===ye)break e;At=0;do{Qn=ot[A+At++],F.head&&Qn&&F.length<65536&&(F.head.comment+=String.fromCharCode(Qn))}while(Qn&&At<ye);if(512&F.flags&&(F.check=Ht(F.check,ot,At,A)),ye-=At,A+=At,Qn)break e}else F.head&&(F.head.comment=null);F.mode=9;case 9:if(512&F.flags){for(;Oe<16;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}if(ae!==(65535&F.check)){he.msg="header crc mismatch",F.mode=30;break}ae=0,Oe=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),he.adler=F.check=0,F.mode=12;break;case 10:for(;Oe<32;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}he.adler=F.check=It(ae),ae=0,Oe=0,F.mode=11;case 11:if(0===F.havedict)return he.next_out=Ne,he.avail_out=V,he.next_in=A,he.avail_in=ye,F.hold=ae,F.bits=Oe,2;he.adler=F.check=1,F.mode=12;case 12:if(5===ze||6===ze)break e;case 13:if(F.last){ae>>>=7&Oe,Oe-=7&Oe,F.mode=27;break}for(;Oe<3;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}switch(F.last=1&ae,Oe-=1,3&(ae>>>=1)){case 0:F.mode=14;break;case 1:if(ga(F),F.mode=20,6===ze){ae>>>=2,Oe-=2;break e}break;case 2:F.mode=17;break;case 3:he.msg="invalid block type",F.mode=30}ae>>>=2,Oe-=2;break;case 14:for(ae>>>=7&Oe,Oe-=7&Oe;Oe<32;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}if((65535&ae)!=(ae>>>16^65535)){he.msg="invalid stored block lengths",F.mode=30;break}if(F.length=65535&ae,ae=0,Oe=0,F.mode=15,6===ze)break e;case 15:F.mode=16;case 16:if(At=F.length){if(At>ye&&(At=ye),At>V&&(At=V),0===At)break e;Nt.arraySet(pn,ot,A,At,Ne),ye-=At,A+=At,V-=At,Ne+=At,F.length-=At;break}F.mode=12;break;case 17:for(;Oe<14;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}if(F.nlen=257+(31&ae),Oe-=5,F.ndist=1+(31&(ae>>>=5)),Oe-=5,F.ncode=4+(15&(ae>>>=5)),ae>>>=4,Oe-=4,F.nlen>286||F.ndist>30){he.msg="too many length or distance symbols",F.mode=30;break}F.have=0,F.mode=18;case 18:for(;F.have<F.ncode;){for(;Oe<3;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}F.lens[mr[F.have++]]=7&ae,ae>>>=3,Oe-=3}for(;F.have<19;)F.lens[mr[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,pa=ht(0,F.lens,0,19,F.lencode,0,F.work,De={bits:F.lenbits}),F.lenbits=De.bits,pa){he.msg="invalid code lengths set",F.mode=30;break}F.have=0,F.mode=19;case 19:for(;F.have<F.nlen+F.ndist;){for(;Xo=(Jt=F.lencode[ae&(1<<F.lenbits)-1])>>>16&255,Is=65535&Jt,!((ci=Jt>>>24)<=Oe);){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}if(Is<16)ae>>>=ci,Oe-=ci,F.lens[F.have++]=Is;else{if(16===Is){for(Wa=ci+2;Oe<Wa;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}if(ae>>>=ci,Oe-=ci,0===F.have){he.msg="invalid bit length repeat",F.mode=30;break}Qn=F.lens[F.have-1],At=3+(3&ae),ae>>>=2,Oe-=2}else if(17===Is){for(Wa=ci+3;Oe<Wa;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}Oe-=ci,Qn=0,At=3+(7&(ae>>>=ci)),ae>>>=3,Oe-=3}else{for(Wa=ci+7;Oe<Wa;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}Oe-=ci,Qn=0,At=11+(127&(ae>>>=ci)),ae>>>=7,Oe-=7}if(F.have+At>F.nlen+F.ndist){he.msg="invalid bit length repeat",F.mode=30;break}for(;At--;)F.lens[F.have++]=Qn}}if(30===F.mode)break;if(0===F.lens[256]){he.msg="invalid code -- missing end-of-block",F.mode=30;break}if(F.lenbits=9,pa=ht(1,F.lens,0,F.nlen,F.lencode,0,F.work,De={bits:F.lenbits}),F.lenbits=De.bits,pa){he.msg="invalid literal/lengths set",F.mode=30;break}if(F.distbits=6,F.distcode=F.distdyn,pa=ht(2,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,De={bits:F.distbits}),F.distbits=De.bits,pa){he.msg="invalid distances set",F.mode=30;break}if(F.mode=20,6===ze)break e;case 20:F.mode=21;case 21:if(ye>=6&&V>=258){he.next_out=Ne,he.avail_out=V,he.next_in=A,he.avail_in=ye,F.hold=ae,F.bits=Oe,te(he,yt),Ne=he.next_out,pn=he.output,V=he.avail_out,A=he.next_in,ot=he.input,ye=he.avail_in,ae=F.hold,Oe=F.bits,12===F.mode&&(F.back=-1);break}for(F.back=0;Xo=(Jt=F.lencode[ae&(1<<F.lenbits)-1])>>>16&255,Is=65535&Jt,!((ci=Jt>>>24)<=Oe);){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}if(Xo&&!(240&Xo)){for(er=ci,Be=Xo,fc=Is;Xo=(Jt=F.lencode[fc+((ae&(1<<er+Be)-1)>>er)])>>>16&255,Is=65535&Jt,!(er+(ci=Jt>>>24)<=Oe);){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}ae>>>=er,Oe-=er,F.back+=er}if(ae>>>=ci,Oe-=ci,F.back+=ci,F.length=Is,0===Xo){F.mode=26;break}if(32&Xo){F.back=-1,F.mode=12;break}if(64&Xo){he.msg="invalid literal/length code",F.mode=30;break}F.extra=15&Xo,F.mode=22;case 22:if(F.extra){for(Wa=F.extra;Oe<Wa;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}F.length+=ae&(1<<F.extra)-1,ae>>>=F.extra,Oe-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=23;case 23:for(;Xo=(Jt=F.distcode[ae&(1<<F.distbits)-1])>>>16&255,Is=65535&Jt,!((ci=Jt>>>24)<=Oe);){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}if(!(240&Xo)){for(er=ci,Be=Xo,fc=Is;Xo=(Jt=F.distcode[fc+((ae&(1<<er+Be)-1)>>er)])>>>16&255,Is=65535&Jt,!(er+(ci=Jt>>>24)<=Oe);){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}ae>>>=er,Oe-=er,F.back+=er}if(ae>>>=ci,Oe-=ci,F.back+=ci,64&Xo){he.msg="invalid distance code",F.mode=30;break}F.offset=Is,F.extra=15&Xo,F.mode=24;case 24:if(F.extra){for(Wa=F.extra;Oe<Wa;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}F.offset+=ae&(1<<F.extra)-1,ae>>>=F.extra,Oe-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){he.msg="invalid distance too far back",F.mode=30;break}F.mode=25;case 25:if(0===V)break e;if(F.offset>(At=yt-V)){if((At=F.offset-At)>F.whave&&F.sane){he.msg="invalid distance too far back",F.mode=30;break}li=At>F.wnext?F.wsize-(At-=F.wnext):F.wnext-At,At>F.length&&(At=F.length),Za=F.window}else Za=pn,li=Ne-F.offset,At=F.length;At>V&&(At=V),V-=At,F.length-=At;do{pn[Ne++]=Za[li++]}while(--At);0===F.length&&(F.mode=21);break;case 26:if(0===V)break e;pn[Ne++]=F.length,V--,F.mode=21;break;case 27:if(F.wrap){for(;Oe<32;){if(0===ye)break e;ye--,ae|=ot[A++]<<Oe,Oe+=8}if(he.total_out+=yt-=V,F.total+=yt,yt&&(he.adler=F.check=F.flags?Ht(F.check,pn,yt,Ne-yt):gt(F.check,pn,yt,Ne-yt)),yt=V,(F.flags?ae:It(ae))!==F.check){he.msg="incorrect data check",F.mode=30;break}ae=0,Oe=0}F.mode=28;case 28:if(F.wrap&&F.flags){for(;Oe<32;){if(0===ye)break e;ye--,ae+=ot[A++]<<Oe,Oe+=8}if(ae!==(4294967295&F.total)){he.msg="incorrect length check",F.mode=30;break}ae=0,Oe=0}F.mode=29;case 29:pa=1;break e;case 30:pa=-3;break e;case 31:return-4;default:return H}return he.next_out=Ne,he.avail_out=V,he.next_in=A,he.avail_in=ye,F.hold=ae,F.bits=Oe,(F.wsize||yt!==he.avail_out&&F.mode<30&&(F.mode<27||4!==ze))&&ja(he,he.output,he.next_out,yt-he.avail_out)?(F.mode=31,-4):(yt-=he.avail_out,he.total_in+=Kt-=he.avail_in,he.total_out+=yt,F.total+=yt,F.wrap&&yt&&(he.adler=F.check=F.flags?Ht(F.check,pn,yt,he.next_out-yt):gt(F.check,pn,yt,he.next_out-yt)),he.data_type=F.bits+(F.last?64:0)+(12===F.mode?128:0)+(20===F.mode||15===F.mode?256:0),(0===Kt&&0===yt||4===ze)&&0===pa&&(pa=-5),pa)},St.inflateEnd=function st(he){if(!he||!he.state)return H;var ze=he.state;return ze.window&&(ze.window=null),he.state=null,0},St.inflateGetHeader=function _t(he,ze){var F;return he&&he.state&&2&(F=he.state).wrap?(F.head=ze,ze.done=!1,0):H},St.inflateSetDictionary=function Rt(he,ze){var ot,F=ze.length;return he&&he.state&&(0===(ot=he.state).wrap||11===ot.mode)?11===ot.mode&&gt(1,ze,F,0)!==ot.check?-3:ja(he,ze,F,F)?(ot.mode=31,-4):(ot.havedict=1,0):H},St.inflateInfo="pako inflate (from Nodeca project)"},920:vi=>{"use strict";vi.exports=function St(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},924:(vi,St,Xt)=>{"use strict";var Nt=Xt(195),W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],q=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],X=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];vi.exports=function(j,ne,H,U,ie,ee,z,K){var pt,zt,Xe,tt,ct,Ot,xn,Xn,Zo,de=K.bits,Y=0,_e=0,Ae=0,Me=0,be=0,Se=0,Ie=0,dt=0,nt=0,Ze=0,Ct=null,Ut=0,mn=new Nt.Buf16(16),$n=new Nt.Buf16(16),hn=null,Wn=0;for(Y=0;Y<=15;Y++)mn[Y]=0;for(_e=0;_e<U;_e++)mn[ne[H+_e]]++;for(be=de,Me=15;Me>=1&&0===mn[Me];Me--);if(be>Me&&(be=Me),0===Me)return ie[ee++]=20971520,ie[ee++]=20971520,K.bits=1,0;for(Ae=1;Ae<Me&&0===mn[Ae];Ae++);for(be<Ae&&(be=Ae),dt=1,Y=1;Y<=15;Y++)if(dt<<=1,(dt-=mn[Y])<0)return-1;if(dt>0&&(0===j||1!==Me))return-1;for($n[1]=0,Y=1;Y<15;Y++)$n[Y+1]=$n[Y]+mn[Y];for(_e=0;_e<U;_e++)0!==ne[H+_e]&&(z[$n[ne[H+_e]]++]=_e);if(0===j?(Ct=hn=z,Ot=19):1===j?(Ct=W,Ut-=257,hn=q,Wn-=257,Ot=256):(Ct=Q,hn=X,Ot=-1),Ze=0,_e=0,Y=Ae,ct=ee,Se=be,Ie=0,Xe=-1,tt=(nt=1<<be)-1,1===j&&nt>852||2===j&&nt>592)return 1;for(;;){xn=Y-Ie,z[_e]<Ot?(Xn=0,Zo=z[_e]):z[_e]>Ot?(Xn=hn[Wn+z[_e]],Zo=Ct[Ut+z[_e]]):(Xn=96,Zo=0),pt=1<<Y-Ie,Ae=zt=1<<Se;do{ie[ct+(Ze>>Ie)+(zt-=pt)]=xn<<24|Xn<<16|Zo}while(0!==zt);for(pt=1<<Y-1;Ze&pt;)pt>>=1;if(0!==pt?(Ze&=pt-1,Ze+=pt):Ze=0,_e++,0===--mn[Y]){if(Y===Me)break;Y=ne[H+z[_e]]}if(Y>be&&(Ze&tt)!==Xe){for(0===Ie&&(Ie=be),ct+=Ae,dt=1<<(Se=Y-Ie);Se+Ie<Me&&!((dt-=mn[Se+Ie])<=0);)Se++,dt<<=1;if(nt+=1<<Se,1===j&&nt>852||2===j&&nt>592)return 1;ie[Xe=Ze&tt]=be<<24|Se<<16|ct-ee}}return 0!==Ze&&(ie[ct+Ze]=Y-Ie<<24|64<<16),K.bits=be,0}},949:(vi,St,Xt)=>{"use strict";var Nt=Xt(153),gt=Xt(195),Ht=Xt(290),te=Xt(200),ht=Xt(920),$=Object.prototype.toString;function H(z){if(!(this instanceof H))return new H(z);this.options=gt.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},z||{});var K=this.options;K.raw&&K.windowBits>0?K.windowBits=-K.windowBits:K.gzip&&K.windowBits>0&&K.windowBits<16&&(K.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ht,this.strm.avail_out=0;var de=Nt.deflateInit2(this.strm,K.level,K.method,K.windowBits,K.memLevel,K.strategy);if(0!==de)throw new Error(te[de]);if(K.header&&Nt.deflateSetHeader(this.strm,K.header),K.dictionary){var Y;if(Y="string"==typeof K.dictionary?Ht.string2buf(K.dictionary):"[object ArrayBuffer]"===$.call(K.dictionary)?new Uint8Array(K.dictionary):K.dictionary,0!==(de=Nt.deflateSetDictionary(this.strm,Y)))throw new Error(te[de]);this._dict_set=!0}}function U(z,K){var de=new H(K);if(de.push(z,!0),de.err)throw de.msg||te[de.err];return de.result}H.prototype.push=function(z,K){var _e,Ae,de=this.strm,Y=this.options.chunkSize;if(this.ended)return!1;Ae=K===~~K?K:!0===K?4:0,de.input="string"==typeof z?Ht.string2buf(z):"[object ArrayBuffer]"===$.call(z)?new Uint8Array(z):z,de.next_in=0,de.avail_in=de.input.length;do{if(0===de.avail_out&&(de.output=new gt.Buf8(Y),de.next_out=0,de.avail_out=Y),1!==(_e=Nt.deflate(de,Ae))&&0!==_e)return this.onEnd(_e),this.ended=!0,!1;(0===de.avail_out||0===de.avail_in&&(4===Ae||2===Ae))&&this.onData("string"===this.options.to?Ht.buf2binstring(gt.shrinkBuf(de.output,de.next_out)):gt.shrinkBuf(de.output,de.next_out))}while((de.avail_in>0||0===de.avail_out)&&1!==_e);return 4===Ae?(_e=Nt.deflateEnd(this.strm),this.onEnd(_e),this.ended=!0,0===_e):(2===Ae&&(this.onEnd(0),de.avail_out=0),!0)},H.prototype.onData=function(z){this.chunks.push(z)},H.prototype.onEnd=function(z){0===z&&(this.result="string"===this.options.to?this.chunks.join(""):gt.flattenChunks(this.chunks)),this.chunks=[],this.err=z,this.msg=this.strm.msg},St.Deflate=H,St.deflate=U,St.deflateRaw=function ie(z,K){return(K=K||{}).raw=!0,U(z,K)},St.gzip=function ee(z,K){return(K=K||{}).gzip=!0,U(z,K)}},951:(vi,St,Xt)=>{"use strict";var Nt={};Xt.r(Nt),Xt.d(Nt,{AbortException:()=>Que,AnnotationEditorLayer:()=>Jue,AnnotationEditorParamsType:()=>e_e,AnnotationEditorType:()=>JF,AnnotationEditorUIManager:()=>t_e,AnnotationLayer:()=>n_e,AnnotationMode:()=>i_e,ColorPicker:()=>o_e,DOMSVGFactory:()=>s_e,DrawLayer:()=>r_e,FeatureTest:()=>a_e,GlobalWorkerOptions:()=>ek,ImageKind:()=>l_e,InvalidPDFException:()=>c_e,MissingPDFException:()=>d_e,OPS:()=>h_e,OutputScale:()=>u_e,PDFDataRangeTransport:()=>__e,PDFDateString:()=>g_e,PDFWorker:()=>p_e,PasswordResponses:()=>f_e,PermissionFlag:()=>m_e,PixelsPerInch:()=>v_e,RenderingCancelledException:()=>C_e,TextLayer:()=>M_e,UnexpectedResponseException:()=>T_e,Util:()=>w_e,VerbosityLevel:()=>tk,XfaLayer:()=>b_e,build:()=>S_e,createValidAbsoluteUrl:()=>E_e,fetchData:()=>O_e,getDocument:()=>nk,getFilenameFromUrl:()=>A_e,getPdfFilenameFromUrl:()=>N_e,getXfaPageViewport:()=>D_e,isDataScheme:()=>y_e,isPdfFile:()=>P_e,noContextMenu:()=>I_e,normalizeUnicode:()=>L_e,setLayerDimensions:()=>R_e,shadow:()=>x_e,version:()=>P6});var gt={};let Ht;function te(){return Ht}function ht(t){const n=Ht;return Ht=t,n}Xt.r(gt),Xt.d(gt,{AnnotationLayerBuilder:()=>Upe,DownloadManager:()=>jpe,EventBus:()=>Zpe,FindState:()=>Wpe,GenericL10n:()=>Qk,LinkTarget:()=>z2,PDFFindController:()=>Jk,PDFHistory:()=>Xpe,PDFLinkService:()=>ez,PDFPageView:()=>Kpe,PDFScriptingManager:()=>qpe,PDFSinglePageViewer:()=>tz,PDFViewer:()=>nz,ProgressBar:()=>Ype,RenderingStates:()=>Qpe,ScrollMode:()=>Jpe,SimpleLinkService:()=>efe,SpreadMode:()=>tfe,StructTreeLayerBuilder:()=>nfe,TextLayerBuilder:()=>ife,XfaLayerBuilder:()=>ofe,parseQueryString:()=>sfe});const x=Symbol("NotFound");function q(t){return t===x||"\u0275NotFound"===t?.name}function Q(t,n){return Object.is(t,n)}Error;let X=null,B=!1,j=1;const H=Symbol("SIGNAL");function U(t){const n=X;return X=t,n}const K={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function de(t){if(B)throw new Error("");if(null===X)return;X.consumerOnSignalRead(t);const n=X.producersTail;if(void 0!==n&&n.producer===t)return;let e;const i=X.recomputing;if(i&&(e=void 0!==n?n.nextProducer:X.producers,void 0!==e&&e.producer===t))return X.producersTail=e,void(e.lastReadVersion=t.version);const o=t.consumersTail;if(void 0!==o&&o.consumer===X&&(!i||function Ct(t,n){const e=n.producersTail;if(void 0!==e){let i=n.producers;do{if(i===t)return!0;if(i===e)break;i=i.nextProducer}while(void 0!==i)}return!1}(o,X)))return;const s=Xe(X),r={producer:t,consumer:X,nextProducer:e,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};X.producersTail=r,void 0!==n?n.nextProducer=r:X.producers=r,s&&pt(t,r)}function _e(t){if((!Xe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==j)){if(!t.producerMustRecompute(t)&&!nt(t))return void Se(t);t.producerRecomputeValue(t),Se(t)}}function Ae(t){if(void 0===t.consumers)return;const n=B;B=!0;try{for(let e=t.consumers;void 0!==e;e=e.nextConsumer){const i=e.consumer;i.dirty||be(i)}}finally{B=n}}function Me(){return!1!==X?.consumerAllowSignalWrites}function be(t){t.dirty=!0,Ae(t),t.consumerMarkedDirty?.(t)}function Se(t){t.dirty=!1,t.lastCleanEpoch=j}function Ie(t){return t&&(t.producersTail=void 0,t.recomputing=!0),U(t)}function dt(t,n){if(U(n),!t)return;t.recomputing=!1;const e=t.producersTail;let i=void 0!==e?e.nextProducer:t.producers;if(void 0!==i){if(Xe(t))do{i=zt(i)}while(void 0!==i);void 0!==e?e.nextProducer=void 0:t.producers=void 0}}function nt(t){for(let n=t.producers;void 0!==n;n=n.nextProducer){const e=n.producer,i=n.lastReadVersion;if(i!==e.version||(_e(e),i!==e.version))return!0}return!1}function Ze(t){if(Xe(t)){let n=t.producers;for(;void 0!==n;)n=zt(n)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function pt(t,n){const e=t.consumersTail,i=Xe(t);if(void 0!==e?(n.nextConsumer=e.nextConsumer,e.nextConsumer=n):(n.nextConsumer=void 0,t.consumers=n),n.prevConsumer=e,t.consumersTail=n,!i)for(let o=t.producers;void 0!==o;o=o.nextProducer)pt(o.producer,o)}function zt(t){const n=t.producer,e=t.nextProducer,i=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,void 0!==i?i.prevConsumer=o:n.consumersTail=o,void 0!==o)o.nextConsumer=i;else if(n.consumers=i,!Xe(n)){let s=n.producers;for(;void 0!==s;)s=zt(s)}return e}function Xe(t){return t.consumerIsAlwaysLive||void 0!==t.consumers}const Ot=Symbol("UNSET"),mn=Symbol("COMPUTING"),$n=Symbol("ERRORED"),hn={...K,value:Ot,dirty:!0,error:null,equal:Q,kind:"computed",producerMustRecompute:t=>t.value===Ot||t.value===mn,producerRecomputeValue(t){if(t.value===mn)throw new Error("");const n=t.value;t.value=mn;const e=Ie(t);let i,o=!1;try{i=t.computation(),U(null),o=n!==Ot&&n!==$n&&i!==$n&&t.equal(n,i)}catch(s){i=$n,t.error=s}finally{dt(t,e)}o?t.value=n:(t.value=i,t.version++)}};let xn=function Wn(){throw new Error};function Xn(t){xn(t)}function Ps(t,n){const e=Object.create(vn);e.value=t,void 0!==n&&(e.equal=n);const i=()=>function as(t){return de(t),t.value}(e);return i[H]=e,[i,r=>fr(e,r),r=>function zn(t,n){Me()||Xn(t),fr(t,n(t.value))}(e,r)]}function fr(t,n){Me()||Xn(t),t.equal(t.value,n)||(t.value=n,function Vt(t){t.version++,function Y(){j++}(),Ae(t)}(t))}const vn={...K,equal:Q,value:void 0,kind:"signal"};function It(t){return"function"==typeof t}function Ii(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Qs=Ii(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,o)=>`${o+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Vs(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class Li{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(It(i))try{i()}catch(s){n=s instanceof Qs?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{S0(s)}catch(r){n=n??[],r instanceof Qs?n=[...n,...r.errors]:n.push(r)}}if(n)throw new Qs(n)}}add(n){var e;if(n&&n!==this)if(this.closed)S0(n);else{if(n instanceof Li){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Vs(e,n)}remove(n){const{_finalizers:e}=this;e&&Vs(e,n),n instanceof Li&&n._removeParent(this)}}Li.EMPTY=(()=>{const t=new Li;return t.closed=!0,t})();const m1=Li.EMPTY;function Vr(t){return t instanceof Li||t&&"closed"in t&&It(t.remove)&&It(t.add)&&It(t.unsubscribe)}function S0(t){It(t)?t():t.unsubscribe()}const Js={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Wo={setTimeout(t,n,...e){const{delegate:i}=Wo;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=Wo;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ga(t){Wo.setTimeout(()=>{const{onUnhandledError:n}=Js;if(!n)throw t;n(t)})}function ja(){}const Z=Rt("C",void 0,void 0);function Rt(t,n,e){return{kind:t,value:n,error:e}}let he=null;function ze(t){if(Js.useDeprecatedSynchronousErrorHandling){const n=!he;if(n&&(he={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=he;if(he=null,e)throw i}}else t()}class ot extends Li{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Vr(n)&&n.add(this)):this.destination=Kt}static create(n,e,i){return new ye(n,e,i)}next(n){this.isStopped?Oe(function _t(t){return Rt("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Oe(function st(t){return Rt("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Oe(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pn=Function.prototype.bind;function A(t,n){return pn.call(t,n)}class Ne{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){V(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){V(i)}else V(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){V(e)}}}class ye extends ot{constructor(n,e,i){let o;if(super(),It(n)||!n)o={next:n??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&Js.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&A(n.next,s),error:n.error&&A(n.error,s),complete:n.complete&&A(n.complete,s)}):o=n}this.destination=new Ne(o)}}function V(t){Js.useDeprecatedSynchronousErrorHandling?function F(t){Js.useDeprecatedSynchronousErrorHandling&&he&&(he.errorThrown=!0,he.error=t)}(t):ga(t)}function Oe(t,n){const{onStoppedNotification:e}=Js;e&&Wo.setTimeout(()=>e(t,n))}const Kt={closed:!0,next:ja,error:function ae(t){throw t},complete:ja},yt="function"==typeof Symbol&&Symbol.observable||"@@observable";function At(t){return t}function Za(t){return 0===t.length?At:1===t.length?t[0]:function(e){return t.reduce((i,o)=>o(i),e)}}let Jt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,o){const s=function Is(t){return t&&t instanceof ot||function Xo(t){return t&&It(t.next)&&It(t.error)&&It(t.complete)}(t)&&Vr(t)}(e)?e:new ye(e,i,o);return ze(()=>{const{operator:r,source:a}=this;s.add(r?r.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=ci(i))((o,s)=>{const r=new ye({next:a=>{try{e(a)}catch(l){s(l),r.unsubscribe()}},error:s,complete:o});this.subscribe(r)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[yt](){return this}pipe(...e){return Za(e)(this)}toPromise(e){return new(e=ci(e))((i,o)=>{let s;this.subscribe(r=>s=r,r=>o(r),()=>i(s))})}}return t.create=n=>new t(n),t})();function ci(t){var n;return null!==(n=t??Js.Promise)&&void 0!==n?n:Promise}const er=Ii(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Be=(()=>{class t extends Jt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new fc(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new er}next(e){ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:o,observers:s}=this;return i||o?m1:(this.currentObservers=null,s.push(e),new Li(()=>{this.currentObservers=null,Vs(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:o,isStopped:s}=this;i?e.error(o):s&&e.complete()}asObservable(){const e=new Jt;return e.source=this,e}}return t.create=(n,e)=>new fc(n,e),t})();class fc extends Be{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:m1}}class Qn extends Be{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const ls="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class De extends Error{code;constructor(n,e){super(mr(n,e)),this.code=n}}function mr(t,n){return`${function Wa(t){return`NG0${Math.abs(t)}`}(t)}${n?": "+n:""}`}const Lo=globalThis;function Ri(t){for(let n in t)if(t[n]===Ri)return n;throw Error("")}function pU(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Hr(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(Hr).join(", ")}]`;if(null==t)return""+t;const n=t.overriddenName||t.name;if(n)return`${n}`;const e=t.toString();if(null==e)return""+e;const i=e.indexOf("\n");return i>=0?e.slice(0,i):e}function M8(t,n){return t?n?`${t} ${n}`:t:n||""}const fU=Ri({__forward_ref__:Ri});function rn(t){return t.__forward_ref__=rn,t.toString=function(){return Hr(this())},t}function Fn(t){return op(t)?t():t}function op(t){return"function"==typeof t&&t.hasOwnProperty(fU)&&t.__forward_ref__===rn}function dl(t,n,e){t!=n&&function cn(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(e,t,n,"==")}function Te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bn(t){return{providers:t.providers||[],imports:t.imports||[]}}function sp(t){return function bU(t,n){return t.hasOwnProperty(n)&&t[n]||null}(t,ap)}function rp(t){return t&&t.hasOwnProperty(T8)?t[T8]:null}const ap=Ri({\u0275prov:Ri}),T8=Ri({\u0275inj:Ri});class Qe{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Te({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function b8(t){return t&&!!t.\u0275providers}const S8=Ri({\u0275cmp:Ri}),DU=Ri({\u0275dir:Ri}),yU=Ri({\u0275pipe:Ri}),ub=Ri({\u0275mod:Ri}),vc=Ri({\u0275fac:Ri}),Oh=Ri({__NG_ELEMENT_ID__:Ri}),_b=Ri({__NG_ENV_ID__:Ri});function En(t){return"string"==typeof t?t:null==t?"":String(t)}const E8=Ri({ngErrorCode:Ri}),gb=Ri({ngErrorMessage:Ri}),Ah=Ri({ngTokenPath:Ri});function O8(t,n){return fb("",-200,n)}function A8(t,n){throw new De(-201,!1)}function fb(t,n,e){const i=new De(n,t);return i[E8]=n,i[gb]=t,e&&(i[Ah]=e),i}let N8;function mb(){return N8}function Gr(t){const n=N8;return N8=t,n}function vb(t,n,e){const i=sp(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:8&e?null:void 0!==n?n:void A8()}const Cc={};class FU{injector;constructor(n){this.injector=n}retrieve(n,e){const i=Nh(e)||0;try{return this.injector.get(n,8&i?null:Cc,i)}catch(o){if(q(o))return o;throw o}}}function kU(t,n=0){const e=te();if(void 0===e)throw new De(-203,!1);if(null===e)return vb(t,void 0,n);{const i=function zU(t){return{optional:!!(8&t),host:!!(1&t),self:!!(2&t),skipSelf:!!(4&t)}}(n),o=e.retrieve(t,i);if(q(o)){if(i.optional)return null;throw o}return o}}function Zt(t,n=0){return(mb()||kU)(Fn(t),n)}function M(t,n){return Zt(t,Nh(n))}function Nh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function y8(t){const n=[];for(let e=0;e<t.length;e++){const i=Fn(t[e]);if(Array.isArray(i)){if(0===i.length)throw new De(900,!1);let o,s=0;for(let r=0;r<i.length;r++){const a=i[r],l=VU(a);"number"==typeof l?-1===l?o=a.token:s|=l:o=a}n.push(Zt(o,s))}else n.push(Zt(i))}return n}function VU(t){return t.__NG_DI_FLAG__}function Mc(t,n){return t.hasOwnProperty(vc)?t[vc]:null}function nd(t,n){t.forEach(e=>Array.isArray(e)?nd(e,n):n(e))}function Mb(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function cp(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function hp(t,n,e){let i=yh(t,n);return i>=0?t[1|i]=e:(i=~i,function wb(t,n,e,i){let o=t.length;if(o==n)t.push(e,i);else if(1===o)t.push(i,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function P8(t,n){const e=yh(t,n);if(e>=0)return t[1|e]}function yh(t,n){return function GU(t,n,e){let i=0,o=t.length>>e;for(;o!==i;){const s=i+(o-i>>1),r=t[s<<e];if(n===r)return s<<e;r>n?o=s:i=s+1}return~(o<<e)}(t,n,1)}const j1={},no=[],hl=new Qe(""),bb=new Qe("",-1),I8=new Qe("");class up{get(n,e=Cc){if(e===Cc){const o=fb("",-201);throw o.name="\u0275NotFound",o}return e}}function Z1(t){return t[ub]||null}function Ai(t){return t[S8]||null}function vr(t){return t[DU]||null}function v1(t){return t[yU]||null}function _p(t){return{\u0275providers:t}}function Sb(...t){return{\u0275providers:R8(0,t),\u0275fromNgModule:!0}}function R8(t,...n){const e=[],i=new Set;let o;const s=r=>{e.push(r)};return nd(n,r=>{const a=r;gp(a,s,[],i)&&(o||=[],o.push(a))}),void 0!==o&&Eb(o,s),e}function Eb(t,n){for(let e=0;e<t.length;e++){const{ngModule:i,providers:o}=t[e];x8(o,s=>{n(s,i)})}}function gp(t,n,e,i){if(!(t=Fn(t)))return!1;let o=null,s=rp(t);const r=!s&&Ai(t);if(s||r){if(r&&!r.standalone)return!1;o=t}else{const l=t.ngModule;if(s=rp(l),!s)return!1;o=l}const a=i.has(o);if(r){if(a)return!1;if(i.add(o),r.dependencies){const l="function"==typeof r.dependencies?r.dependencies():r.dependencies;for(const c of l)gp(c,n,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(o);try{nd(s.imports,h=>{gp(h,n,e,i)&&(c||=[],c.push(h))})}finally{}void 0!==c&&Eb(c,n)}if(!a){const c=Mc(o)||(()=>new o);n({provide:o,useFactory:c,deps:no},o),n({provide:I8,useValue:o,multi:!0},o),n({provide:hl,useValue:()=>Zt(o),multi:!0},o)}const l=s.providers;if(null!=l&&!a){const c=t;x8(l,h=>{n(h,c)})}}}return o!==t&&void 0!==t.providers}function x8(t,n){for(let e of t)b8(e)&&(e=e.\u0275providers),Array.isArray(e)?x8(e,n):n(e)}const BU=Ri({provide:String,useValue:Ri});function F8(t){return null!==t&&"object"==typeof t&&BU in t}function E0(t){return"function"==typeof t}const k8=new Qe(""),pp={},Db={};let z8;function fp(){return void 0===z8&&(z8=new up),z8}class cs{}class Tc extends cs{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,i,o){super(),this.parent=e,this.source=i,this.scopes=o,H8(n,r=>this.processProvider(r)),this.records.set(bb,od(void 0,this)),o.has("environment")&&this.records.set(cs,od(void 0,this));const s=this.records.get(k8);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(I8,no,{self:!0}))}retrieve(n,e){const i=Nh(e)||0;try{return this.get(n,Cc,i)}catch(o){if(q(o))return o;throw o}}destroy(){Ph(this),this._destroyed=!0;const n=U(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),U(n)}}onDestroy(n){return Ph(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Ph(this);const e=ht(this),i=Gr(void 0);try{return n()}finally{ht(e),Gr(i)}}get(n,e=Cc,i){if(Ph(this),n.hasOwnProperty(_b))return n[_b](this);const o=Nh(i),r=ht(this),a=Gr(void 0);try{if(!(4&o)){let c=this.records.get(n);if(void 0===c){const h=function XU(t){return"function"==typeof t||"object"==typeof t&&"InjectionToken"===t.ngMetadataName}(n)&&sp(n);c=h&&this.injectableDefInScope(h)?od(V8(n),pp):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c,o)}return(2&o?fp():this.parent).get(n,e=8&o&&e===Cc?null:e)}catch(l){const c=function RU(t){return t[E8]}(l);throw-200===c||-201===c?new De(c,null):l}finally{Gr(a),ht(r)}}resolveInjectorInitializers(){const n=U(null),e=ht(this),i=Gr(void 0);try{const s=this.get(hl,no,{self:!0});for(const r of s)r()}finally{ht(e),Gr(i),U(n)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(Hr(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){let e=E0(n=Fn(n))?n:Fn(n&&n.provide);const i=function jU(t){return F8(t)?od(void 0,t.useValue):od(yb(t),pp)}(n);if(!E0(n)&&!0===n.multi){let o=this.records.get(e);o||(o=od(void 0,pp,!0),o.factory=()=>y8(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,i)}hydrate(n,e,i){const o=U(null);try{if(e.value===Db)throw O8(Hr(n));return e.value===pp&&(e.value=Db,e.value=e.factory(void 0,i)),"object"==typeof e.value&&e.value&&function WU(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{U(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const e=Fn(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function V8(t){const n=sp(t),e=null!==n?n.factory:Mc(t);if(null!==e)return e;if(t instanceof Qe)throw new De(204,!1);if(t instanceof Function)return function UU(t){if(t.length>0)throw new De(204,!1);const e=function SU(t){return(t?.[ap]??null)||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new De(204,!1)}function yb(t,n,e){let i;if(E0(t)){const o=Fn(t);return Mc(o)||V8(o)}if(F8(t))i=()=>Fn(t.useValue);else if(function Ab(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...y8(t.deps||[]));else if(function Ob(t){return!(!t||!t.useExisting)}(t))i=(o,s)=>Zt(Fn(t.useExisting),void 0!==s&&8&s?8:void 0);else{const o=Fn(t&&(t.useClass||t.provide));if(!function ZU(t){return!!t.deps}(t))return Mc(o)||V8(o);i=()=>new o(...y8(t.deps))}return i}function Ph(t){if(t.destroyed)throw new De(205,!1)}function od(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function H8(t,n){for(const e of t)Array.isArray(e)?H8(e,n):e&&b8(e)?H8(e.\u0275providers,n):n(e)}function $r(t,n){let e;t instanceof Tc?(Ph(t),e=t):e=new FU(t);const o=ht(e),s=Gr(void 0);try{return n()}finally{ht(o),Gr(s)}}function G8(){return void 0!==mb()||null!=te()}function Eo(t){return Array.isArray(t)&&"object"==typeof t[1]}function Cr(t){return Array.isArray(t)&&!0===t[1]}function Ib(t){return!!(4&t.flags)}function N0(t){return t.componentOffset>-1}function cd(t){return!(1&~t.flags)}function va(t){return!!t.template}function pl(t){return!!(512&t[2])}function D0(t){return!(256&~t[2])}function Rs(t){for(;Array.isArray(t);)t=t[0];return t}function dd(t,n){return Rs(n[t])}function hs(t,n){return Rs(n[t.index])}function hd(t,n){return t.data[n]}function Ec(t,n){return t[n]}function U8(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}function Mr(t,n){const e=n[t];return Eo(e)?e:e[0]}function j8(t){return!(128&~t[2])}function ir(t,n){return null==n?null:t[n]}function zb(t){t[17]=0}function Vb(t){1024&t[2]||(t[2]|=1024,j8(t)&&ud(t))}function Hb(t,n){for(;t>0;)n=n[14],t--;return n}function Mp(t){return!!(9216&t[2]||t[24]?.dirty)}function Z8(t){t[10].changeDetectionScheduler?.notify(8),64&t[2]&&(t[2]|=1024),Mp(t)&&ud(t)}function ud(t){t[10].changeDetectionScheduler?.notify(0);let n=y0(t);for(;null!==n&&!(8192&n[2])&&(n[2]|=8192,j8(n));)n=y0(n)}function Tp(t,n){if(D0(t))throw new De(911,!1);null===t[21]&&(t[21]=[]),t[21].push(n)}function W8(t,n){if(null===t[21])return;const e=t[21].indexOf(n);-1!==e&&t[21].splice(e,1)}function y0(t){const n=t[3];return Cr(n)?n[3]:n}function Gb(t){return t[7]??=[]}function $b(t){return t.cleanup??=[]}const bn={lFrame:oS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let K8=!1;function Ub(){bn.lFrame.elementDepthCount--}function q8(){return bn.bindingsEnabled}function jb(){return null!==bn.skipHydrationRootTNode}function Zb(t){return bn.skipHydrationRootTNode===t}function Wb(){bn.skipHydrationRootTNode=null}function Ue(){return bn.lFrame.lView}function On(){return bn.lFrame.tView}function T(t){return bn.lFrame.contextLView=t,t[8]}function w(t){return bn.lFrame.contextLView=null,t}function Sn(){let t=Xb();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xb(){return bn.lFrame.currentTNode}function Rh(){const t=bn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function P0(t,n){const e=bn.lFrame;e.currentTNode=t,e.isParent=n}function Kb(){return bn.lFrame.isParent}function qb(){bn.lFrame.isParent=!1}function Yb(){return bn.lFrame.contextLView}function Jb(){return K8}function wp(t){const n=K8;return K8=t,n}function Tr(){const t=bn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function I0(){return bn.lFrame.bindingIndex}function Br(){return bn.lFrame.bindingIndex++}function L0(t){const n=bn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function tS(t){bn.lFrame.inI18n=t}function rj(t,n){const e=bn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Y8(n)}function Y8(t){bn.lFrame.currentDirectiveIndex=t}function J8(){return bn.lFrame.currentQueryIndex}function bp(t){bn.lFrame.currentQueryIndex=t}function lj(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[5]:null}function nS(t,n,e){if(4&e){let o=n,s=t;for(;!(o=o.parent,null!==o||1&e||(o=lj(s),null===o||(s=s[14],10&o.type))););if(null===o)return!1;n=o,t=s}const i=bn.lFrame=iS();return i.currentTNode=n,i.lView=t,!0}function em(t){const n=iS(),e=t[1];bn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function iS(){const t=bn.lFrame,n=null===t?null:t.child;return null===n?oS(t):n}function oS(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function sS(){const t=bn.lFrame;return bn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const rS=sS;function tm(){const t=sS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Hs(){return bn.lFrame.selectedIndex}function Oc(t){bn.lFrame.selectedIndex=t}function C1(){const t=bn.lFrame;return hd(t.tView,t.selectedIndex)}function xh(){bn.lFrame.currentNamespace="svg"}let lS=!0;function Sp(){return lS}function Fh(t){lS=t}let nm={elements:void 0};function cS(t,n=null,e=null,i){const o=dS(t,n,e,i);return o.resolveInjectorInitializers(),o}function dS(t,n=null,e=null,i,o=new Set){const s=[e||no,Sb(t)];return i=i||("object"==typeof t?void 0:Hr(t)),new Tc(s,n||fp(),i||null,o)}class Fi{static THROW_IF_NOT_FOUND=Cc;static NULL=new up;static create(n,e){if(Array.isArray(n))return cS({name:""},e,n,"");{const i=n.name??"";return cS({name:i},n.parent,n.providers,i)}}static \u0275prov=Te({token:Fi,providedIn:"any",factory:()=>Zt(bb)});static __NG_ELEMENT_ID__=-1}const Un=new Qe("");let wr=(()=>class t{static __NG_ELEMENT_ID__=gj;static __NG_ENV_ID__=e=>e})();class hS extends wr{_lView;constructor(n){super(),this._lView=n}get destroyed(){return D0(this._lView)}onDestroy(n){const e=this._lView;return Tp(e,n),()=>W8(e,n)}}function gj(){return new hS(Ue())}class gd{_console=console;handleError(n){this._console.error("ERROR",n)}}const M1=new Qe("",{providedIn:"root",factory:()=>{const t=M(cs);let n;return e=>{t.destroyed&&!n?setTimeout(()=>{throw e}):(n??=t.get(gd),n.handleError(e))}}}),uS={provide:hl,useValue:()=>{M(gd)},multi:!0};function Ur(t,n){const[e,i,o]=Ps(t,n?.equal),s=e;return s.set=i,s.update=o,s.asReadonly=om.bind(s),s}function om(){const t=this[H];if(void 0===t.readonlyFn){const n=()=>this();n[H]=t,t.readonlyFn=n}return t.readonlyFn}function gS(t){return function _S(t){return"function"==typeof t&&void 0!==t[H]}(t)&&"function"==typeof t.set}class Ac{}const pS=new Qe("",{providedIn:"root",factory:()=>!1}),fS=new Qe(""),mS=new Qe("");let sm=(()=>class t{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=fj})();function fj(){return new sm(Ue(),Sn())}let fl=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Qn(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Jt(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Te({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ep=(()=>{class t{internalPendingTasks=M(fl);scheduler=M(Ac);errorHandler=M(M1);add(){const e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){const i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=Te({token:t,providedIn:"root",factory:()=>new t})}return t})();function kh(...t){}let vS=(()=>{class t{static \u0275prov=Te({token:t,providedIn:"root",factory:()=>new mj})}return t})();class mj{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){const i=this.queues.get(n.zone);i.has(n)&&(i.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){const e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);const i=this.queues.get(e);i.has(n)||i.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(const[e,i]of this.queues)n||=null===e?this.flushQueue(i):e.run(()=>this.flushQueue(i));n||(this.dirtyEffectCount=0)}}flushQueue(n){let e=!1;for(const i of n)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}}function CS(t,n,e,i,o,s,r){try{var a=t[s](r),l=a.value}catch(c){return void e(c)}a.done?n(l):Promise.resolve(l).then(i,o)}function je(t){return function(){var n=this,e=arguments;return new Promise(function(i,o){var s=t.apply(n,e);function r(l){CS(s,i,o,r,a,"next",l)}function a(l){CS(s,i,o,r,a,"throw",l)}r(void 0)})}}function MS(t){return It(t?.lift)}function uo(t){return n=>{if(MS(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function $i(t,n,e,i,o){return new vj(t,n,e,i,o)}class vj extends ot{constructor(n,e,i,o,s,r){super(n),this.onFinalize=s,this.shouldUnsubscribe=r,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function bt(t,n){return uo((e,i)=>{let o=0;e.subscribe($i(i,s=>{i.next(t.call(n,s,o++))}))})}function R0(t){return{toString:t}.toString()}class Pj{previousValue;currentValue;firstChange;constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function bS(t,n,e,i){null!==n?n.applyValueToInputSignal(n,i):t[e]=i}const Di=(()=>{const t=()=>SS;return t.ngInherit=!0,t})();function SS(t){return t.type.prototype.ngOnChanges&&(t.setInput=Lj),Ij}function Ij(){const t=OS(this),n=t?.current;if(n){const e=t.previous;if(e===j1)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function Lj(t,n,e,i,o){const s=this.declaredInputs[i],r=OS(t)||function Rj(t,n){return t[ES]=n}(t,{previous:j1,current:null}),a=r.current||(r.current={}),l=r.previous,c=l[s];a[s]=new Pj(c&&c.currentValue,e,l===j1),bS(t,n,o,e)}const ES="__ngSimpleChanges__";function OS(t){return t[ES]||null}const Nc=[],ki=function(t,n=null,e){for(let i=0;i<Nc.length;i++)(0,Nc[i])(t,n,e)};function AS(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=s;r&&(t.contentHooks??=[]).push(-e,r),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),null!=h&&(t.destroyHooks??=[]).push(e,h)}}function Ap(t,n,e){NS(t,n,3,e)}function Np(t,n,e,i){(3&t[2])===e&&NS(t,n,e,i)}function lm(t,n){let e=t[2];(3&e)===n&&(e&=16383,e+=1,t[2]=e)}function NS(t,n,e,i){const s=i??-1,r=n.length-1;let a=0;for(let l=void 0!==i?65535&t[17]:0;l<r;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(t[17]+=65536),(a<s||-1==s)&&(Vj(t,e,n,l),t[17]=(4294901760&t[17])+l+2),l++}function DS(t,n){ki(4,t,n);const e=U(null);try{n.call(t)}finally{U(e),ki(5,t,n)}}function Vj(t,n,e,i){const o=e[i]<0,s=e[i+1],a=t[o?-e[i]:e[i]];o?t[2]>>14<t[17]>>16&&(3&t[2])===n&&(t[2]+=16384,DS(a,s)):DS(a,s)}class Vh{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,i,o){this.factory=n,this.name=o,this.canSeeViewProviders=e,this.injectImpl=i}}function PS(t){return 3===t||4===t||6===t}function IS(t){return 64===t.charCodeAt(0)}function Md(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const o=n[i];"number"==typeof o?e=o:0===e||LS(t,e,o,0,-1===e||2===e?n[++i]:null)}}return t}function LS(t,n,e,i,o){let s=0,r=t.length;if(-1===n)r=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===n){r=-1;break}if(a>n){r=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===e)return void(null!==o&&(t[s+1]=o));s++,null!==o&&s++}-1!==r&&(t.splice(r,0,n),s=r+1),t.splice(s++,0,e),null!==o&&t.splice(s++,0,o)}function dm(t){return-1!==t}function Hh(t){return 32767&t}function Gh(t,n){let e=function Bj(t){return t>>16}(t),i=n;for(;e>0;)i=i[14],e--;return i}let hm=!0;function Dp(t){const n=hm;return hm=t,n}let Uj=0;const W1={};function yp(t,n){const e=FS(t,n);if(-1!==e)return e;const i=n[1];i.firstCreatePass&&(t.injectorIndex=n.length,um(i.data,t),um(n,null),um(i.blueprint,null));const o=Pp(t,n),s=t.injectorIndex;if(dm(o)){const r=Hh(o),a=Gh(o,n),l=a[1].data;for(let c=0;c<8;c++)n[s+c]=a[r+c]|l[r+c]}return n[s+8]=o,s}function um(t,n){t.push(0,0,0,0,0,0,0,0,n)}function FS(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Pp(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,o=n;for(;null!==o;){if(i=BS(o),null===i)return-1;if(e++,o=o[14],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function _m(t,n,e){!function jj(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Oh)&&(i=e[Oh]),null==i&&(i=e[Oh]=Uj++);const o=255&i;n.data[t+(o>>5)]|=1<<o}(t,n,e)}function kS(t,n,e){if(8&e||void 0!==t)return t;A8()}function zS(t,n,e,i){if(8&e&&void 0===i&&(i=null),!(3&e)){const o=t[9],s=Gr(void 0);try{return o?o.get(n,i,8&e):vb(n,i,8&e)}finally{Gr(s)}}return kS(i,0,e)}function VS(t,n,e,i=0,o){if(null!==t){if(2048&n[2]&&!(2&i)){const r=function qj(t,n,e,i,o){let s=t,r=n;for(;null!==s&&null!==r&&2048&r[2]&&!pl(r);){const a=HS(s,r,e,2|i,W1);if(a!==W1)return a;let l=s.parent;if(!l){const c=r[20];if(c){const h=c.get(e,W1,i);if(h!==W1)return h}l=BS(r),r=r[14]}s=l}return o}(t,n,e,i,W1);if(r!==W1)return r}const s=HS(t,n,e,i,W1);if(s!==W1)return s}return zS(n,e,i,o)}function HS(t,n,e,i,o){const s=function Xj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Oh)?t[Oh]:void 0;return"number"==typeof n?n>=0?255&n:Kj:n}(e);if("function"==typeof s){if(!nS(n,t,i))return 1&i?kS(o,0,i):zS(n,e,i,o);try{let r;if(r=s(i),null!=r||8&i)return r;A8()}finally{rS()}}else if("number"==typeof s){let r=null,a=FS(t,n),l=-1,c=1&i?n[15][5]:null;for((-1===a||4&i)&&(l=-1===a?Pp(t,n):n[a+8],-1!==l&&$S(i,!1)?(r=n[1],a=Hh(l),n=Gh(l,n)):a=-1);-1!==a;){const h=n[1];if(GS(s,a,h.data)){const g=Wj(a,n,e,r,i,c);if(g!==W1)return g}l=n[a+8],-1!==l&&$S(i,n[1].data[a+8]===c)&&GS(s,a,n)?(r=h,a=Hh(l),n=Gh(l,n)):a=-1}}return o}function Wj(t,n,e,i,o,s){const r=n[1],a=r.data[t+8],h=Ip(a,r,e,null==i?N0(a)&&hm:i!=r&&!!(3&a.type),1&o&&s===a);return null!==h?$h(n,r,h,a,o):W1}function Ip(t,n,e,i,o){const s=t.providerIndexes,r=n.data,a=1048575&s,l=t.directiveStart,h=s>>20,f=o?a+h:t.directiveEnd;for(let v=i?a:a+h;v<f;v++){const C=r[v];if(v<l&&e===C||v>=l&&C.type===e)return v}if(o){const v=r[l];if(v&&va(v)&&v.type===e)return l}return null}function $h(t,n,e,i,o){let s=t[e];const r=n.data;if(s instanceof Vh){const a=s;if(a.resolving)throw function hi(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():En(t)}(r[e]),O8();const l=Dp(a.canSeeViewProviders);a.resolving=!0;const g=a.injectImpl?Gr(a.injectImpl):null;nS(t,i,0);try{s=t[e]=a.factory(void 0,o,r,t,i),n.firstCreatePass&&e>=i.directiveStart&&function zj(t,n,e){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:s}=n.type.prototype;if(i){const r=SS(n);(e.preOrderHooks??=[]).push(t,r),(e.preOrderCheckHooks??=[]).push(t,r)}o&&(e.preOrderHooks??=[]).push(0-t,o),s&&((e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s))}(e,r[e],n)}finally{null!==g&&Gr(g),Dp(l),a.resolving=!1,rS()}}return s}function GS(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function $S(t,n){return!(2&t||1&t&&n)}class xo{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return VS(this._tNode,this._lView,n,Nh(i),e)}}function Kj(){return new xo(Sn(),Ue())}function an(t){return R0(()=>{const n=t.prototype.constructor,e=n[vc]||gm(n),i=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==i;){const s=o[vc]||gm(o);if(s&&s!==e)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function gm(t){return op(t)?()=>{const n=gm(Fn(t));return n&&n()}:Mc(t)}function BS(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[5]:null}function T1(t){return function Zj(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let o=0;for(;o<i;){const s=e[o];if(PS(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<i&&"string"==typeof e[o];)o++;else{if(s===n)return e[o+1];o+=2}}}return null}(Sn(),t)}function oZ(){return Td(Sn(),Ue())}function Td(t,n){return new fn(hs(t,n))}let fn=(()=>class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=oZ})();function XS(t){return t instanceof fn?t.nativeElement:t}function sZ(){return this._results[Symbol.iterator]()}class rZ{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Be}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const i=function Xa(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function HU(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let o=t[i],s=n[i];if(e&&(o=e(o),s=e(s)),s!==o)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=sZ}function Bh(t){return!(128&~t.flags)}var Rp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Rp||{});const xp=new Map;let cZ=0;function mm(t){xp.delete(t[19])}const Cm="__ngContext__";function Zr(t,n){Eo(n)?(t[Cm]=n[19],function hZ(t){xp.set(t[19],t)}(n)):t[Cm]=n}function sE(t){return aE(t[12])}function rE(t){return aE(t[4])}function aE(t){for(;null!==t&&!Cr(t);)t=t[4];return t}let Mm;function vl(){if(void 0!==Mm)return Mm;if(typeof document<"u")return document;throw new De(210,!1)}const wd=new Qe("",{providedIn:"root",factory:()=>LZ}),LZ="ng",gE=new Qe(""),x0=new Qe("",{providedIn:"platform",factory:()=>"unknown"}),pE=new Qe("",{providedIn:"root",factory:()=>vl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),GZ=new Qe("",{providedIn:"root",factory:()=>!1}),BZ=new Qe(""),jZ=new Qe(""),Ed=new WeakMap;let Od=null,Am=0;class Nm{callbacks=new Set;listener=()=>{for(const n of this.callbacks)n()}}const Cl=new Qe("");function Hp(t){return!(32&~t.flags)}function HE(t,n){const e=t.contentQueries;if(null!==e){const i=U(null);try{for(let o=0;o<e.length;o+=2){const r=e[o+1];if(-1!==r){const a=t.data[r];bp(e[o]),a.contentQueries(2,n[r],r)}}}finally{U(i)}}}function km(t,n,e){bp(0);const i=U(null);try{n(t,e)}finally{U(i)}}function zm(t,n,e){if(Ib(n)){const i=U(null);try{const s=n.directiveEnd;for(let r=n.directiveStart;r<s;r++){const a=t.data[r];a.contentQueries&&a.contentQueries(1,e[r],r)}}finally{U(i)}}}var F0=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(F0||{});let jp,Zp;function Ad(t){return function GE(){if(void 0===jp&&(jp=null,Lo.trustedTypes))try{jp=Lo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jp}()?.createHTML(t)||t}function Vm(){if(void 0===Zp&&(Zp=null,Lo.trustedTypes))try{Zp=Lo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zp}function $E(t){return Vm()?.createHTML(t)||t}function UE(t){return Vm()?.createScriptURL(t)||t}class yc{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ls})`}}class mW extends yc{getTypeName(){return"HTML"}}class vW extends yc{getTypeName(){return"Style"}}class CW extends yc{getTypeName(){return"Script"}}class MW extends yc{getTypeName(){return"URL"}}class TW extends yc{getTypeName(){return"ResourceURL"}}function Ca(t){return t instanceof yc?t.changingThisBreaksApplicationSecurity:t}function X1(t,n){const e=function wW(t){return t instanceof yc&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${ls})`)}return e===n}function jE(t){const n=new DW(t);return function yW(){try{return!!(new window.DOMParser).parseFromString(Ad(""),"text/html")}catch{return!1}}()?new NW(n):n}class NW{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Ad(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}}class DW{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=Ad(n),e}}const PW=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wp(t){return(t=String(t)).match(PW)?t:"unsafe:"+t}function k0(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Wh(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const ZE=k0("area,br,col,hr,img,wbr"),WE=k0("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XE=k0("rp,rt"),Hm=Wh(ZE,Wh(WE,k0("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wh(XE,k0("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wh(XE,WE)),Gm=k0("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KE=Wh(Gm,k0("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),k0("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),IW=k0("script,style,template");class LW{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let e=n.firstChild,i=!0,o=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)o.push(e),e=FW(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=xW(e);if(s){e=s;break}e=o.pop()}return this.buf.join("")}startElement(n){const e=qE(n).toLowerCase();if(!Hm.hasOwnProperty(e))return this.sanitizedSomething=!0,!IW.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let o=0;o<i.length;o++){const s=i.item(o),r=s.name,a=r.toLowerCase();if(!KE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Gm[a]&&(l=Wp(l)),this.buf.push(" ",r,'="',QE(l),'"')}return this.buf.push(">"),!0}endElement(n){const e=qE(n).toLowerCase();Hm.hasOwnProperty(e)&&!ZE.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(QE(n))}}function xW(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw YE(n);return n}function FW(t){const n=t.firstChild;if(n&&function RW(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw YE(n);return n}function qE(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function YE(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const kW=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zW=/([^\#-~ |!])/g;function QE(t){return t.replace(/&/g,"&amp;").replace(kW,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(zW,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xp;function JE(t,n){let e=null;try{Xp=Xp||jE(t);let i=n?String(n):"";e=Xp.getInertBodyElement(i);let o=5,s=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=s,s=e.innerHTML,e=Xp.getInertBodyElement(i)}while(i!==s);return Ad((new LW).sanitizeChildren($m(e)||e))}finally{if(e){const i=$m(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function $m(t){return"content"in t&&function VW(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ya=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ya||{});function Fo(t){const n=Kh();return n?$E(n.sanitize(Ya.HTML,t)||""):X1(t,"HTML")?$E(Ca(t)):JE(vl(),En(t))}function Bm(t){const n=Kh();return n?n.sanitize(Ya.STYLE,t)||"":X1(t,"Style")?Ca(t):En(t)}function Ts(t){const n=Kh();return n?n.sanitize(Ya.URL,t)||"":X1(t,"URL")?Ca(t):Wp(En(t))}function Xh(t){const n=Kh();if(n)return UE(n.sanitize(Ya.RESOURCE_URL,t)||"");if(X1(t,"ResourceURL"))return UE(Ca(t));throw new De(904,!1)}function eO(t,n,e){return function BW(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Xh:Ts}(n,e)(t)}function Kh(){const t=Ue();return t&&t[10].sanitizer}const UW=/^>|^->|<!--|-->|--!>|<!-$/g,jW=/(<|>)/g;function K1(t){return t.ownerDocument.defaultView}function qh(t){return t.ownerDocument}function q1(t){return t instanceof Function?t():t}function nX(t,n,e){let i=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const s=n.length;if(o+s===i||t.charCodeAt(o+s)<=32)return o}e=o+1}}const cO="ng-template";function iX(t,n,e,i){let o=0;if(i){for(;o<n.length&&"string"==typeof n[o];o+=2)if("class"===n[o]&&-1!==nX(n[o+1].toLowerCase(),e,0))return!0}else if(Zm(t))return!1;if(o=n.indexOf(1,o),o>-1){let s;for(;++o<n.length&&"string"==typeof(s=n[o]);)if(s.toLowerCase()===e)return!0}return!1}function Zm(t){return 4===t.type&&t.value!==cO}function oX(t,n,e){return n===(4!==t.type||e?t.value:cO)}function sX(t,n,e){let i=4;const o=t.attrs,s=null!==o?function lX(t){for(let n=0;n<t.length;n++)if(PS(t[n]))return n;return t.length}(o):0;let r=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!r)if(4&i){if(i=2|1&i,""!==l&&!oX(t,l,e)||""===l&&1===n.length){if(w1(i))return!1;r=!0}}else if(8&i){if(null===o||!iX(t,o,l,e)){if(w1(i))return!1;r=!0}}else{const c=n[++a],h=rX(l,o,Zm(t),e);if(-1===h){if(w1(i))return!1;r=!0;continue}if(""!==c){let g;if(g=h>s?"":o[h+1].toLowerCase(),2&i&&c!==g){if(w1(i))return!1;r=!0}}}}else{if(!r&&!w1(i)&&!w1(l))return!1;if(r&&w1(l))continue;r=!1,i=l|1&i}}return w1(i)||r}function w1(t){return!(1&t)}function rX(t,n,e,i){if(null===n)return-1;let o=0;if(i||!e){let s=!1;for(;o<n.length;){const r=n[o];if(r===t)return o;if(3===r||6===r)s=!0;else{if(1===r||2===r){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===r)break;if(0===r){o+=4;continue}}o+=s?1:2}return-1}return function cX(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function dO(t,n,e=!1){for(let i=0;i<n.length;i++)if(sX(t,n[i],e))return!0;return!1}function dX(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let o=0;o<t.length;o++)if(t[o]!==i[o])continue e;return!0}}return!1}function hO(t,n){return t?":not("+n.trim()+")":n}function hX(t){let n=t[0],e=1,i=2,o="",s=!1;for(;e<t.length;){let r=t[e];if("string"==typeof r)if(2&i){const a=t[++e];o+="["+r+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?o+="."+r:4&i&&(o+=" "+r);else""!==o&&!w1(r)&&(n+=hO(s,o),o=""),i=r,s=s||!w1(i);e++}return""!==o&&(n+=hO(s,o)),n}const Bi={};function Wm(t,n){return t.createText(n)}function uO(t,n,e){t.setValue(n,e)}function Xm(t,n){return t.createComment(function tO(t){return t.replace(UW,n=>n.replace(jW,"\u200b$1\u200b"))}(n))}function Yp(t,n,e){return t.createElement(n,e)}function Pc(t,n,e,i,o){t.insertBefore(n,e,i,o)}function _O(t,n,e){t.appendChild(n,e)}function gO(t,n,e,i,o){null!==i?Pc(t,n,e,i,o):_O(t,n,e)}function Yh(t,n,e){t.removeChild(null,n,e)}function fO(t,n,e){const{mergedAttrs:i,classes:o,styles:s}=e;null!==i&&function $j(t,n,e){let i=0;for(;i<e.length;){const o=e[i];if("number"==typeof o){if(0!==o)break;i++;const s=e[i++],r=e[i++],a=e[i++];t.setAttribute(n,r,a,s)}else{const s=o,r=e[++i];IS(s)?t.setProperty(n,s,r):t.setAttribute(n,s,r),i++}}}(t,n,i),null!==o&&function pX(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}(t,n,o),null!==s&&function gX(t,n,e){t.setAttribute(n,"style",e)}(t,n,s)}function Km(t,n,e,i,o,s,r,a,l,c,h){const g=26+i,f=g+o,v=function fX(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:Bi);return e}(g,f),C="function"==typeof c?c():c;return v[1]={type:t,blueprint:v,template:e,queries:null,viewQuery:a,declTNode:n,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:h}}function Qp(t,n,e,i,o,s,r,a,l,c,h){const g=n.blueprint.slice();return g[0]=o,g[2]=1228|i,(null!==c||t&&2048&t[2])&&(g[2]|=2048),zb(g),g[3]=g[14]=t,g[8]=e,g[10]=r||t&&t[10],g[11]=a||t&&t[11],g[9]=l||t&&t[9]||null,g[5]=s,g[19]=function dZ(){return cZ++}(),g[6]=h,g[20]=c,g[15]=2==n.type?t[15]:g,g}function qm(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function Qh(t,n,e,i){if(0===e)return-1;const o=n.length;for(let s=0;s<e;s++)n.push(i),t.blueprint.push(i),t.data.push(null);return o}function Ym(t,n){return t[12]?t[13][4]=n:t[12]=n,t[13]=n,n}function _(t=1){vO(On(),Ue(),Hs()+t,!1)}function vO(t,n,e,i){if(!i)if(3&~n[2]){const s=t.preOrderHooks;null!==s&&Np(n,s,0,e)}else{const s=t.preOrderCheckHooks;null!==s&&Ap(n,s,e)}Oc(e)}var Jp=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Jp||{});function Jh(t,n,e,i){const o=U(null);try{const[s,r,a]=t.inputs[e];let l=null;0!==(r&Jp.SignalBased)&&(l=n[s][H]),null!==l&&void 0!==l.transformFn?i=l.transformFn(i):null!==a&&(i=a.call(n,i)),null!==t.setInput?t.setInput(n,l,i,e,s):bS(n,l,s,i)}finally{U(o)}}var Ml=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ml||{});let Qm;function Jm(t,n){return Qm(t,n)}function Dd(t,n,e,i,o){if(null!=i){let s,r=!1;Cr(i)?s=i:Eo(i)&&(r=!0,i=i[0]);const a=Rs(i);0===t&&null!==e?null==o?_O(n,e,a):Pc(n,e,a,o||null,!0):1===t&&null!==e?Pc(n,e,a,o||null,!0):2===t?Yh(n,a,r):3===t&&n.destroyNode(a),null!=s&&function SX(t,n,e,i,o){const s=e[7];s!==Rs(e)&&Dd(n,t,i,s,o);for(let a=10;a<e.length;a++){const l=e[a];tf(l[1],l,t,n,i,s)}}(n,t,s,e,o)}}function MO(t,n){n[10].changeDetectionScheduler?.notify(9),tf(t,n,n[11],2,null,null)}function e7(t,n){const e=t[9],i=e.indexOf(n);e.splice(i,1)}function eu(t,n){if(D0(n))return;const e=n[11];e.destroyNode&&tf(t,n,e,3,null,null),function MX(t){let n=t[12];if(!n)return t7(t[1],t);for(;n;){let e=null;if(Eo(n))e=n[12];else{const i=n[10];i&&(e=i)}if(!e){for(;n&&!n[4]&&n!==t;)Eo(n)&&t7(n[1],n),n=n[3];null===n&&(n=t),Eo(n)&&t7(n[1],n),e=n&&n[4]}n=e}}(n)}function t7(t,n){if(D0(n))return;const e=U(null);try{n[2]&=-129,n[2]|=256,n[24]&&Ze(n[24]),function wX(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const o=n[e[i]];if(!(o instanceof Vh)){const s=e[i+1];if(Array.isArray(s))for(let r=0;r<s.length;r+=2){const a=o[s[r]],l=s[r+1];ki(4,a,l);try{l.call(a)}finally{ki(5,a,l)}}else{ki(4,o,s);try{s.call(o)}finally{ki(5,o,s)}}}}}(t,n),function TX(t,n){const e=t.cleanup,i=n[7];if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const a=e[r+3];a>=0?i[a]():i[-a].unsubscribe(),r+=2}else e[r].call(i[e[r+1]]);null!==i&&(n[7]=null);const o=n[21];if(null!==o){n[21]=null;for(let r=0;r<o.length;r++)(0,o[r])()}const s=n[23];if(null!==s){n[23]=null;for(const r of s)r.destroy()}}(t,n),1===n[1].type&&n[11].destroy();const i=n[16];if(null!==i&&Cr(n[3])){i!==n[3]&&e7(i,n);const o=n[18];null!==o&&o.detachView(t)}mm(n)}finally{U(e)}}function n7(t,n,e){return TO(t,n.parent,e)}function TO(t,n,e){let i=n;for(;null!==i&&168&i.type;)i=(n=i).parent;if(null===i)return e[0];if(N0(i)){const{encapsulation:o}=t.data[i.directiveStart+i.componentOffset];if(o===F0.None||o===F0.Emulated)return null}return hs(i,e)}function wO(t,n,e){return SO(t,n,e)}function bO(t,n,e){return 40&t.type?hs(t,e):null}let i7,SO=bO;function EO(t,n){SO=t,i7=n}function o7(t,n,e,i){const o=n7(t,i,n),s=n[11],a=wO(i.parent||n[5],i,n);if(null!=o)if(Array.isArray(e))for(let l=0;l<e.length;l++)gO(s,o,e[l],a,!1);else gO(s,o,e,a,!1);void 0!==i7&&i7(s,i,n,e,o)}function Ic(t,n){if(null!==n){const e=n.type;if(3&e)return hs(n,t);if(4&e)return ef(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return Ic(t,i);{const o=t[n.index];return Cr(o)?ef(-1,o):Rs(o)}}if(128&e)return Ic(t,n.next);if(32&e)return Jm(n,t)()||Rs(t[n.index]);{const i=OO(t,n);return null!==i?Array.isArray(i)?i[0]:Ic(y0(t[15]),i):Ic(t,n.next)}}return null}function OO(t,n){return null!==n?t[15][5].projection[n.projection]:null}function ef(t,n){const e=10+t+1;if(e<n.length){const i=n[e],o=i[1].firstChild;if(null!==o)return Ic(i,o)}return n[7]}function s7(t,n,e,i,o,s,r){for(;null!=e;){if(128===e.type){e=e.next;continue}const a=i[e.index],l=e.type;if(r&&0===n&&(a&&Zr(Rs(a),i),e.flags|=2),!Hp(e))if(8&l)s7(t,n,e.child,i,o,s,!1),Dd(n,t,o,a,s);else if(32&l){const c=Jm(e,i);let h;for(;h=c();)Dd(n,t,o,h,s);Dd(n,t,o,a,s)}else 16&l?AO(t,n,i,e,o,s):Dd(n,t,o,a,s);e=r?e.projectionNext:e.next}}function tf(t,n,e,i,o,s){s7(e,i,t.firstChild,n,o,s,!1)}function AO(t,n,e,i,o,s){const r=e[15],l=r[5].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Dd(n,t,o,l[c],s);else{let c=l;const h=r[3];Bh(i)&&(c.flags|=128),s7(t,n,c,h,o,s,!0)}}function NO(t,n,e,i,o){const s=Hs(),r=2&i;try{Oc(-1),r&&n.length>26&&vO(t,n,26,!1),ki(r?2:0,o,e),e(i,o)}finally{Oc(s),ki(r?3:1,o,e)}}function nf(t,n,e){(function yX(t,n,e){const i=e.directiveStart,o=e.directiveEnd;N0(e)&&function mX(t,n,e){const i=hs(n,t),o=function mO(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Km(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}(e),s=t[10].rendererFactory,r=Ym(t,Qp(t,o,null,qm(e),i,n,null,s.createRenderer(i,e),null,null,null));t[n.index]=r}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||yp(e,n);const s=e.initialInputs;for(let r=i;r<o;r++){const a=t.data[r],l=$h(n,t,r,e);Zr(l,n),null!==s&&RX(0,r-i,l,a,0,s),va(a)&&(Mr(e.index,n)[8]=$h(n,t,r,e))}})(t,n,e),!(64&~e.flags)&&function PX(t,n,e){const i=e.directiveStart,o=e.directiveEnd,s=e.index,r=function aj(){return bn.lFrame.currentDirectiveIndex}();try{Oc(s);for(let a=i;a<o;a++){const l=t.data[a],c=n[a];Y8(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&IX(l,c)}}finally{Oc(-1),Y8(r)}}(t,n,e)}function yd(t,n,e=hs){const i=n.localNames;if(null!==i){let o=n.index+1;for(let s=0;s<i.length;s+=2){const r=i[s+1],a=-1===r?e(n,t):t[r];t[o++]=a}}}let DO=()=>null;function r7(t,n,e,i,o,s){lf(t,n[1],n,e,i)?N0(t)&&yO(n,t.index):(3&t.type&&(e=function DX(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(e)),a7(t,n,e,i,o,s))}function a7(t,n,e,i,o,s){if(3&t.type){const r=hs(t,n);i=null!=s?s(i,t.value||"",e):i,o.setProperty(r,e,i)}}function yO(t,n){const e=Mr(n,t);16&e[2]||(e[2]|=64)}function IX(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function l7(t,n){const e=t.directiveRegistry;let i=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];dO(n,s.selectors,!1)&&(i??=[],va(s)?i.unshift(s):i.push(s))}return i}function sf(t,n,e,i,o,s,r){if(null==s)t.removeAttribute(n,o,e);else{const a=null==r?En(s):r(s,i||"",o);t.setAttribute(n,o,a,e)}}function RX(t,n,e,i,o,s){const r=s[n];if(null!==r)for(let a=0;a<r.length;a+=2)Jh(i,e,r[a],r[a+1])}function rf(t,n,e,i,o){const s=26+e,r=n[1],a=o(r,n,t,i,e);n[s]=a,P0(t,!0);const l=2===t.type;return l?(fO(n[11],a,t),(0===function tj(){return bn.lFrame.elementDepthCount}()||cd(t))&&Zr(a,n),function nj(){bn.lFrame.elementDepthCount++}()):Zr(a,n),Sp()&&(!l||!Hp(t))&&o7(r,n,a,t),t}function af(t){let n=t;return Kb()?qb():(n=n.parent,P0(n,!1)),n}function c7(t,n){const e=t[9];if(!e)return;let i;try{i=e.get(M1,null)}catch{i=null}i?.(n)}function lf(t,n,e,i,o){const s=t.inputs?.[i],r=t.hostDirectiveInputs?.[i];let a=!1;if(r)for(let l=0;l<r.length;l+=2){const c=r[l];Jh(n.data[c],e[c],r[l+1],o),a=!0}if(s)for(const l of s)Jh(n.data[l],e[l],i,o),a=!0;return a}function FX(t,n){const e=Mr(n,t),i=e[1];!function kX(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(i,e);const o=e[0];null!==o&&null===e[6]&&(e[6]=null),ki(18),cf(i,e,e[8]),ki(19,e[8])}function cf(t,n,e){em(n);try{const i=t.viewQuery;null!==i&&km(1,i,e);const o=t.template;null!==o&&NO(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[18]?.finishViewCreation(t),t.staticContentQueries&&HE(t,n),t.staticViewQueries&&km(2,t.viewQuery,e);const s=t.components;null!==s&&function zX(t,n){for(let e=0;e<n.length;e++)FX(t,n[e])}(n,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[2]&=-5,tm()}}function Pd(t,n,e,i){const o=U(null);try{const s=n.tView,l=Qp(t,s,e,4096&t[2]?4096:16,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);l[16]=t[n.index];const h=t[18];return null!==h&&(l[18]=h.createEmbeddedView(s)),cf(s,l,e),l}finally{U(o)}}function Lc(t,n){return!n||null===n.firstChild||Bh(t)}function tu(t,n,e,i,o=!1){for(;null!==e;){if(128===e.type){e=o?e.projectionNext:e.next;continue}const s=n[e.index];null!==s&&i.push(Rs(s)),Cr(s)&&HX(s,i);const r=e.type;if(8&r)tu(t,n,e.child,i);else if(32&r){const a=Jm(e,n);let l;for(;l=a();)i.push(l)}else if(16&r){const a=OO(n,e);if(Array.isArray(a))i.push(...a);else{const l=y0(n[15]);tu(l[1],l,a,i,!0)}}e=o?e.projectionNext:e.next}return i}function HX(t,n){for(let e=10;e<t.length;e++){const i=t[e],o=i[1].firstChild;null!==o&&tu(i[1],i,o,n)}t[7]!==t[0]&&n.push(t[7])}function RO(t){if(null!==t[25]){for(const n of t[25])n.impl.addSequence(n);t[25].length=0}}let xO=[];const UX={...K,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ud(t.lView)},consumerOnSignalRead(){this.lView[24]=this}},ZX={...K,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=y0(t.lView);for(;n&&!FO(n[1]);)n=y0(n);n&&Vb(n)},consumerOnSignalRead(){this.lView[24]=this}};function FO(t){return 2!==t.type}function kO(t){if(null===t[23])return;let n=!0;for(;n;){let e=!1;for(const i of t[23])i.dirty&&(e=!0,null===i.zone||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=e&&!!(8192&t[2])}}function df(t,n=0){const i=t[10].rendererFactory;i.begin?.();try{!function XX(t,n){const e=Jb();try{wp(!0),d7(t,n);let i=0;for(;Mp(t);){if(100===i)throw new De(103,!1);i++,d7(t,1)}}finally{wp(e)}}(t,n)}finally{i.end?.()}}function zO(t,n,e,i){if(D0(n))return;const o=n[2];em(n);let a=!0,l=null,c=null;FO(t)?(c=function GX(t){return t[24]??function $X(t){const n=xO.pop()??Object.create(UX);return n.lView=t,n}(t)}(n),l=Ie(c)):null===function ie(){return X}()?(a=!1,c=function jX(t){const n=t[24]??Object.create(ZX);return n.lView=t,n}(n),l=Ie(c)):n[24]&&(Ze(n[24]),n[24]=null);try{zb(n),function eS(t){return bn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&NO(t,n,e,2,i);const h=!(3&~o);if(h){const v=t.preOrderCheckHooks;null!==v&&Ap(n,v,null)}else{const v=t.preOrderHooks;null!==v&&Np(n,v,0,null),lm(n,0)}if(function qX(t){for(let n=sE(t);null!==n;n=rE(n)){if(!(2&n[2]))continue;const e=n[9];for(let i=0;i<e.length;i++)Vb(e[i])}}(n),kO(n),VO(n,0),null!==t.contentQueries&&HE(t,n),h){const v=t.contentCheckHooks;null!==v&&Ap(n,v)}else{const v=t.contentHooks;null!==v&&Np(n,v,1),lm(n,1)}!function QX(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const o=e[i];if(o<0)Oc(~o);else{const s=o,r=e[++i],a=e[++i];rj(r,s);const l=n[s];ki(24,l),a(2,l),ki(25,l)}}}finally{Oc(-1)}}(t,n);const g=t.components;null!==g&&GO(n,g,0);const f=t.viewQuery;if(null!==f&&km(2,f,i),h){const v=t.viewCheckHooks;null!==v&&Ap(n,v)}else{const v=t.viewHooks;null!==v&&Np(n,v,2),lm(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[22]){for(const v of n[22])v();n[22]=null}RO(n),n[2]&=-73}catch(h){throw ud(n),h}finally{null!==c&&(dt(c,l),a&&function BX(t){t.lView[24]!==t&&(t.lView=null,xO.push(t))}(c)),tm()}}function VO(t,n){for(let e=sE(t);null!==e;e=rE(e))for(let i=10;i<e.length;i++)HO(e[i],n)}function YX(t,n,e){ki(18);const i=Mr(n,t);HO(i,e),ki(19,i[8])}function HO(t,n){j8(t)&&d7(t,n)}function d7(t,n){const i=t[1],o=t[2],s=t[24];let r=!!(0===n&&16&o);if(r||=!!(64&o&&0===n),r||=!!(1024&o),r||=!(!s?.dirty||!nt(s)),r||=!1,s&&(s.dirty=!1),t[2]&=-9217,r)zO(i,t,i.template,t[8]);else if(8192&o){const a=U(null);try{kO(t),VO(t,1);const l=i.components;null!==l&&GO(t,l,1),RO(t)}finally{U(a)}}}function GO(t,n,e){for(let i=0;i<n.length;i++)YX(t,n[i],e)}function Id(t,n){const e=Jb()?64:1088;for(t[10].changeDetectionScheduler?.notify(n);t;){t[2]|=e;const i=y0(t);if(pl(t)&&!i)return t;t=i}return null}function $O(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function BO(t,n){const e=10+n;if(e<t.length)return t[e]}function Ld(t,n,e,i=!0){const o=n[1];if(function JX(t,n,e,i){const o=10+i,s=e.length;i>0&&(e[o-1][4]=n),i<s-10?(n[4]=e[o],Mb(e,10+i,n)):(e.push(n),n[4]=null),n[3]=e;const r=n[16];null!==r&&e!==r&&UO(r,n);const a=n[18];null!==a&&a.insertView(t),Z8(n),n[2]|=128}(o,n,t,e),i){const r=ef(e,t),a=n[11],l=a.parentNode(t[7]);null!==l&&function CX(t,n,e,i,o,s){i[0]=o,i[5]=n,tf(t,i,e,1,o,s)}(o,t[5],a,n,l,r)}const s=n[6];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function h7(t,n){const e=nu(t,n);return void 0!==e&&eu(e[1],e),e}function nu(t,n){if(t.length<=10)return;const e=10+n,i=t[e];if(i){const o=i[16];null!==o&&o!==t&&e7(o,i),n>0&&(t[e-1][4]=i[4]);const s=cp(t,10+n);!function CO(t,n){MO(t,n),n[0]=null,n[5]=null}(i[1],i);const r=s[18];null!==r&&r.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function UO(t,n){const e=t[9],i=n[3];(Eo(i)||n[15]!==i[3][15])&&(t[2]|=2),null===e?t[9]=[n]:e.push(n)}class iu{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const n=this._lView,e=n[1];return tu(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return D0(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Cr(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(nu(n,i),cp(e,i))}this._attachedToViewContainer=!1}eu(this._lView[1],this._lView)}onDestroy(n){Tp(this._lView,n)}markForCheck(){Id(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){Z8(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,df(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=pl(this._lView),e=this._lView[16];null!==e&&!n&&e7(e,this._lView),MO(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=n;const e=pl(this._lView),i=this._lView[16];null!==i&&!e&&UO(i,this._lView),Z8(this._lView)}}let dn=(()=>class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=eK;constructor(e,i,o){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,o){const s=Pd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:o});return new iu(s)}})();function eK(){return hf(Sn(),Ue())}function hf(t,n){return 4&t.type?new dn(n,t,Td(t,n)):null}function WO(t,n,e){const i=n.insertBeforeIndex,o=Array.isArray(i)?i[0]:i;return null===o?bO(t,0,e):Rs(e[o])}function XO(t,n,e,i,o){const s=n.insertBeforeIndex;if(Array.isArray(s)){let r=i,a=null;if(3&n.type||(a=r,r=o),null!==r&&-1===n.componentOffset)for(let l=1;l<s.length;l++)Pc(t,r,e[s[l]],a,!1)}}function Rc(t,n,e,i,o){let s=t.data[n];if(null===s)s=p7(t,n,e,i,o),function sj(){return bn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=o;const r=Rh();s.injectorIndex=null===r?-1:r.injectorIndex}return P0(s,!0),s}function p7(t,n,e,i,o){const s=Xb(),r=Kb(),l=t.data[n]=function cK(t,n,e,i,o,s){let r=n?n.injectorIndex:-1,a=0;return jb()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:r,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?s:s&&s.parent,e,n,i,o);return function lK(t,n,e,i){null===t.firstChild&&(t.firstChild=n),null!==e&&(i?null==e.child&&null!==n.parent&&(e.child=n):null===e.next&&(e.next=n,n.prev=e))}(t,l,s,r),l}function KO(t,n){if(t.push(n),t.length>1)for(let e=t.length-2;e>=0;e--){const i=t[e];qO(i)||dK(i,n)&&null===hK(i)&&uK(i,n.index)}}function qO(t){return!(64&t.type)}function dK(t,n){return qO(n)||t.index>n.index}function hK(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function uK(t,n){const e=t.insertBeforeIndex;Array.isArray(e)?e[0]=n:(EO(WO,XO),t.insertBeforeIndex=n)}function au(t,n){const e=t.data[n];return null===e||"string"==typeof e?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function pK(t,n,e){const i=p7(t,e,64,null,null);return KO(n,i),i}function _f(t,n){const e=n[t.currentCaseLViewIndex];return null===e?e:e<0?~e:e}function YO(t){return t>>>17}function QO(t){return(131070&t)>>>1}function f7(t,n,e){t.index=0;const i=_f(n,e);t.removes=null!==i?n.remove[i]:no}function gf(t){if(t.index<t.removes.length){const n=t.removes[t.index++];return n>0?t.lView[n]:(t.stack.push(t.index,t.removes),f7(t,t.lView[1].data[~n],t.lView),gf(t))}return 0===t.stack.length?null:(t.removes=t.stack.pop(),t.index=t.stack.pop(),gf(t))}function mK(){const t={stack:[],index:-1};return function n(e,i){for(t.lView=i;t.stack.length;)t.stack.pop();return f7(t,e.value,i),gf.bind(null,t)}}function cA(t,n){let e=0,i=t.firstChild;if(i){const o=t.data.r;for(;e<o;){const s=i.nextSibling;Yh(n,i,!1),i=s,e++}}}let jK=class{},pA=class{};class ZK{resolveComponentFactory(n){throw new De(917,!1)}}let Cf=class{static NULL=new ZK};class b1{}let S1=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function WK(){const t=Ue(),e=Mr(Sn().index,t);return(Eo(e)?e:t)[11]}()})(),XK=(()=>{class t{static \u0275prov=Te({token:t,providedIn:"root",factory:()=>null})}return t})();const b7={};class xd{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){const o=this.injector.get(n,b7,i);return o!==b7||e===b7?o:this.parentInjector.get(n,e,i)}}function Tf(t,n,e){let i=e?t.styles:null,o=e?t.classes:null,s=0;if(null!==n)for(let r=0;r<n.length;r++){const a=n[r];"number"==typeof a?s=a:1==s?o=M8(o,a):2==s&&(i=M8(i,a+": "+n[++r]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=o:t.classesWithoutHost=o}function Ve(t,n=0){const e=Ue();return null===e?Zt(t,n):VS(Sn(),e,Fn(t),n)}function vA(t,n,e,i,o){const s=null===i?null:{"":-1},r=o(t,e);if(null!==r){let a=r,l=null,c=null;for(const h of r)if(null!==h.resolveHostDirectives){[a,l,c]=h.resolveHostDirectives(r);break}!function eq(t,n,e,i,o,s,r){const a=i.length;let l=!1;for(let f=0;f<a;f++){const v=i[f];!l&&va(v)&&(l=!0,JK(t,e,f)),_m(yp(e,n),t,v.type)}!function rq(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,a);for(let f=0;f<a;f++){const v=i[f];v.providersResolver&&v.providersResolver(v)}let c=!1,h=!1,g=Qh(t,n,a,null);a>0&&(e.directiveToIndex=new Map);for(let f=0;f<a;f++){const v=i[f];if(e.mergedAttrs=Md(e.mergedAttrs,v.hostAttrs),nq(t,e,n,g,v),sq(g,v,o),null!==r&&r.has(v)){const[S,D]=r.get(v);e.directiveToIndex.set(v.type,[g,S+e.directiveStart,D+e.directiveStart])}else(null===s||!s.has(v))&&e.directiveToIndex.set(v.type,g);null!==v.contentQueries&&(e.flags|=4),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(e.flags|=64);const C=v.type.prototype;!c&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),h=!0),g++}!function tq(t,n,e){for(let i=n.directiveStart;i<n.directiveEnd;i++){const o=t.data[i];if(null!==e&&e.has(o)){const s=e.get(o);MA(0,n,s,i),MA(1,n,s,i),wA(n,i,!0)}else CA(0,n,o,i),CA(1,n,o,i),wA(n,i,!1)}}(t,e,s)}(t,n,e,a,s,l,c)}null!==s&&null!==i&&function QK(t,n,e){const i=t.localNames=[];for(let o=0;o<n.length;o+=2){const s=e[n[o+1]];if(null==s)throw new De(-301,!1);i.push(n[o],s)}}(e,i,s)}function JK(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function CA(t,n,e,i){const o=0===t?e.inputs:e.outputs;for(const s in o)if(o.hasOwnProperty(s)){let r;r=0===t?n.inputs??={}:n.outputs??={},r[s]??=[],r[s].push(i),TA(n,s)}}function MA(t,n,e,i){const o=0===t?e.inputs:e.outputs;for(const s in o)if(o.hasOwnProperty(s)){const r=o[s];let a;a=0===t?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},a[r]??=[],a[r].push(i,s),TA(n,r)}}function TA(t,n){"class"===n?t.flags|=8:"style"===n&&(t.flags|=16)}function wA(t,n,e){const{attrs:i,inputs:o,hostDirectiveInputs:s}=t;if(null===i||!e&&null===o||e&&null===s||Zm(t))return t.initialInputs??=[],void t.initialInputs.push(null);let r=null,a=0;for(;a<i.length;){const l=i[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(!e&&o.hasOwnProperty(l)){const c=o[l];for(const h of c)if(h===n){r??=[],r.push(l,i[a+1]);break}}else if(e&&s.hasOwnProperty(l)){const c=s[l];for(let h=0;h<c.length;h+=2)if(c[h]===n){r??=[],r.push(c[h+1],i[a+1]);break}}a+=2}else a+=2;else a+=4}t.initialInputs??=[],t.initialInputs.push(r)}function nq(t,n,e,i,o){t.data[i]=o;const s=o.factory||(o.factory=Mc(o.type)),r=new Vh(s,va(o),Ve,null);t.blueprint[i]=r,e[i]=r,function iq(t,n,e,i,o){const s=o.hostBindings;if(s){let r=t.hostBindingOpCodes;null===r&&(r=t.hostBindingOpCodes=[]);const a=~n.index;(function oq(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(r)!=a&&r.push(a),r.push(e,i,s)}}(t,n,i,Qh(t,e,o.hostVars,Bi),o)}function sq(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;va(n)&&(e[""]=t)}}function S7(t,n,e,i,o,s,r,a){const l=n[1],c=l.consts,g=Rc(l,t,e,i,ir(c,r));return s&&vA(l,n,g,ir(c,a),o),g.mergedAttrs=Md(g.mergedAttrs,g.attrs),null!==g.attrs&&Tf(g,g.attrs,!1),null!==g.mergedAttrs&&Tf(g,g.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,g),g}function E7(t,n){AS(t,n),Ib(n)&&t.queries.elementEnd(n)}function bA(t,n,e,i,o,s){const r=n.consts,l=Rc(n,t,e,i,ir(r,o));if(l.mergedAttrs=Md(l.mergedAttrs,l.attrs),null!=s){const c=ir(r,s);l.localNames=[];for(let h=0;h<c.length;h+=2)l.localNames.push(c[h],-1)}return null!==l.attrs&&Tf(l,l.attrs,!1),null!==l.mergedAttrs&&Tf(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}function O7(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Y1(t,n,e){return t[n]=e}function _o(t,n,e){return e!==Bi&&(!Object.is(t[n],e)&&(t[n]=e,!0))}function kc(t,n,e,i){const o=_o(t,n,e);return _o(t,n+1,i)||o}function gu(t,n,e){return function i(o){Id(N0(t)?Mr(t.index,n):n,5);const r=n[8];let a=SA(n,r,e,o),l=i.__ngNextListenerFn__;for(;l;)a=SA(n,r,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function SA(t,n,e,i){const o=U(null);try{return ki(6,n,e),!1!==e(i)}catch(s){return c7(t,s),!1}finally{ki(7,n,e),U(o)}}function EA(t,n,e,i,o,s,r,a){const l=cd(t);let c=!1,h=null;if(!i&&l&&(h=function dq(t,n,e,i){const o=t.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const r=o[s];if(r===e&&o[s+1]===i){const a=n[7],l=o[s+2];return a&&a.length>l?a[l]:null}"string"==typeof r&&(s+=2)}return null}(n,e,s,t.index)),null!==h)(h.__ngLastListenerFn__||h).__ngNextListenerFn__=r,h.__ngLastListenerFn__=r,c=!0;else{const g=hs(t,e),f=i?i(g):g,v=o.listen(f,s,a);OA(i?S=>i(Rs(S[t.index])):t.index,n,e,s,a,v,!1)}return c}function OA(t,n,e,i,o,s,r){const a=n.firstCreatePass?$b(n):null,l=Gb(e),c=l.length;l.push(o,s),a&&a.push(i,t,c,(c+1)*(r?-1:1))}function Sf(t,n,e,i,o,s){const a=n[1],g=n[e][a.data[e].outputs[i]].subscribe(s);OA(t.index,a,n,o,s,g,!0)}const wl=Symbol("BINDING");class AA extends Cf{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Ai(n);return new pu(e,this.ngModule)}}class pu extends pA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function vq(t){return Object.keys(t).map(n=>{const[e,i,o]=t[n],s={propName:e,templateName:n,isSignal:0!==(i&Jp.SignalBased)};return o&&(s.transform=o),s})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function Cq(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function uX(t){return t.map(hX).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,i,o,s,r){ki(22);const a=U(null);try{const l=this.componentDef,c=function Sq(t,n,e,i){const o=t?["ng-version","20.2.4"]:function _X(t){const n=[],e=[];let i=1,o=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===o?""!==s&&n.push(s,t[++i]):8===o&&e.push(s);else{if(!w1(o))break;o=s}i++}return e.length&&n.push(1,...e),n}(n.selectors[0]);let s=null,r=null,a=0;if(e)for(const h of e)a+=h[wl].requiredVars,h.create&&(h.targetIdx=0,(s??=[]).push(h)),h.update&&(h.targetIdx=0,(r??=[]).push(h));if(i)for(let h=0;h<i.length;h++){const g=i[h];if("function"!=typeof g)for(const f of g.bindings){a+=f[wl].requiredVars;const v=h+1;f.create&&(f.targetIdx=v,(s??=[]).push(f)),f.update&&(f.targetIdx=v,(r??=[]).push(f))}}const l=[n];if(i)for(const h of i){const f=vr("function"==typeof h?h:h.type);l.push(f)}return Km(0,null,function Eq(t,n){return t||n?e=>{if(1&e&&t)for(const i of t)i.create();if(2&e&&n)for(const i of n)i.update()}:null}(s,r),1,a,l,null,null,null,[o],null)}(i,l,r,s),h=function Mq(t,n,e){let i=n instanceof cs?n:n?.injector;return i&&null!==t.getStandaloneInjector&&(i=t.getStandaloneInjector(i)||i),i?new xd(e,i):e}(l,o||this.ngModule,n),g=function Tq(t){const n=t.get(b1,null);if(null===n)throw new De(407,!1);return{rendererFactory:n,sanitizer:t.get(XK,null),changeDetectionScheduler:t.get(Ac,null),ngReflect:!1}}(h),f=g.rendererFactory.createRenderer(null,l),v=i?function OX(t,n,e,i){const s=i.get(GZ,!1)||e===F0.ShadowDom,r=t.selectRootElement(n,s);return function AX(t){DO(t)}(r),r}(f,i,l.encapsulation,h):function wq(t,n){const e=function bq(t){return(t.selectors[0][0]||"div").toLowerCase()}(t);return Yp(n,e,"svg"===e?"svg":"math"===e?"math":null)}(l,f),C=r?.some(NA)||s?.some(I=>"function"!=typeof I&&I.bindings.some(NA)),S=Qp(null,c,null,512|qm(l),null,null,g,f,h,null,null);S[26]=v,em(S);let D=null;try{const I=S7(26,S,2,"#host",()=>c.directiveRegistry,!0,0);v&&(fO(f,v,I),Zr(v,S)),nf(c,S,I),zm(c,I,S),E7(c,I),void 0!==e&&function Aq(t,n,e){const i=t.projection=[];for(let o=0;o<n.length;o++){const s=e[o];i.push(null!=s&&s.length?Array.from(s):null)}}(I,this.ngContentSelectors,e),D=Mr(I.index,S),S[8]=D[8],cf(c,S,null)}catch(I){throw null!==D&&mm(D),mm(S),I}finally{ki(23),tm()}return new Oq(this.componentType,S,!!C)}finally{U(a)}}}function NA(t){const n=t[wl].kind;return"input"===n||"twoWay"===n}class Oq extends jK{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=hd(e[1],26),this.location=Td(this._tNode,e),this.instance=Mr(this._tNode.index,e)[8],this.hostView=this.changeDetectorRef=new iu(e,void 0),this.componentType=n}setInput(n,e){const i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;lf(i,o[1],o,n,e),this.previousInputValues.set(n,e),Id(Mr(i.index,o),1)}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let Gs=(()=>class t{static __NG_ELEMENT_ID__=Nq})();function Nq(){return PA(Sn(),Ue())}const Dq=Gs,DA=class extends Dq{_lContainer;_hostTNode;_hostLView;constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Td(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Pp(this._hostTNode,this._hostLView);if(dm(n)){const e=Gh(n,this._hostLView),i=Hh(n);return new xo(e[1].data[i+8],e)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=yA(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,i){let o,s;"number"==typeof i?o=i:null!=i&&(o=i.index,s=i.injector);const a=n.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,o,Lc(this._hostTNode,null)),a}createComponent(n,e,i,o,s,r,a){const l=n&&!function zh(t){return"function"==typeof t}(n);let c;if(l)c=e;else{const D=e||{};c=D.index,i=D.injector,o=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef,r=D.directives,a=D.bindings}const h=l?n:new pu(Ai(n)),g=i||this.parentInjector;if(!s&&null==h.ngModule){const I=(l?g:this.parentInjector).get(cs,null);I&&(s=I)}Ai(h.componentType??{});const S=h.create(g,o,null,s,r,a);return this.insertImpl(S.hostView,c,Lc(this._hostTNode,null)),S}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){const o=n._lView;if(function ej(t){return Cr(t[3])}(o)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const l=o[3],c=new DA(l,l[5],l[3]);c.detach(c.indexOf(n))}}const s=this._adjustIndex(e),r=this._lContainer;return Ld(r,o,s,i),n.attachToViewContainerRef(),Mb(A7(r),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=yA(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=nu(this._lContainer,e);i&&(cp(A7(this._lContainer),e),eu(i[1],i))}detach(n){const e=this._adjustIndex(n,-1),i=nu(this._lContainer,e);return i&&null!=cp(A7(this._lContainer),e)?new iu(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function yA(t){return t[8]}function A7(t){return t[8]||(t[8]=[])}function PA(t,n){let e;const i=n[t.index];return Cr(i)?e=i:(e=$O(i,n,null,t),n[t.index]=e,Ym(n,e)),IA(e,n,t,i),new DA(e,t,n)}let IA=function RA(t,n,e,i){if(t[7])return;let o;o=8&e.type?Rs(i):function yq(t,n){const e=t[11],i=e.createComment(""),o=hs(n,t),s=e.parentNode(o);return Pc(e,s,i,e.nextSibling(o),!1),i}(n,e),t[7]=o};class D7{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new D7(this.queryList)}setDirty(){this.queryList.setDirty()}}class y7{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let s=0;s<i;s++){const r=e.getByIndex(s);o.push(this.queries[r.indexInDeclarationView].clone())}return new y7(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==x7(n,e).matches&&this.queries[e].setDirty()}}class xA{flags;read;predicate;constructor(n,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof n?function kq(t){return t.split(",").map(n=>n.trim())}(n):n}}class P7{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const o=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(n,o);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new P7(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class I7{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new I7(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){const s=i[o];this.matchTNodeWithReadOption(n,e,Lq(e,s)),this.matchTNodeWithReadOption(n,e,Ip(e,n,s,!1,!1))}else i===dn?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Ip(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const o=this.metadata.read;if(null!==o)if(o===fn||o===Gs||o===dn&&4&e.type)this.addMatch(e.index,-2);else{const s=Ip(e,n,o,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function Lq(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function xq(t,n,e,i){return-1===e?function Rq(t,n){return 11&t.type?Td(t,n):4&t.type?hf(t,n):null}(n,t):-2===e?function Fq(t,n,e){return e===fn?Td(n,t):e===dn?hf(n,t):e===Gs?PA(n,t):void 0}(t,n,i):$h(t,t[1],e,n)}function FA(t,n,e,i){const o=n[18].queries[i];if(null===o.matches){const s=t.data,r=e.matches,a=[];for(let l=0;null!==r&&l<r.length;l+=2){const c=r[l];a.push(c<0?null:xq(n,s[c],r[l+1],e.metadata.read))}o.matches=a}return o.matches}function L7(t,n,e,i){const o=t.queries.getByIndex(e),s=o.matches;if(null!==s){const r=FA(t,n,o,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(r[a/2]);else{const c=s[a+1],h=n[-l];for(let g=10;g<h.length;g++){const f=h[g];f[16]===f[3]&&L7(f[1],f,c,i)}if(null!==h[9]){const g=h[9];for(let f=0;f<g.length;f++){const v=g[f];L7(v[1],v,c,i)}}}}}return i}function kA(t,n,e){const i=new rZ(!(4&~e));return function Bb(t,n,e,i){const o=Gb(n);o.push(e),t.firstCreatePass&&$b(t).push(i,o.length-1)}(t,n,i,i.destroy),(n[18]??=new y7).queries.push(new D7(i))-1}function HA(t,n,e){null===t.queries&&(t.queries=new P7),t.queries.track(new I7(n,e))}function x7(t,n){return t.queries.getByIndex(n)}function GA(t,n){const e=t[1],i=x7(e,n);return i.crossesNgTemplate?L7(e,t,n,[]):FA(e,t,i,n)}const ZA=new Set;function $s(t){ZA.has(t)||(ZA.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let zc=class{},WA=class{};class z7 extends zc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new AA(this);constructor(n,e,i,o=!0){super(),this.ngModuleType=n,this._parent=e;const s=Z1(n);this._bootstrapComponents=q1(s.bootstrap),this._r3Injector=dS(n,e,[{provide:zc,useValue:this},{provide:Cf,useValue:this.componentFactoryResolver},...i],Hr(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class XA extends WA{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new z7(this.moduleType,n,[])}}class KA extends zc{injector;componentFactoryResolver=new AA(this);instance=null;constructor(n){super();const e=new Tc([...n.providers,{provide:zc,useValue:this},{provide:Cf,useValue:this.componentFactoryResolver}],n.parent||fp(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Ef(t,n,e=null){return new KA({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let qq=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=R8(0,e.type),o=i.length>0?Ef([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Te({token:t,providedIn:"environment",factory:()=>new t(Zt(cs))})}return t})();function Ge(t){return R0(()=>{const n=YA(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Rp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(qq).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||F0.Emulated,styles:t.styles||no,_:null,schemas:t.schemas||null,tView:null,id:""};n.standalone&&$s("NgStandalone"),QA(e);const i=t.dependencies;return e.directiveDefs=Of(i,qA),e.pipeDefs=Of(i,v1),e.id=function eY(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const s of i.join("|"))n=Math.imul(31,n)+s.charCodeAt(0)|0;return n+=2147483648,"c"+n}(e),e})}function qA(t){return Ai(t)||vr(t)}function Kn(t){return R0(()=>({type:t.type,bootstrap:t.bootstrap||no,declarations:t.declarations||no,imports:t.imports||no,exports:t.exports||no,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Yq(t,n){if(null==t)return j1;const e={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];let s,r,a,l;Array.isArray(o)?(a=o[0],s=o[1],r=o[2]??s,l=o[3]||null):(s=o,r=o,a=Jp.None,l=null),e[s]=[i,a,l],n[s]=r}return e}function Qq(t){if(null==t)return j1;const n={};for(const e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function Je(t){return R0(()=>{const n=YA(t);return QA(n),n})}function oo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function YA(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||j1,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||no,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Yq(t.inputs,n),outputs:Qq(t.outputs),debugInfo:null}}function QA(t){t.features?.forEach(n=>n(t))}function Of(t,n){return t?()=>{const e="function"==typeof t?t():t,i=[];for(const o of e){const s=n(o);null!==s&&i.push(s)}return i}:null}function at(t){let n=function JA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let o;if(va(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new De(903,!1);o=n.\u0275dir}if(o){if(e){i.push(o);const r=t;r.inputs=V7(t.inputs),r.declaredInputs=V7(t.declaredInputs),r.outputs=V7(t.outputs);const a=o.hostBindings;a&&sY(t,a);const l=o.viewQuery,c=o.contentQueries;if(l&&iY(t,l),c&&oY(t,c),tY(t,o),pU(t.outputs,o.outputs),va(o)&&o.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let r=0;r<s.length;r++){const a=s[r];a&&a.ngInherit&&a(t),a===at&&(e=!1)}}n=Object.getPrototypeOf(n)}!function nY(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const o=t[i];o.hostVars=n+=o.hostVars,o.hostAttrs=Md(o.hostAttrs,e=Md(e,o.hostAttrs))}}(i)}function tY(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const i=n.inputs[e];void 0!==i&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e])}}function V7(t){return t===j1?{}:t===no?[]:t}function iY(t,n){const e=t.viewQuery;t.viewQuery=e?(i,o)=>{n(i,o),e(i,o)}:n}function oY(t,n){const e=t.contentQueries;t.contentQueries=e?(i,o,s)=>{n(i,o,s),e(i,o,s)}:n}function sY(t,n){const e=t.hostBindings;t.hostBindings=e?(i,o)=>{n(i,o),e(i,o)}:n}function mu(t){const n=e=>{const i=Array.isArray(t);null===e.hostDirectives?(e.resolveHostDirectives=cY,e.hostDirectives=i?t.map(H7):[t]):i?e.hostDirectives.unshift(...t.map(H7)):e.hostDirectives.unshift(t)};return n.ngInherit=!0,n}function cY(t){const n=[];let e=!1,i=null,o=null;for(let s=0;s<t.length;s++){const r=t[s];if(null!==r.hostDirectives){const a=n.length;i??=new Map,o??=new Map,eN(r,n,i),o.set(r,[a,n.length-1])}0===s&&va(r)&&(e=!0,n.push(r))}for(let s=e?1:0;s<t.length;s++)n.push(t[s]);return[n,i,o]}function eN(t,n,e){if(null!==t.hostDirectives)for(const i of t.hostDirectives)if("function"==typeof i){const o=i();for(const s of o)tN(H7(s),n,e)}else tN(i,n,e)}function tN(t,n,e){const i=vr(t.directive);(function dY(t,n){for(const e in n)n.hasOwnProperty(e)&&(t[n[e]]=t[e])})(i.declaredInputs,t.inputs),eN(i,n,e),e.set(i,t),n.push(i)}function H7(t){return"function"==typeof t?{directive:Fn(t),inputs:j1,outputs:j1}:{directive:Fn(t.directive),inputs:nN(t.inputs),outputs:nN(t.outputs)}}function nN(t){if(void 0===t||0===t.length)return j1;const n={};for(let e=0;e<t.length;e+=2)n[t[e]]=t[e+1];return n}function oN(t,n,e,i,o,s,r,a){if(e.firstCreatePass){t.mergedAttrs=Md(t.mergedAttrs,t.attrs);const h=t.tView=Km(2,t,o,s,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);null!==e.queries&&(e.queries.template(e,t),h.queries=e.queries.embeddedTView(t))}a&&(t.flags|=a),P0(t,!1);const l=sN(e,n,t,i);Sp()&&o7(e,n,l,t),Zr(l,n);const c=$O(l,n,l,t);n[i+26]=c,Ym(n,c)}function Vc(t,n,e,i,o,s,r,a,l,c,h){const g=e+26;let f;if(n.firstCreatePass){if(f=Rc(n,g,4,r||null,a||null),null!=c){const v=ir(n.consts,c);f.localNames=[];for(let C=0;C<v.length;C+=2)f.localNames.push(v[C],-1)}}else f=n.data[g];return oN(f,t,n,e,i,o,s,l),null!=c&&yd(t,f,h),f}function ce(t,n,e,i,o,s,r,a){const l=Ue(),c=On();return function hY(t,n,e,i,o,s,r,a,l,c,h){const g=e+26;let f;n.firstCreatePass?(f=Rc(n,g,4,r||null,a||null),q8()&&vA(n,t,f,ir(n.consts,c),l7),AS(n,f)):f=n.data[g],oN(f,t,n,e,i,o,s,l),cd(f)&&nf(n,t,f),null!=c&&yd(t,f,h)}(l,c,t,n,e,i,o,ir(c.consts,s),void 0,r,a),ce}function G7(t,n,e,i,o,s,r,a){const l=Ue(),c=On();return Vc(l,c,t,n,e,i,o,ir(c.consts,s),void 0,r,a),G7}let sN=function rN(t,n,e,i){return Fh(!0),n[11].createComment("")};var qo=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(qo||{}),ji=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(ji||{}),kd=function(t){return t[t.Initial=-1]="Initial",t}(kd||{}),lN=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(lN||{});function Cu(t,n,e){const i=dN(t);null===n[i]&&(n[i]=[]),n[i].push(e)}function Df(t,n){const e=dN(t),i=n[e];if(null!==i){for(const o of i)o();n[e]=null}}function cN(t){Df(1,t),Df(0,t),Df(2,t)}function dN(t){let n=4;return 1===t?n=5:2===t&&(n=9),n}var $7=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}($7||{});const Mu=new Qe(""),hN=!1,Ee=class mY extends Be{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,G8()&&(this.destroyRef=M(wr,{optional:!0})??void 0,this.pendingTasks=M(fl,{optional:!0})??void 0)}emit(n){const e=U(null);try{super.next(n)}finally{U(e)}}subscribe(n,e,i){let o=n,s=e||(()=>null),r=i;if(n&&"object"==typeof n){const l=n;o=l.next?.bind(l),s=l.error?.bind(l),r=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),r&&(r=this.wrapInTimeout(r)));const a=super.subscribe({next:o,error:s,complete:r});return n instanceof Li&&n.add(a),a}wrapInTimeout(n){return e=>{const i=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{void 0!==i&&this.pendingTasks?.remove(i)}})}}};function uN(t){let n,e;function i(){t=kh;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{t(),i()})),()=>i()}function _N(t){return queueMicrotask(()=>t()),()=>{t=kh}}const B7="isAngularZone",yf=B7+"_ID";let vY=0;class un{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ee(!1);onMicrotaskEmpty=new Ee(!1);onStable=new Ee(!1);onError=new Ee(!1);constructor(n){const{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:s=hN}=n;if(typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!o&&i,r.shouldCoalesceRunChangeDetection=o,r.callbackScheduled=!1,r.scheduleInRootZone=s,function TY(t){const n=()=>{!function MY(t){function n(){uN(()=>{t.callbackScheduled=!1,j7(t),t.isCheckStableRunning=!0,U7(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),j7(t))}(t)},e=vY++;t._inner=t._inner.fork({name:"angular",properties:{[B7]:!0,[yf]:e,[yf+e]:!0},onInvokeTask:(i,o,s,r,a,l)=>{if(function wY(t){return fN(t,"__ignore_ng_zone__")}(l))return i.invokeTask(s,r,a,l);try{return gN(t),i.invokeTask(s,r,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||t.shouldCoalesceRunChangeDetection)&&n(),pN(t)}},onInvoke:(i,o,s,r,a,l,c)=>{try{return gN(t),i.invoke(s,r,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function bY(t){return fN(t,"__scheduler_tick__")}(l)&&n(),pN(t)}},onHasTask:(i,o,s,r)=>{i.hasTask(s,r),o===s&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,j7(t),U7(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(i,o,s,r)=>(i.handleError(s,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(B7)}static assertInAngularZone(){if(!un.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(un.isInAngularZone())throw new De(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,o){const s=this._inner,r=s.scheduleEventTask("NgZoneEvent: "+o,n,CY,kh,kh);try{return s.runTask(r,e,i)}finally{s.cancelTask(r)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const CY={};function U7(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function j7(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function gN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pN(t){t._nesting--,U7(t)}class Z7{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ee;onMicrotaskEmpty=new Ee;onStable=new Ee;onError=new Ee;run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,o){return n.apply(e,i)}}function fN(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}let mN=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Te({token:t,providedIn:"root",factory:()=>new t})}return t})();const vN=[0,1,2,3];let EY=(()=>{class t{ngZone=M(un);scheduler=M(Ac);errorHandler=M(gd,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Mu,{optional:!0})}execute(){const e=this.sequences.size>0;e&&ki(16),this.executing=!0;for(const i of vN)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[i])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,o.hooks[i])(o.pipelinedValue),o.snapshot))}catch(s){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(const i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(const i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&ki(17)}register(e){const{view:i}=e;void 0!==i?((i[25]??=[]).push(e),ud(i),i[2]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run($7.AFTER_NEXT_RENDER,e):e()}static \u0275prov=Te({token:t,providedIn:"root",factory:()=>new t})}return t})();class CN{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,i,o,s,r=null){this.impl=n,this.hooks=e,this.view=i,this.once=o,this.snapshot=r,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const n=this.view?.[25];n&&(this.view[25]=n.filter(e=>e!==this))}}function Hd(t,n){const e=n?.injector??M(Fi);return $s("NgAfterRender"),MN(t,e,n,!1)}function E1(t,n){const e=n?.injector??M(Fi);return $s("NgAfterNextRender"),MN(t,e,n,!0)}function MN(t,n,e,i){const o=n.get(mN);o.impl??=n.get(EY);const s=n.get(Mu,null,{optional:!0}),r=!0!==e?.manualCleanup?n.get(wr):null,a=n.get(sm,null,{optional:!0}),l=new CN(o.impl,function OY(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t),a?.view,i,r,s?.snapshot(null));return o.impl.register(l),l}function Tu(t){return t+1}function Wr(t,n){return t[Tu(n.index)]}function Bs(t,n){const e=Tu(n.index);return t.data[e]}function W7(t,n){return n===ji.Placeholder?t.placeholderBlockConfig?.[0]??null:n===ji.Loading?t.loadingBlockConfig?.[0]??null:null}function wN(t,n){if(!t||0===t.length)return n;const e=new Set(t);for(const i of n)e.add(i);return t.length===e.size?t:Array.from(e)}function X7(t,n,e){const i=e.get(un);return function WZ(t,n,e){let i=Ed.get(t);return Od=Od||e(),i||(i=new Nm,Od.observe(t),Ed.set(t,i),Am++),i.callbacks.add(n),()=>{Ed.has(t)&&(i.callbacks.delete(n),0===i.callbacks.size&&(Od?.unobserve(t),Ed.delete(t),Am--),0===Am&&(Od?.disconnect(),Od=null))}}(t,()=>i.run(n),()=>i.runOutsideAngular(()=>function ZZ(){return new IntersectionObserver(t=>{for(const n of t)n.isIntersecting&&Ed.has(n.target)&&Ed.get(n.target).listener()})}()))}let kY=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(e,i,o,s){if(!this.cachedInjectors.has(e)){const r=o.length>0?Ef(o,i,s):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Te({token:t,providedIn:"environment",factory:()=>new t})}return t})();const zY=new Qe("");function K7(t,n,e){return t.get(kY).getOrCreateInjector(n,t,e,"")}function bl(t,n,e,i=!1){const o=e[3],s=o[1];if(D0(o))return;const r=Wr(o,n),l=r[7];if(!(null!==l&&t<l)&&AN(r[1],t)&&AN(r[0]??-1,t)){const c=Bs(s,n),g=i||null===function TN(t){return t.loadingBlockConfig?.[1]??null}(c)&&null===W7(c,ji.Loading)&&!W7(c,ji.Placeholder)?EN:q7;try{g(t,r,e,n,o)}catch(f){c7(o,f)}}}function EN(t,n,e,i,o){ki(20);const s=function DY(t,n,e){const o=Bs(n[1],e);switch(t){case ji.Complete:return o.primaryTmplIndex;case ji.Loading:return o.loadingTmplIndex;case ji.Error:return o.errorTmplIndex;case ji.Placeholder:return o.placeholderTmplIndex;default:return null}}(t,o,i);if(null!==s){n[1]=t;const r=o[1],l=hd(r,s+26),c=0;let h;if(h7(e,c),t===ji.Complete){const C=Bs(r,i),S=C.providers;S&&S.length>0&&(h=function VY(t,n,e){if(t instanceof xd){const o=t.injector,r=K7(t.parentInjector,n,e);return new xd(o,r)}const i=t.get(cs);if(i!==t){const o=K7(i,n,e);return new xd(t,o)}return K7(t,n,e)}(o[9],C,S))}const{dehydratedView:g,dehydratedViewIx:f}=function HY(t,n){const e=t[6]?.findIndex(o=>o.data.s===n[1])??-1;return{dehydratedView:e>-1?t[6][e]:null,dehydratedViewIx:e}}(e,n),v=Pd(o,l,null,{injector:h,dehydratedView:g});if(Ld(e,v,c,Lc(l,g)),Id(v,2),f>-1&&e[6]?.splice(f,1),(t===ji.Complete||t===ji.Error)&&Array.isArray(n[8])){for(const C of n[8])C();n[8]=null}}ki(21)}function AN(t,n){return t<n}function NN(t,n,e){t.loadingPromise.then(()=>{t.loadingState===qo.COMPLETE?bl(ji.Complete,n,e):t.loadingState===qo.FAILED&&bl(ji.Error,n,e)})}let q7=null,DN=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const UN=new Qe(""),xf=new Qe("");let tv,J7=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,i,o){this._ngZone=e,this.registry=i,G8()&&(this._destroyRef=M(wr,{optional:!0})??void 0),tv||(function DQ(t){tv=t}(o),o.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),i=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{un.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),i.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==s),e()},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:o})}whenStable(e,i,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,o),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,o){return[]}static \u0275fac=function(i){return new(i||t)(Zt(un),Zt(ev),Zt(xf))};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})(),ev=(()=>{class t{_applications=new Map;registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return tv?.findTestabilityInTree(this,e,i)??null}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function bu(t){return!!t&&"function"==typeof t.then}function jN(t){return!!t&&"function"==typeof t.subscribe}const nv=new Qe("");function ZN(t){return _p([{provide:nv,multi:!0,useValue:t}])}let WN=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=M(nv,{optional:!0})??[];injector=M(Fi);constructor(){}runInitializers(){if(this.initialized)return;const e=[];for(const o of this.appInits){const s=$r(this.injector,o);if(bu(s))e.push(s);else if(jN(s)){const r=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(r)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(o=>{this.reject(o)}),0===e.length&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const XN=new Qe("");let Ja=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(M1);afterRenderManager=M(mN);zonelessEnabled=M(pS);rootEffectScheduler=M(vS);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Be;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(fl);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(bt(e=>!e))}constructor(){M(Mu,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=M(cs);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,o=Fi.NULL){return this._injector.get(un).run(()=>{ki(10);const r=e instanceof pA;if(!this._injector.get(WN).done)throw new De(405,"");let l;l=r?e:this._injector.get(Cf).resolveComponentFactory(e),this.componentTypes.push(l.componentType);const c=function PQ(t){return t.isBoundToModule}(l)?void 0:this._injector.get(zc),g=l.create(o,[],i||l.selector,c),f=g.location.nativeElement,v=g.injector.get(UN,null);return v?.registerApplication(f),g.onDestroy(()=>{this.detachView(g.hostView),Ff(this.components,g),v?.unregisterApplication(f)}),this._loadComponent(g),ki(11,g),g})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ki(12),null!==this.tracingSnapshot?this.tracingSnapshot.run($7.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new De(101,!1);const e=U(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,U(e),this.afterTick.next(),ki(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(b1,null,{optional:!0}));let e=0;for(;0!==this.dirtyFlags&&e++<10;)ki(14),this.synchronizeOnce(),ki(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews)(i||Mp(o))&&(df(o,i&&!this.zonelessEnabled?0:1),e=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:e})=>Mp(e))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Ff(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(e),this._injector.get(XN,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ff(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new De(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ff(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function $c(t,n,e){const i=n[1],o=n[e.index];if(!function JN(t,n){return n[9].get(zY,null,{optional:!0})?.behavior!==lN.Manual}(0,n))return;const s=Wr(n,e),r=Bs(i,e);switch(cN(s),r.loadingState){case qo.NOT_STARTED:bl(ji.Loading,e,o),function iv(t,n,e){const i=n[9],o=n[1];if(t.loadingState!==qo.NOT_STARTED)return t.loadingPromise??Promise.resolve();const s=Wr(n,e),r=function yY(t,n){return hd(t,n.primaryTmplIndex+26)}(o,t);t.loadingState=qo.IN_PROGRESS,Df(1,s);let a=t.dependencyResolverFn;const l=i.get(Ep).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(c=>{let h=!1;const g=[],f=[];for(const v of c){if("fulfilled"!==v.status){h=!0;break}{const C=v.value,S=Ai(C)||vr(C);if(S)g.push(S);else{const D=v1(C);D&&f.push(D)}}}if(h){if(t.loadingState=qo.FAILED,null===t.errorTmplIndex){const C=new De(-750,!1);c7(n,C)}}else{t.loadingState=qo.COMPLETE;const v=r.tView;if(g.length>0){v.directiveRegistry=wN(v.directiveRegistry,g);const S=R8(!1,...g.map(D=>D.type));t.providers=S}f.length>0&&(v.pipeRegistry=wN(v.pipeRegistry,f))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,l()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=qo.COMPLETE,l()}),t.loadingPromise)}(r,n,e),r.loadingState===qo.IN_PROGRESS&&NN(r,e,o);break;case qo.IN_PROGRESS:bl(ji.Loading,e,o),NN(r,e,o);break;case qo.COMPLETE:bl(ji.Complete,e,o);break;case qo.FAILED:bl(ji.Error,e,o)}}function nD(t,n){const e=t[9],i=Bs(t[1],n),o=function RE(t){return t.get(BZ,!1,{optional:!0})}(e),s=function VQ(t){return null!=t&&!(1&~t)}(i.flags),a=null!==Wr(t,n)[6];return!(s&&a&&o)}function sD(t,n){const e=Ue(),i=Sn();(function ko(t,n,e){return 0===t?nD(n,e):2!==t||!nD(n,e)})(0,e,i)&&(function $d(t,n){bl(ji.Placeholder,n,t[n.index])}(e,i),function Gd(t,n,e,i,o,s,r){const a=t[9],l=a.get(un);let c;c=Hd({read:function h(){if(D0(t))return void c.destroy();const g=Wr(t,n),f=g[1];if(f!==kd.Initial&&f!==ji.Placeholder)return void c.destroy();const v=function PY(t,n,e){return null==e?t:e>=0?Hb(e,t):t[n.index][10]??null}(t,n,i);if(!v||(c.destroy(),D0(v)))return;const C=function IY(t,n){return dd(26+n,t)}(v,e),S=o(C,()=>{l.run(()=>{t!==v&&W8(v,S),s()})},a);t!==v&&Tp(v,S),Cu(r,g,S)}},{injector:a})}(e,i,t,n,X7,()=>$c(0,e,i),0))}function lv(t,n){const e=Ue();if(_o(e,Br(),n)){const o=On(),s=C1();if(lf(s,o,e,t,n))N0(s)&&yO(e,s.index);else{const a=hs(s,e),l=function hJ(t){return"-"!==t.charAt(4)?"aria-"+t.slice(4).toLowerCase():t}(t);sf(e[11],a,null,s.value,l,n,null)}}return lv}function Vn(t,n,e,i){const o=Ue();return _o(o,Br(),n)&&(On(),function LX(t,n,e,i,o,s){const r=hs(t,n);sf(n[11],r,s,t.value,e,i,o)}(C1(),o,t,n,e,i)),Vn}const rD=new Qe("",{providedIn:"root",factory:()=>!1}),uJ=new Qe("",{providedIn:"root",factory:()=>_J}),_J=4e3;function _v(){return Ue()[15][8]}typeof document<"u"&&document;class AJ{destroy(n){}updateValue(n,e){}swap(n,e){const i=Math.min(n,e),o=Math.max(n,e),s=this.detach(o);if(o-i>1){const r=this.detach(i);this.attach(i,s),this.attach(o,r)}else this.attach(i,s)}move(n,e){this.attach(e,this.detach(n))}}function gv(t,n,e,i,o){return t===e&&Object.is(n,i)?1:Object.is(o(t,n),o(e,i))?-1:0}function pv(t,n,e,i){return!(void 0===n||!n.has(i)||(t.attach(e,n.get(i)),n.delete(i),0))}function gD(t,n,e,i,o){if(pv(t,n,i,e(i,o)))t.updateValue(i,o);else{const s=t.create(i,o);t.attach(i,s)}}function pD(t,n,e,i){const o=new Set;for(let s=n;s<=e;s++)o.add(i(s,t.at(s)));return o}class fD{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const e=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let i=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const o=this._vMap;for(;o.has(i);)i=o.get(i);o.set(i,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,i]of this.kvMap)if(n(i,e),void 0!==this._vMap){const o=this._vMap;for(;o.has(i);)i=o.get(i),n(i,e)}}}function y(t,n,e,i,o,s,r,a){$s("NgControlFlow");const l=Ue(),c=On();return Vc(l,c,t,n,e,i,o,ir(c.consts,s),256,r,a),fv}function fv(t,n,e,i,o,s,r,a){$s("NgControlFlow");const l=Ue(),c=On();return Vc(l,c,t,n,e,i,o,ir(c.consts,s),512,r,a),fv}function P(t,n){$s("NgControlFlow");const e=Ue(),i=Br(),o=e[i]!==Bi?e[i]:-1,s=-1!==o?$f(e,26+o):void 0;if(_o(e,i,t)){const a=U(null);try{if(void 0!==s&&h7(s,0),-1!==t){const l=26+t,c=$f(e,l),h=mv(e[1],l),g=null;Ld(c,Pd(e,h,n,{dehydratedView:g}),0,Lc(h,g))}}finally{U(a)}}else if(void 0!==s){const a=BO(s,0);void 0!==a&&(a[8]=n)}}class DJ{lContainer;$implicit;$index;constructor(n,e,i){this.lContainer=n,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-10}}function Wd(t){return t}function jt(t,n){return n}class yJ{hasEmptyBlock;trackByFn;liveCollection;constructor(n,e,i){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=i}}function Ke(t,n,e,i,o,s,r,a,l,c,h,g,f){$s("NgControlFlow");const v=Ue(),C=On(),S=void 0!==l,D=Ue(),I=a?r.bind(D[15][8]):r,L=new yJ(S,I);D[26+t]=L,Vc(v,C,t+1,n,e,i,o,ir(C.consts,s),256),S&&Vc(v,C,t+2,l,c,h,g,ir(C.consts,f),512)}class PJ extends AJ{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,e,i){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-10}at(n){return this.getLView(n)[8].$implicit}attach(n,e){const i=e[6];this.needsIndexUpdate||=n!==this.length,Ld(this.lContainer,e,n,Lc(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function IJ(t,n){return nu(t,n)}(this.lContainer,n)}create(n,e){const o=Pd(this.hostLView,this.templateTNode,new DJ(this.lContainer,e,n),{dehydratedView:null});return this.operationsCounter?.recordCreate(),o}destroy(n){eu(n[1],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[8].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[8].$index=n}getLView(n){return function LJ(t,n){return BO(t,n)}(this.lContainer,n)}}function qe(t){const n=U(null),e=Hs();try{const i=Ue(),o=i[1],s=i[e],r=e+1,a=$f(i,r);if(void 0===s.liveCollection){const c=mv(o,r);s.liveCollection=new PJ(a,i,c)}else s.liveCollection.reset();const l=s.liveCollection;if(function NJ(t,n,e){let i,o,s=0,r=t.length-1;if(Array.isArray(n)){let l=n.length-1;for(;s<=r&&s<=l;){const c=t.at(s),h=n[s],g=gv(s,c,s,h,e);if(0!==g){g<0&&t.updateValue(s,h),s++;continue}const f=t.at(r),v=n[l],C=gv(r,f,l,v,e);if(0!==C){C<0&&t.updateValue(r,v),r--,l--;continue}const S=e(s,c),D=e(r,f),I=e(s,h);if(Object.is(I,D)){const L=e(l,v);Object.is(L,S)?(t.swap(s,r),t.updateValue(r,v),l--,r--):t.move(r,s),t.updateValue(s,h),s++}else if(i??=new fD,o??=pD(t,s,r,e),pv(t,i,s,I))t.updateValue(s,h),s++,r++;else if(o.has(I))i.set(S,t.detach(s)),r--;else{const L=t.create(s,n[s]);t.attach(s,L),s++,r++}}for(;s<=l;)gD(t,i,e,s,n[s]),s++}else if(null!=n){const l=n[Symbol.iterator]();let c=l.next();for(;!c.done&&s<=r;){const h=t.at(s),g=c.value,f=gv(s,h,s,g,e);if(0!==f)f<0&&t.updateValue(s,g),s++,c=l.next();else{i??=new fD,o??=pD(t,s,r,e);const v=e(s,g);if(pv(t,i,s,v))t.updateValue(s,g),s++,r++,c=l.next();else if(o.has(v)){const C=e(s,h);i.set(C,t.detach(s)),r--}else t.attach(s,t.create(s,g)),s++,r++,c=l.next()}}for(;!c.done;)gD(t,i,e,t.length,c.value),c=l.next()}for(;s<=r;)t.destroy(t.detach(r--));i?.forEach(l=>{t.destroy(l)})}(l,t,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){const c=Br(),h=0===l.length;if(_o(i,c,h)){const g=e+2,f=$f(i,g);if(h){const v=mv(o,g),C=null;Ld(f,Pd(i,v,void 0,{dehydratedView:C}),0,Lc(v,C))}else o.firstUpdatePass&&function ff(t){const n=t[6]??[],i=t[3][11],o=[];for(const s of n)void 0!==s.data.di?o.push(s):cA(s,i);t[6]=o}(f),h7(f,0)}}}finally{U(n)}}function $f(t,n){return t[n]}function mv(t,n){return hd(t,n)}function m(t,n,e){const i=Ue();return _o(i,Br(),n)&&(On(),r7(C1(),i,t,n,i[11],e)),m}function vv(t,n,e,i,o){lf(n,t,e,o?"class":"style",i)}function d(t,n,e,i){const o=Ue(),s=o[1],r=t+26,a=s.firstCreatePass?S7(r,o,2,n,l7,q8(),e,i):s.data[r];if(rf(a,o,t,n,Cv),cd(a)){const l=o[1];nf(l,o,a),zm(l,a,o)}return null!=i&&yd(o,a),d}function u(){const t=On(),e=af(Sn());return t.firstCreatePass&&E7(t,e),Zb(e)&&Wb(),Ub(),null!=e.classesWithoutHost&&function Hj(t){return!!(8&t.flags)}(e)&&vv(t,e,Ue(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Gj(t){return!!(16&t.flags)}(e)&&vv(t,e,Ue(),e.stylesWithoutHost,!1),u}function O(t,n,e,i){return d(t,n,e,i),u(),O}function Hn(t,n,e,i){const o=Ue(),s=o[1],r=t+26,a=s.firstCreatePass?bA(r,s,2,n,e,i):s.data[r];return rf(a,o,t,n,Cv),null!=i&&yd(o,a),Hn}function Jn(){return Zb(af(Sn()))&&Wb(),Ub(),Jn}function Kr(t,n,e,i){return Hn(t,n,e,i),Jn(),Kr}let Cv=(t,n,e,i,o)=>(Fh(!0),Yp(n[11],i,function uj(){return bn.lFrame.currentNamespace}()));function ge(t,n,e){const i=Ue(),o=i[1],s=t+26,r=o.firstCreatePass?S7(s,i,8,"ng-container",l7,q8(),n,e):o.data[s];if(rf(r,i,t,"ng-container",wv),cd(r)){const a=i[1];nf(a,i,r),zm(a,r,i)}return null!=e&&yd(i,r),ge}function ue(){const t=On(),e=af(Sn());return t.firstCreatePass&&E7(t,e),ue}function Mn(t,n,e){return ge(t,n,e),ue(),Mn}function Bf(t,n,e){const i=Ue(),o=i[1],s=t+26,r=o.firstCreatePass?bA(s,o,8,"ng-container",n,e):o.data[s];return rf(r,i,t,"ng-container",wv),null!=e&&yd(i,r),Bf}function Mv(){return af(Sn()),ue}function Tv(t,n,e){return Bf(t,n,e),Mv(),Tv}let wv=(t,n,e,i,o)=>(Fh(!0),Xm(n[11],""));function k(){return Ue()}function zi(t,n,e){const i=Ue();return _o(i,Br(),n)&&(On(),a7(C1(),i,t,n,i[11],e)),zi}const jc=void 0;var kJ=["en",[["a","p"],["AM","PM"],jc],[["AM","PM"],jc,jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jc,"{1} 'at' {0}",jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FJ(t){const n=Math.floor(Math.abs(t)),e=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===e?1:5}];let Xd={};function br(t){const n=function HJ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=CD(n);if(e)return e;const i=n.split("-")[0];if(e=CD(i),e)return e;if("en"===i)return kJ;throw new De(701,!1)}function CD(t){return t in Xd||(Xd[t]=Lo.ng&&Lo.ng.common&&Lo.ng.common.locales&&Lo.ng.common.locales[t]),Xd[t]}var go=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(go||{});const GJ=["zero","one","two","few","many"],Uf="en-US",jf={marker:"element"},Zf={marker:"ICU"};var qr=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(qr||{});let MD=Uf,Eu=0,Ou=0;let Au=(t,n,e,i)=>(Fh(!0),function TD(t,n,e){const i=t[11];switch(e){case Node.COMMENT_NODE:return Xm(i,n);case Node.TEXT_NODE:return Wm(i,n);case Node.ELEMENT_NODE:return Yp(i,n,null)}}(t,e,i));function wD(t,n,e,i){const o=e[11];let r,s=null;for(let a=0;a<n.length;a++){const l=n[a];if("string"==typeof l){const c=n[++a];null===e[c]&&(e[c]=Au(e,0,l,Node.TEXT_NODE))}else if("number"==typeof l)switch(1&l){case 0:const c=YO(l);let h,g;if(null===s&&(s=c,r=o.parentNode(i)),c===s?(h=i,g=r):(h=null,g=Rs(e[c])),null!==g){const S=QO(l);Pc(o,g,e[S],h,!1);const I=au(t,S);if(null!==I&&"object"==typeof I){const L=_f(I,e);null!==L&&wD(t,I.create[L],e,e[I.anchorIdx])}}break;case 1:const v=n[++a],C=n[++a];sf(o,dd(l>>>1,e),null,null,v,C,null)}else switch(l){case Zf:const c=n[++a],h=n[++a];null===e[h]&&Zr(e[h]=Au(e,0,c,Node.COMMENT_NODE),e);break;case jf:const g=n[++a],f=n[++a];null===e[f]&&Zr(e[f]=Au(e,0,g,Node.ELEMENT_NODE),e)}}}function bD(t,n,e,i,o){for(let s=0;s<e.length;s++){const r=e[s],a=e[++s];if(r&o){let l="";for(let c=s+1;c<=s+a;c++){const h=e[c];if("string"==typeof h)l+=h;else if("number"==typeof h)if(h<0)l+=En(n[i-h]);else{const g=h>>>2;switch(3&h){case 1:const f=e[++c],v=e[++c],C=t.data[g];"string"==typeof C?sf(n[11],n[g],null,C,f,l,v):r7(C,n,f,l,n[11],v);break;case 0:const S=n[g];null!==S&&uO(n[11],S,l);break;case 2:qJ(t,au(t,g),n,l);break;case 3:SD(t,au(t,g),i,n)}}}}else{const l=e[s+1];if(l>0&&!(3&~l)){const h=au(t,l>>>2);n[h.currentCaseLViewIndex]<0&&SD(t,h,i,n)}}s+=a}}function SD(t,n,e,i){let o=i[n.currentCaseLViewIndex];if(null!==o){let s=Eu;o<0&&(o=i[n.currentCaseLViewIndex]=~o,s=-1),bD(t,i,n.update[o],e,s)}}function qJ(t,n,e,i){const o=function YJ(t,n){let e=t.cases.indexOf(n);if(-1===e)switch(t.type){case 1:{const i=function $J(t,n){const e=function vD(t){return br(t)[go.PluralCase]}(n)(parseInt(t,10)),i=GJ[e];return void 0!==i?i:"other"}(n,function jJ(){return MD}());e=t.cases.indexOf(i),-1===e&&"other"!==i&&(e=t.cases.indexOf("other"));break}case 0:e=t.cases.indexOf("other")}return-1===e?null:e}(n,i);if(_f(n,e)!==o&&(ED(t,n,e),e[n.currentCaseLViewIndex]=null===o?null:~o,null!==o)){const r=e[n.anchorIdx];r&&wD(t,n.create[o],e,r)}}function ED(t,n,e){let i=_f(n,e);if(null!==i){const o=n.remove[i];for(let s=0;s<o.length;s++){const r=o[s];if(r>0){const a=dd(r,e);null!==a&&Yh(e[11],a)}else ED(t,au(t,~r),e)}}}const Wf=/\ufffd(\d+):?\d*\ufffd/gi,QJ=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,JJ=/\ufffd(\d+)\ufffd/,AD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,eee=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,tee=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,nee=/\uE500/g;function ND(t,n,e,i,o,s,r){const a=Qh(t,i,1,null);let l=a<<qr.SHIFT,c=Rh();n===c&&(c=null),null===c&&(l|=qr.APPEND_EAGERLY),r&&(l|=qr.COMMENT,function vX(t){void 0===Qm&&(Qm=t())}(mK)),o.push(l,null===s?"":s);const h=p7(t,a,r?32:1,null===s?"":s,null);KO(e,h);const g=h.index;return P0(h,!1),null!==c&&n!==c&&function gK(t,n){let e=t.insertBeforeIndex;null===e?(EO(WO,XO),e=t.insertBeforeIndex=[null,n]):(dl(Array.isArray(e),!0,"Expecting array here"),e.push(n))}(c,g),h}function see(t,n,e,i,o,s,r,a){const l=a.match(Wf),h=ND(n,e,i,r,o,l?null:a,!1).index;l&&Du(s,a,h,null,0,null),t.push({kind:0,index:h})}function Du(t,n,e,i,o,s){const r=t.length,a=r+1;t.push(null,null);const l=r+2,c=n.split(Wf);let h=0;for(let g=0;g<c.length;g++){const f=c[g];if(1&g){const v=o+parseInt(f,10);t.push(-1-v),h|=DD(v)}else""!==f&&t.push(f)}return t.push(e<<2|(i?1:0)),i&&t.push(i,s),t[r]=h,t[a]=t.length-l,h}function aee(t){let n=0;for(let e=0;e<t.length;e++){const i=t[e];"number"==typeof i&&i<0&&n++}return n}function DD(t){return 1<<Math.min(t,31)}function yD(t){let n,s,e="",i=0,o=!1;for(;null!==(n=eee.exec(t));)o?n[0]===`\ufffd/*${s}\ufffd`&&(i=n.index,o=!1):(e+=t.substring(i,n.index+n[0].length),s=n[1],o=!0);return e+=t.slice(i),e}function PD(t,n,e,i,o,s,r){let a=0;const l={type:s.type,currentCaseLViewIndex:Qh(n,e,1,null),anchorIdx:r,cases:[],create:[],remove:[],update:[]};(function uee(t,n,e){t.push(DD(n.mainBinding),2,-1-n.mainBinding,e<<2|2)})(i,s,r),function _K(t,n,e){const i=t.data[n];null===i?t.data[n]=e:i.value=e}(n,r,l);const c=s.values,h=[];for(let g=0;g<c.length;g++){const f=c[g],v=[];for(let S=0;S<f.length;S++){const D=f[S];if("string"!=typeof D){const I=v.push(D)-1;f[S]=`\x3c!--\ufffd${I}\ufffd--\x3e`}}const C=[];h.push(C),a=dee(C,n,l,e,i,o,s.cases[g],f.join(""),v)|a}a&&function _ee(t,n,e){t.push(n,1,e<<2|3)}(i,a,r),t.push({kind:3,index:r,cases:h,currentCaseLViewIndex:l.currentCaseLViewIndex})}function cee(t){const n=[],e=[];let i=1,o=0;const s=bv(t=t.replace(AD,function(r,a,l){return i="select"===l?0:1,o=parseInt(a.slice(1),10),""}));for(let r=0;r<s.length;){let a=s[r++].trim();1===i&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&n.push(a);const l=bv(s[r++]);n.length>e.length&&e.push(l)}return{type:i,mainBinding:o,cases:n,values:e}}function bv(t){if(!t)return[];let n=0;const e=[],i=[],o=/[{}]/g;let s;for(o.lastIndex=0;s=o.exec(t);){const a=s.index;if("}"==s[0]){if(e.pop(),0==e.length){const l=t.substring(n,a);AD.test(l)?i.push(cee(l)):i.push(l),n=a+1}}else{if(0==e.length){const l=t.substring(n,a);i.push(l),n=a+1}e.push("{")}}const r=t.substring(n);return i.push(r),i}function dee(t,n,e,i,o,s,r,a,l){const c=[],h=[],g=[];e.cases.push(r),e.create.push(c),e.remove.push(h),e.update.push(g);const v=jE(vl()).getInertBodyElement(a),C=$m(v)||v;return C?ID(t,n,e,i,o,c,h,g,C,s,l,0):0}function ID(t,n,e,i,o,s,r,a,l,c,h,g){let f=0,v=l.firstChild;for(;v;){const C=Qh(n,i,1,null);switch(v.nodeType){case Node.ELEMENT_NODE:const S=v,D=S.tagName.toLowerCase();if(Hm.hasOwnProperty(D)){Sv(s,jf,D,c,C),n.data[C]=D;const R=S.attributes;for(let se=0;se<R.length;se++){const ve=R.item(se),pe=ve.name.toLowerCase();ve.value.match(Wf)?KE.hasOwnProperty(pe)&&Du(a,ve.value,C,ve.name,0,Gm[pe]?Wp:null):gee(s,C,ve)}const J={kind:1,index:C,children:[]};t.push(J),f=ID(J.children,n,e,i,o,s,r,a,v,C,h,g+1)|f,LD(r,C,g)}break;case Node.TEXT_NODE:const I=v.textContent||"",L=I.match(Wf);Sv(s,null,L?"":I,c,C),LD(r,C,g),L&&(f=Du(a,I,C,null,0,null)|f),t.push({kind:0,index:C});break;case Node.COMMENT_NODE:const G=JJ.exec(v.textContent||"");if(G){const J=h[parseInt(G[1],10)];Sv(s,Zf,"",c,C),PD(t,n,i,o,c,J,C),hee(r,C,g)}}v=v.nextSibling}return f}function LD(t,n,e){0===e&&t.push(n)}function hee(t,n,e){0===e&&(t.push(~n),t.push(n))}function Sv(t,n,e,i,o){null!==n&&t.push(n),t.push(e,o,function fK(t,n,e){return t|n<<17|e<<1}(0,i,o))}function gee(t,n,e){t.push(n<<1|1,e.name,e.value)}const pee=/\[(\ufffd.+?\ufffd?)\]/,fee=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,mee=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,vee=/{([A-Z0-9_]+)}/g,Cee=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Mee=/\/\*/,Tee=/\d+\:(\d+)/;function Sr(t,n,e=-1){const i=On(),o=Ue(),s=26+t,r=ir(i.consts,n),a=Rh();i.firstCreatePass&&function oee(t,n,e,i,o,s){const r=Rh(),a=[],l=[],c=[[]],h=[[]];o=function lee(t,n){if(function eA(t){return-1===t}(n))return yD(t);{const e=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,i=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return yD(t.substring(e,i))}}(o,s);const g=function iee(t){return t.replace(nee," ")}(o).split(tee);for(let f=0;f<g.length;f++){let v=g[f];if(1&f){const C=47===v.charCodeAt(0),S=v.charCodeAt(C?1:0),D=26+Number.parseInt(v.substring(C?2:1));if(C)c.shift(),h.shift(),P0(Rh(),!1);else{const I=pK(t,c[0],D);c.unshift([]),P0(I,!0);const L={kind:2,index:D,children:[],type:35===S?0:1};h[0].push(L),h.unshift(L.children)}}else{const C=bv(v);for(let S=0;S<C.length;S++){let D=C[S];if(1&S){const I=D;if("object"!=typeof I)throw new Error(`Unable to parse ICU expression in "${o}" message.`);const G=ND(t,r,c[0],e,a,"",!0).index;PD(h[0],t,e,l,n,I,G)}else""!==D&&see(h[0],t,r,c[0],a,l,e,D)}}}t.data[i]={create:a,update:l,ast:h[0],parentTNodeIndex:n}}(i,null===a?0:a.index,o,s,r,e),2===i.type?o[15][2]|=32:o[2]|=32;const l=i.data[s],h=TO(i,a===o[5]?null:a,o);(function KJ(t,n,e,i){const o=t[11];for(let s=0;s<n.length;s++){const r=n[s++],c=(r&qr.APPEND_EAGERLY)===qr.APPEND_EAGERLY,h=r>>>qr.SHIFT;let g=t[h],f=!1;null===g&&(g=t[h]=Au(t,0,n[s],(r&qr.COMMENT)===qr.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),f=Sp()),c&&null!==e&&f&&Pc(o,e,g,i,!1)}})(o,l.create,h,a&&8&a.type?o[a.index]:null),tS(!0)}function Er(){tS(!1)}function b(t,n,e){Sr(t,n,e),Er()}function Ev(t,n){const e=On();!function ree(t,n,e){const o=Sn().index,s=[];if(t.firstCreatePass&&null===t.data[n]){for(let r=0;r<e.length;r+=2){const a=e[r],l=e[r+1];if(""!==l){if(QJ.test(l))throw new Error(`ICU expressions are not supported in attributes. Message: "${l}".`);Du(s,l,o,a,aee(s),null)}}t.data[n]=s}}(e,t+26,ir(e.consts,n))}function An(t){return function ZJ(t){t&&(Eu|=1<<Math.min(Ou,31)),Ou++}(_o(Ue(),Br(),t)),An}function In(t){!function WJ(t,n,e){if(Ou>0){const i=t.data[e];bD(t,n,Array.isArray(i)?i:i.update,I0()-Ou-1,Eu)}Eu=0,Ou=0}(On(),Ue(),t+26)}function Ma(t,n={}){return function wee(t,n={}){let e=t;if(pee.test(t)){const i={},o=[0];e=e.replace(fee,(s,r,a)=>{const l=r||a,c=i[l]||[];if(c.length||(l.split("|").forEach(S=>{const D=S.match(Tee),I=D?parseInt(D[1],10):0,L=Mee.test(S);c.push([I,L,S])}),i[l]=c),!c.length)throw new Error(`i18n postprocess: unmatched placeholder - ${l}`);const h=o[o.length-1];let g=0;for(let S=0;S<c.length;S++)if(c[S][0]===h){g=S;break}const[f,v,C]=c[g];return v?o.pop():h!==f&&o.push(f),c.splice(g,1),C})}return Object.keys(n).length&&(e=e.replace(mee,(i,o,s,r,a,l)=>n.hasOwnProperty(s)?`${o}${n[s]}${l}`:i),e=e.replace(vee,(i,o)=>n.hasOwnProperty(o)?n[o]:i),e=e.replace(Cee,(i,o)=>{if(n.hasOwnProperty(o)){const s=n[o];if(!s.length)throw new Error(`i18n postprocess: unmatched ICU - ${i} with key: ${o}`);return s.shift()}return i})),e}(t,n)}function E(t,n,e){const i=Ue(),o=On(),s=Sn();return Ov(o,i,i[11],s,t,n,e),E}function Yr(t,n,e){const i=Ue(),o=On(),s=Sn();return(3&s.type||e)&&EA(s,o,i,e,i[11],t,n,gu(s,i,n)),Yr}function Ov(t,n,e,i,o,s,r){let a=!0,l=null;if((3&i.type||r)&&(l??=gu(i,n,s),EA(i,t,n,r,e,o,s,l)&&(a=!1)),a){const c=i.outputs?.[o],h=i.hostDirectiveOutputs?.[o];if(h&&h.length)for(let g=0;g<h.length;g+=2){const f=h[g],v=h[g+1];l??=gu(i,n,s),Sf(i,n,f,v,o,l)}if(c&&c.length)for(const g of c)l??=gu(i,n,s),Sf(i,n,g,o,o,l)}}function p(t=1){return function cj(t){return(bn.lFrame.contextLView=Hb(t,bn.lFrame.contextLView))[8]}(t)}function bee(t,n){let e=null;const i=function aX(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const s=n[o];if("*"!==s){if(null===i?dO(t,s,!0):dX(i,s))return o}else e=o}return e}function or(t){const n=Ue()[15][5];if(!n.projection){const i=n.projection=function dp(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}(t?t.length:1,null),o=i.slice();let s=n.child;for(;null!==s;){if(128!==s.type){const r=t?bee(s,t):0;null!==r&&(o[r]?o[r].projectionNext=s:i[r]=s,o[r]=s)}s=s.next}}}function sr(t,n=0,e,i,o,s){const r=Ue(),a=On(),l=i?t+1:null;null!==l&&Vc(r,a,l,i,o,s,null,e);const c=Rc(a,26+t,16,null,e||null);null===c.projection&&(c.projection=n),qb();const g=!r[6]||jb();null===r[15][5].projection[c.projection]&&null!==l?function See(t,n,e){const i=26+e,o=n.data[i],s=t[i];Ld(s,Pd(t,o,void 0,{dehydratedView:null}),0,Lc(o,null))}(r,a,l):g&&!Hp(c)&&function bX(t,n,e){AO(n[11],0,n,e,n7(t,e,n),wO(e.parent||n[5],e,n))}(a,r,c)}function ui(t,n,e,i){!function VA(t,n,e,i){const o=On();if(o.firstCreatePass){const s=Sn();HA(o,new xA(n,e,i),s.index),function zq(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),!(2&~e)&&(o.staticContentQueries=!0)}return kA(o,Ue(),e)}(t,n,e,i)}function Tn(t,n,e){!function zA(t,n,e){const i=On();return i.firstCreatePass&&(HA(i,new xA(t,n,e),-1),!(2&~n)&&(i.staticViewQueries=!0)),kA(i,Ue(),n)}(t,n,e)}function Mt(t){const n=Ue(),e=On(),i=J8();bp(i+1);const o=x7(e,i);if(t.dirty&&function JU(t){return!(4&~t[2])}(n)===!(2&~o.metadata.flags)){if(null===o.matches)t.reset([]);else{const s=GA(n,i);t.reset(s,XS),t.notifyOnChanges()}return!0}return!1}function Tt(){return function R7(t,n){return t[18].queries[n].queryList}(Ue(),J8())}function xe(t){return Ec(Yb(),26+t)}function Xf(t,n){return t<<17|n<<2}function Zc(t){return t>>17&32767}function Av(t){return 2|t}function Kd(t){return(131068&t)>>2}function Nv(t,n){return-131069&t|n<<2}function Dv(t){return 1|t}function FD(t,n,e,i){const o=t[e+1],s=null===n;let r=i?Zc(o):Kd(o),a=!1;for(;0!==r&&(!1===a||s);){const c=t[r+1];Lee(t[r],n)&&(a=!0,t[r+1]=i?Dv(c):Av(c)),r=i?Zc(c):Kd(c)}a&&(t[e+1]=i?Av(o):Dv(o))}function Lee(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&yh(t,n)>=0}const ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kD(t){return t.substring(ws.key,ws.keyEnd)}function Ree(t){return t.substring(ws.value,ws.valueEnd)}function zD(t,n){const e=ws.textEnd;return e===n?-1:(n=ws.keyEnd=function kee(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,ws.key=n,e),qd(t,n,e))}function VD(t,n){const e=ws.textEnd;let i=ws.key=qd(t,n,e);return e===i?-1:(i=ws.keyEnd=function zee(t,n,e){let i;for(;n<e&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,e),i=GD(t,i,e),i=ws.value=qd(t,i,e),i=ws.valueEnd=function Vee(t,n,e){let i=-1,o=-1,s=-1,r=n,a=r;for(;r<e;){const l=t.charCodeAt(r++);if(59===l)return a;34===l||39===l?a=r=$D(t,l,r,e):n===r-4&&85===s&&82===o&&76===i&&40===l?a=r=$D(t,41,r,e):l>32&&(a=r),s=o,o=i,i=-33&l}return a}(t,i,e),GD(t,i,e))}function HD(t){ws.key=0,ws.keyEnd=0,ws.value=0,ws.valueEnd=0,ws.textEnd=t.length}function qd(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function GD(t,n,e,i){return(n=qd(t,n,e))<e&&n++,n}function $D(t,n,e,i){let o=-1,s=e;for(;s<i;){const r=t.charCodeAt(s++);if(r==n&&92!==o)return s;o=92==r&&92===o?0:r}throw new Error}function Qr(t,n,e){return BD(t,n,e,!1),Qr}function we(t,n){return BD(t,n,null,!0),we}function yu(t){UD(WD,Hee,t,!1)}function Hee(t,n){for(let e=function Fee(t){return HD(t),VD(t,qd(t,0,ws.textEnd))}(n);e>=0;e=VD(n,e))WD(t,kD(n),Ree(n))}function Zi(t){UD(Wee,Gee,t,!0)}function Gee(t,n){for(let e=function xee(t){return HD(t),zD(t,qd(t,0,ws.textEnd))}(n);e>=0;e=zD(n,e))hp(t,kD(n),!0)}function BD(t,n,e,i){const o=Ue(),s=On(),r=L0(2);s.firstUpdatePass&&ZD(s,t,r,i),n!==Bi&&_o(o,r,n)&&XD(s,s.data[Hs()],o,o[11],t,o[r+1]=function Kee(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Hr(Ca(t)))),t}(n,e),i,r)}function UD(t,n,e,i){const o=On(),s=L0(2);o.firstUpdatePass&&ZD(o,null,s,i);const r=Ue();if(e!==Bi&&_o(r,s,e)){const a=o.data[Hs()];if(qD(a,i)&&!jD(o,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=M8(l,e||"")),vv(o,a,r,e,i)}else!function Xee(t,n,e,i,o,s,r,a){o===Bi&&(o=no);let l=0,c=0,h=0<o.length?o[0]:null,g=0<s.length?s[0]:null;for(;null!==h||null!==g;){const f=l<o.length?o[l+1]:void 0,v=c<s.length?s[c+1]:void 0;let S,C=null;h===g?(l+=2,c+=2,f!==v&&(C=g,S=v)):null===g||null!==h&&h<g?(l+=2,C=h):(c+=2,C=g,S=v),null!==C&&XD(t,n,e,i,C,S,r,a),h=l<o.length?o[l]:null,g=c<s.length?s[c]:null}}(o,a,r,r[11],r[s+1],r[s+1]=function Zee(t,n,e){if(null==e||""===e)return no;const i=[],o=Ca(e);if(Array.isArray(o))for(let s=0;s<o.length;s++)t(i,o[s],!0);else if("object"==typeof o)for(const s in o)o.hasOwnProperty(s)&&t(i,s,o[s]);else"string"==typeof o&&n(i,o);return i}(t,n,e),i,s)}}function jD(t,n){return n>=t.expandoStartIndex}function ZD(t,n,e,i){const o=t.data;if(null===o[e+1]){const s=o[Hs()],r=jD(t,e);qD(s,i)&&null===n&&!r&&(n=!1),n=function $ee(t,n,e,i){const o=function Q8(t){const n=bn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=i?n.residualClasses:n.residualStyles;if(null===o)0===(i?n.classBindings:n.styleBindings)&&(e=Pu(e=yv(null,t,n,e,i),n.attrs,i),s=null);else{const r=n.directiveStylingLast;if(-1===r||t[r]!==o)if(e=yv(o,t,n,e,i),null===s){let l=function Bee(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==Kd(i))return t[Zc(i)]}(t,n,i);void 0!==l&&Array.isArray(l)&&(l=yv(null,t,n,l[1],i),l=Pu(l,n.attrs,i),function Uee(t,n,e,i){t[Zc(e?n.classBindings:n.styleBindings)]=i}(t,n,i,l))}else s=function jee(t,n,e){let i;const o=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<o;s++)i=Pu(i,t[s].hostAttrs,e);return Pu(i,n.attrs,e)}(t,n,i)}return void 0!==s&&(i?n.residualClasses=s:n.residualStyles=s),e}(o,s,n,i),function Pee(t,n,e,i,o,s){let r=s?n.classBindings:n.styleBindings,a=Zc(r),l=Kd(r);t[i]=e;let h,c=!1;if(Array.isArray(e)?(h=e[1],(null===h||yh(e,h)>0)&&(c=!0)):h=e,o)if(0!==l){const f=Zc(t[a+1]);t[i+1]=Xf(f,a),0!==f&&(t[f+1]=Nv(t[f+1],i)),t[a+1]=function Dee(t,n){return 131071&t|n<<17}(t[a+1],i)}else t[i+1]=Xf(a,0),0!==a&&(t[a+1]=Nv(t[a+1],i)),a=i;else t[i+1]=Xf(l,0),0===a?a=i:t[l+1]=Nv(t[l+1],i),l=i;c&&(t[i+1]=Av(t[i+1])),FD(t,h,i,!0),FD(t,h,i,!1),function Iee(t,n,e,i,o){const s=o?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&yh(s,n)>=0&&(e[i+1]=Dv(e[i+1]))}(n,h,t,i,s),r=Xf(a,l),s?n.classBindings=r:n.styleBindings=r}(o,s,n,e,r,i)}}function yv(t,n,e,i,o){let s=null;const r=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<r&&(s=n[a],i=Pu(i,s.hostAttrs,o),s!==t);)a++;return null!==t&&(e.directiveStylingLast=a),i}function Pu(t,n,e){const i=e?1:2;let o=-1;if(null!==n)for(let s=0;s<n.length;s++){const r=n[s];"number"==typeof r?o=r:o===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hp(t,r,!!e||n[++s]))}return void 0===t?null:t}function WD(t,n,e){hp(t,n,Ca(e))}function Wee(t,n,e){const i=String(n);""!==i&&!i.includes(" ")&&hp(t,i,e)}function XD(t,n,e,i,o,s,r,a){if(!(3&n.type))return;const l=t.data,c=l[a+1],h=function yee(t){return!(1&~t)}(c)?KD(l,n,e,o,Kd(c),r):void 0;Kf(h)||(Kf(s)||function Nee(t){return!(2&~t)}(c)&&(s=KD(l,null,e,o,a,r)),function EX(t,n,e,i,o){if(n)o?t.addClass(e,i):t.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Ml.DashCase;null==o?t.removeStyle(e,i,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Ml.Important),t.setStyle(e,i,o,s))}}(i,r,dd(Hs(),e),o,s))}function KD(t,n,e,i,o,s){const r=null===n;let a;for(;o>0;){const l=t[o],c=Array.isArray(l),h=c?l[1]:l,g=null===h;let f=e[o+1];f===Bi&&(f=g?no:void 0);let v=g?P8(f,i):h===i?f:void 0;if(c&&!Kf(v)&&(v=P8(l,i)),Kf(v)&&(a=v,r))return a;const C=t[o+1];o=r?Zc(C):Kd(C)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=P8(l,i))}return a}function Kf(t){return void 0!==t}function qD(t,n){return!!(t.flags&(n?8:16))}function N(t,n=""){const e=Ue(),i=On(),o=t+26,s=i.firstCreatePass?Rc(i,o,1,n,null):i.data[o],r=YD(i,e,s,n,t);e[o]=r,Sp()&&o7(i,e,r,s),P0(s,!1)}let YD=(t,n,e,i,o)=>(Fh(!0),Wm(n[11],i));function JD(t,n,e,i=""){return _o(t,Br(),e)?n+En(e)+i:Bi}function ey(t,n,e,i,o,s=""){const a=kc(t,I0(),e,o);return L0(2),a?n+En(e)+i+En(o)+s:Bi}function oe(t){return He("",t),oe}function He(t,n,e){const i=Ue(),o=JD(i,t,n,e);return o!==Bi&&z0(i,Hs(),o),He}function Jr(t,n,e,i,o){const s=Ue(),r=ey(s,t,n,e,i,o);return r!==Bi&&z0(s,Hs(),r),Jr}function z0(t,n,e){const i=dd(n,t);uO(t[11],i,e)}function Le(t,n,e){gS(n)&&(n=n());const i=Ue();return _o(i,Br(),n)&&(On(),r7(C1(),i,t,n,i[11],e)),Le}function Pe(t,n){const e=gS(t);return e&&t.set(n),e}function Re(t,n){const e=Ue(),i=On(),o=Sn();return Ov(i,e,e[11],o,t,n),Re}const gy={};function Pv(t){const n=On(),e=Ue(),i=t+26;return P0(Rc(n,i,128,null,null),!1),U8(n,e,i,gy),Pv}function Iu(t){const e=Ec(Yb(),26+t);if(e===gy)throw new De(314,!1);return e}function ni(t){return _o(Ue(),Br(),t)?En(t):Bi}function Lt(t,n,e=""){return JD(Ue(),t,n,e)}function e1(t,n,e,i,o=""){return ey(Ue(),t,n,e,i,o)}function Iv(t,n,e,i,o){if(t=Fn(t),Array.isArray(t))for(let s=0;s<t.length;s++)Iv(t[s],n,e,i,o);else{const s=On(),r=Ue(),a=Sn();let l=E0(t)?t:Fn(t.provide);const c=yb(t),h=1048575&a.providerIndexes,g=a.directiveStart,f=a.providerIndexes>>20;if(E0(t)||!t.multi){const v=new Vh(c,o,Ve,null),C=Rv(l,n,o?h:h+f,g);-1===C?(_m(yp(a,r),s,l),Lv(s,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(v),r.push(v)):(e[C]=v,r[C]=v)}else{const v=Rv(l,n,h+f,g),C=Rv(l,n,h,h+f),D=C>=0&&e[C];if(o&&!D||!o&&!(v>=0&&e[v])){_m(yp(a,r),s,l);const I=function lte(t,n,e,i,o){const r=new Vh(t,e,Ve,null);return r.multi=[],r.index=n,r.componentProviders=0,fy(r,o,i&&!e),r}(o?ate:rte,e.length,o,i,c);!o&&D&&(e[C].providerFactory=I),Lv(s,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(I),r.push(I)}else Lv(s,t,v>-1?v:C,fy(e[o?C:v],c,!o&&i));!o&&i&&D&&e[C].componentProviders++}}}function Lv(t,n,e,i){const o=E0(n),s=function Nb(t){return!!t.useClass}(n);if(o||s){const l=(s?Fn(n.useClass):n).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const h=c.indexOf(e);-1===h?c.push(e,[i,l]):c[h+1].push(i,l)}else c.push(e,l)}}}function fy(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Rv(t,n,e,i){for(let o=e;o<i;o++)if(n[o]===t)return o;return-1}function rte(t,n,e,i,o){return xv(this.multi,[])}function ate(t,n,e,i,o){const s=this.multi;let r;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=$h(i,i[1],this.providerFactory.index,o);r=l.slice(0,a),xv(s,r);for(let c=a;c<l.length;c++)r.push(l[c])}else r=[],xv(s,r);return r}function xv(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function qt(t,n=[]){return e=>{e.providersResolver=(i,o)=>function ste(t,n,e){const i=On();if(i.firstCreatePass){const o=va(t);Iv(e,i.data,i.blueprint,o,!0),Iv(n,i.data,i.blueprint,o,!1)}}(i,o?o(t):t,n)}}function Yd(t,n,e){const i=Tr()+t,o=Ue();return o[i]===Bi?Y1(o,i,e?n.call(e):n()):function _u(t,n){return t[n]}(o,i)}function ei(t,n,e,i){return vy(Ue(),Tr(),t,n,e,i)}function $e(t,n,e,i,o){return Cy(Ue(),Tr(),t,n,e,i,o)}function Wc(t,n,e,i,o,s){return My(Ue(),Tr(),t,n,e,i,o,s)}function Fv(t,n,e,i,o,s,r){return Ty(Ue(),Tr(),t,n,e,i,o,s,r)}function Lu(t,n){const e=t[n];return e===Bi?void 0:e}function vy(t,n,e,i,o,s){const r=n+e;return _o(t,r,o)?Y1(t,r+1,s?i.call(s,o):i(o)):Lu(t,r+1)}function Cy(t,n,e,i,o,s,r){const a=n+e;return kc(t,a,o,s)?Y1(t,a+2,r?i.call(r,o,s):i(o,s)):Lu(t,a+2)}function My(t,n,e,i,o,s,r,a){const l=n+e;return function bf(t,n,e,i,o){const s=kc(t,n,e,i);return _o(t,n+2,o)||s}(t,l,o,s,r)?Y1(t,l+3,a?i.call(a,o,s,r):i(o,s,r)):Lu(t,l+3)}function Ty(t,n,e,i,o,s,r,a,l){const c=n+e;return function Qa(t,n,e,i,o,s){const r=kc(t,n,e,i);return kc(t,n+2,o,s)||r}(t,c,o,s,r,a)?Y1(t,c+4,l?i.call(l,o,s,r,a):i(o,s,r,a)):Lu(t,c+4)}function Fe(t,n){const e=On();let i;const o=t+26;e.firstCreatePass?(i=function vte(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[o]=i,i.onDestroy&&(e.destroyHooks??=[]).push(o,i.onDestroy)):i=e.data[o];const s=i.factory||(i.factory=Mc(i.type)),a=Gr(Ve);try{const l=Dp(!1),c=s();return Dp(l),U8(e,Ue(),o,c),c}finally{Gr(a)}}function lt(t,n,e){const i=t+26,o=Ue(),s=Ec(o,i);return xu(o,i)?vy(o,Tr(),n,s.transform,e,s):s.transform(e)}function zo(t,n,e,i){const o=t+26,s=Ue(),r=Ec(s,o);return xu(s,o)?Cy(s,Tr(),n,r.transform,e,i,r):r.transform(e,i)}function V0(t,n,e,i,o){const s=t+26,r=Ue(),a=Ec(r,s);return xu(r,s)?My(r,Tr(),n,a.transform,e,i,o,a):a.transform(e,i,o)}function Ru(t,n,e,i,o,s){const r=t+26,a=Ue(),l=Ec(a,r);return xu(a,r)?Ty(a,Tr(),n,l.transform,e,i,o,s,l):l.transform(e,i,o,s)}function xu(t,n){return t[1].data[n].pure}function xt(t,n){return hf(t,n)}class Wte{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let Xte=(()=>{class t{compileModuleSync(e){return new XA(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=q1(Z1(e).declarations).reduce((r,a)=>{const l=Ai(a);return l&&r.push(new pu(l)),r},[]);return new Wte(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qte=(()=>{class t{zone=M(un);changeDetectionScheduler=M(Ac);applicationRef=M(Ja);applicationErrorHandler=M(M1);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gv({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new un({...$v(),scheduleInRootZone:e}),[{provide:un,useFactory:t},{provide:hl,multi:!0,useFactory:()=>{const i=M(qte,{optional:!0});return()=>i.initialize()}},{provide:hl,multi:!0,useFactory:()=>{const i=M(Qte);return()=>{i.initialize()}}},!0===n?{provide:fS,useValue:!0}:[],{provide:mS,useValue:e??hN},{provide:M1,useFactory:()=>{const i=M(un),o=M(cs);let s;return r=>{i.runOutsideAngular(()=>{o.destroyed&&!s?setTimeout(()=>{throw r}):(s??=o.get(gd),s.handleError(r))})}}}]}function $v(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let Qte=(()=>{class t{subscription=new Li;initialized=!1;zone=M(un);pendingTasks=M(fl);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{un.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{un.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Uv=(()=>{class t{applicationErrorHandler=M(M1);appRef=M(Ja);taskService=M(fl);ngZone=M(un);zonelessEnabled=M(pS);tracing=M(Mu,{optional:!0});disableScheduling=M(fS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Li;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(mS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Z7||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;let i=!1;switch(e){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,i=!0;break;case 12:this.appRef.dirtyFlags|=16,i=!0;break;case 11:i=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;const o=this.useMicrotaskScheduler?_N:uN;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(e),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,_N(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ea=new Qe("",{providedIn:"root",factory:()=>M(ea,{optional:!0,skipSelf:!0})||function Jte(){return typeof $localize<"u"&&$localize.locale||Uf}()}),ene=new Qe("",{providedIn:"root",factory:()=>"USD"}),t3=Symbol("InputSignalNode#UNSET"),jy={...vn,transformFn:void 0,applyValueToInputSignal(t,n){fr(t,n)}};function Zy(t,n){const e=Object.create(jy);function i(){if(de(e),e.value===t3)throw new De(-950,null);return e.value}return e.value=t,e.transformFn=n?.transform,i[H]=e,i}class ane{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>T1(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function Wy(t,n){return Zy(t,n)}new Qe("").__NG_ELEMENT_ID__=t=>{const n=Sn();if(null===n)throw new De(204,!1);if(2&n.type)return n.value;if(8&t)return null;throw new De(204,!1)};const n3=(Wy.required=function cne(t){return Zy(t3,t)},Wy),o3=new Qe(""),gne=new Qe("");function ku(t){return!t.moduleRef}let Jy,Al=null;let Yo=(()=>class t{static __NG_ELEMENT_ID__=Tne})();function Tne(t){return function wne(t,n,e){if(N0(t)&&!e){const i=Mr(t.index,n);return new iu(i,i)}return 175&t.type?new iu(n[15],n):null}(Sn(),Ue(),!(16&~t))}class cP{constructor(){}supports(n){return n instanceof Map||O7(n)}create(){return new Ane}}class Ane{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||O7(n)))throw new De(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(o,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const o=this._records.get(n);this._maybeAddToChanges(o,e);const s=o._prev,r=o._next;return s&&(s._next=r),r&&(r._prev=s),o._next=null,o._prev=null,o}const i=new Nne(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class Nne{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}}function hP(){return new s3([new cP])}let s3=(()=>{class t{static \u0275prov=Te({token:t,providedIn:"root",factory:hP});factories;constructor(e){this.factories=e}static create(e,i){if(i){const o=i.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:()=>{const i=M(t,{optional:!0,skipSelf:!0});return t.create(e,i||hP())}}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new De(901,!1)}}return t})(),Pne=(()=>{class t{constructor(e){}static \u0275fac=function(i){return new(i||t)(Zt(Ja))};static \u0275mod=Kn({type:t});static \u0275inj=Bn({})}return t})();function Ine(t){ki(8);try{const{rootComponent:n,appProviders:e,platformProviders:i}=t,o=function Cne(t=[]){if(Al)return Al;const n=function iP(t=[],n){return Fi.create({name:n,providers:[{provide:k8,useValue:"platform"},{provide:o3,useValue:new Set([()=>Al=null])},...t]})}(t);return Al=n,function yQ(){!function Zo(t){xn=t}(()=>{throw new De(600,"")})}(),function oP(t){const n=t.get(gE,null);$r(t,()=>{n?.forEach(e=>e())})}(n),n}(i),s=[Gv({}),{provide:Ac,useExisting:Uv},uS,...e||[]];return function Qy(t){const n=ku(t)?t.r3Injector:t.moduleRef.injector,e=n.get(un);return e.run(()=>{ku(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const i=n.get(M1);let o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:i})}),ku(t)){const s=()=>n.destroy(),r=t.platformInjector.get(o3);r.add(s),n.onDestroy(()=>{o.unsubscribe(),r.delete(s)})}else{const s=()=>t.moduleRef.destroy(),r=t.platformInjector.get(o3);r.add(s),t.moduleRef.onDestroy(()=>{Ff(t.allPlatformModules,t.moduleRef),o.unsubscribe(),r.delete(s)})}return function fne(t,n,e){try{const i=e();return bu(i)?i.catch(o=>{throw n.runOutsideAngular(()=>t(o)),o}):i}catch(i){throw n.runOutsideAngular(()=>t(i)),i}}(i,e,()=>{const s=n.get(fl),r=s.add(),a=n.get(WN);return a.runInitializers(),a.donePromise.then(()=>{if(function UJ(t){"string"==typeof t&&(MD=t.toLowerCase().replace(/_/g,"-"))}(n.get(ea,Uf)||Uf),!n.get(gne,!0))return ku(t)?n.get(Ja):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ku(t)){const h=n.get(Ja);return void 0!==t.rootComponent&&h.bootstrap(t.rootComponent),h}return Jy?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{s.remove(r)})})})}({r3Injector:new KA({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:o,rootComponent:n})}catch(n){return Promise.reject(n)}finally{ki(9)}}function yi(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Vu(t,n=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?n:Number(t)}function d3(t,n){const e=Ai(t),i=n.elementInjector||fp();return new pu(e).create(i,n.projectableNodes,n.hostElement,n.environmentInjector,n.directives,n.bindings)}class rie extends Li{constructor(n,e){super()}schedule(n,e=0){return this}}const h3={setInterval(t,n,...e){const{delegate:i}=h3;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=h3;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class Qv extends rie{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,i=0){return h3.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&h3.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,i=!1;try{this.work(n)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Vs(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const Jv={now:()=>(Jv.delegate||Date).now(),delegate:void 0};class Hu{constructor(n,e=Hu.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}Hu.now=Jv.now;class e9 extends Hu{constructor(n,e=Hu.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const e2=new e9(Qv),aie=e2;function OP(t){return t&&It(t.schedule)}function AP(t){return t instanceof Date&&!isNaN(t)}function t2(t=0,n,e=aie){let i=-1;return null!=n&&(OP(n)?e=n:i=n),new Jt(o=>{let s=AP(t)?+t-e.now():t;s<0&&(s=0);let r=0;return e.schedule(function(){o.closed||(o.next(r++),0<=i?this.schedule(void 0,i):o.complete())},s)})}function NP(t=0,n=e2){return t<0&&(t=0),t2(t,t,n)}const Gu={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Gu;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=n(s=>{e=void 0,t(s)});return new Li(()=>e?.(o))},requestAnimationFrame(...t){const{delegate:n}=Gu;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=Gu;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0},t9=new class cie extends e9{flush(n){let e;this._active=!0,n?e=n.id:(e=this._scheduled,this._scheduled=void 0);const{actions:i}=this;let o;n=n||i.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw o}}}(class lie extends Qv{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Gu.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:s}=n;null!=e&&e===n._scheduled&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==e&&(Gu.cancelAnimationFrame(e),n._scheduled=void 0)}});function Nl(t){return this instanceof Nl?(this.v=t,this):new Nl(t)}function IP(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function s9(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=t[s]&&function(r){return new Promise(function(a,l){!function o(s,r,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},r)}(a,l,(r=t[s](r)).done,r.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const a9=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function LP(t){return It(t?.then)}function RP(t){return It(t[yt])}function xP(t){return Symbol.asyncIterator&&It(t?.[Symbol.asyncIterator])}function FP(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kP=function Fie(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function zP(t){return It(t?.[kP])}function VP(t){return function PP(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=e.apply(t,n||[]),s=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function r(v){return function(C){return Promise.resolve(C).then(v,g)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(v,C){i[v]&&(o[v]=function(S){return new Promise(function(D,I){s.push([v,S,D,I])>1||l(v,S)})},C&&(o[v]=C(o[v])))}function l(v,C){try{!function c(v){v.value instanceof Nl?Promise.resolve(v.value.v).then(h,g):f(s[0][2],v)}(i[v](C))}catch(S){f(s[0][3],S)}}function h(v){l("next",v)}function g(v){l("throw",v)}function f(v,C){v(C),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:o}=yield Nl(e.read());if(o)return yield Nl(void 0);yield yield Nl(i)}}finally{e.releaseLock()}})}function HP(t){return It(t?.getReader)}function Vo(t){if(t instanceof Jt)return t;if(null!=t){if(RP(t))return function kie(t){return new Jt(n=>{const e=t[yt]();if(It(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(a9(t))return function zie(t){return new Jt(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(LP(t))return function Vie(t){return new Jt(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,ga)})}(t);if(xP(t))return GP(t);if(zP(t))return function Hie(t){return new Jt(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(HP(t))return function Gie(t){return GP(VP(t))}(t)}throw FP(t)}function GP(t){return new Jt(n=>{(function $ie(t,n){var e,i,o,s;return function DP(t,n,e,i){return new(e||(e=Promise))(function(s,r){function a(h){try{c(i.next(h))}catch(g){r(g)}}function l(h){try{c(i.throw(h))}catch(g){r(g)}}function c(h){h.done?s(h.value):function o(s){return s instanceof e?s:new e(function(r){r(s)})}(h.value).then(a,l)}c((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=IP(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(r){o={error:r}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Q1(t,n,e,i=0,o=!1){const s=n.schedule(function(){e(),o?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!o)return s}function bs(t,n,e=1/0){return It(n)?bs((i,o)=>bt((s,r)=>n(i,s,o,r))(Vo(t(i,o))),e):("number"==typeof n&&(e=n),uo((i,o)=>function Bie(t,n,e,i,o,s,r,a){const l=[];let c=0,h=0,g=!1;const f=()=>{g&&!l.length&&!c&&n.complete()},v=S=>c<i?C(S):l.push(S),C=S=>{s&&n.next(S),c++;let D=!1;Vo(e(S,h++)).subscribe($i(n,I=>{o?.(I),s?v(I):n.next(I)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<i;){const I=l.shift();r?Q1(n,r,()=>C(I)):C(I)}f()}catch(I){n.error(I)}}))};return t.subscribe($i(n,v,()=>{g=!0,f()})),()=>{a?.()}}(i,o,t,e)))}function n2(t=1/0){return bs(At,t)}const rr=new Jt(t=>t.complete());function l9(t){return t[t.length-1]}function u3(t){return It(l9(t))?t.pop():void 0}function $u(t){return OP(l9(t))?t.pop():void 0}function $P(t,n=0){return uo((e,i)=>{e.subscribe($i(i,o=>Q1(i,t,()=>i.next(o),n),()=>Q1(i,t,()=>i.complete(),n),o=>Q1(i,t,()=>i.error(o),n)))})}function BP(t,n=0){return uo((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function UP(t,n){if(!t)throw new Error("Iterable cannot be null");return new Jt(e=>{Q1(e,n,()=>{const i=t[Symbol.asyncIterator]();Q1(e,n,()=>{i.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Oo(t,n){return n?function Yie(t,n){if(null!=t){if(RP(t))return function Zie(t,n){return Vo(t).pipe(BP(n),$P(n))}(t,n);if(a9(t))return function Xie(t,n){return new Jt(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(LP(t))return function Wie(t,n){return Vo(t).pipe(BP(n),$P(n))}(t,n);if(xP(t))return UP(t,n);if(zP(t))return function Kie(t,n){return new Jt(e=>{let i;return Q1(e,n,()=>{i=t[kP](),Q1(e,n,()=>{let o,s;try{({value:o,done:s}=i.next())}catch(r){return void e.error(r)}s?e.complete():e.next(o)},0,!0)}),()=>It(i?.return)&&i.return()})}(t,n);if(HP(t))return function qie(t,n){return UP(VP(t),n)}(t,n)}throw FP(t)}(t,n):Vo(t)}function J1(...t){const n=$u(t),e=function jie(t,n){return"number"==typeof l9(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?Vo(i[0]):n2(e)(Oo(i,n)):rr}let c9;function d9(t){if(function Qie(){if(null==c9){const t=typeof document<"u"?document.head:null;c9=!(!t||!t.createShadowRoot&&!t.attachShadow)}return c9}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function _3(t){return t.composedPath?t.composedPath()[0]:t.target}function jP(t,n=0){return function toe(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):2===arguments.length?n:0}function H0(t){return t instanceof fn?t.nativeElement:t}function me(t){return uo((n,e)=>{Vo(t).subscribe($i(e,()=>e.complete(),ja)),!e.closed&&n.subscribe(e)})}function Or(t){return t<=0?()=>rr:uo((n,e)=>{let i=0;n.subscribe($i(e,o=>{++i<=t&&(e.next(o),t<=i&&e.complete())}))})}function _n(t,n,e){const i=It(t)||n||e?{next:t,error:n,complete:e}:t;return i?uo((o,s)=>{var r;null===(r=i.subscribe)||void 0===r||r.call(i);let a=!0;o.subscribe($i(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):At}function _i(t,n){return uo((e,i)=>{let o=null,s=0,r=!1;const a=()=>r&&!o&&i.complete();e.subscribe($i(i,l=>{o?.unsubscribe();let c=0;const h=s++;Vo(t(l,h)).subscribe(o=$i(i,g=>i.next(n?n(l,g,h,c++):g),()=>{o=null,a()}))},()=>{r=!0,a()}))})}function Kc(...t){return function noe(){return n2(1)}()(Oo(t,$u(t)))}function i2(...t){const n=$u(t);return uo((e,i)=>{(n?Kc(t,e,n):Kc(t,e)).subscribe(i)})}const g3=new WeakMap;let ioe=(()=>{class t{_appRef;_injector=M(Fi);_environmentInjector=M(cs);load(e){const i=this._appRef=this._appRef||this._injector.get(Ja);let o=g3.get(i);o||(o={loaders:new Set,refs:[]},g3.set(i,o),i.onDestroy(()=>{g3.get(i)?.refs.forEach(s=>s.destroy()),g3.delete(i)})),o.loaders.has(e)||(o.loaders.add(e),o.refs.push(d3(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Et(...t){return Oo(t,$u(t))}let h9,ooe=1;const p3={};function ZP(t){return t in p3&&(delete p3[t],!0)}const soe={setImmediate(t){const n=ooe++;return p3[n]=!0,h9||(h9=Promise.resolve()),h9.then(()=>ZP(n)&&t()),n},clearImmediate(t){ZP(t)}},{setImmediate:roe,clearImmediate:aoe}=soe,f3={setImmediate(...t){const{delegate:n}=f3;return(n?.setImmediate||roe)(...t)},clearImmediate(t){const{delegate:n}=f3;return(n?.clearImmediate||aoe)(t)},delegate:void 0},WP=new class coe extends e9{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;n=n||i.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw o}}}(class loe extends Qv{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=f3.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:s}=n;null!=e&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==e&&(f3.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});function u9(t,n=e2){return function doe(t){return uo((n,e)=>{let i=!1,o=null,s=null,r=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=o;o=null,e.next(c)}r&&e.complete()},l=()=>{s=null,r&&e.complete()};n.subscribe($i(e,c=>{i=!0,o=c,s||Vo(t(c)).subscribe(s=$i(e,a,l))},()=>{r=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>t2(t,n))}function ii(t,n){return uo((e,i)=>{let o=0;e.subscribe($i(i,s=>t.call(n,s,o++)&&i.next(s)))})}function gi(t,n,e){return function zJ(t,n,e){"string"!=typeof n&&(e=n,n=t[go.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),Xd[n]=t,e&&(Xd[n][go.ExtraData]=e)}(t,n,e)}const XP="browser";function G0(t){return t===XP}let f9,KP=(()=>{class t{static \u0275prov=Te({token:t,providedIn:"root",factory:()=>new uoe(M(Un),window)})}return t})();class uoe{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,e){this.window.scrollTo({...e,left:n[0],top:n[1]})}scrollToAnchor(n,e){const i=function _oe(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const s=o.shadowRoot;if(s){const r=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(r)return r}o=i.nextNode()}}return null}(this.document,n);i&&(this.scrollToElement(i,e),i.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(mr(2400,!1))}}scrollToElement(n,e){const i=n.getBoundingClientRect(),o=i.left+this.window.pageXOffset,s=i.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo({...e,left:o-r[0],top:s-r[1]})}}try{f9=typeof Intl<"u"&&Intl.v8BreakIterator}catch{f9=!1}let rI=(()=>{class t{_platformId=M(x0);isBrowser=this._platformId?G0(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!f9)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$oe=(()=>{class t{_ngZone=M(un);_platform=M(rI);_renderer=M(b1).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Be;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Jt(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const o=e>0?this._scrolled.pipe(u9(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Et()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ii(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_scrollableContainsElement(e,i){let o=H0(i),s=e.getElementRef().nativeElement;do{if(o==s)return!0}while(o=o.parentElement);return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Uoe=(()=>{class t{_platform=M(rI);_listeners;_viewportSize;_change=new Be;_document=M(Un);constructor(){const e=M(un),i=M(b1).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){const o=s=>this._change.next(s);this._listeners=[i.listen("window","resize",o),i.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(u9(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),joe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({})}return t})();const Zoe=new Qe("cdk-dir-doc",{providedIn:"root",factory:function Woe(){return M(Un)}}),Xoe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let aI=(()=>{class t{get value(){return this.valueSignal()}valueSignal=Ur("ltr");change=new Ee;constructor(){const e=M(Zoe,{optional:!0});e&&this.valueSignal.set(function Koe(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?Xoe.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const m9={};let qoe=(()=>{class t{_appId=M(wd);getId(e){return"ng"!==this._appId&&(e+=this._appId),m9.hasOwnProperty(e)||(m9[e]=0),`${e}${m9[e]++}`}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function v9(t){const n=t.cloneNode(!0),e=n.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();n.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return"canvas"===i?dI(t,n):("input"===i||"select"===i||"textarea"===i)&&cI(t,n),lI("canvas",t,n,dI),lI("input, textarea, select",t,n,cI),n}function lI(t,n,e,i){const o=n.querySelectorAll(t);if(o.length){const s=e.querySelectorAll(t);for(let r=0;r<o.length;r++)i(o[r],s[r])}}let Qoe=0;function cI(t,n){"file"!==n.type&&(n.value=t.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${Qoe++}`)}function dI(t,n){const e=n.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function C9(t){const n=t.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function M9(t,n,e){const{top:i,bottom:o,left:s,right:r}=t;return e>=i&&e<=o&&n>=s&&n<=r}function Zu(t,n,e){t.top+=n,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function hI(t,n,e,i){const{top:o,right:s,bottom:r,left:a,width:l,height:c}=t,h=l*n,g=c*n;return i>o-g&&i<r+g&&e>a-h&&e<s+h}class uI{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:C9(e)})})}handleScroll(n){const e=_3(n),i=this.positions.get(e);if(!i)return null;const o=i.scrollPosition;let s,r;if(e===this._document){const c=this.getViewportScrollPosition();s=c.top,r=c.left}else s=e.scrollTop,r=e.scrollLeft;const a=o.top-s,l=o.left-r;return this.positions.forEach((c,h)=>{c.clientRect&&e!==h&&e.contains(h)&&Zu(c.clientRect,a,l)}),o.top=s,o.left=r,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function _I(t,n){const e=t.rootNodes;if(1===e.length&&e[0].nodeType===n.ELEMENT_NODE)return e[0];const i=n.createElement("div");return e.forEach(o=>i.appendChild(o)),i}function T9(t,n,e){for(let i in n)if(n.hasOwnProperty(i)){const o=n[i];o?t.setProperty(i,o,e?.has(i)?"important":""):t.removeProperty(i)}return t}function o2(t,n){const e=n?"":"none";T9(t.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function gI(t,n,e){T9(t.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function M3(t,n){return n&&"none"!=n?t+" "+n:t}function pI(t,n){t.style.width=`${n.width}px`,t.style.height=`${n.height}px`,t.style.transform=Wu(n.left,n.top)}function Wu(t,n){return`translate3d(${Math.round(t)}px, ${Math.round(n)}px, 0)`}function fI(t){const n=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*n}function w9(t,n){return t.getPropertyValue(n).split(",").map(i=>i.trim())}const tse=new Set(["position"]);class nse{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,e,i,o,s,r,a,l,c,h){this._document=n,this._rootElement=e,this._direction=i,this._initialDomRect=o,this._previewTemplate=s,this._previewClass=r,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=h}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),mI(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return function ese(t){const n=getComputedStyle(t),e=w9(n,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const o=e.indexOf(i),s=w9(n,"transition-duration"),r=w9(n,"transition-delay");return fI(s[o])+fI(r[o])}(this._preview)}addEventListener(n,e){return this._renderer.listen(this._preview,n,e)}_createPreview(){const n=this._previewTemplate,e=this._previewClass,i=n?n.template:null;let o;if(i&&n){const s=n.matchSize?this._initialDomRect:null,r=n.viewContainer.createEmbeddedView(i,n.context);r.detectChanges(),o=_I(r,this._document),this._previewEmbeddedView=r,n.matchSize?pI(o,s):o.style.transform=Wu(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=v9(this._rootElement),pI(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return T9(o.style,{"pointer-events":"none",margin:mI(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},tse),o2(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>o.classList.add(s)):o.classList.add(e)),o}}function mI(t){return"showPopover"in t}const ise={passive:!0},vI={passive:!1},ose={passive:!1,capture:!0},CI="cdk-drag-placeholder",MI=new Set(["position"]);class rse{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Ur(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new Be;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Li.EMPTY;_pointerUpSubscription=Li.EMPTY;_scrollSubscription=Li.EMPTY;_resizeSubscription=Li.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>o2(e,n)))}_disabled=!1;beforeStarted=new Be;started=new Be;released=new Be;ended=new Be;entered=new Be;exited=new Be;dropped=new Be;moved=this._moveEvents;data;constrainPosition;constructor(n,e,i,o,s,r,a){this._config=e,this._document=i,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=r,this._renderer=a,this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new uI(i),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>H0(i)),this._handles.forEach(i=>o2(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const e=H0(n);if(e!==this._rootElement){this._removeRootElementListeners();const i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(e,"mousedown",this._pointerDown,vI),i.listen(e,"touchstart",this._pointerDown,ise),i.listen(e,"dragstart",this._nativeDragStart,vI)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?H0(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&function Joe(t,n){return n.left<t.left||n.left+n.width>t.right||n.top<t.top||n.top+n.height>t.bottom}(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){const n=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect();let i=0,o=0;e.left<n.left?i=n.left-e.left:e.right>n.right&&(i=n.right-e.right),e.top<n.top?o=n.top-e.top:e.bottom>n.bottom&&(o=n.bottom-e.bottom);let a=this._activeTransform.x+i,l=this._activeTransform.y+o;this._rootElement.style.transform=Wu(a,l),this._activeTransform={x:a,y:l},this._passiveTransform={x:a,y:l}}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),o2(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),o2(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){const e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{const e=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const a=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),l=this._dropContainer;if(!a)return void this._endDragSequence(n);(!l||!l.isDragging()&&!l.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();const i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{const o=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,s=this._activeTransform;s.x=i.x-o.x+this._passiveTransform.x,s.y=i.y-o.y+this._passiveTransform.y,this._applyRootElementTransform(s.x,s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:n,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){Xu(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",ase,ose)}),i){const o=this._rootElement,s=o.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._marker=this._marker||this._document.createComment("");s.insertBefore(a,o),this._initialTransform=o.style.transform||"",this._preview=new nse(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(s,e)),gI(o,!1,MI),this._document.body.appendChild(s.replaceChild(r,o)),this.started.next({source:this,event:n}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),o=Xu(e),s=!o&&0!==e.button,r=this._rootElement,a=_3(e),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=o?function eoe(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}(e):function Jie(t){return 0===t.buttons||0===t.detail}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||l||c)return;if(this._handles.length){const f=r.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=C9(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,e);const g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){gI(this._rootElement,!0,MI),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),o=this._getPointerPositionOnPage(n),s=this._getDragDistance(o),r=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:s,dropPoint:o,event:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:o,event:n}),e.drop(this,i,this._initialIndex,this._initialContainer,r,s,o,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:i,y:o}){let s=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{const r=this._dropContainer.getItemIndex(this),a=this._dropContainer.getItemAtIndex(r+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(s,this._dropContainer,a),this._dropContainer=s,this._dropContainer.enter(this,n,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const e=this._preview.getTransitionDuration();return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const o=a=>{(!a||this._preview&&_3(a)===this._preview.element&&"transform"===a.propertyName)&&(r(),i(),clearTimeout(s))},s=setTimeout(o,1.5*e),r=this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,e=n?n.template:null;let i;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),i=_I(this._placeholderRef,this._document)):i=v9(this._rootElement),i.style.pointerEvents="none",i.classList.add(CI),i}_getPointerPositionInElement(n,e,i){const o=e===this._rootElement?null:e,s=o?o.getBoundingClientRect():n,r=Xu(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:s.left-n.left+(r.pageX-s.left-a.left),y:s.top-n.top+(r.pageY-s.top-a.top)}}_getPointerPositionOnPage(n){const e=this._getViewportScrollPosition(),i=Xu(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,o=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const r=this._ownerSVGElement.getScreenCTM();if(r){const a=this._ownerSVGElement.createSVGPoint();return a.x=o,a.y=s,a.matrixTransform(r.inverse())}}return{x:o,y:s}}_getConstrainedPointerPosition(n){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:o}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),h=a.top+r,g=a.bottom-(c-r);i=TI(i,a.left+s,a.right-(l-s)),o=TI(o,h,g)}return{x:i,y:o}}_updatePointerDirectionDelta(n){const{x:e,y:i}=n,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-s.x),a=Math.abs(i-s.y);return r>this._config.pointerDirectionChangeThreshold&&(o.x=e>s.x?1:-1,s.x=e),a>this._config.pointerDirectionChangeThreshold&&(o.y=i>s.y?1:-1,s.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,o2(this._rootElement,n))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(n=>n()),this._rootElementCleanups=void 0}_applyRootElementTransform(n,e){const i=1/this.scale,o=Wu(n*i,e*i),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=M3(o,this._initialTransform)}_applyPreviewTransform(n,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,o=Wu(n,e);this._preview.setTransform(M3(o,i))}_getDragDistance(n){const e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(0===n&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===i.width&&0===i.height)return;const s=o.left-i.left,r=i.right-o.right,a=o.top-i.top,l=i.bottom-o.bottom;o.width>i.width?(s>0&&(n+=s),r>0&&(n-=r)):n=0,o.height>i.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){const e=this.dragStartDelay;return"number"==typeof e?e:Xu(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){const e=this._parentPositions.handleScroll(n);if(e){const i=_3(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Zu(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=d9(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){const i=this._previewContainer||"global";if("parent"===i)return n;if("global"===i){const o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return H0(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){const e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}_conditionallyInsertAnchor(n,e,i){if(n===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){const o=this._anchor??=v9(this._placeholder);o.classList.remove(CI),o.classList.add("cdk-drag-anchor"),o.style.transform="",i?i.before(o):H0(e.element).appendChild(o)}}}function TI(t,n,e){return Math.max(n,Math.min(e,t))}function Xu(t){return"t"===t.type[0]}function ase(t){t.preventDefault()}function qc(t,n,e){const i=Ku(n,t.length-1),o=Ku(e,t.length-1);if(i===o)return;const s=t[i],r=o<i?-1:1;for(let a=i;a!==o;a+=r)t[a]=t[a+r];t[o]=s}function Ku(t,n){return Math.max(0,Math.min(n,t))}class wI{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,e,i,o){const s=this._itemPositions,r=this._getItemIndexFromPointerPosition(n,e,i,o);if(-1===r&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(D=>D.drag===n),c=s[r],g=c.clientRect,f=l>r?1:-1,v=this._getItemOffsetPx(s[l].clientRect,g,f),C=this._getSiblingOffsetPx(l,s,f),S=s.slice();return qc(s,l,r),s.forEach((D,I)=>{if(S[I]===D)return;const L=D.drag===n,G=L?v:C,R=L?n.getPlaceholderElement():D.drag.getRootElement();D.offset+=G;const J=Math.round(D.offset*(1/D.drag.scale));a?(R.style.transform=M3(`translate3d(${J}px, 0, 0)`,D.initialTransform),Zu(D.clientRect,0,G)):(R.style.transform=M3(`translate3d(0, ${J}px, 0)`,D.initialTransform),Zu(D.clientRect,G,0))}),this._previousSwap.overlaps=M9(g,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?o.x:o.y,{previousIndex:l,currentIndex:r}}enter(n,e,i,o){const s=null==o||o<0?this._getItemIndexFromPointerPosition(n,e,i):o,r=this._activeDraggables,a=r.indexOf(n),l=n.getPlaceholderElement();let c=r[s];if(c===n&&(c=r[s+1]),!c&&(null==s||-1===s||s<r.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=r[0]),a>-1&&r.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const h=c.getRootElement();h.parentElement.insertBefore(l,h),r.splice(s,0,n)}else this._element.appendChild(l),r.push(n);l.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{const e=n.getRootElement();if(e){const i=this._itemPositions.find(o=>o.drag===n)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return this._getVisualItemPositions().findIndex(e=>e.drag===n)}getItemAtIndex(n){return this._getVisualItemPositions()[n]?.drag||null}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:i})=>{Zu(i,n,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){const n="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:C9(i)}}).sort((e,i)=>n?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return"horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(n,e,i){const o="horizontal"===this.orientation;let s=o?e.left-n.left:e.top-n.top;return-1===i&&(s+=o?e.width-n.width:e.height-n.height),s}_getSiblingOffsetPx(n,e,i){const o="horizontal"===this.orientation,s=e[n].clientRect,r=e[n+-1*i];let a=s[o?"width":"height"]*i;if(r){const l=o?"left":"top",c=o?"right":"bottom";-1===i?a-=r.clientRect[l]-s[c]:a+=s[l]-r.clientRect[c]}return a}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,o="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const r=i[i.length-1].clientRect;return o?n>=r.right:e>=r.bottom}{const r=i[0].clientRect;return o?n<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(n,e,i,o){const s="horizontal"===this.orientation,r=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==n&&((!o||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?o.x:o.y)!==this._previousSwap.delta)&&(s?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==r&&this._sortPredicate(r,n)?r:-1}}class lse{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,e){this._document=n,this._dragDropRegistry=e}start(n){const e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){const o=e[i];this._relatedNodes.push([o,o.nextSibling])}this.withItems(n)}sort(n,e,i,o){const s=this._getItemIndexFromPointerPosition(n,e,i),r=this._previousSwap;if(-1===s||this._activeItems[s]===n)return null;const a=this._activeItems[s];if(r.drag===a&&r.overlaps&&r.deltaX===o.x&&r.deltaY===o.y)return null;const l=this.getItemIndex(n),c=n.getPlaceholderElement(),h=a.getRootElement();s>l?h.after(c):h.before(c),qc(this._activeItems,l,s);const g=this._getRootNode().elementFromPoint(e,i);return r.deltaX=o.x,r.deltaY=o.y,r.drag=a,r.overlaps=h===g||h.contains(g),{previousIndex:l,currentIndex:s}}enter(n,e,i,o){const s=this._activeItems.indexOf(n);s>-1&&this._activeItems.splice(s,1);let r=null==o||o<0?this._getItemIndexFromPointerPosition(n,e,i):o;-1===r&&(r=this._getClosestItemIndexToPointer(n,e,i));const a=this._activeItems[r];a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(r,0,n),a.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){const n=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){const[o,s]=this._relatedNodes[i];o.parentNode===n&&o.nextSibling!==s&&(null===s?n.appendChild(o):s.parentNode===n&&n.insertBefore(o,s))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}getItemAtIndex(n){return this._activeItems[n]||null}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,e,i){const o=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),s=o?this._activeItems.findIndex(r=>{const a=r.getRootElement();return o===a||a.contains(o)}):-1;return-1!==s&&this._sortPredicate(s,n)?s:-1}_getRootNode(){return this._rootNode||(this._rootNode=d9(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,e,i){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let o=1/0,s=-1;for(let r=0;r<this._activeItems.length;r++){const a=this._activeItems[r];if(a!==n){const{x:l,y:c}=a.getRootElement().getBoundingClientRect(),h=Math.hypot(e-l,i-c);h<o&&(o=h,s=r)}}return s}}var t1=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(t1||{}),Ar=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(Ar||{});class cse{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new Be;entered=new Be;exited=new Be;dropped=new Be;sorted=new Be;receivingStarted=new Be;receivingStopped=new Be;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Li.EMPTY;_verticalScrollDirection=t1.NONE;_horizontalScrollDirection=Ar.NONE;_scrollNode;_stopScrollTimers=new Be;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,e,i,o,s){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=s;const r=this.element=H0(n);this._document=i,this.withOrientation("vertical").withElementContainer(r),e.registerDropContainer(this),this._parentPositions=new uI(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,i,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,i,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,i,o,s,r,a,l={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:s,distance:r,dropPoint:a,event:l})}withItems(n){const e=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>-1===n.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof wI&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if("mixed"===n)this._sortStrategy=new lse(this._document,this._dragDropRegistry);else{const e=new wI(this._dragDropRegistry);e.direction=this._direction,e.orientation=n,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(n){const e=this._container;return this._scrollableElements=-1===n.indexOf(e)?[e,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;H0(this.element);const i=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(n);return i>-1&&this._scrollableElements.splice(i,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}getItemAtIndex(n){return this._isDragging?this._sortStrategy.getItemAtIndex(n):this._draggables[n]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,i,o){if(this.sortingDisabled||!this._domRect||!hI(this._domRect,.05,e,i))return;const s=this._sortStrategy.sort(n,e,i,o);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let i,o=t1.NONE,s=Ar.NONE;if(this._parentPositions.positions.forEach((r,a)=>{a===this._document||!r.clientRect||i||hI(r.clientRect,.05,n,e)&&([o,s]=function dse(t,n,e,i,o){const s=EI(n,o),r=OI(n,i);let a=t1.NONE,l=Ar.NONE;if(s){const c=t.scrollTop;s===t1.UP?c>0&&(a=t1.UP):t.scrollHeight-c>t.clientHeight&&(a=t1.DOWN)}if(r){const c=t.scrollLeft;"rtl"===e?r===Ar.RIGHT?c<0&&(l=Ar.RIGHT):t.scrollWidth+c>t.clientWidth&&(l=Ar.LEFT):r===Ar.LEFT?c>0&&(l=Ar.LEFT):t.scrollWidth-c>t.clientWidth&&(l=Ar.RIGHT)}return[a,l]}(a,r.clientRect,this._direction,n,e),(o||s)&&(i=a))}),!o&&!s){const{width:r,height:a}=this._viewportRuler.getViewportSize(),l={width:r,height:a,top:0,right:r,bottom:a,left:0};o=EI(l,e),s=OI(l,n),i=window}i&&(o!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=s,this._scrollNode=i,(o||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),NP(0,t9).pipe(me(this._stopScrollTimers)).subscribe(()=>{const n=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===t1.UP?n.scrollBy(0,-e):this._verticalScrollDirection===t1.DOWN&&n.scrollBy(0,e),this._horizontalScrollDirection===Ar.LEFT?n.scrollBy(-e,0):this._horizontalScrollDirection===Ar.RIGHT&&n.scrollBy(e,0)})};_isOverContainer(n,e){return null!=this._domRect&&M9(this._domRect,n,e)}_getSiblingContainerFromPosition(n,e,i){return this._siblings.find(o=>o._canReceive(n,e,i))}_canReceive(n,e,i){if(!this._domRect||!M9(this._domRect,e,i)||!this.enterPredicate(n,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,i);return!!o&&(o===this._container||this._container.contains(o))}_startReceiving(n,e){const i=this._activeSiblings;!i.has(n)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=d9(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}}function EI(t,n){const{top:e,bottom:i,height:o}=t,s=.05*o;return n>=e-s&&n<=e+s?t1.UP:n>=i-s&&n<=i+s?t1.DOWN:t1.NONE}function OI(t,n){const{left:e,right:i,width:o}=t,s=.05*o;return n>=e-s&&n<=e+s?Ar.LEFT:n>=i-s&&n<=i+s?Ar.RIGHT:Ar.NONE}const qu={capture:!0},b9={passive:!1,capture:!0};let hse=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Ge({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})}return t})(),S9=(()=>{class t{_ngZone=M(un);_document=M(Un);_styleLoader=M(ioe);_renderer=M(b1).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new Be;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Ur([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new Be;pointerUp=new Be;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,b9)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._cleanupDocumentTouchmove?.()}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(hse),this._activeDragInstances.update(o=>[...o,e]),1===this._activeDragInstances().length)){const o=i.type.startsWith("touch"),s=a=>this.pointerUp.next(a),r=[["scroll",a=>this._scroll.next(a),qu],["selectstart",this._preventDefaultWhileDragging,b9]];o?r.push(["touchend",s,qu],["touchcancel",s,qu]):r.push(["mouseup",s,qu]),o||r.push(["mousemove",a=>this.pointerMove.next(a),b9]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=r.map(([a,l,c])=>this._renderer.listen(this._document,a,l,c))})}}stopDragging(e){this._activeDragInstances.update(i=>{const o=i.indexOf(e);return o>-1?(i.splice(o,1),[...i]):i}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){const i=[this._scroll];return e&&e!==this._document&&i.push(new Jt(o=>this._ngZone.runOutsideAngular(()=>{const s=this._renderer.listen(e,"scroll",r=>{this._activeDragInstances().length&&o.next(r)},qu);return()=>{s()}}))),J1(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const use={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let E9=(()=>{class t{_document=M(Un);_ngZone=M(un);_viewportRuler=M(Uoe);_dragDropRegistry=M(S9);_renderer=M(b1).createRenderer(null,null);constructor(){}createDrag(e,i=use){return new rse(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new cse(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Yu=new Qe("CDK_DRAG_PARENT"),AI=new Qe("CdkDragHandle");let NI=(()=>{class t{element=M(fn);_parentDrag=M(Yu,{optional:!0,skipSelf:!0});_dragDropRegistry=M(S9);_stateChanges=new Be;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){const i=this._dragDropRegistry.getDragDirectiveForNode(e);if(i){this._parentDrag=i,i._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Je({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",yi]},features:[qt([{provide:AI,useExisting:t}])]})}return t})();const DI=new Qe("CDK_DRAG_CONFIG"),yI=new Qe("CdkDropList");let s2=(()=>{class t{element=M(fn);dropContainer=M(yI,{optional:!0,skipSelf:!0});_ngZone=M(un);_viewContainerRef=M(Gs);_dir=M(aI,{optional:!0});_changeDetectorRef=M(Yo);_selfHandle=M(AI,{optional:!0,self:!0});_parentDrag=M(Yu,{optional:!0,skipSelf:!0});_dragDropRegistry=M(S9);_destroyed=new Be;_handles=new Qn([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Ee;released=new Ee;ended=new Ee;entered=new Ee;exited=new Ee;dropped=new Ee;moved=new Jt(e=>{const i=this._dragRef.moved.pipe(bt(o=>({source:this,pointerPosition:o.pointerPosition,event:o.event,delta:o.delta,distance:o.distance}))).subscribe(e);return()=>{i.unsubscribe()}});_injector=M(Fi);constructor(){const e=this.dropContainer,i=M(DI,{optional:!0}),o=M(E9);this._dragRef=o.createDrag(this.element,{dragStartThreshold:i&&null!=i.dragStartThreshold?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&null!=i.pointerDirectionChangeThreshold?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(me(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){E1(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){const i=e.rootElementSelector,o=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){const i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){const i=this._handles.getValue(),o=i.indexOf(e);o>-1&&(i.splice(o,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):H0(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay="object"==typeof o&&o?o:jP(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Or(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){const o=this._dragDropRegistry.getDragDirectiveForNode(i);if(o){e.withParent(o._dragRef);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:o,constrainPosition:s,previewClass:r,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:h}=e;this.disabled=l??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),r&&(this.previewClass=r),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.pipe(_n(e=>{const i=e.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),_i(e=>J1(...e.map(i=>i._stateChanges.pipe(i2(i))))),me(this._destroyed)).subscribe(e=>{const i=this._dragRef,o=e.element.nativeElement;e.disabled?i.disableHandle(o):i.enableHandle(o)})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Je({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,o){2&i&&we("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",yi],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Vu]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[qt([{provide:Yu,useExisting:t}]),Di]})}return t})();const O9=new Qe("CdkDropListGroup");let r2=(()=>{class t{element=M(fn);_changeDetectorRef=M(Yo);_scrollDispatcher=M($oe);_dir=M(aI,{optional:!0});_group=M(O9,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new Be;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=M(qoe).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new Ee;entered=new Ee;exited=new Ee;sorted=new Ee;_unsortedItems=new Set;constructor(){const e=M(E9),i=M(DI,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(o,s)=>this.enterPredicate(o.data,s.data),this._dropListRef.sortPredicate=(o,s,r)=>this.sortPredicate(o,s.data,r.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),e._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){const i=this._latestSortedRefs.indexOf(e._dragRef);i>-1&&(this._latestSortedRefs.splice(i,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(i2(this._dir.value),me(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function Yoe(t){return Array.isArray(t)?t:[t]}(this.connectedTo).map(o=>"string"==typeof o?t._dropLists.find(r=>r.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===i.indexOf(o)&&i.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const o=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(o)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=jP(this.autoScrollStep,2),e.hasAnchor=this.hasAnchor,e.connectedTo(i.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),J1(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:i,draggingDisabled:o,sortingDisabled:s,listAutoScrollDisabled:r,listOrientation:a}=e;this.disabled=o??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=r??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Je({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,o){2&i&&(Vn("id",o.id),we("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",yi],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",yi],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",yi],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",yi]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[qt([{provide:O9,useValue:void 0},{provide:yI,useExisting:t}])]})}return t})(),a2=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({providers:[E9],imports:[joe]})}return t})();function so(t){return function Mse(t){const n=U(null);try{return t()}finally{U(n)}}(t)}function O1(t,n){return function Ut(t,n){const e=Object.create(hn);e.computation=t,void 0!==n&&(e.equal=n);const i=()=>{if(_e(e),de(e),e.value===$n)throw e.error;return e.value};return i[H]=e,i}(t,n?.equal)}Error,Error;let VI=null;function $0(){return VI}class zse{}let N9=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:()=>M(Hse),providedIn:"platform"})}return t})();const Vse=new Qe("");let Hse=(()=>{class t extends N9{_location;_history;_doc=M(Un);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $0().getBaseHref(this._doc)}onPopState(e){const i=$0().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=$0().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function D9(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function HI(t){const n=t.search(/#|\?|$/);return"/"===t[n-1]?t.slice(0,n-1)+t.slice(n):t}function B0(t){return t&&"?"!==t[0]?`?${t}`:t}let Dl=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:()=>M($I),providedIn:"root"})}return t})();const GI=new Qe("");let $I=(()=>{class t extends Dl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??M(Un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return D9(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+B0(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,s){const r=this.prepareExternalUrl(o+B0(s));this._platformLocation.pushState(e,i,r)}replaceState(e,i,o,s){const r=this.prepareExternalUrl(o+B0(s));this._platformLocation.replaceState(e,i,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||t)(Zt(N9),Zt(GI,8))};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qu=(()=>{class t{_subject=new Be;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Bse(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(HI(BI(i))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+B0(i))}normalize(e){return t.stripTrailingSlash(function $se(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,BI(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+B0(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+B0(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i??void 0,complete:o??void 0})}static normalizeQueryParams=B0;static joinWithSlash=D9;static stripTrailingSlash=HI;static \u0275fac=function(i){return new(i||t)(Zt(Dl))};static \u0275prov=Te({token:t,factory:()=>function Gse(){return new Qu(Zt(Dl))}(),providedIn:"root"})}return t})();function BI(t){return t.replace(/\/index.html$/,"")}let Use=(()=>{class t extends Dl{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=D9(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,s){const r=this.prepareExternalUrl(o+B0(s))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,r)}replaceState(e,i,o,s){const r=this.prepareExternalUrl(o+B0(s))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||t)(Zt(N9),Zt(GI,8))};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();const UI={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var T3=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(T3||{}),Nr=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Nr||{}),Qi=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Qi||{}),Ta=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ta||{});function w3(t,n){return o1(br(t)[go.DateFormat],n)}function b3(t,n){return o1(br(t)[go.TimeFormat],n)}function S3(t,n){return o1(br(t)[go.DateTimeFormat],n)}function n1(t,n){const e=br(t),i=e[go.NumberSymbols][n];if(typeof i>"u"){if(12===n)return e[go.NumberSymbols][0];if(13===n)return e[go.NumberSymbols][1]}return i}function y9(t,n){return br(t)[go.NumberFormats][n]}function jI(t){return function VJ(t){return br(t)[go.CurrencyCode]||null}(t)}function ZI(t){if(!t[go.ExtraData])throw new De(2303,!1)}function o1(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new De(2304,!1)}function P9(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const ore=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,E3={},sre=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function WI(t,n,e,i){let o=function gre(t){if(qI(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[o,s=1,r=1]=t.split("-").map(a=>+a);return O3(o,s-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(ore))return function pre(t){const n=new Date(0);let e=0,i=0;const o=t[8]?n.setUTCFullYear:n.setFullYear,s=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),o.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const r=Number(t[4]||0)-e,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(n,r,a,l,c),n}(i)}const n=new Date(t);if(!qI(n))throw new De(2302,!1);return n}(t);n=U0(e,n)||n;let a,r=[];for(;n;){if(a=sre.exec(n),!a){r.push(n);break}{r=r.concat(a.slice(1));const h=r.pop();if(!h)break;n=h}}let l=o.getTimezoneOffset();i&&(l=KI(i,l),o=function _re(t,n){const o=t.getTimezoneOffset();return function ure(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,-1*(KI(n,o)-o))}(o,i));let c="";return r.forEach(h=>{const g=function hre(t){if(L9[t])return L9[t];let n;switch(t){case"G":case"GG":case"GGG":n=ro(3,Qi.Abbreviated);break;case"GGGG":n=ro(3,Qi.Wide);break;case"GGGGG":n=ro(3,Qi.Narrow);break;case"y":n=_s(0,1,0,!1,!0);break;case"yy":n=_s(0,2,0,!0,!0);break;case"yyy":n=_s(0,3,0,!1,!0);break;case"yyyy":n=_s(0,4,0,!1,!0);break;case"Y":n=y3(1);break;case"YY":n=y3(2,!0);break;case"YYY":n=y3(3);break;case"YYYY":n=y3(4);break;case"M":case"L":n=_s(1,1,1);break;case"MM":case"LL":n=_s(1,2,1);break;case"MMM":n=ro(2,Qi.Abbreviated);break;case"MMMM":n=ro(2,Qi.Wide);break;case"MMMMM":n=ro(2,Qi.Narrow);break;case"LLL":n=ro(2,Qi.Abbreviated,Nr.Standalone);break;case"LLLL":n=ro(2,Qi.Wide,Nr.Standalone);break;case"LLLLL":n=ro(2,Qi.Narrow,Nr.Standalone);break;case"w":n=I9(1);break;case"ww":n=I9(2);break;case"W":n=I9(1,!0);break;case"d":n=_s(2,1);break;case"dd":n=_s(2,2);break;case"c":case"cc":n=_s(7,1);break;case"ccc":n=ro(1,Qi.Abbreviated,Nr.Standalone);break;case"cccc":n=ro(1,Qi.Wide,Nr.Standalone);break;case"ccccc":n=ro(1,Qi.Narrow,Nr.Standalone);break;case"cccccc":n=ro(1,Qi.Short,Nr.Standalone);break;case"E":case"EE":case"EEE":n=ro(1,Qi.Abbreviated);break;case"EEEE":n=ro(1,Qi.Wide);break;case"EEEEE":n=ro(1,Qi.Narrow);break;case"EEEEEE":n=ro(1,Qi.Short);break;case"a":case"aa":case"aaa":n=ro(0,Qi.Abbreviated);break;case"aaaa":n=ro(0,Qi.Wide);break;case"aaaaa":n=ro(0,Qi.Narrow);break;case"b":case"bb":case"bbb":n=ro(0,Qi.Abbreviated,Nr.Standalone,!0);break;case"bbbb":n=ro(0,Qi.Wide,Nr.Standalone,!0);break;case"bbbbb":n=ro(0,Qi.Narrow,Nr.Standalone,!0);break;case"B":case"BB":case"BBB":n=ro(0,Qi.Abbreviated,Nr.Format,!0);break;case"BBBB":n=ro(0,Qi.Wide,Nr.Format,!0);break;case"BBBBB":n=ro(0,Qi.Narrow,Nr.Format,!0);break;case"h":n=_s(3,1,-12);break;case"hh":n=_s(3,2,-12);break;case"H":n=_s(3,1);break;case"HH":n=_s(3,2);break;case"m":n=_s(4,1);break;case"mm":n=_s(4,2);break;case"s":n=_s(5,1);break;case"ss":n=_s(5,2);break;case"S":n=_s(6,1);break;case"SS":n=_s(6,2);break;case"SSS":n=_s(6,3);break;case"Z":case"ZZ":case"ZZZ":n=N3(0);break;case"ZZZZZ":n=N3(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=N3(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=N3(2);break;default:return null}return L9[t]=n,n}(h);c+=g?g(o,e,l):"''"===h?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function O3(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function U0(t,n){const e=function Zse(t){return br(t)[go.LocaleId]}(t);if(E3[e]??={},E3[e][n])return E3[e][n];let i="";switch(n){case"shortDate":i=w3(t,Ta.Short);break;case"mediumDate":i=w3(t,Ta.Medium);break;case"longDate":i=w3(t,Ta.Long);break;case"fullDate":i=w3(t,Ta.Full);break;case"shortTime":i=b3(t,Ta.Short);break;case"mediumTime":i=b3(t,Ta.Medium);break;case"longTime":i=b3(t,Ta.Long);break;case"fullTime":i=b3(t,Ta.Full);break;case"short":const o=U0(t,"shortTime"),s=U0(t,"shortDate");i=A3(S3(t,Ta.Short),[o,s]);break;case"medium":const r=U0(t,"mediumTime"),a=U0(t,"mediumDate");i=A3(S3(t,Ta.Medium),[r,a]);break;case"long":const l=U0(t,"longTime"),c=U0(t,"longDate");i=A3(S3(t,Ta.Long),[l,c]);break;case"full":const h=U0(t,"fullTime"),g=U0(t,"fullDate");i=A3(S3(t,Ta.Full),[h,g])}return i&&(E3[e][n]=i),i}function A3(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function A1(t,n,e="-",i,o){let s="";(t<0||o&&t<=0)&&(o?t=1-t:(t=-t,s=e));let r=String(t);for(;r.length<n;)r="0"+r;return i&&(r=r.slice(r.length-n)),s+r}function _s(t,n,e=0,i=!1,o=!1){return function(s,r){let a=function are(t,n){switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new De(2301,!1)}}(t,s);if((e>0||a>-e)&&(a+=e),3===t)0===a&&-12===e&&(a=12);else if(6===t)return function rre(t,n){return A1(t,3).substring(0,n)}(a,n);const l=n1(r,5);return A1(a,n,l,i,o)}}function ro(t,n,e=Nr.Format,i=!1){return function(o,s){return function lre(t,n,e,i,o,s){switch(e){case 2:return function Kse(t,n,e){const i=br(t),s=o1([i[go.MonthsFormat],i[go.MonthsStandalone]],n);return o1(s,e)}(n,o,i)[t.getMonth()];case 1:return function Xse(t,n,e){const i=br(t),s=o1([i[go.DaysFormat],i[go.DaysStandalone]],n);return o1(s,e)}(n,o,i)[t.getDay()];case 0:const r=t.getHours(),a=t.getMinutes();if(s){const c=function Jse(t){const n=br(t);return ZI(n),(n[go.ExtraData][2]||[]).map(i=>"string"==typeof i?P9(i):[P9(i[0]),P9(i[1])])}(n),h=function ere(t,n,e){const i=br(t);ZI(i);const s=o1([i[go.ExtraData][0],i[go.ExtraData][1]],n)||[];return o1(s,e)||[]}(n,o,i),g=c.findIndex(f=>{if(Array.isArray(f)){const[v,C]=f,S=r>=v.hours&&a>=v.minutes,D=r<C.hours||r===C.hours&&a<C.minutes;if(v.hours<C.hours){if(S&&D)return!0}else if(S||D)return!0}else if(f.hours===r&&f.minutes===a)return!0;return!1});if(-1!==g)return h[g]}return function Wse(t,n,e){const i=br(t),s=o1([i[go.DayPeriodsFormat],i[go.DayPeriodsStandalone]],n);return o1(s,e)}(n,o,i)[r<12?0:1];case 3:return function qse(t,n){return o1(br(t)[go.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new De(2302,!1)}}(o,s,t,n,e,i)}}function N3(t){return function(n,e,i){const o=-1*i,s=n1(e,5),r=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case 0:return(o>=0?"+":"")+A1(r,2,s)+A1(Math.abs(o%60),2,s);case 1:return"GMT"+(o>=0?"+":"")+A1(r,1,s);case 2:return"GMT"+(o>=0?"+":"")+A1(r,2,s)+":"+A1(Math.abs(o%60),2,s);case 3:return 0===i?"Z":(o>=0?"+":"")+A1(r,2,s)+":"+A1(Math.abs(o%60),2,s);default:throw new De(2302,!1)}}}const cre=0,D3=4;function XI(t){const n=t.getDay(),e=0===n?-3:D3-n;return O3(t.getFullYear(),t.getMonth(),t.getDate()+e)}function I9(t,n=!1){return function(e,i){let o;if(n){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,r=e.getDate();o=1+Math.floor((r+s)/7)}else{const s=XI(e),r=function dre(t){const n=O3(t,cre,1).getDay();return O3(t,0,1+(n<=D3?D3:D3+7)-n)}(s.getFullYear()),a=s.getTime()-r.getTime();o=1+Math.round(a/6048e5)}return A1(o,t,n1(i,5))}}function y3(t,n=!1){return function(e,i){return A1(XI(e).getFullYear(),t,n1(i,5),n)}}const L9={};function KI(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function qI(t){return t instanceof Date&&!isNaN(t.valueOf())}const fre=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function x9(t,n,e,i,o,s,r=!1){let a="",l=!1;if(isFinite(t)){let c=function Sre(t){let i,o,s,r,a,n=Math.abs(t)+"",e=0;for((o=n.indexOf("."))>-1&&(n=n.replace(".","")),(s=n.search(/e/i))>0?(o<0&&(o=s),o+=+n.slice(s+1),n=n.substring(0,s)):o<0&&(o=n.length),s=0;"0"===n.charAt(s);s++);if(s===(a=n.length))i=[0],o=1;else{for(a--;"0"===n.charAt(a);)a--;for(o-=s,i=[],r=0;s<=a;s++,r++)i[r]=Number(n.charAt(s))}return o>22&&(i=i.splice(0,21),e=o-1,o=1),{digits:i,exponent:e,integerLen:o}}(t);r&&(c=function bre(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(c));let h=n.minInt,g=n.minFrac,f=n.maxFrac;if(s){const L=s.match(fre);if(null===L)throw new De(2306,!1);const G=L[1],R=L[3],J=L[5];null!=G&&(h=k9(G)),null!=R&&(g=k9(R)),null!=J?f=k9(J):null!=R&&g>f&&(f=g)}!function Ere(t,n,e){if(n>e)throw new De(2307,!1);let i=t.digits,o=i.length-t.integerLen;const s=Math.min(Math.max(n,o),e);let r=s+t.integerLen,a=i[r];if(r>0){i.splice(Math.max(t.integerLen,r));for(let g=r;g<i.length;g++)i[g]=0}else{o=Math.max(0,o),t.integerLen=1,i.length=Math.max(1,r=s+1),i[0]=0;for(let g=1;g<r;g++)i[g]=0}if(a>=5)if(r-1<0){for(let g=0;g>r;g--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[r-1]++;for(;o<Math.max(0,s);o++)i.push(0);let l=0!==s;const c=n+t.integerLen,h=i.reduceRight(function(g,f,v,C){return C[v]=(f+=g)<10?f:f-10,l&&(0===C[v]&&v>=c?C.pop():l=!1),f>=10?1:0},0);h&&(i.unshift(h),t.integerLen++)}(c,g,f);let v=c.digits,C=c.integerLen;const S=c.exponent;let D=[];for(l=v.every(L=>!L);C<h;C++)v.unshift(0);for(;C<0;C++)v.unshift(0);C>0?D=v.splice(C,v.length):(D=v,v=[0]);const I=[];for(v.length>=n.lgSize&&I.unshift(v.splice(-n.lgSize,v.length).join(""));v.length>n.gSize;)I.unshift(v.splice(-n.gSize,v.length).join(""));v.length&&I.unshift(v.join("")),a=I.join(n1(e,i)),D.length&&(a+=n1(e,o)+D.join("")),S&&(a+=n1(e,6)+"+"+S)}else a=n1(e,9);return a=t<0&&!l?n.negPre+a+n.negSuf:n.posPre+a+n.posSuf,a}function F9(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),o=i[0],s=i[1],r=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],a=r[0],l=r[1]||"";e.posPre=a.substring(0,a.indexOf("#"));for(let h=0;h<l.length;h++){const g=l.charAt(h);"0"===g?e.minFrac=e.maxFrac=h+1:"#"===g?e.maxFrac=h+1:e.posSuf+=g}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const h=o.length-e.posPre.length-e.posSuf.length,g=s.indexOf("#");e.negPre=s.substring(0,g).replace(/'/g,""),e.negSuf=s.slice(g+h).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function k9(t){const n=parseInt(t);if(isNaN(n))throw new De(2305,!1);return n}const V9=/\s+/,eL=[];let wa=(()=>{class t{_ngEl;_renderer;initialClasses=eL;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=null!=e?e.trim().split(V9):eL}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(V9):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],o=e[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(V9).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(i){return new(i||t)(Ve(fn),Ve(S1))};static \u0275dir=Je({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})(),$9=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,i,o){this._ngEl=e,this._differs=i,this._renderer=o}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[o,s]=e.split("."),r=-1===o.indexOf("-")?void 0:Ml.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${i}${s}`:i,r):this._renderer.removeStyle(this._ngEl.nativeElement,o,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||t)(Ve(fn),Ve(s3),Ve(S1))};static \u0275dir=Je({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),Ao=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,o)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,o),get:(e,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}static \u0275fac=function(i){return new(i||t)(Ve(Gs))};static \u0275dir=Je({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Di]})}return t})();function N1(t,n){return new De(2100,!1)}class xre{createSubscription(n,e,i){return so(()=>n.subscribe({next:e,error:i}))}dispose(n){so(()=>n.unsubscribe())}}class Fre{createSubscription(n,e,i){return n.then(o=>e?.(o),o=>i?.(o)),{unsubscribe:()=>{e=null,i=null}}}dispose(n){n.unsubscribe()}}const kre=new Fre,zre=new xre;let s1=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=M(M1);constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i),i=>this.applicationErrorHandler(i))}_selectStrategy(e){if(bu(e))return kre;if(jN(e))return zre;throw N1()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||t)(Ve(Yo,16))};static \u0275pipe=oo({name:"async",type:t,pure:!1})}return t})();const Hre=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let c2=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw N1();return e.replace(Hre,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=oo({name:"titlecase",type:t,pure:!0})}return t})();const Bre=new Qe(""),Ure=new Qe("");let B9=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,i,o){this.locale=e,this.defaultTimezone=i,this.defaultOptions=o}transform(e,i,o,s){if(null==e||""===e||e!=e)return null;try{return WI(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(r){throw N1()}}static \u0275fac=function(i){return new(i||t)(Ve(ea,16),Ve(Bre,24),Ve(Ure,24))};static \u0275pipe=oo({name:"date",type:t,pure:!0})}return t})(),U9=(()=>{class t{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=sL;transform(e,i=sL){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ??=this.differs.find(e).create();const o=this.differ.diff(e),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(r=>{this.keyValues.push(function Kre(t,n){return{key:t,value:n}}(r.key,r.currentValue))})),(o||s)&&(i&&this.keyValues.sort(i),this.compareFn=i),this.keyValues}static \u0275fac=function(i){return new(i||t)(Ve(s3,16))};static \u0275pipe=oo({name:"keyvalue",type:t,pure:!1})}return t})();function sL(t,n){const e=t.key,i=n.key;if(e===i)return 0;if(null==e)return 1;if(null==i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const o=String(e),s=String(i);return o==s?0:o<s?-1:1}let j9=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,i,o){if(!W9(e))return null;o||=this._locale;try{return function wre(t,n,e){return x9(t,F9(y9(n,T3.Decimal),n1(n,5)),n,1,0,e)}(X9(e),o,i)}catch(s){throw N1()}}static \u0275fac=function(i){return new(i||t)(Ve(ea,16))};static \u0275pipe=oo({name:"number",type:t,pure:!0})}return t})(),rL=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,i,o){if(!W9(e))return null;o||=this._locale;try{return function Tre(t,n,e){return x9(t,F9(y9(n,T3.Percent),n1(n,5)),n,1,0,e,!0).replace(new RegExp("%","g"),n1(n,3))}(X9(e),o,i)}catch(s){throw N1()}}static \u0275fac=function(i){return new(i||t)(Ve(ea,16))};static \u0275pipe=oo({name:"percent",type:t,pure:!0})}return t})(),Z9=(()=>{class t{_locale;_defaultCurrencyCode;constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,o="symbol",s,r){if(!W9(e))return null;r||=this._locale,"boolean"==typeof o&&(o=o?"symbol":"code");let a=i||this._defaultCurrencyCode;"code"!==o&&(a="symbol"===o||"symbol-narrow"===o?function tre(t,n,e="en"){const i=function Yse(t){return br(t)[go.Currencies]}(e)[t]||UI[t]||[],o=i[1];return"narrow"===n&&"string"==typeof o?o:i[0]||t}(a,"symbol"===o?"wide":"narrow",r):o);try{return function Mre(t,n,e,i,o){const r=F9(y9(n,T3.Currency),n1(n,5));return r.minFrac=function ire(t){let n;const e=UI[t];return e&&(n=e[2]),"number"==typeof n?n:2}(i),r.maxFrac=r.minFrac,x9(t,r,n,13,12,o).replace("\xa4",e).replace("\xa4","").trim()}(X9(e),r,a,i,s)}catch(l){throw N1()}}static \u0275fac=function(i){return new(i||t)(Ve(ea,16),Ve(ene,16))};static \u0275pipe=oo({name:"currency",type:t,pure:!0})}return t})();function W9(t){return!(null==t||""===t||t!=t)}function X9(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new De(2309,!1);return t}let I3=(()=>{class t{transform(e,i,o){if(null==e)return null;if("string"!=typeof e&&!Array.isArray(e))throw N1();return e.slice(i,o)}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=oo({name:"slice",type:t,pure:!1})}return t})(),e_=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({})}return t})();function d2(t,n){return It(n)?bs(t,n,1):bs(t,1)}function t_(t){return uo((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function aL(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[o,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===n)return decodeURIComponent(s)}return null}class lL{}class L3{}class R3{}class D1{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),s=e.slice(i+1).trim();this.addHeaderEntry(o,s)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof D1?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new D1;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof D1?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const s=n.value;if(s){let r=this.headers.get(e);if(!r)return;r=r.filter(a=>-1===s.indexOf(a)),0===r.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,r)}else this.headers.delete(e),this.normalizedNames.delete(e)}}addHeaderEntry(n,e){const i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(n,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),o=n.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class qre{encodeKey(n){return cL(n)}encodeValue(n){return cL(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const Qre=/%(\d[a-f0-9])/gi,Jre={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cL(t){return encodeURIComponent(t).replace(Qre,(n,e)=>Jre[e]??n)}function x3(t){return`${t}`}class ta{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new qre,n.fromString){if(n.fromObject)throw new De(2805,!1);this.map=function Yre(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[r,a]=-1==s?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,s)),n.decodeValue(o.slice(s+1))],l=e.get(r)||[];l.push(a),e.set(r,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],o=Array.isArray(i)?i.map(x3):[x3(i)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new ta({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(x3(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(x3(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class eae{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function dL(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function hL(t){return typeof Blob<"u"&&t instanceof Blob}function uL(t){return typeof FormData<"u"&&t instanceof FormData}const n_="Content-Type",K9="X-Request-URL",_L="text/plain",gL="application/json",pL=`${gL}, ${_L}, */*`;class i_{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,e,i,o){let s;if(this.url=e,this.method=n.toUpperCase(),function tae(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,s=o):s=i,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),"number"==typeof s.timeout){if(s.timeout<1||!Number.isInteger(s.timeout))throw new De(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),this.transferCache=s.transferCache}if(this.headers??=new D1,this.context??=new eae,this.params){const r=this.params.toString();if(0===r.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+r}}else this.params=new ta,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||dL(this.body)||hL(this.body)||uL(this.body)||function nae(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ta?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uL(this.body)?null:hL(this.body)?this.body.type||null:dL(this.body)?null:"string"==typeof this.body?_L:this.body instanceof ta?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?gL:null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,s=n.keepalive??this.keepalive,r=n.priority||this.priority,a=n.cache||this.cache,l=n.mode||this.mode,c=n.redirect||this.redirect,h=n.credentials||this.credentials,g=n.referrer||this.referrer,f=n.integrity||this.integrity,v=n.transferCache??this.transferCache,C=n.timeout??this.timeout,S=void 0!==n.body?n.body:this.body,D=n.withCredentials??this.withCredentials,I=n.reportProgress??this.reportProgress;let L=n.headers||this.headers,G=n.params||this.params;const R=n.context??this.context;return void 0!==n.setHeaders&&(L=Object.keys(n.setHeaders).reduce((J,se)=>J.set(se,n.setHeaders[se]),L)),n.setParams&&(G=Object.keys(n.setParams).reduce((J,se)=>J.set(se,n.setParams[se]),G)),new i_(e,i,S,{params:G,headers:L,context:R,reportProgress:I,responseType:o,withCredentials:D,transferCache:v,keepalive:s,cache:a,priority:r,timeout:C,mode:l,redirect:c,credentials:h,referrer:g,integrity:f})}}var e0=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(e0||{});class q9{headers;status;statusText;url;ok;type;redirected;constructor(n,e=200,i="OK"){this.headers=n.headers||new D1,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.redirected=n.redirected,this.ok=this.status>=200&&this.status<300}}class k3 extends q9{constructor(n={}){super(n)}type=e0.ResponseHeader;clone(n={}){return new k3({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class o_ extends q9{body;constructor(n={}){super(n),this.body=void 0!==n.body?n.body:null}type=e0.Response;clone(n={}){return new o_({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected})}}class Yc extends q9{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Y9(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}let ba=(()=>{class t{handler;constructor(e){this.handler=e}request(e,i,o={}){let s;if(e instanceof i_)s=e;else{let l,c;l=o.headers instanceof D1?o.headers:new D1(o.headers),o.params&&(c=o.params instanceof ta?o.params:new ta({fromObject:o.params})),s=new i_(e,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}const r=Et(s).pipe(d2(l=>this.handler.handle(l)));if(e instanceof i_||"events"===o.observe)return r;const a=r.pipe(ii(l=>l instanceof o_));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(bt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new De(2806,!1);return l.body}));case"blob":return a.pipe(bt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new De(2807,!1);return l.body}));case"text":return a.pipe(bt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new De(2808,!1);return l.body}));default:return a.pipe(bt(l=>l.body))}case"response":return a;default:throw new De(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ta).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,Y9(o,i))}post(e,i,o={}){return this.request("POST",e,Y9(o,i))}put(e,i,o={}){return this.request("PUT",e,Y9(o,i))}static \u0275fac=function(i){return new(i||t)(Zt(L3))};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();const vL=new Qe("");function CL(t,n){return n(t)}function lae(t,n){return(e,i)=>n.intercept(e,{handle:o=>t(o,i)})}const eC=new Qe(""),s_=new Qe(""),dae=new Qe(""),ML=new Qe("",{providedIn:"root",factory:()=>!0});function hae(){let t=null;return(n,e)=>{null===t&&(t=(M(eC,{optional:!0})??[]).reduceRight(lae,CL));const i=M(Ep);if(M(ML)){const s=i.add();return t(n,e).pipe(t_(s))}return t(n,e)}}let TL=(()=>{class t extends L3{backend;injector;chain=null;pendingTasks=M(Ep);contributeToStability=M(ML);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(s_),...this.injector.get(dae,[])]));this.chain=i.reduceRight((o,s)=>function cae(t,n,e){return(i,o)=>$r(e,()=>n(i,s=>t(s,o)))}(o,s,this.injector),CL)}if(this.contributeToStability){const i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(t_(i))}return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||t)(Zt(R3),Zt(cs))};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();const pae=/^\)\]\}',?\n/,fae=RegExp(`^${K9}:`,"m");let bL=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new De(-2800,!1);const i=this.xhrFactory;return Et(null).pipe(_i(()=>new Jt(s=>{const r=i.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((D,I)=>r.setRequestHeader(D,I.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept",pL),!e.headers.has(n_)){const D=e.detectContentTypeHeader();null!==D&&r.setRequestHeader(n_,D)}if(e.timeout&&(r.timeout=e.timeout),e.responseType){const D=e.responseType.toLowerCase();r.responseType="json"!==D?D:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const D=r.statusText||"OK",I=new D1(r.getAllResponseHeaders()),L=function mae(t){return"responseURL"in t&&t.responseURL?t.responseURL:fae.test(t.getAllResponseHeaders())?t.getResponseHeader(K9):null}(r)||e.url;return l=new k3({headers:I,status:r.status,statusText:D,url:L}),l},h=()=>{let{headers:D,status:I,statusText:L,url:G}=c(),R=null;204!==I&&(R=typeof r.response>"u"?r.responseText:r.response),0===I&&(I=R?200:0);let J=I>=200&&I<300;if("json"===e.responseType&&"string"==typeof R){const se=R;R=R.replace(pae,"");try{R=""!==R?JSON.parse(R):null}catch(ve){R=se,J&&(J=!1,R={error:ve,text:R})}}J?(s.next(new o_({body:R,headers:D,status:I,statusText:L,url:G||void 0})),s.complete()):s.error(new Yc({error:R,headers:D,status:I,statusText:L,url:G||void 0}))},g=D=>{const{url:I}=c(),L=new Yc({error:D,status:r.status||0,statusText:r.statusText||"Unknown Error",url:I||void 0});s.error(L)};let f=g;e.timeout&&(f=D=>{const{url:I}=c(),L=new Yc({error:new DOMException("Request timed out","TimeoutError"),status:r.status||0,statusText:r.statusText||"Request timeout",url:I||void 0});s.error(L)});let v=!1;const C=D=>{v||(s.next(c()),v=!0);let I={type:e0.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(I.total=D.total),"text"===e.responseType&&r.responseText&&(I.partialText=r.responseText),s.next(I)},S=D=>{let I={type:e0.UploadProgress,loaded:D.loaded};D.lengthComputable&&(I.total=D.total),s.next(I)};return r.addEventListener("load",h),r.addEventListener("error",g),r.addEventListener("timeout",f),r.addEventListener("abort",g),e.reportProgress&&(r.addEventListener("progress",C),null!==a&&r.upload&&r.upload.addEventListener("progress",S)),r.send(a),s.next({type:e0.Sent}),()=>{r.removeEventListener("error",g),r.removeEventListener("abort",g),r.removeEventListener("load",h),r.removeEventListener("timeout",f),e.reportProgress&&(r.removeEventListener("progress",C),null!==a&&r.upload&&r.upload.removeEventListener("progress",S)),r.readyState!==r.DONE&&r.abort()}})))}static \u0275fac=function(i){return new(i||t)(Zt(lL))};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();const tC=new Qe(""),SL=new Qe("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),EL=new Qe("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class OL{}let Mae=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i){this.doc=e,this.cookieName=i}getToken(){const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=aL(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||t)(Zt(Un),Zt(SL))};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();function Tae(t,n){const e=t.url.toLowerCase();if(!M(tC)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const i=M(OL).getToken(),o=M(EL);return null!=i&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,i)})),n(t)}var yl=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(yl||{});const AL=new Qe(""),{isArray:Sae}=Array,{getPrototypeOf:Eae,prototype:Oae,keys:Aae}=Object;function NL(t){if(1===t.length){const n=t[0];if(Sae(n))return{args:n,keys:null};if(function Nae(t){return t&&"object"==typeof t&&Eae(t)===Oae}(n)){const e=Aae(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:Dae}=Array;function nC(t){return bt(n=>function yae(t,n){return Dae(n)?t(...n):t(n)}(t,n))}function DL(t,n){return t.reduce((e,i,o)=>(e[i]=n[o],e),{})}let yL=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||t)(Ve(S1),Ve(fn))};static \u0275dir=Je({type:t})}return t})(),Jc=(()=>{class t extends yL{static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275dir=Je({type:t,features:[at]})}return t})();const oi=new Qe(""),Iae={provide:oi,useExisting:rn(()=>No),multi:!0};let No=(()=>{class t extends Jc{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275dir=Je({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){1&i&&E("change",function(r){return o.onChange(r.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[qt([Iae]),at]})}return t})();const Lae={provide:oi,useExisting:rn(()=>Ci),multi:!0},xae=new Qe("");let Ci=(()=>{class t extends yL{_compositionMode;_composing=!1;constructor(e,i,o){super(e,i),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function Rae(){const t=$0()?$0().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||t)(Ve(S1),Ve(fn),Ve(xae,8))};static \u0275dir=Je({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&E("input",function(r){return o._handleInput(r.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(r){return o._compositionEnd(r.target.value)})},standalone:!1,features:[qt([Lae]),at]})}return t})();function oC(t){return null==t?null:Array.isArray(t)||"string"==typeof t?t.length:t instanceof Set?t.size:null}const Us=new Qe(""),Pl=new Qe("");function LL(t){return function iC(t){return null==t||0===oC(t)}(t.value)?{required:!0}:null}function z3(t){return null}function VL(t){return null!=t}function HL(t){return bu(t)?Oo(t):t}function GL(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function $L(t,n){return n.map(e=>e(t))}function BL(t){return t.map(n=>function kae(t){return!t.validate}(n)?n:e=>n.validate(e))}function sC(t){return null!=t?function UL(t){if(!t)return null;const n=t.filter(VL);return 0==n.length?null:function(e){return GL($L(e,n))}}(BL(t)):null}function rC(t){return null!=t?function jL(t){if(!t)return null;const n=t.filter(VL);return 0==n.length?null:function(e){return function Pae(...t){const n=u3(t),{args:e,keys:i}=NL(t),o=new Jt(s=>{const{length:r}=e;if(!r)return void s.complete();const a=new Array(r);let l=r,c=r;for(let h=0;h<r;h++){let g=!1;Vo(e[h]).subscribe($i(s,f=>{g||(g=!0,c--),a[h]=f},()=>l--,void 0,()=>{(!l||!g)&&(c||s.next(i?DL(i,a):a),s.complete())}))}});return n?o.pipe(nC(n)):o}($L(e,n).map(HL)).pipe(bt(GL))}}(BL(t)):null}function ZL(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function WL(t){return t._rawValidators}function XL(t){return t._rawAsyncValidators}function aC(t){return t?Array.isArray(t)?t:[t]:[]}function V3(t,n){return Array.isArray(t)?t.includes(n):t===n}function KL(t,n){const e=aC(n);return aC(t).forEach(o=>{V3(e,o)||e.push(o)}),e}function qL(t,n){return aC(n).filter(e=>!V3(t,e))}class YL{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=sC(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=rC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Dr extends YL{name;get formDirective(){return null}get path(){return null}}class Il extends YL{_parent=null;name=null;valueAccessor=null}class QL{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Gt=(()=>{class t extends QL{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(Ve(Il,2))};static \u0275dir=Je({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&we("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[at]})}return t})(),Co=(()=>{class t extends QL{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(Ve(Dr,10))};static \u0275dir=Je({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&we("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[at]})}return t})();const r_="VALID",G3="INVALID",h2="PENDING",a_="DISABLED";class u2{}class eR extends u2{value;source;constructor(n,e){super(),this.value=n,this.source=e}}class dC extends u2{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}}class hC extends u2{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}}class $3 extends u2{status;source;constructor(n,e){super(),this.status=n,this.source=e}}class tR extends u2{source;constructor(n){super(),this.source=n}}class nR extends u2{source;constructor(n){super(),this.source=n}}function uC(t){return(B3(t)?t.validators:t)||null}function _C(t,n){return(B3(n)?n.asyncValidators:t)||null}function B3(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function iR(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new De(1e3,"");if(!i[e])throw new De(1001,"")}function oR(t,n,e){t._forEachChild((i,o)=>{if(void 0===e[o])throw new De(1002,"")})}class gC{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return so(this.statusReactive)}set status(n){so(()=>this.statusReactive.set(n))}_status=O1(()=>this.statusReactive());statusReactive=Ur(void 0);get valid(){return this.status===r_}get invalid(){return this.status===G3}get pending(){return this.status==h2}get disabled(){return this.status===a_}get enabled(){return this.status!==a_}errors;get pristine(){return so(this.pristineReactive)}set pristine(n){so(()=>this.pristineReactive.set(n))}_pristine=O1(()=>this.pristineReactive());pristineReactive=Ur(!0);get dirty(){return!this.pristine}get touched(){return so(this.touchedReactive)}set touched(n){so(()=>this.touchedReactive.set(n))}_touched=O1(()=>this.touchedReactive());touchedReactive=Ur(!1);get untouched(){return!this.touched}_events=new Be;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(KL(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(KL(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(qL(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(qL(n,this._rawAsyncValidators))}hasValidator(n){return V3(this._rawValidators,n)}hasAsyncValidator(n){return V3(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const e=!1===this.touched;this.touched=!0;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:i}),e&&!1!==n.emitEvent&&this._events.next(new hC(!0,i))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&!1!==n.emitEvent&&this._events.next(new hC(!1,i))}markAsDirty(n={}){const e=!0===this.pristine;this.pristine=!1;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:i}),e&&!1!==n.emitEvent&&this._events.next(new dC(!1,i))}markAsPristine(n={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&!1!==n.emitEvent&&this._events.next(new dC(!0,i))}markAsPending(n={}){this.status=h2;const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new $3(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:e})}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=a_,this.errors=null,this._forEachChild(o=>{o.disable({...n,onlySelf:!0})}),this._updateValue();const i=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new eR(this.value,i)),this._events.next(new $3(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=r_,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===r_||this.status===h2)&&this._runAsyncValidator(i,n.emitEvent)}const e=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new eR(this.value,e)),this._events.next(new $3(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:e})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?a_:r_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=h2,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e,shouldHaveEmitted:!1!==n};const i=HL(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new $3(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new Ee,this.statusChanges=new Ee}_calculateStatus(){return this._allControlsDisabled()?a_:this.errors?G3:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(h2)?h2:this._anyControlsHaveStatus(G3)?G3:r_}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){const i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),o&&this._events.next(new dC(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new hC(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){B3(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function Uae(t){return Array.isArray(t)?sC(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function jae(t){return Array.isArray(t)?rC(t):t||null}(this._rawAsyncValidators)}}class ti extends gC{constructor(n,e,i){super(uC(e),_C(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){oR(this,0,n),Object.keys(n).forEach(i=>{iR(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const o=this.controls[i];o&&o.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,o)=>{i.reset(n?n[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((o,s)=>{i=e(i,o,s)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const e5=new Qe("",{providedIn:"root",factory:()=>l_}),l_="always";function U3(t,n){return[...n.path,t]}function c_(t,n,e=l_){pC(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function Xae(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&sR(t,n)})}(t,n),function qae(t,n){const e=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function Kae(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&sR(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function Wae(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function j3(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),W3(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Z3(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function pC(t,n){const e=WL(t);null!==n.validator?t.setValidators(ZL(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=XL(t);null!==n.asyncValidator?t.setAsyncValidators(ZL(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const o=()=>t.updateValueAndValidity();Z3(n._rawValidators,o),Z3(n._rawAsyncValidators,o)}function W3(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=WL(t);if(Array.isArray(o)&&o.length>0){const s=o.filter(r=>r!==n.validator);s.length!==o.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const o=XL(t);if(Array.isArray(o)&&o.length>0){const s=o.filter(r=>r!==n.asyncValidator);s.length!==o.length&&(e=!0,t.setAsyncValidators(s))}}}const i=()=>{};return Z3(n._rawValidators,i),Z3(n._rawAsyncValidators,i),e}function sR(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function rR(t,n){pC(t,n)}function mC(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function aR(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function vC(t,n){if(!n)return null;let e,i,o;return Array.isArray(n),n.forEach(s=>{s.constructor===Ci?e=s:function Jae(t){return Object.getPrototypeOf(t.constructor)===Jc}(s)?i=s:o=s}),o||i||e||null}const t1e={provide:Dr,useExisting:rn(()=>_2)},d_=Promise.resolve();let _2=(()=>{class t extends Dr{callSetDisabledState;get submitted(){return so(this.submittedReactive)}_submitted=O1(()=>this.submittedReactive());submittedReactive=Ur(!1);_directives=new Set;form;ngSubmit=new Ee;options;constructor(e,i,o){super(),this.callSetDisabledState=o,this.form=new ti({},sC(e),rC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){d_.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),c_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){d_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){d_.then(()=>{const i=this._findContainer(e.path),o=new ti({});rR(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){d_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){d_.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),aR(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new tR(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new nR(this.form))}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||t)(Ve(Us,10),Ve(Pl,10),Ve(e5,8))};static \u0275dir=Je({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){1&i&&E("submit",function(r){return o.onSubmit(r)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[qt([t1e]),at]})}return t})();function lR(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function cR(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const re=class extends gC{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,i){super(uC(e),_C(i,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B3(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=cR(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){lR(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){lR(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){cR(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let X3=(()=>{class t extends Dr{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return U3(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275dir=Je({type:t,standalone:!1,features:[at]})}return t})();const r1e={provide:Il,useExisting:rn(()=>Ln)},dR=Promise.resolve();let Ln=(()=>{class t extends Il{_changeDetectorRef;callSetDisabledState;control=new re;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ee;constructor(e,i,o,s,r,a){super(),this._changeDetectorRef=r,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=vC(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),mC(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){c_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){dR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&yi(i);dR.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?U3(e,this._parent):[e]}static \u0275fac=function(i){return new(i||t)(Ve(Dr,9),Ve(Us,10),Ve(Pl,10),Ve(oi,10),Ve(Yo,8),Ve(e5,8))};static \u0275dir=Je({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[qt([r1e]),at,Di]})}return t})(),Do=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=Je({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();const a1e={provide:oi,useExisting:rn(()=>g2),multi:!0};let g2=(()=>{class t extends Jc{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275dir=Je({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){1&i&&E("input",function(r){return o.onChange(r.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[qt([a1e]),at]})}return t})();const l1e={provide:oi,useExisting:rn(()=>t5),multi:!0};let c1e=(()=>{class t{_accessors=[];add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),t5=(()=>{class t extends Jc{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=M(e5,{optional:!0})??l_;constructor(e,i,o,s){super(e,i),this._registry=o,this._injector=s}ngOnInit(){this._control=this._injector.get(Il),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||t)(Ve(S1),Ve(fn),Ve(c1e),Ve(Fi))};static \u0275dir=Je({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){1&i&&E("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[qt([l1e]),at]})}return t})();const CC=new Qe(""),u1e={provide:Dr,useExisting:rn(()=>ao)};let ao=(()=>{class t extends Dr{callSetDisabledState;get submitted(){return so(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=O1(()=>this._submittedReactive());_submittedReactive=Ur(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ee;constructor(e,i,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(W3(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return c_(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){j3(e.control||null,e,!1),function e1e(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),aR(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new tR(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1),!1!==i?.emitEvent&&this.form._events.next(new nR(this.form))}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(j3(i||null,e),(t=>t instanceof re)(o)&&(c_(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);rR(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Yae(t,n){return W3(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pC(this.form,this),this._oldForm&&W3(this._oldForm,this)}static \u0275fac=function(i){return new(i||t)(Ve(Us,10),Ve(Pl,10),Ve(e5,8))};static \u0275dir=Je({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,o){1&i&&E("submit",function(r){return o.onSubmit(r)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[qt([u1e]),at,Di]})}return t})();const _1e={provide:Dr,useExisting:rn(()=>Ll)};let Ll=(()=>{class t extends X3{name=null;constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}_checkParentType(){_R(this._parent)}static \u0275fac=function(i){return new(i||t)(Ve(Dr,13),Ve(Us,10),Ve(Pl,10))};static \u0275dir=Je({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[qt([_1e]),at]})}return t})();const g1e={provide:Dr,useExisting:rn(()=>h_)};let h_=(()=>{class t extends Dr{_parent;name=null;constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}ngOnInit(){_R(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return U3(null==this.name?this.name:this.name.toString(),this._parent)}static \u0275fac=function(i){return new(i||t)(Ve(Dr,13),Ve(Us,10),Ve(Pl,10))};static \u0275dir=Je({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[qt([g1e]),at]})}return t})();function _R(t){return!(t instanceof Ll||t instanceof ao||t instanceof h_)}const p1e={provide:Il,useExisting:rn(()=>Mo)};let Mo=(()=>{class t extends Il{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Ee;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,o,s,r){super(),this._ngModelWarningConfig=r,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=vC(0,s)}ngOnChanges(e){this._added||this._setUpControl(),mC(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return U3(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||t)(Ve(Dr,13),Ve(Us,10),Ve(Pl,10),Ve(oi,10),Ve(CC,8))};static \u0275dir=Je({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[qt([p1e]),at,Di]})}return t})();const f1e={provide:oi,useExisting:rn(()=>t0),multi:!0};function gR(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let t0=(()=>{class t extends Jc{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=M(Ja).injector;destroyRef=M(wr);cdr=M(Yo);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,E1({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;const o=gR(this._getOptionId(e),e);this.setProperty("value",o)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function m1e(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275dir=Je({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){1&i&&E("change",function(r){return o.onChange(r.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qt([f1e]),at]})}return t})(),Rl=(()=>{class t{_element;_renderer;_select;id;constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(gR(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||t)(Ve(fn),Ve(S1),Ve(t0,9))};static \u0275dir=Je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();const v1e={provide:oi,useExisting:rn(()=>MC),multi:!0};function pR(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let MC=(()=>{class t extends Jc{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){let i;if(this.value=e,Array.isArray(e)){const o=e.map(s=>this._getOptionId(s));i=(s,r)=>{s._setSelected(o.indexOf(r.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const r=s;for(let a=0;a<r.length;a++){const c=this._getOptionValue(r[a].value);o.push(c)}}else{const r=i.options;for(let a=0;a<r.length;a++){const l=r[a];if(l.selected){const c=this._getOptionValue(l.value);o.push(c)}}}this.value=o,e(o)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function C1e(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275dir=Je({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){1&i&&E("change",function(r){return o.onChange(r.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qt([v1e]),at]})}return t})(),xl=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(pR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(pR(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(Ve(fn),Ve(S1),Ve(MC,9))};static \u0275dir=Je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function mR(t){return"number"==typeof t?t:parseFloat(t)}let n5=(()=>{class t{_validator=z3;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):z3,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Je({type:t,features:[Di]})}return t})();const M1e={provide:Us,useExisting:rn(()=>TC),multi:!0};let TC=(()=>{class t extends n5{max;inputName="max";normalizeInput=e=>mR(e);createValidator=e=>function IL(t){return n=>{if(null==n.value||null==t)return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275dir=Je({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&Vn("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[qt([M1e]),at]})}return t})();const T1e={provide:Us,useExisting:rn(()=>wC),multi:!0};let wC=(()=>{class t extends n5{min;inputName="min";normalizeInput=e=>mR(e);createValidator=e=>function PL(t){return n=>{if(null==n.value||null==t)return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275dir=Je({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&Vn("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[qt([T1e]),at]})}return t})();const w1e={provide:Us,useExisting:rn(()=>q3),multi:!0};let q3=(()=>{class t extends n5{required;inputName="required";normalizeInput=yi;createValidator=e=>LL;enabled(e){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275dir=Je({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){2&i&&Vn("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[qt([w1e]),at]})}return t})();const O1e={provide:Us,useExisting:rn(()=>u_),multi:!0};let u_=(()=>{class t extends n5{maxlength;inputName="maxlength";normalizeInput=e=>function fR(t){return"number"==typeof t?t:parseInt(t,10)}(e);createValidator=e=>function kL(t){return n=>{const e=n.value?.length??oC(n.value);return null!==e&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275dir=Je({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&Vn("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[qt([O1e]),at]})}return t})(),wR=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({})}return t})();class p2 extends gC{constructor(n,e,i){super(uC(e),_C(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){Array.isArray(n)?n.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){oR(this,0,n),n.forEach((i,o)=>{iR(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,o)=>{i.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}let $t=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:e5,useValue:e.callSetDisabledState??l_}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({imports:[wR]})}return t})(),Wt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:CC,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:e5,useValue:e.callSetDisabledState??l_}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({imports:[wR]})}return t})();const bC=new Qe("");let SC=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o,s){return this._findPluginFor(i).addEventListener(e,i,o,s)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new De(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||t)(Zt(bC),Zt(un))};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();class bR{_doc;constructor(n){this._doc=n}manager}const EC="ng-app-id";function SR(t){for(const n of t)n.remove()}function ER(t,n){const e=n.createElement("style");return e.textContent=t,e}function OC(t,n){const e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}let OR=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,o,s={}){this.doc=e,this.appId=i,this.nonce=o,function N1e(t,n,e,i){const o=t.head?.querySelectorAll(`style[${EC}="${n}"],link[${EC}="${n}"]`);if(o)for(const s of o)s.removeAttribute(EC),s instanceof HTMLLinkElement?i.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(const o of e)this.addUsage(o,this.inline,ER);i?.forEach(o=>this.addUsage(o,this.external,OC))}removeStyles(e,i){for(const o of e)this.removeUsage(o,this.inline);i?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,i,o){const s=i.get(e);s?s.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(r=>this.addElement(r,o(e,this.doc)))})}removeUsage(e,i){const o=i.get(e);o&&(o.usage--,o.usage<=0&&(SR(o.elements),i.delete(e)))}ngOnDestroy(){for(const[,{elements:e}]of[...this.inline,...this.external])SR(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(const[i,{elements:o}]of this.inline)o.push(this.addElement(e,ER(i,this.doc)));for(const[i,{elements:o}]of this.external)o.push(this.addElement(e,OC(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||t)(Zt(Un),Zt(wd),Zt(pE,8),Zt(x0))};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();const AC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},NC=/%COMP%/g,R1e=new Qe("",{providedIn:"root",factory:()=>!0});function NR(t,n){return n.map(e=>e.replace(NC,t))}let DR=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(e,i,o,s,r,a,l,c=null,h,g,f=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=r,this.platformId=a,this.ngZone=l,this.nonce=c,this.animationDisabled=h,this.maxAnimationTimeout=g,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new DC(e,r,l,this.platformIsServer,this.tracingService,this.registry=function im(){return nm}(),this.maxAnimationTimeout)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const o=this.getOrCreateRenderer(e,i);return o instanceof PR?o.applyToHost(e):o instanceof yC&&o.applyStyles(),o}getOrCreateRenderer(e,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const r=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer,f=this.tracingService;switch(i.encapsulation){case F0.Emulated:s=new PR(l,c,i,this.appId,h,r,a,g,f,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case F0.ShadowDom:return new z1e(l,c,e,i,r,a,this.nonce,g,f,this.registry,this.maxAnimationTimeout);default:s=new yC(l,c,i,h,r,a,g,f,this.registry,this.animationDisabled,this.maxAnimationTimeout)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||t)(Zt(SC),Zt(OR),Zt(wd),Zt(R1e),Zt(Un),Zt(x0),Zt(un),Zt(pE),Zt(rD),Zt(uJ),Zt(Mu,8))};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();class DC{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,i,o,s,r,a){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.tracingService=s,this.registry=r,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(AC[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(yR(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(yR(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){const{elements:i}=this.registry;i?i.animate(e,()=>e.remove(),this.maxAnimationTimeout):e.remove()}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new De(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,o){if(o){e=o+":"+e;const s=AC[o];s?n.setAttributeNS(s,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const o=AC[i];o?n.removeAttributeNS(o,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,o){o&(Ml.DashCase|Ml.Important)?n.style.setProperty(e,i,o&Ml.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Ml.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){null!=n&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i,o){if("string"==typeof n&&!(n=$0().getGlobalEventTarget(this.doc,n)))throw new De(5102,!1);let s=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(n,e,s)),this.eventManager.addEventListener(n,e,s,o)}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&e.preventDefault()}}}function yR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class z1e extends DC{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,i,o,s,r,a,l,c,h,g){super(n,s,r,l,c,h,g),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=o.styles;f=NR(o.id,f);for(const C of f){const S=document.createElement("style");a&&S.setAttribute("nonce",a),S.textContent=C,this.shadowRoot.appendChild(S)}const v=o.getExternalStyles?.();if(v)for(const C of v){const S=OC(C,s);a&&S.setAttribute("nonce",a),this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yC extends DC{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(n,e,i,o,s,r,a,l,c,h,g,f){super(n,s,r,a,l,c,g),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this._animationDisabled=h;let v=i.styles;this.styles=f?NR(f,v):v,this.styleUrls=i.getExternalStyles?.(f)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements)return void this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}}class PR extends yC{contentAttr;hostAttr;constructor(n,e,i,o,s,r,a,l,c,h,g,f){const v=o+"-"+i.id;super(n,e,i,s,r,a,l,c,h,g,f,v),this.contentAttr=function x1e(t){return"_ngcontent-%COMP%".replace(NC,t)}(v),this.hostAttr=function F1e(t){return"_nghost-%COMP%".replace(NC,t)}(v)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class PC extends zse{supportsDOMEvents=!0;static makeCurrent(){!function kse(t){VI??=t}(new PC)}onAndCancel(n,e,i,o){return n.addEventListener(e,i,o),()=>{n.removeEventListener(e,i,o)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function V1e(){return __=__||document.head.querySelector("base"),__?__.getAttribute("href"):null}();return null==e?null:function H1e(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){__=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return aL(document.cookie,n)}}let __=null,$1e=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})(),B1e=(()=>{class t extends bR{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o,s){return e.addEventListener(i,o,s),()=>this.removeEventListener(e,i,o,s)}removeEventListener(e,i,o,s){return e.removeEventListener(i,o,s)}static \u0275fac=function(i){return new(i||t)(Zt(Un))};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();const IR=["alt","control","meta","shift"],U1e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j1e={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Z1e=(()=>{class t extends bR{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,o,s){const r=t.parseEventName(i),a=t.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$0().onAndCancel(e,r.domEventName,a,s))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=t._normalizeKey(i.pop());let r="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),r="code."),IR.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),r+=c+".")}),r+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=r,l}static matchEventFullKeyCode(e,i){let o=U1e[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(o=e.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),IR.forEach(r=>{r!==o&&(0,j1e[r])(e)&&(s+=r+".")}),s+=o,s===i)}static eventCallback(e,i,o){return s=>{t.matchEventFullKeyCode(s,e)&&o.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static \u0275fac=function(i){return new(i||t)(Zt(Un))};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();function LR(t){return{appProviders:[...xR,...t?.providers??[]],platformProviders:Y1e}}const Y1e=[{provide:x0,useValue:XP},{provide:gE,useValue:function X1e(){PC.makeCurrent()},multi:!0},{provide:Un,useFactory:function q1e(){return function IZ(t){Mm=t}(document),document}}],RR=[{provide:xf,useClass:class G1e{addToWindow(n){Lo.getAngularTestability=(i,o=!0)=>{const s=n.findTestabilityInTree(i,o);if(null==s)throw new De(5103,!1);return s},Lo.getAllAngularTestabilities=()=>n.getAllTestabilities(),Lo.getAllAngularRootElements=()=>n.getAllRootElements(),Lo.frameworkStabilizers||(Lo.frameworkStabilizers=[]),Lo.frameworkStabilizers.push(i=>{const o=Lo.getAllAngularTestabilities();let s=o.length;const r=function(){s--,0==s&&i()};o.forEach(a=>{a.whenStable(r)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?$0().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}}},{provide:UN,useClass:J7,deps:[un,ev,xf]},{provide:J7,useClass:J7,deps:[un,ev,xf]}],xR=[{provide:k8,useValue:"root"},{provide:gd,useFactory:function K1e(){return new gd}},{provide:bC,useClass:B1e,multi:!0,deps:[Un]},{provide:bC,useClass:Z1e,multi:!0,deps:[Un]},DR,OR,SC,{provide:b1,useExisting:DR},{provide:lL,useClass:$1e},[]];let Q1e=(()=>{class t{constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({providers:[...xR,...RR],imports:[e_,Pne]})}return t})();function Fl(t){t||(t=M(wr));const n=new Jt(e=>{if(!t.destroyed)return t.onDestroy(e.next.bind(e));e.next()});return e=>e.pipe(me(n))}const t0e=["addListener","removeListener"],n0e=["addEventListener","removeEventListener"],i0e=["on","off"];function Nn(t,n,e,i){if(It(e)&&(i=e,e=void 0),i)return Nn(t,n,e).pipe(nC(i));const[o,s]=function r0e(t){return It(t.addEventListener)&&It(t.removeEventListener)}(t)?n0e.map(r=>a=>t[r](n,a,e)):function o0e(t){return It(t.addListener)&&It(t.removeListener)}(t)?t0e.map(FR(t,n)):function s0e(t){return It(t.on)&&It(t.off)}(t)?i0e.map(FR(t,n)):[];if(!o&&a9(t))return bs(r=>Nn(r,n,e))(Vo(t));if(!o)throw new TypeError("Invalid event target");return new Jt(r=>{const a=(...l)=>r.next(1<l.length?l:l[0]);return o(a),()=>s(a)})}function FR(t,n){return e=>i=>t[e](n,i)}const{isArray:a0e}=Array;function kR(t){return 1===t.length&&a0e(t[0])?t[0]:t}function zR(...t){return 1===(t=kR(t)).length?Vo(t[0]):new Jt(function l0e(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push(Vo(t[i]).subscribe($i(n,o=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}n.next(o)})))}}(t))}function IC(...t){const n=u3(t),e=kR(t);return e.length?new Jt(i=>{let o=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{o=s=null});for(let r=0;!i.closed&&r<e.length;r++)Vo(e[r]).subscribe($i(i,a=>{if(o[r].push(a),o.every(l=>l.length)){const l=o.map(c=>c.shift());i.next(n?n(...l):l),o.some((c,h)=>!c.length&&s[h])&&i.complete()}},()=>{s[r]=!0,!o[r].length&&i.complete()}));return()=>{o=s=null}}):rr}function Y3(...t){const n=u3(t);return uo((e,i)=>{const o=t.length,s=new Array(o);let r=t.map(()=>!1),a=!1;for(let l=0;l<o;l++)Vo(t[l]).subscribe($i(i,c=>{s[l]=c,!a&&!r[l]&&(r[l]=!0,(a=r.every(At))&&(r=null))},ja));e.subscribe($i(i,l=>{if(a){const c=[l,...s];i.next(n?n(...c):c)}}))})}function VR(t,n){return n?e=>Kc(n.pipe(Or(1),function d0e(){return uo((t,n)=>{t.subscribe($i(n,ja))})}()),e.pipe(VR(t))):bs((e,i)=>Vo(t(e,i)).pipe(Or(1),function h0e(t){return bt(()=>t)}(e)))}function n0(t,n=e2){const e=t2(t,n);return VR(()=>e)}function r1(t,n=At){return t=t??u0e,uo((e,i)=>{let o,s=!0;e.subscribe($i(i,r=>{const a=n(r);(s||!t(o,a))&&(s=!1,o=a,i.next(r))}))})}function u0e(t,n){return t===n}var g0e={left:"right",right:"left",bottom:"top",top:"bottom"};function Q3(t){return t.replace(/left|right|bottom|top/g,function(n){return g0e[n]})}function o0(t){return t.split("-")[0]}var p0e={start:"end",end:"start"};function HR(t){return t.replace(/start|end/g,function(n){return p0e[n]})}var Sa="top",y1="bottom",P1="right",Ea="left",LC="auto",g_=[Sa,y1,P1,Ea],f2="start",p_="end",GR="viewport",f_="popper",$R=g_.reduce(function(t,n){return t.concat([n+"-"+f2,n+"-"+p_])},[]),BR=[].concat(g_,[LC]).reduce(function(t,n){return t.concat([n,n+"-"+f2,n+"-"+p_])},[]),A0e=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Oa(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function i5(t){return t instanceof Oa(t).Element||t instanceof Element}function a1(t){return t instanceof Oa(t).HTMLElement||t instanceof HTMLElement}function RC(t){return!(typeof ShadowRoot>"u")&&(t instanceof Oa(t).ShadowRoot||t instanceof ShadowRoot)}function kl(t){return((i5(t)?t.ownerDocument:t.document)||window.document).documentElement}var o5=Math.max,J3=Math.min,m2=Math.round;function xC(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function UR(){return!/^((?!chrome|android).)*safari/i.test(xC())}function v2(t,n,e){void 0===n&&(n=!1),void 0===e&&(e=!1);var i=t.getBoundingClientRect(),o=1,s=1;n&&a1(t)&&(o=t.offsetWidth>0&&m2(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&m2(i.height)/t.offsetHeight||1);var a=(i5(t)?Oa(t):window).visualViewport,l=!UR()&&e,c=(i.left+(l&&a?a.offsetLeft:0))/o,h=(i.top+(l&&a?a.offsetTop:0))/s,g=i.width/o,f=i.height/s;return{width:g,height:f,top:h,right:c+g,bottom:h+f,left:c,x:c,y:h}}function FC(t){var n=Oa(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function kC(t){return v2(kl(t)).left+FC(t).scrollLeft}function j0(t){return Oa(t).getComputedStyle(t)}function s0(t){return t?(t.nodeName||"").toLowerCase():null}function e6(t){return"html"===s0(t)?t:t.assignedSlot||t.parentNode||(RC(t)?t.host:null)||kl(t)}function zC(t){var n=j0(t);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function jR(t){return["html","body","#document"].indexOf(s0(t))>=0?t.ownerDocument.body:a1(t)&&zC(t)?t:jR(e6(t))}function m_(t,n){var e;void 0===n&&(n=[]);var i=jR(t),o=i===(null==(e=t.ownerDocument)?void 0:e.body),s=Oa(i),r=o?[s].concat(s.visualViewport||[],zC(i)?i:[]):i,a=n.concat(r);return o?a:a.concat(m_(e6(r)))}function y0e(t){return["table","td","th"].indexOf(s0(t))>=0}function ZR(t){return a1(t)&&"fixed"!==j0(t).position?t.offsetParent:null}function v_(t){for(var n=Oa(t),e=ZR(t);e&&y0e(e)&&"static"===j0(e).position;)e=ZR(e);return e&&("html"===s0(e)||"body"===s0(e)&&"static"===j0(e).position)?n:e||function P0e(t){var n=/firefox/i.test(xC());if(/Trident/i.test(xC())&&a1(t)&&"fixed"===j0(t).position)return null;var o=e6(t);for(RC(o)&&(o=o.host);a1(o)&&["html","body"].indexOf(s0(o))<0;){var s=j0(o);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||n&&"filter"===s.willChange||n&&s.filter&&"none"!==s.filter)return o;o=o.parentNode}return null}(t)||n}function WR(t,n){var e=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(e&&RC(e)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function VC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function XR(t,n,e){return n===GR?VC(function N0e(t,n){var e=Oa(t),i=kl(t),o=e.visualViewport,s=i.clientWidth,r=i.clientHeight,a=0,l=0;if(o){s=o.width,r=o.height;var c=UR();(c||!c&&"fixed"===n)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:r,x:a+kC(t),y:l}}(t,e)):i5(n)?function I0e(t,n){var e=v2(t,!1,"fixed"===n);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(n,e):VC(function D0e(t){var n,e=kl(t),i=FC(t),o=null==(n=t.ownerDocument)?void 0:n.body,s=o5(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=o5(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-i.scrollLeft+kC(t),l=-i.scrollTop;return"rtl"===j0(o||e).direction&&(a+=o5(e.clientWidth,o?o.clientWidth:0)-s),{width:s,height:r,x:a,y:l}}(kl(t)))}function C2(t){return t.split("-")[1]}function HC(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function KR(t){var l,n=t.reference,e=t.element,i=t.placement,o=i?o0(i):null,s=i?C2(i):null,r=n.x+n.width/2-e.width/2,a=n.y+n.height/2-e.height/2;switch(o){case Sa:l={x:r,y:n.y-e.height};break;case y1:l={x:r,y:n.y+n.height};break;case P1:l={x:n.x+n.width,y:a};break;case Ea:l={x:n.x-e.width,y:a};break;default:l={x:n.x,y:n.y}}var c=o?HC(o):null;if(null!=c){var h="y"===c?"height":"width";switch(s){case f2:l[c]=l[c]-(n[h]/2-e[h]/2);break;case p_:l[c]=l[c]+(n[h]/2-e[h]/2)}}return l}function YR(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function QR(t,n){return n.reduce(function(e,i){return e[i]=t,e},{})}function GC(t,n){void 0===n&&(n={});var i=n.placement,o=void 0===i?t.placement:i,s=n.strategy,r=void 0===s?t.strategy:s,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,h=void 0===c?GR:c,g=n.elementContext,f=void 0===g?f_:g,v=n.altBoundary,C=void 0!==v&&v,S=n.padding,D=void 0===S?0:S,I=YR("number"!=typeof D?D:QR(D,g_)),G=t.rects.popper,R=t.elements[C?f===f_?"reference":f_:f],J=function R0e(t,n,e,i){var o="clippingParents"===n?function L0e(t){var n=m_(e6(t)),i=["absolute","fixed"].indexOf(j0(t).position)>=0&&a1(t)?v_(t):t;return i5(i)?n.filter(function(o){return i5(o)&&WR(o,i)&&"body"!==s0(o)}):[]}(t):[].concat(n),s=[].concat(o,[e]),a=s.reduce(function(l,c){var h=XR(t,c,i);return l.top=o5(h.top,l.top),l.right=J3(h.right,l.right),l.bottom=J3(h.bottom,l.bottom),l.left=o5(h.left,l.left),l},XR(t,s[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(i5(R)?R:R.contextElement||kl(t.elements.popper),l,h,r),se=v2(t.elements.reference),ve=KR({reference:se,element:G,strategy:"absolute",placement:o}),pe=VC(Object.assign({},G,ve)),le=f===f_?pe:se,fe={top:J.top-le.top+I.top,bottom:le.bottom-J.bottom+I.bottom,left:J.left-le.left+I.left,right:le.right-J.right+I.right},ke=t.modifiersData.offset;if(f===f_&&ke){var Dt=ke[o];Object.keys(fe).forEach(function(it){var Ft=[P1,y1].indexOf(it)>=0?1:-1,Yt=[Sa,y1].indexOf(it)>=0?"y":"x";fe[it]+=Dt[Yt]*Ft})}return fe}const z0e={name:"flip",enabled:!0,phase:"main",fn:function k0e(t){var n=t.state,e=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var o=e.mainAxis,s=void 0===o||o,r=e.altAxis,a=void 0===r||r,l=e.fallbackPlacements,c=e.padding,h=e.boundary,g=e.rootBoundary,f=e.altBoundary,v=e.flipVariations,C=void 0===v||v,S=e.allowedAutoPlacements,D=n.options.placement,I=o0(D),G=l||(I!==D&&C?function F0e(t){if(o0(t)===LC)return[];var n=Q3(t);return[HR(t),n,HR(n)]}(D):[Q3(D)]),R=[D].concat(G).reduce(function(Yi,Hi){return Yi.concat(o0(Hi)===LC?function x0e(t,n){void 0===n&&(n={});var o=n.boundary,s=n.rootBoundary,r=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?BR:l,h=C2(n.placement),g=h?a?$R:$R.filter(function(C){return C2(C)===h}):g_,f=g.filter(function(C){return c.indexOf(C)>=0});0===f.length&&(f=g);var v=f.reduce(function(C,S){return C[S]=GC(t,{placement:S,boundary:o,rootBoundary:s,padding:r})[o0(S)],C},{});return Object.keys(v).sort(function(C,S){return v[C]-v[S]})}(n,{placement:Hi,boundary:h,rootBoundary:g,padding:c,flipVariations:C,allowedAutoPlacements:S}):Hi)},[]),J=n.rects.reference,se=n.rects.popper,ve=new Map,pe=!0,le=R[0],fe=0;fe<R.length;fe++){var ke=R[fe],Dt=o0(ke),it=C2(ke)===f2,Ft=[Sa,y1].indexOf(Dt)>=0,Yt=Ft?"width":"height",Qt=GC(n,{placement:ke,boundary:h,rootBoundary:g,altBoundary:f,padding:c}),We=Ft?it?P1:Ea:it?y1:Sa;J[Yt]>se[Yt]&&(We=Q3(We));var kt=Q3(We),ri=[];if(s&&ri.push(Qt[Dt]<=0),a&&ri.push(Qt[We]<=0,Qt[kt]<=0),ri.every(function(Yi){return Yi})){le=ke,pe=!1;break}ve.set(ke,ri)}if(pe)for(var ai=function(Hi){var Ei=R.find(function(wt){var Gi=ve.get(wt);if(Gi)return Gi.slice(0,Hi).every(function(Ms){return Ms})});if(Ei)return le=Ei,"break"},et=C?3:1;et>0&&"break"!==ai(et);et--);n.placement!==le&&(n.modifiersData[i]._skip=!0,n.placement=le,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function C_(t,n,e){return o5(t,J3(n,e))}function $C(t){var n=v2(t),e=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-e)<=1&&(e=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:i}}const $0e={name:"preventOverflow",enabled:!0,phase:"main",fn:function G0e(t){var n=t.state,e=t.options,i=t.name,o=e.mainAxis,s=void 0===o||o,r=e.altAxis,a=void 0!==r&&r,f=e.tether,v=void 0===f||f,C=e.tetherOffset,S=void 0===C?0:C,D=GC(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),I=o0(n.placement),L=C2(n.placement),G=!L,R=HC(I),J=function V0e(t){return"x"===t?"y":"x"}(R),se=n.modifiersData.popperOffsets,ve=n.rects.reference,pe=n.rects.popper,le="function"==typeof S?S(Object.assign({},n.rects,{placement:n.placement})):S,fe="number"==typeof le?{mainAxis:le,altAxis:le}:Object.assign({mainAxis:0,altAxis:0},le),ke=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Dt={x:0,y:0};if(se){if(s){var it,Ft="y"===R?Sa:Ea,Yt="y"===R?y1:P1,Qt="y"===R?"height":"width",We=se[R],kt=We+D[Ft],ri=We-D[Yt],Si=v?-pe[Qt]/2:0,ai=L===f2?ve[Qt]:pe[Qt],et=L===f2?-pe[Qt]:-ve[Qt],Yn=n.elements.arrow,Yi=v&&Yn?$C(Yn):{width:0,height:0},Hi=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ei=Hi[Ft],wt=Hi[Yt],Gi=C_(0,ve[Qt],Yi[Qt]),Ms=G?ve[Qt]/2-Si-Gi-Ei-fe.mainAxis:ai-Gi-Ei-fe.mainAxis,pr=G?-ve[Qt]/2+Si+Gi+wt+fe.mainAxis:et+Gi+wt+fe.mainAxis,zr=n.elements.arrow&&v_(n.elements.arrow),Ba=zr?"y"===R?zr.clientTop||0:zr.clientLeft||0:0,nn=null!=(it=ke?.[R])?it:0,w0=We+pr-nn,on=C_(v?J3(kt,We+Ms-nn-Ba):kt,We,v?o5(ri,w0):ri);se[R]=on,Dt[R]=on-We}if(a){var cc,Ua=se[J],b0="y"===J?"height":"width",dc=Ua+D["x"===R?Sa:Ea],hc=Ua-D["x"===R?y1:P1],cl=-1!==[Sa,Ea].indexOf(I),uc=null!=(cc=ke?.[J])?cc:0,_c=cl?dc:Ua-ve[b0]-pe[b0]-uc+fe.altAxis,gc=cl?Ua+ve[b0]+pe[b0]-uc-fe.altAxis:hc,pc=v&&cl?function H0e(t,n,e){var i=C_(t,n,e);return i>e?e:i}(_c,Ua,gc):C_(v?_c:dc,Ua,v?gc:hc);se[J]=pc,Dt[J]=pc-Ua}n.modifiersData[i]=Dt}},requiresIfExists:["offset"]},Z0e={name:"arrow",enabled:!0,phase:"main",fn:function U0e(t){var n,e=t.state,i=t.name,o=t.options,s=e.elements.arrow,r=e.modifiersData.popperOffsets,a=o0(e.placement),l=HC(a),h=[Ea,P1].indexOf(a)>=0?"height":"width";if(s&&r){var g=function(n,e){return YR("number"!=typeof(n="function"==typeof n?n(Object.assign({},e.rects,{placement:e.placement})):n)?n:QR(n,g_))}(o.padding,e),f=$C(s),v="y"===l?Sa:Ea,C="y"===l?y1:P1,S=e.rects.reference[h]+e.rects.reference[l]-r[l]-e.rects.popper[h],D=r[l]-e.rects.reference[l],I=v_(s),L=I?"y"===l?I.clientHeight||0:I.clientWidth||0:0,se=L/2-f[h]/2+(S/2-D/2),ve=C_(g[v],se,L-f[h]-g[C]);e.modifiersData[i]=((n={})[l]=ve,n.centerOffset=ve-se,n)}},effect:function j0e(t){var n=t.state,i=t.options.element,o=void 0===i?"[data-popper-arrow]":i;null!=o&&("string"==typeof o&&!(o=n.elements.popper.querySelector(o))||WR(n.elements.popper,o)&&(n.elements.arrow=o))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function q0e(t,n,e){void 0===e&&(e=!1);var i=a1(n),o=a1(n)&&function K0e(t){var n=t.getBoundingClientRect(),e=m2(n.width)/t.offsetWidth||1,i=m2(n.height)/t.offsetHeight||1;return 1!==e||1!==i}(n),s=kl(n),r=v2(t,o,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==s0(n)||zC(s))&&(a=function X0e(t){return t!==Oa(t)&&a1(t)?function W0e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):FC(t)}(n)),a1(n)?((l=v2(n,!0)).x+=n.clientLeft,l.y+=n.clientTop):s&&(l.x=kC(s))),{x:r.left+a.scrollLeft-l.x,y:r.top+a.scrollTop-l.y,width:r.width,height:r.height}}function Y0e(t){var n=new Map,e=new Set,i=[];function o(s){e.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var l=n.get(a);l&&o(l)}}),i.push(s)}return t.forEach(function(s){n.set(s.name,s)}),t.forEach(function(s){e.has(s.name)||o(s)}),i}function J0e(t){var n;return function(){return n||(n=new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(t())})})),n}}var JR={placement:"bottom",modifiers:[],strategy:"absolute"};function ex(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function tle(t){void 0===t&&(t={});var e=t.defaultModifiers,i=void 0===e?[]:e,o=t.defaultOptions,s=void 0===o?JR:o;return function(a,l,c){void 0===c&&(c=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},JR,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},g=[],f=!1,v={state:h,setOptions:function(I){var L="function"==typeof I?I(h.options):I;S(),h.options=Object.assign({},s,h.options,L),h.scrollParents={reference:i5(a)?m_(a):a.contextElement?m_(a.contextElement):[],popper:m_(l)};var G=function Q0e(t){var n=Y0e(t);return A0e.reduce(function(e,i){return e.concat(n.filter(function(o){return o.phase===i}))},[])}(function ele(t){var n=t.reduce(function(e,i){var o=e[i.name];return e[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,e},{});return Object.keys(n).map(function(e){return n[e]})}([].concat(i,h.options.modifiers)));return h.orderedModifiers=G.filter(function(R){return R.enabled}),function C(){h.orderedModifiers.forEach(function(D){var L=D.options,R=D.effect;if("function"==typeof R){var J=R({state:h,name:D.name,instance:v,options:void 0===L?{}:L});g.push(J||function(){})}})}(),v.update()},forceUpdate:function(){if(!f){var I=h.elements,L=I.reference,G=I.popper;if(ex(L,G)){h.rects={reference:q0e(L,v_(G),"fixed"===h.options.strategy),popper:$C(G)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(fe){return h.modifiersData[fe.name]=Object.assign({},fe.data)});for(var R=0;R<h.orderedModifiers.length;R++)if(!0!==h.reset){var J=h.orderedModifiers[R],se=J.fn,ve=J.options;"function"==typeof se&&(h=se({state:h,options:void 0===ve?{}:ve,name:J.name,instance:v})||h)}else h.reset=!1,R=-1}}},update:J0e(function(){return new Promise(function(D){v.forceUpdate(),D(h)})}),destroy:function(){S(),f=!0}};if(!ex(a,l))return v;function S(){g.forEach(function(D){return D()}),g=[]}return v.setOptions(c).then(function(D){!f&&c.onFirstUpdate&&c.onFirstUpdate(D)}),v}}var t6={passive:!0};const ile={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function nle(t){var n=t.state,e=t.instance,i=t.options,o=i.scroll,s=void 0===o||o,r=i.resize,a=void 0===r||r,l=Oa(n.elements.popper),c=[].concat(n.scrollParents.reference,n.scrollParents.popper);return s&&c.forEach(function(h){h.addEventListener("scroll",e.update,t6)}),a&&l.addEventListener("resize",e.update,t6),function(){s&&c.forEach(function(h){h.removeEventListener("scroll",e.update,t6)}),a&&l.removeEventListener("resize",e.update,t6)}},data:{}},sle={name:"popperOffsets",enabled:!0,phase:"read",fn:function ole(t){var n=t.state;n.modifiersData[t.name]=KR({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}};var rle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tx(t){var n,e=t.popper,i=t.popperRect,o=t.placement,s=t.variation,r=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,g=t.isFixed,f=r.x,v=void 0===f?0:f,C=r.y,S=void 0===C?0:C,D="function"==typeof h?h({x:v,y:S}):{x:v,y:S};v=D.x,S=D.y;var I=r.hasOwnProperty("x"),L=r.hasOwnProperty("y"),G=Ea,R=Sa,J=window;if(c){var se=v_(e),ve="clientHeight",pe="clientWidth";se===Oa(e)&&"static"!==j0(se=kl(e)).position&&"absolute"===a&&(ve="scrollHeight",pe="scrollWidth"),(o===Sa||(o===Ea||o===P1)&&s===p_)&&(R=y1,S-=(g&&se===J&&J.visualViewport?J.visualViewport.height:se[ve])-i.height,S*=l?1:-1),o!==Ea&&(o!==Sa&&o!==y1||s!==p_)||(G=P1,v-=(g&&se===J&&J.visualViewport?J.visualViewport.width:se[pe])-i.width,v*=l?1:-1)}var it,ke=Object.assign({position:a},c&&rle),Dt=!0===h?function ale(t,n){var i=t.y,o=n.devicePixelRatio||1;return{x:m2(t.x*o)/o||0,y:m2(i*o)/o||0}}({x:v,y:S},Oa(e)):{x:v,y:S};return v=Dt.x,S=Dt.y,Object.assign({},ke,l?((it={})[R]=L?"0":"",it[G]=I?"0":"",it.transform=(J.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",it):((n={})[R]=L?S+"px":"",n[G]=I?v+"px":"",n.transform="",n))}const cle={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function lle(t){var n=t.state,e=t.options,i=e.gpuAcceleration,o=void 0===i||i,s=e.adaptive,r=void 0===s||s,a=e.roundOffsets,l=void 0===a||a,c={placement:o0(n.placement),variation:C2(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:o,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,tx(Object.assign({},c,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:r,roundOffsets:l})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,tx(Object.assign({},c,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}};var ule=[ile,sle,cle,{name:"applyStyles",enabled:!0,phase:"write",fn:function dle(t){var n=t.state;Object.keys(n.elements).forEach(function(e){var i=n.styles[e]||{},o=n.attributes[e]||{},s=n.elements[e];!a1(s)||!s0(s)||(Object.assign(s.style,i),Object.keys(o).forEach(function(r){var a=o[r];!1===a?s.removeAttribute(r):s.setAttribute(r,!0===a?"":a)}))})},effect:function hle(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.styles=e,n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(i){var o=n.elements[i],s=n.attributes[i]||{},a=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:e[i]).reduce(function(l,c){return l[c]="",l},{});!a1(o)||!s0(o)||(Object.assign(o.style,a),Object.keys(s).forEach(function(l){o.removeAttribute(l)}))})}},requires:["computeStyles"]}],_le=tle({defaultModifiers:ule});const fle={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ple(t){var n=t.state,i=t.name,o=t.options.offset,s=void 0===o?[0,0]:o,r=BR.reduce(function(h,g){return h[g]=function gle(t,n,e){var i=o0(t),o=[Ea,Sa].indexOf(i)>=0?-1:1,s="function"==typeof e?e(Object.assign({},n,{placement:t})):e,r=s[0],a=s[1];return r=r||0,a=(a||0)*o,[Ea,P1].indexOf(i)>=0?{x:a,y:r}:{x:r,y:a}}(g,n.rects,s),h},{}),a=r[n.placement],c=a.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=a.x,n.modifiersData.popperOffsets.y+=c),n.modifiersData[i]=r}},mle=["container"],vle=["ngbAccordionBody",""],zl=["*"];function Cle(t,n){if(1&t){const e=k();Hn(0,"button",1),Yr("click",function(){return T(e),w(p().close())}),Jn()}}const Tle=["ngbDatepickerDayView",""],wle=["month"],ble=["year"];function Sle(t,n){if(1&t&&(Hn(0,"option",3),N(1),Jn()),2&t){const e=n.$implicit,i=p();zi("value",e),Vn("aria-label",i.i18n.getMonthFullName(e,i.date.year)),_(),oe(i.i18n.getMonthShortName(e,i.date.year))}}function Ele(t,n){if(1&t&&(Hn(0,"option",3),N(1),Jn()),2&t){const e=n.$implicit,i=p();zi("value",e),_(),oe(i.i18n.getYearNumerals(e))}}function nx(t,n){return this.idMonth(n)}function Ole(t,n){if(1&t){const e=k();d(0,"ngb-datepicker-navigation-select",7),E("select",function(o){return T(e),w(p().select.emit(o))}),u()}if(2&t){const e=p();m("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function Ale(t,n){1&t&&O(0,"div",8)}function Nle(t,n){1&t&&O(0,"div",8)}function Dle(t,n){if(1&t&&(y(0,Ale,1,0,"div",8),d(1,"div",9),N(2),u(),y(3,Nle,1,0,"div",8)),2&t){const e=n.$implicit,i=n.$index,o=p(2);P(i>0?0:-1),_(2),He(" ",o.i18n.getMonthLabel(e.firstDate)," "),_(),P(i!==o.months.length-1?3:-1)}}function yle(t,n){1&t&&Ke(0,Dle,4,3,null,null,nx,!0),2&t&&qe(p().months)}function Ple(t,n){if(1&t&&(d(0,"span"),N(1),u()),2&t){const e=n.$implicit,i=p();_(),oe(i.i18n.getMonthLabel(e.firstDate))}}function Ile(t,n){if(1&t&&(d(0,"div",1),N(1),u()),2&t){const e=p(2);_(),oe(e.i18n.getWeekLabel())}}function Lle(t,n){if(1&t&&(d(0,"div",2),N(1),u()),2&t){const e=n.$implicit;_(),oe(e)}}function Rle(t,n){if(1&t&&(d(0,"div",0),y(1,Ile,2,1,"div",1),Ke(2,Lle,2,1,"div",2,Wd),u()),2&t){const e=p();_(),P(e.datepicker.showWeekNumbers?1:-1),_(),qe(e.viewModel.weekdays)}}function xle(t,n){if(1&t&&(d(0,"div",4),N(1),u()),2&t){const e=p(2).$implicit,i=p();_(),oe(i.i18n.getWeekNumerals(e.number))}}function Fle(t,n){}function kle(t,n){if(1&t&&ce(0,Fle,0,0,"ng-template",7),2&t){const e=p().$implicit;m("ngTemplateOutlet",p(3).datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function zle(t,n){if(1&t){const e=k();d(0,"div",6),E("click",function(o){const s=T(e).$implicit;return p(3).doSelect(s),w(o.preventDefault())}),y(1,kle,1,2,null,7),u()}if(2&t){const e=n.$implicit;we("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),m("tabindex",e.tabindex),Vn("aria-label",e.ariaLabel)("aria-disabled",e.context.disabled)("aria-selected",e.context.selected),_(),P(e.hidden?-1:1)}}function Vle(t,n){if(1&t&&(d(0,"div",3),y(1,xle,2,1,"div",4),Ke(2,zle,2,11,"div",5,jt),u()),2&t){const e=p().$implicit,i=p();_(),P(i.datepicker.showWeekNumbers?1:-1),_(),qe(e.days)}}function Hle(t,n){1&t&&y(0,Vle,4,1,"div",3),2&t&&P(n.$implicit.collapsed?-1:0)}const Gle=["defaultDayTemplate"],$le=["content"],ix=t=>({$implicit:t});function Ble(t,n){if(1&t&&O(0,"div",8),2&t){const i=n.currentMonth,o=n.selected,s=n.disabled,r=n.focused;m("date",n.date)("currentMonth",i)("selected",o)("disabled",s)("focused",r)}}function Ule(t,n){if(1&t&&(d(0,"div",10),N(1),u()),2&t){const e=p().$implicit,i=p(2);_(),He(" ",i.i18n.getMonthLabel(e.firstDate)," ")}}function jle(t,n){if(1&t&&(d(0,"div",9),y(1,Ule,2,1,"div",10),O(2,"ngb-datepicker-month",11),u()),2&t){const e=n.$implicit,i=p(2);_(),P("none"===i.navigation||i.displayMonths>1&&"select"===i.navigation?1:-1),_(),m("month",e.firstDate)}}function Zle(t,n){1&t&&Ke(0,jle,3,2,"div",9,jt),2&t&&qe(p().model.months)}function Wle(t,n){if(1&t){const e=k();d(0,"ngb-datepicker-navigation",12),E("navigate",function(o){return T(e),w(p().onNavigateEvent(o))})("select",function(o){return T(e),w(p().onNavigateDateSelect(o))}),u()}if(2&t){const e=p();m("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function Xle(t,n){}function Kle(t,n){}const qle=["dialog"],Yle=["ngbNavOutlet",""];function Qle(t,n){}function Jle(t,n){if(1&t&&(d(0,"div",0),ce(1,Qle,0,0,"ng-template",1),u()),2&t){const e=p().$implicit,i=p();m("item",e)("nav",i.nav)("role",i.paneRole),_(),m("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",ei(5,ix,e.active||i.isPanelTransitioning(e)))}}function ece(t,n){if(1&t&&y(0,Jle,2,7,"div",0),2&t){const e=n.$implicit,i=p();P(e.isPanelInDom()||i.isPanelTransitioning(e)?0:-1)}}const tce=(t,n,e)=>({$implicit:t,pages:n,disabled:e}),nce=t=>({disabled:!0,currentPage:t}),ice=(t,n,e)=>({disabled:t,$implicit:n,currentPage:e}),BC=(t,n)=>({disabled:t,currentPage:n}),oce=t=>({disabled:t});function sce(t,n){1&t&&(d(0,"span",13),b(1,7),u())}function rce(t,n){1&t&&(d(0,"span",13),b(1,8),u())}function ace(t,n){1&t&&(d(0,"span",13),b(1,9),u())}function lce(t,n){1&t&&(d(0,"span",13),b(1,10),u())}function cce(t,n){1&t&&N(0,"...")}function dce(t,n){1&t&&N(0),2&t&&oe(n.$implicit)}function hce(t,n){}function uce(t,n){if(1&t&&(d(0,"a",16),ce(1,hce,0,0,"ng-template",12),u()),2&t){const e=p(2).$implicit,i=p(),o=xe(9);_(),m("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||o)("ngTemplateOutletContext",ei(2,nce,e))}}function _ce(t,n){}function gce(t,n){if(1&t){const e=k();d(0,"a",18),E("click",function(o){T(e);const s=p().$implicit;return p(2).selectPage(s),w(o.preventDefault())}),ce(1,_ce,0,0,"ng-template",12),u()}if(2&t){const e=p().$implicit,i=p(),o=i.$implicit,s=i.disabled,r=p(),a=xe(11);Vn("tabindex",s?"-1":null)("aria-disabled",s?"true":null)("aria-current",e===o?"page":null),_(),m("ngTemplateOutlet",(null==r.tplNumber?null:r.tplNumber.templateRef)||a)("ngTemplateOutletContext",Wc(5,ice,s,e,o))}}function pce(t,n){if(1&t&&(d(0,"li",15),y(1,uce,2,4,"a",16)(2,gce,2,9,"a",17),u()),2&t){const e=n.$implicit,i=p(),o=i.$implicit,s=i.disabled,r=p();we("active",e===o)("disabled",r.isEllipsis(e)||s),_(),P(r.isEllipsis(e)?1:2)}}function fce(t,n){1&t&&Ke(0,pce,3,5,"li",14,Wd),2&t&&qe(n.pages)}function mce(t,n){}function vce(t,n){if(1&t){const e=k();d(0,"li",15)(1,"a",19),E("click",function(o){return T(e),p().selectPage(1),w(o.preventDefault())}),ce(2,mce,0,0,"ng-template",12),u()()}if(2&t){const e=p(),i=xe(1);we("disabled",e.previousDisabled()),_(),Vn("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),_(),m("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||i)("ngTemplateOutletContext",$e(6,BC,e.previousDisabled(),e.page))}}function Cce(t,n){}function Mce(t,n){if(1&t){const e=k();d(0,"li",15)(1,"a",20),E("click",function(o){T(e);const s=p();return s.selectPage(s.page-1),w(o.preventDefault())}),ce(2,Cce,0,0,"ng-template",12),u()()}if(2&t){const e=p(),i=xe(3);we("disabled",e.previousDisabled()),_(),Vn("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),_(),m("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||i)("ngTemplateOutletContext",ei(6,oce,e.previousDisabled()))}}function Tce(t,n){}function wce(t,n){}function bce(t,n){if(1&t){const e=k();d(0,"li",15)(1,"a",21),E("click",function(o){T(e);const s=p();return s.selectPage(s.page+1),w(o.preventDefault())}),ce(2,wce,0,0,"ng-template",12),u()()}if(2&t){const e=p(),i=xe(5);we("disabled",e.nextDisabled()),_(),Vn("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),_(),m("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||i)("ngTemplateOutletContext",$e(6,BC,e.nextDisabled(),e.page))}}function Sce(t,n){}function Ece(t,n){if(1&t){const e=k();d(0,"li",15)(1,"a",22),E("click",function(o){T(e);const s=p();return s.selectPage(s.pageCount),w(o.preventDefault())}),ce(2,Sce,0,0,"ng-template",12),u()()}if(2&t){const e=p(),i=xe(7);we("disabled",e.nextDisabled()),_(),Vn("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),_(),m("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||i)("ngTemplateOutletContext",$e(6,BC,e.nextDisabled(),e.page))}}function Oce(t,n){1&t&&N(0),2&t&&oe(p(2).title)}function Ace(t,n){}function Nce(t,n){if(1&t&&(d(0,"h3",2),ce(1,Oce,1,1,"ng-template",null,0,xt)(3,Ace,0,0,"ng-template",4),u()),2&t){const e=xe(2),i=p();_(3),m("ngTemplateOutlet",i.isTitleTemplate()?i.title:e)("ngTemplateOutletContext",i.context)}}function Dce(t,n){if(1&t&&(Hn(0,"span"),b(1,0),Fe(2,"percent"),Jn()),2&t){const e=p();_(2),An(lt(2,1,e.getValue()/e.max)),In(1)}}function xce(t,n){if(1&t&&(d(0,"strong",3),N(1),u()),2&t){const e=p();_(),oe(e.header)}}function Fce(t,n){}function kce(t,n){if(1&t){const e=k();d(0,"div",1),ce(1,Fce,0,0,"ng-template",4),d(2,"button",5),E("click",function(){return T(e),w(p().hide())}),u()()}if(2&t){const e=p(),i=xe(1);_(),m("ngTemplateOutlet",e.contentHeaderTpl||i)}}function zce(t,n){if(1&t&&(Hn(0,"span"),N(1),Jn()),2&t){const e=p().$implicit;Zi(p().highlightClass),_(),oe(e)}}function Vce(t,n){if(1&t&&(Bf(0),N(1),Mv()),2&t){const e=p().$implicit;_(),oe(e)}}function Hce(t,n){1&t&&y(0,zce,2,3,"span",0)(1,Vce,2,1,"ng-container"),2&t&&P(n.$index%2!=0?0:1)}const Gce=(t,n,e)=>({result:t,term:n,formatter:e});function $ce(t,n){if(1&t&&O(0,"ngb-highlight",2),2&t){const i=n.term;m("result",(0,n.formatter)(n.result))("term",i)}}function Bce(t,n){}function Uce(t,n){if(1&t){const e=k();d(0,"button",3),E("mouseenter",function(){const o=T(e).$index;return w(p().markActive(o))})("click",function(){const o=T(e).$implicit;return w(p().select(o))}),ce(1,Bce,0,0,"ng-template",4),u()}if(2&t){const e=n.$implicit,i=n.$index,o=p(),s=xe(1);we("active",i===o.activeIdx),m("id",o.id+"-"+i),_(),m("ngTemplateOutlet",o.resultTemplate||s)("ngTemplateOutletContext",Wc(5,Gce,e,o.term,o.formatter))}}const ox={animation:!0,transitionTimerDelayMs:5};let Vl=(()=>{class t{constructor(){this.animation=ox.animation}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jce=(()=>{class t{constructor(){this._ngbConfig=M(Vl),this.closeOthers=!1,this.destroyOnHide=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function na(t){return parseInt(`${t}`,10)}function M_(t){return null!=t?`${t}`:""}function sx(t,n,e=0){return Math.max(Math.min(t,n),e)}function Hl(t){return"string"==typeof t}function xs(t){return!isNaN(na(t))}function ia(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function Gl(t){return null!=t}function ax(t){return xs(t)?`0${t}`.slice(-2):""}function M2(t){return(t||document.body).getBoundingClientRect()}function lx(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function cx(t=document){const n=t?.activeElement;return n?n.shadowRoot?cx(n.shadowRoot):n:null}const qce=()=>{},{transitionTimerDelayMs:Yce}=ox,T_=new Map,yr=(t,n,e,i)=>{let o=i.context||{};const s=T_.get(n);if(s)switch(i.runningTransition){case"continue":return rr;case"stop":t.run(()=>s.transition$.complete()),o=Object.assign(s.context,o),T_.delete(n)}const r=e(n,i.animation,o)||qce;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>r()),Et(void 0).pipe(function Kce(t){return n=>new Jt(e=>n.subscribe({next:r=>t.run(()=>e.next(r)),error:r=>t.run(()=>e.error(r)),complete:()=>t.run(()=>e.complete())}))}(t));const a=new Be,l=new Be,c=a.pipe(function c0e(...t){return n=>Kc(n,Et(...t))}(!0));T_.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:o});const h=function Zce(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const g=Nn(n,"transitionend").pipe(me(c),ii(({target:v})=>v===n));zR(t2(h+Yce).pipe(me(c)),g,l).pipe(me(c)).subscribe(()=>{T_.delete(n),t.run(()=>{r(),a.next(),a.complete()})})}),a.asObservable()},n6=t=>{T_.get(t)?.complete()},Jce=(t,n,e)=>{let{direction:i,maxSize:o,dimension:s}=e;const{classList:r}=t;function a(){r.add("collapse"),"show"===i?r.add("show"):r.remove("show")}if(n)return o||(o=function Qce(t,n){if(typeof navigator>"u")return"0px";const{classList:e}=t,i=e.contains("show");i||e.add("show"),t.style[n]="";const o=t.getBoundingClientRect()[n]+"px";return i||e.remove("show"),o}(t,s),e.maxSize=o,t.style[s]="show"!==i?o:"0px",r.remove("collapse","collapsing","show"),M2(t),r.add("collapsing")),t.style[s]="show"===i?o:"0px",()=>{a(),r.remove("collapsing"),t.style[s]=""};a()};let e5e=(()=>{class t{constructor(){this._ngbConfig=M(Vl),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),w_=(()=>{class t{constructor(){this._config=M(e5e),this._element=M(fn),this._zone=M(un),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new Ee,this.horizontal=this._config.horizontal,this.shown=new Ee,this.hidden=new Ee}set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return yr(this._zone,this._element.nativeElement,Jce,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,o){2&i&&we("collapse-horizontal",o.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"]})}return t})(),t5e=0,b_=(()=>{class t{constructor(){this._item=M(I1),this._viewRef=null,this.elementRef=M(fn)}ngAfterContentChecked(){this._bodyTpl&&(this._item._shouldBeInDOM?this._createViewIfNotExists():this._destroyViewIfExists())}ngOnDestroy(){this._destroyViewIfExists()}_destroyViewIfExists(){this._viewRef?.destroy(),this._viewRef=null}_createViewIfNotExists(){this._viewRef||(this._viewRef=this._vcr.createEmbeddedView(this._bodyTpl),this._viewRef.detectChanges())}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["","ngbAccordionBody",""]],contentQueries:function(i,o,s){if(1&i&&ui(s,dn,7),2&i){let r;Mt(r=Tt())&&(o._bodyTpl=r.first)}},viewQuery:function(i,o){if(1&i&&Tn(mle,7,Gs),2&i){let s;Mt(s=Tt())&&(o._vcr=s.first)}},hostAttrs:[1,"accordion-body"],attrs:vle,ngContentSelectors:zl,decls:3,vars:0,consts:[["container",""]],template:function(i,o){1&i&&(or(),Tv(0,null,0),sr(2))},encapsulation:2})}return t})(),T2=(()=>{class t{constructor(){this.item=M(I1),this.ngbCollapse=M(w_)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region",1,"accordion-collapse"],hostVars:2,hostBindings:function(i,o){2&i&&(zi("id",o.item.collapseId),Vn("aria-labelledby",o.item.toggleId))},exportAs:["ngbAccordionCollapse"],features:[mu([w_])]})}return t})(),dx=(()=>{class t{constructor(){this.item=M(I1),this.accordion=M(s5)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbAccordionToggle",""]],hostVars:5,hostBindings:function(i,o){1&i&&E("click",function(){return!o.item.disabled&&o.accordion.toggle(o.item.id)}),2&i&&(zi("id",o.item.toggleId),Vn("aria-controls",o.item.collapseId)("aria-expanded",!o.item.collapsed),we("collapsed",o.item.collapsed))}})}return t})(),S_=(()=>{class t{constructor(){this.item=M(I1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["button","ngbAccordionButton",""]],hostAttrs:["type","button",1,"accordion-button"],hostVars:1,hostBindings:function(i,o){2&i&&zi("disabled",o.item.disabled)},features:[mu([dx])]})}return t})(),E_=(()=>{class t{constructor(){this.item=M(I1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbAccordionHeader",""]],hostAttrs:["role","heading",1,"accordion-header"],hostVars:2,hostBindings:function(i,o){2&i&&we("collapsed",o.item.collapsed)}})}return t})(),I1=(()=>{class t{constructor(){this._accordion=M(s5),this._cd=M(Yo),this._destroyRef=M(wr),this._collapsed=!0,this._id="ngb-accordion-item-"+t5e++,this._collapseAnimationRunning=!1,this.disabled=!1,this.show=new Ee,this.shown=new Ee,this.hide=new Ee,this.hidden=new Ee}set id(e){Hl(e)&&""!==e&&(this._id=e)}set destroyOnHide(e){this._destroyOnHide=e}get destroyOnHide(){return void 0===this._destroyOnHide?this._accordion.destroyOnHide:this._destroyOnHide}set collapsed(e){e?this.collapse():this.expand()}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}get _shouldBeInDOM(){return!this.collapsed||this._collapseAnimationRunning||!this.destroyOnHide}ngAfterContentInit(){const{ngbCollapse:e}=this._collapse;e.animation=!1,e.collapsed=this.collapsed,e.animation=this._accordion.animation,e.hidden.pipe(Fl(this._destroyRef)).subscribe(()=>{this._collapseAnimationRunning=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id),this._cd.markForCheck()}),e.shown.pipe(Fl(this._destroyRef)).subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id),this._cd.markForCheck()})}toggle(){this.collapsed=!this.collapsed}expand(){if(this.collapsed){if(!this._accordion._ensureCanExpand(this))return;this._collapsed=!1,this._cd.markForCheck(),this._cd.detectChanges(),this.show.emit(),this._accordion.show.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!1}}collapse(){this.collapsed||(this._collapsed=!0,this._collapseAnimationRunning=!0,this._cd.markForCheck(),this.hide.emit(),this._accordion.hide.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!0)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbAccordionItem",""]],contentQueries:function(i,o,s){if(1&i&&ui(s,T2,7),2&i){let r;Mt(r=Tt())&&(o._collapse=r.first)}},hostAttrs:[1,"accordion-item"],hostVars:1,hostBindings:function(i,o){2&i&&zi("id",o.id)},inputs:{id:[0,"ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordionItem"]})}return t})(),s5=(()=>{class t{constructor(){this._config=M(jce),this._anItemWasAlreadyExpandedDuringInitialisation=!1,this.animation=this._config.animation,this.closeOthers=this._config.closeOthers,this.destroyOnHide=this._config.destroyOnHide,this.show=new Ee,this.shown=new Ee,this.hide=new Ee,this.hidden=new Ee}toggle(e){this._getItem(e)?.toggle()}expand(e){this._getItem(e)?.expand()}expandAll(){this._items&&(this.closeOthers?this._items.find(e=>!e.collapsed)||this._items.first.expand():this._items.forEach(e=>e.expand()))}collapse(e){this._getItem(e)?.collapse()}collapseAll(){this._items?.forEach(e=>e.collapse())}isExpanded(e){const i=this._getItem(e);return!!i&&!i.collapsed}_ensureCanExpand(e){return!(this.closeOthers&&(this._items?(this._items.find(i=>!i.collapsed&&e!==i)?.collapse(),0):this._anItemWasAlreadyExpandedDuringInitialisation||(this._anItemWasAlreadyExpandedDuringInitialisation=!0,0)))}_getItem(e){return this._items?.find(i=>i.id===e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbAccordion",""]],contentQueries:function(i,o,s){if(1&i&&ui(s,I1,4),2&i){let r;Mt(r=Tt())&&(o._items=r)}},hostAttrs:[1,"accordion"],inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordion"]})}return t})(),r5=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),n5e=(()=>{class t{constructor(){this._ngbConfig=M(Vl),this.dismissible=!0,this.type="warning"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const i5e=({classList:t})=>{t.remove("show")};let o5e=(()=>{class t{constructor(){this._config=M(n5e),this._elementRef=M(fn),this._zone=M(un),this.animation=this._config.animation,this.dismissible=this._config.dismissible,this.type=this._config.type,this.closed=new Ee}close(){const e=yr(this._zone,this._elementRef.nativeElement,i5e,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-alert"]],hostAttrs:["role","alert"],hostVars:6,hostBindings:function(i,o){2&i&&(Zi("alert show"+(o.type?" alert-"+o.type:"")),we("fade",o.animation)("alert-dismissible",o.dismissible))},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],ngContentSelectors:zl,decls:2,vars:1,consts:()=>{let e;return e="\u0625\u063A\u0644\u0627\u0642",[["type","button","aria-label",e,1,"btn-close"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(i,o){1&i&&(or(),sr(0),y(1,Cle,1,0,"button",0)),2&i&&(_(),P(o.dismissible?1:-1))},styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0})}return t})(),UC=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),_x=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),O_=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})();class gs{static from(n){return n instanceof gs?n:n?new gs(n.year,n.month,n.day):null}constructor(n,e,i){this.year=ia(n)?n:null,this.month=ia(e)?e:null,this.day=ia(i)?i:null}equals(n){return null!=n&&this.year===n.year&&this.month===n.month&&this.day===n.day}before(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day<n.day:this.month<n.month:this.year<n.year)}after(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day>n.day:this.month>n.month:this.year>n.year)}}function gx(t){return new gs(t.getFullYear(),t.getMonth()+1,t.getDate())}function o6(t){const n=new Date(t.year,t.month-1,t.day,12);return isNaN(n.getTime())||n.setFullYear(t.year),n}let s6=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:()=>function r5e(){return new a5e}(),providedIn:"root"})}return t})(),a5e=(()=>{class t extends s6{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,i="d",o=1){let s=o6(e),r=!0,a=s.getMonth();switch(i){case"y":s.setFullYear(s.getFullYear()+o);break;case"m":a+=o,s.setMonth(a),a%=12,a<0&&(a+=12);break;case"d":s.setDate(s.getDate()+o),r=!1;break;default:return e}return r&&s.getMonth()!==a&&s.setDate(0),gx(s)}getPrev(e,i="d",o=1){return this.getNext(e,i,-o)}getWeekday(e){let o=o6(e).getDay();return 0===o?7:o}getWeekNumber(e,i){7===i&&(i=0);const r=o6(e[(11-i)%7]);r.setDate(r.getDate()+4-(r.getDay()||7));const a=r.getTime();return r.setMonth(0),r.setDate(1),Math.floor(Math.round((a-r.getTime())/864e5)/7)+1}getToday(){return gx(new Date)}isValid(e){if(!(e&&ia(e.year)&&ia(e.month)&&ia(e.day)&&0!==e.year))return!1;const i=o6(e);return!isNaN(i.getTime())&&i.getFullYear()===e.year&&i.getMonth()+1===e.month&&i.getDate()===e.day}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();function w2(t,n){return!function l5e(t,n){return!t&&!n||!!t&&!!n&&t.equals(n)}(t,n)}function px(t,n){return!(!t&&!n||t&&n&&t.year===n.year&&t.month===n.month)}function r6(t,n,e){return t&&n&&t.before(n)?n:t&&e&&t.after(e)?e:t||null}function ZC(t,n){const{minDate:e,maxDate:i,disabled:o,markDisabled:s}=n;return!(null==t||o||s&&s(t,{year:t.year,month:t.month})||e&&t.before(e)||i&&t.after(i))}let a5=(()=>{class t{getMonthLabel(e){return`${this.getMonthFullName(e.month,e.year)} ${this.getYearNumerals(e.year)}`}getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}getWeekLabel(){return""}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:()=>new m5e,providedIn:"root"})}return t})(),m5e=(()=>{class t extends a5{constructor(){super(...arguments),this._locale=M(ea),this._monthsShort=[...Array(12).keys()].map(e=>Intl.DateTimeFormat(this._locale,{month:"short",timeZone:"UTC"}).format(Date.UTC(2e3,e))),this._monthsFull=[...Array(12).keys()].map(e=>Intl.DateTimeFormat(this._locale,{month:"long",timeZone:"UTC"}).format(Date.UTC(2e3,e)))}getWeekdayLabel(e,i="narrow"){return[1,2,3,4,5,6,7].map(s=>Intl.DateTimeFormat(this._locale,{weekday:i,timeZone:"UTC"}).format(Date.UTC(2e3,4,s)))[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){return WI(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})(),WC=(()=>{class t{constructor(){this._VALIDATORS={dayTemplateData:e=>{if(this._state.dayTemplateData!==e)return{dayTemplateData:e}},displayMonths:e=>{if(ia(e=na(e))&&e>0&&this._state.displayMonths!==e)return{displayMonths:e}},disabled:e=>{if(this._state.disabled!==e)return{disabled:e}},firstDayOfWeek:e=>{if(ia(e=na(e))&&e>=0&&this._state.firstDayOfWeek!==e)return{firstDayOfWeek:e}},focusVisible:e=>{if(this._state.focusVisible!==e&&!this._state.disabled)return{focusVisible:e}},markDisabled:e=>{if(this._state.markDisabled!==e)return{markDisabled:e}},maxDate:e=>{const i=this.toValidDate(e,null);if(w2(this._state.maxDate,i))return{maxDate:i}},minDate:e=>{const i=this.toValidDate(e,null);if(w2(this._state.minDate,i))return{minDate:i}},navigation:e=>{if(this._state.navigation!==e)return{navigation:e}},outsideDays:e=>{if(this._state.outsideDays!==e)return{outsideDays:e}},weekdays:e=>{const i=!0===e||!1===e?"narrow":e,o=!0!==e&&!1!==e||e;if(this._state.weekdayWidth!==i||this._state.weekdaysVisible!==o)return{weekdayWidth:i,weekdaysVisible:o}}},this._calendar=M(s6),this._i18n=M(a5),this._model$=new Be,this._dateSelect$=new Be,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:"narrow",weekdaysVisible:!0}}get model$(){return this._model$.pipe(ii(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(ii(e=>null!==e))}set(e){let i=Object.keys(e).map(o=>this._VALIDATORS[o](e[o])).reduce((o,s)=>({...o,...s}),{});Object.keys(i).length>0&&this._nextState(i)}focus(e){const i=this.toValidDate(e,null);null!=i&&!this._state.disabled&&w2(this._state.focusDate,i)&&this._nextState({focusDate:e})}focusSelect(){ZC(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const i=this.toValidDate(e,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||px(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(e,i={}){const o=this.toValidDate(e,null);null!=o&&!this._state.disabled&&(w2(this._state.selectedDate,o)&&this._nextState({selectedDate:o}),i.emitEvent&&ZC(o,this._state)&&this._dateSelect$.next(o))}toValidDate(e,i){const o=gs.from(e);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(o)?o:i}getMonth(e){for(let i of this._state.months)if(e.month===i.number&&e.year===i.year)return i;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const i=this._updateState(e);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(e){const{months:i,displayMonths:o,selectedDate:s,focusDate:r,focusVisible:a,disabled:l,outsideDays:c}=e;e.months.forEach(h=>{h.weeks.forEach(g=>{g.days.forEach(f=>{r&&(f.context.focused=r.equals(f.date)&&a),f.tabindex=!l&&r&&f.date.equals(r)&&r.month===h.number?0:-1,!0===l&&(f.context.disabled=!0),void 0!==s&&(f.context.selected=null!==s&&s.equals(f.date)),h.number!==f.date.month&&(f.hidden="hidden"===c||"collapsed"===c||o>1&&f.date.after(i[0].firstDate)&&f.date.before(i[o-1].lastDate))})})})}_updateState(e){const i=Object.assign({},this._state,e);let o=i.firstDate;if(("minDate"in e||"maxDate"in e)&&(function c5e(t,n){if(n&&t&&n.before(t))throw new Error(`'maxDate' ${n} should be greater than 'minDate' ${t}`)}(i.minDate,i.maxDate),i.focusDate=r6(i.focusDate,i.minDate,i.maxDate),i.firstDate=r6(i.firstDate,i.minDate,i.maxDate),o=i.focusDate),"disabled"in e&&(i.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(o=i.selectedDate),"focusVisible"in e||"focusDate"in e&&(i.focusDate=r6(i.focusDate,i.minDate,i.maxDate),o=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in e&&(i.firstDate=r6(i.firstDate,i.minDate,i.maxDate),o=i.firstDate),o){const r=function g5e(t,n,e,i,o){const{displayMonths:s,months:r}=e,a=r.splice(0,r.length);return Array.from({length:s},(c,h)=>{const g=Object.assign(t.getNext(n,"m",h),{day:1});if(r[h]=null,!o){const f=a.findIndex(v=>v.firstDate.equals(g));-1!==f&&(r[h]=a.splice(f,1)[0])}return g}).forEach((c,h)=>{null===r[h]&&(r[h]=function p5e(t,n,e,i,o={}){const{dayTemplateData:s,minDate:r,maxDate:a,firstDayOfWeek:l,markDisabled:c,outsideDays:h,weekdayWidth:g,weekdaysVisible:f}=e,v=t.getToday();o.firstDate=null,o.lastDate=null,o.number=n.month,o.year=n.year,o.weeks=o.weeks||[],o.weekdays=o.weekdays||[],n=function f5e(t,n,e){const i=t.getDaysPerWeek(),o=new gs(n.year,n.month,1),s=t.getWeekday(o)%i;return t.getPrev(o,"d",(i+s-e)%i)}(t,n,l),f||(o.weekdays.length=0);for(let C=0;C<t.getWeeksPerMonth();C++){let S=o.weeks[C];S||(S=o.weeks[C]={number:0,days:[],collapsed:!0});const D=S.days;for(let I=0;I<t.getDaysPerWeek();I++){0===C&&f&&(o.weekdays[I]=i.getWeekdayLabel(t.getWeekday(n),g));const L=new gs(n.year,n.month,n.day),G=t.getNext(L),R=i.getDayAriaLabel(L);let J=!!(r&&L.before(r)||a&&L.after(a));!J&&c&&(J=c(L,{month:o.number,year:o.year}));let se=L.equals(v),ve=s?s(L,{month:o.number,year:o.year}):void 0;null===o.firstDate&&L.month===o.number&&(o.firstDate=L),L.month===o.number&&G.month!==o.number&&(o.lastDate=L);let pe=D[I];pe||(pe=D[I]={}),pe.date=L,pe.context=Object.assign(pe.context||{},{$implicit:L,date:L,data:ve,currentMonth:o.number,currentYear:o.year,disabled:J,focused:!1,selected:!1,today:se}),pe.tabindex=-1,pe.ariaLabel=R,pe.hidden=!1,n=G}S.number=t.getWeekNumber(D.map(I=>I.date),l),S.collapsed="collapsed"===h&&D[0].date.month!==o.number&&D[D.length-1].date.month!==o.number}return o}(t,c,e,i,a.shift()||{}))}),r}(this._calendar,o,i,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e||"weekdaysVisible"in e);i.months=r,i.firstDate=r[0].firstDate,i.lastDate=r[r.length-1].lastDate,"selectedDate"in e&&!ZC(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in e&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=o);const a=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,l=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in e||"maxDate"in e||0===i.selectBoxes.years.length||a)&&(i.selectBoxes.years=function h5e(t,n,e){if(!t)return[];const i=n?Math.max(n.year,t.year-500):t.year-10,s=(e?Math.min(e.year,t.year+500):t.year+10)-i+1,r=Array(s);for(let a=0;a<s;a++)r[a]=i+a;return r}(i.firstDate,i.minDate,i.maxDate)),("minDate"in e||"maxDate"in e||0===i.selectBoxes.months.length||a)&&(i.selectBoxes.months=function d5e(t,n,e,i){if(!n)return[];let o=t.getMonths(n.year);if(e&&n.year===e.year){const s=o.findIndex(r=>r===e.month);o=o.slice(s)}if(i&&n.year===i.year){const s=o.findIndex(r=>r===i.month);o=o.slice(0,s+1)}return o}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(l||a||"minDate"in e||"maxDate"in e||"disabled"in e)&&(i.prevDisabled=i.disabled||function _5e(t,n,e){const i=Object.assign(t.getPrev(n,"m"),{day:1});return null!=e&&(i.year===e.year&&i.month<e.month||i.year<e.year&&1===e.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function u5e(t,n,e){const i=Object.assign(t.getNext(n,"m"),{day:1});return null!=e&&i.after(e)}(this._calendar,i.lastDate,i.maxDate))}return i}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();var a6=function(t){return t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",t}(a6||{});let XC=(()=>{class t{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays="narrow"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l5=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:()=>function v5e(){return new C5e}(),providedIn:"root"})}return t})(),C5e=(()=>{class t extends l5{fromModel(e){return e&&ia(e.year)&&ia(e.month)&&ia(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&ia(e.year)&&ia(e.month)&&ia(e.day)?{year:e.year,month:e.month,day:e.day}:null}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})(),M5e=(()=>{class t{processKey(e,i){const{state:o,calendar:s}=i;switch(e.key){case"PageUp":i.focusDate(s.getPrev(o.focusedDate,e.shiftKey?"y":"m",1));break;case"PageDown":i.focusDate(s.getNext(o.focusedDate,e.shiftKey?"y":"m",1));break;case"End":i.focusDate(e.shiftKey?o.maxDate:o.lastDate);break;case"Home":i.focusDate(e.shiftKey?o.minDate:o.firstDate);break;case"ArrowLeft":i.focusDate(s.getPrev(o.focusedDate,"d",1));break;case"ArrowUp":i.focusDate(s.getPrev(o.focusedDate,"d",s.getDaysPerWeek()));break;case"ArrowRight":i.focusDate(s.getNext(o.focusedDate,"d",1));break;case"ArrowDown":i.focusDate(s.getNext(o.focusedDate,"d",s.getDaysPerWeek()));break;case"Enter":case" ":i.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),T5e=(()=>{class t{constructor(){this.i18n=M(a5)}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(i,o){2&i&&we("bg-primary",o.selected)("text-white",o.selected)("text-muted",o.isMuted())("outside",o.isMuted())("active",o.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Tle,decls:1,vars:1,template:function(i,o){1&i&&N(0),2&i&&oe(o.i18n.getDayNumerals(o.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-tertiary-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0})}return t})(),w5e=(()=>{class t{constructor(){this._month=-1,this._year=-1,this.i18n=M(a5),this.select=new Ee}changeMonth(e){this.select.emit(new gs(this.date.year,na(e),1))}changeYear(e){this.select.emit(new gs(na(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this.monthSelect.nativeElement.value=`${this._month}`),this.date.year!==this._year&&(this._year=this.date.year,this.yearSelect.nativeElement.value=`${this._year}`))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(i,o){if(1&i&&(Tn(wle,7,fn),Tn(ble,7,fn)),2&i){let s;Mt(s=Tt())&&(o.monthSelect=s.first),Mt(s=Tt())&&(o.yearSelect=s.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:8,vars:2,consts:()=>{let e,i,o,s;return e="\u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0634\u0647\u0631",i="\u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0634\u0647\u0631",o="\u0627\u062E\u062A\u0631 \u0627\u0644\u0633\u0646\u0629",s="\u0627\u062E\u062A\u0631 \u0627\u0644\u0633\u0646\u0629",[["month",""],["year",""],["aria-label",e,"title",i,1,"form-select",3,"change","disabled"],[3,"value"],["aria-label",o,"title",s,1,"form-select",3,"change","disabled"]]},template:function(i,o){if(1&i){const s=k();Hn(0,"select",2,0),Yr("change",function(a){return T(s),w(o.changeMonth(a.target.value))}),Ke(2,Sle,2,3,"option",3,jt),Jn(),Hn(4,"select",4,1),Yr("change",function(a){return T(s),w(o.changeYear(a.target.value))}),Ke(6,Ele,2,2,"option",3,jt),Jn()}2&i&&(zi("disabled",o.disabled),_(2),qe(o.months),_(2),zi("disabled",o.disabled),_(2),qe(o.years))},styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0})}return t})(),b5e=(()=>{class t{constructor(){this.navigation=a6,this.i18n=M(a5),this.months=[],this.navigate=new Ee,this.select=new Ee}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}idMonth(e){return e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:11,vars:4,consts:()=>{let e,i,o,s;return e="\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0633\u0627\u0628\u0642",i="\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0633\u0627\u0628\u0642",o="\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u062A\u0627\u0644\u064A",s="\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u062A\u0627\u0644\u064A",[[1,"ngb-dp-arrow","ngb-dp-arrow-prev"],["type","button","aria-label",e,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years"],["aria-live","polite",1,"visually-hidden"],[1,"ngb-dp-arrow","ngb-dp-arrow-next"],["type","button","aria-label",o,"title",s,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],[1,"ngb-dp-arrow"],[1,"ngb-dp-month-name"]]},template:function(i,o){1&i&&(d(0,"div",0)(1,"button",1),E("click",function(r){return o.onClickPrev(r)}),O(2,"span",2),u()(),y(3,Ole,1,4,"ngb-datepicker-navigation-select",3),y(4,yle,2,0),d(5,"div",4),Ke(6,Ple,2,1,"span",null,nx,!0),u(),d(8,"div",5)(9,"button",6),E("click",function(r){return o.onClickNext(r)}),O(10,"span",2),u()()),2&i&&(_(),m("disabled",o.prevDisabled),_(2),P(o.showSelect?3:-1),_(),P(o.showSelect?-1:4),_(2),qe(o.months),_(3),m("disabled",o.nextDisabled))},dependencies:[w5e],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow-next{justify-content:flex-end}.ngb-dp-arrow-next .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0})}return t})(),fx=(()=>{class t{constructor(){this.templateRef=M(dn)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["ng-template","ngbDatepickerContent",""]]})}return t})(),mx=(()=>{class t{constructor(){this._keyboardService=M(M5e),this._service=M(WC),this.i18n=M(a5),this.datepicker=M(KC)}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(i,o){1&i&&E("keydown",function(r){return o.onKeyDown(r)})},inputs:{month:"month"},decls:3,vars:1,consts:[["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["role","row",1,"ngb-dp-week"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"disabled","tabindex","hidden","ngb-dp-today"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&(y(0,Rle,4,1,"div",0),Ke(1,Hle,1,1,null,null,jt)),2&i&&(P(o.viewModel.weekdays.length>0?0:-1),_(),qe(o.viewModel.weeks))},dependencies:[Ao],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-tertiary-bg)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2})}return t})(),KC=(()=>{class t{constructor(){this.injector=M(Fi),this._service=M(WC),this._calendar=M(s6),this._i18n=M(a5),this._config=M(XC),this._nativeElement=M(fn).nativeElement,this._ngbDateAdapter=M(l5),this._ngZone=M(un),this._destroyRef=M(wr),this._injector=M(Fi),this._controlValue=null,this._publicState={},this._initialized=!1,this.dayTemplate=this._config.dayTemplate,this.dayTemplateData=this._config.dayTemplateData,this.displayMonths=this._config.displayMonths,this.firstDayOfWeek=this._config.firstDayOfWeek,this.footerTemplate=this._config.footerTemplate,this.markDisabled=this._config.markDisabled,this.maxDate=this._config.maxDate,this.minDate=this._config.minDate,this.navigation=this._config.navigation,this.outsideDays=this._config.outsideDays,this.showWeekNumbers=this._config.showWeekNumbers,this.startDate=this._config.startDate,this.weekdays=this._config.weekdays,this.navigate=new Ee,this.dateSelect=new Ee,this.onChange=i=>{},this.onTouched=()=>{};const e=M(Yo);this._service.dateSelect$.pipe(Fl()).subscribe(i=>{this.dateSelect.emit(i)}),this._service.model$.pipe(Fl()).subscribe(i=>{const o=i.firstDate,s=this.model?this.model.firstDate:null;this._publicState={maxDate:i.maxDate,minDate:i.minDate,firstDate:i.firstDate,lastDate:i.lastDate,focusedDate:i.focusDate,months:i.months.map(h=>h.firstDate)};let r=!1;if(!o.equals(s)&&(this.navigate.emit({current:s?{year:s.year,month:s.month}:null,next:{year:o.year,month:o.month},preventDefault:()=>r=!0}),r&&null!==s))return void this._service.open(s);const a=i.selectedDate,l=i.focusDate,c=this.model?this.model.focusDate:null;this.model=i,w2(a,this._controlValue)&&(this._controlValue=a,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(a))),w2(l,c)&&c&&i.focusVisible&&this.focus(),e.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(e){this._service.focus(gs.from(e))}focusSelect(){this._service.focusSelect()}focus(){E1({read:()=>{this._nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]')?.focus()}},{injector:this._injector})}navigateTo(e){this._service.open(gs.from(e?e.day?e:{...e,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{J1(Nn(this._contentEl.nativeElement,"focusin"),Nn(this._contentEl.nativeElement,"focusout")).pipe(ii(o=>{const s=o.target,r=o.relatedTarget;return!(s?.classList.contains("ngb-dp-day")&&r?.classList.contains("ngb-dp-day")&&this._nativeElement.contains(s)&&this._nativeElement.contains(r))}),Fl(this._destroyRef)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>e[i]=this[i]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate),this._initialized=!0}ngOnChanges(e){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(o=>o in e).forEach(o=>i[o]=this[o]),this._service.set(i),"startDate"in e&&this._initialized){const{currentValue:o,previousValue:s}=e.startDate;px(s,o)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case a6.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case a6.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=gs.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(i,o,s){if(1&i&&ui(s,fx,7),2&i){let r;Mt(r=Tt())&&(o.contentTemplateFromContent=r.first)}},viewQuery:function(i,o){if(1&i&&(Tn(Gle,7),Tn($le,7)),2&i){let s;Mt(s=Tt())&&(o._defaultDayTemplate=s.first),Mt(s=Tt())&&(o._contentEl=s.first)}},hostVars:2,hostBindings:function(i,o){2&i&&we("disabled",o.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0},WC]),Di],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],[1,"ngb-dp-month"],[1,"ngb-dp-month-name"],[3,"month"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(i,o){if(1&i&&(ce(0,Ble,1,5,"ng-template",null,0,xt)(2,Zle,2,0,"ng-template",null,1,xt),d(4,"div",3),y(5,Wle,1,7,"ngb-datepicker-navigation",4),u(),d(6,"div",5,2),ce(8,Xle,0,0,"ng-template",6),u(),ce(9,Kle,0,0,"ng-template",7)),2&i){const s=xe(3);_(5),P("none"!==o.navigation?5:-1),_(),we("ngb-dp-months",!o.contentTemplate),_(2),m("ngTemplateOutlet",o.contentTemplate||(null==o.contentTemplateFromContent?null:o.contentTemplateFromContent.templateRef)||s)("ngTemplateOutletContext",ei(7,ix,o))("ngTemplateOutletInjector",o.injector),_(),m("ngTemplateOutlet",o.footerTemplate)}},dependencies:[Ao,T5e,mx,b5e],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-tertiary-bg)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-tertiary-bg)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0})}return t})();const l6=(t,n)=>!!n&&n.some(e=>e.contains(t)),vx=(t,n)=>!n||null!=function Xce(t,n){return!n||typeof t.closest>"u"?null:t.closest(n)}(t,n),S5e=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function A_(t,n,e,i,o,s,r,a){e&&t.runOutsideAngular((t=>S5e?()=>setTimeout(()=>t(),100):t)(()=>{const c=Nn(n,"keydown").pipe(me(o),ii(f=>"Escape"===f.key),_n(f=>f.preventDefault())),h=Nn(n,"mousedown").pipe(bt(f=>{const v=f.target;return 2!==f.button&&!l6(v,r)&&("inside"===e?l6(v,s)&&vx(v,a):"outside"===e?!l6(v,s):vx(v,a)||!l6(v,s))}),me(o)),g=Nn(n,"mouseup").pipe(Y3(h),ii(([f,v])=>v),n0(0),me(o));zR([c.pipe(bt(f=>0)),g.pipe(bt(f=>1))]).subscribe(f=>t.run(()=>i(f)))}))}const Cx=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Mx(t){const n=Array.from(t.querySelectorAll(Cx)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const Tx=(t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const o=Nn(n,"focusin").pipe(me(e),bt(s=>s.target));Nn(n,"keydown").pipe(me(e),ii(s=>"Tab"===s.key),Y3(o)).subscribe(([s,r])=>{const[a,l]=Mx(n);(r===a||r===n)&&s.shiftKey&&(l.focus(),s.preventDefault()),r===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Nn(n,"click").pipe(me(e),Y3(o),bt(s=>s[1])).subscribe(s=>s.focus())})};let O5e=(()=>{class t{constructor(){this._element=M(Un).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const A5e=/\s+/,N5e=/  +/gi,D5e={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},P5e=/^left/,I5e=/^right/,L5e=/^start/,R5e=/^end/;function wx({placement:t,baseClass:n},e){let i=Array.isArray(t)?t:t.split(A5e),s=i.findIndex(c=>"auto"===c);s>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(c){null==i.find(h=>-1!==h.search("^"+c))&&i.splice(s++,1,c)});const r=i.map(c=>function y5e(t,n){const[e,i]=D5e[t];return n&&i||e}(c,e.isRTL()));return{placement:r.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!n,phase:"write",fn({state:c}){const h=new RegExp(n+"(-[a-z]+)*","gi"),g=c.elements.popper,f=c.placement;let v=g.className;v=v.replace(h,""),v+=` ${function x5e(t,n){let[e,i]=n.split("-");const o=e.replace(P5e,"start").replace(I5e,"end");let s=[o];if(i){let r=i;("left"===e||"right"===e)&&(r=r.replace(L5e,"top").replace(R5e,"bottom")),s.push(`${o}-${r}`)}return t&&(s=s.map(r=>`${t}-${r}`)),s.join(" ")}(n,f)}`,v=v.trim().replace(N5e," "),g.className=v}},z0e,$0e,Z0e,{enabled:!0,name:"flip",options:{fallbackPlacements:r}}]}}function bx(t){return t}function N_(){const t=M(O5e);let n=null;return{createPopper(e){if(!n){let o=(e.updatePopperOptions||bx)(wx(e,t));n=_le(e.hostElement,e.targetElement,o)}},update(){n&&n.update()},setOptions(e){if(n){let o=(e.updatePopperOptions||bx)(wx(e,t));n.setOptions(o)}},destroy(){n&&(n.destroy(),n=null)}}}let D_=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:()=>function F5e(){return new k5e}(),providedIn:"root"})}return t})(),k5e=(()=>{class t extends D_{parse(e){if(null!=e){const i=e.trim().split("-");if(1===i.length&&xs(i[0]))return{year:na(i[0]),month:null,day:null};if(2===i.length&&xs(i[0])&&xs(i[1]))return{year:na(i[0]),month:na(i[1]),day:null};if(3===i.length&&xs(i[0])&&xs(i[1])&&xs(i[2]))return{year:na(i[0]),month:na(i[1]),day:na(i[2])}}return null}format(e){return e?`${e.year}-${xs(e.month)?ax(e.month):""}-${xs(e.day)?ax(e.day):""}`:""}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})(),Sx=(()=>{class t extends XC{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e,this.restoreFocus=!0}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function y_(t){return n=>(n.modifiers.push(fle,{name:"offset",options:{offset:()=>t}}),n)}let c6=(()=>{class t{constructor(){this._parserFormatter=M(D_),this._elRef=M(fn),this._vcRef=M(Gs),this._ngZone=M(un),this._calendar=M(s6),this._dateAdapter=M(l5),this._document=M(Un),this._changeDetector=M(Yo),this._injector=M(Fi),this._config=M(Sx),this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=N_(),this._destroyCloseHandlers$=new Be,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.positionTarget=this._config.positionTarget,this.dateSelect=new Ee,this.navigate=new Ee,this.closed=new Ee,this._onChange=e=>{},this._onTouched=()=>{},this._validatorChange=()=>{}}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e&&"false"!==e,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}registerOnValidatorChange(e){this._validatorChange=e}setDisabledState(e){this.disabled=e}validate(e){const{value:i}=e;if(null!=i){const o=this._fromDateStruct(this._dateAdapter.fromModel(i));if(!o)return{ngbDate:{invalid:i}};if(this.minDate&&o.before(gs.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:i}}};if(this.maxDate&&o.after(gs.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:i}}}}return null}writeValue(e){this._model=this._fromDateStruct(this._dateAdapter.fromModel(e)),this._writeModelValue(this._model)}manualDateChange(e,i=!1){const o=e!==this._inputValue;o&&(this._inputValue=e,this._model=this._fromDateStruct(this._parserFormatter.parse(e))),(o||!i)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===e?null:e),i&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let e;if(this._cRef=this._vcRef.createComponent(KC,{injector:this._injector}),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(i=>{this.writeValue(i),this._onChange(i),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container)?.appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,Tx(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus()),e=Hl(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!e)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._ngZone.runOutsideAngular(()=>{this._cRef&&e&&(this._positioning.createPopper({hostElement:e,targetElement:this._cRef.location.nativeElement,placement:this.placement,updatePopperOptions:i=>this.popperOptions(y_([0,2])(i))}),this._afterRenderRef=Hd({mixedReadWrite:()=>{this._positioning.update()}},{injector:this._injector}))}),this._setCloseHandlers()}}close(){if(this.isOpen()){this._cRef?.destroy(),this._cRef=null,this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let e=this._elWithFocus;Hl(this.restoreFocus)?e=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(e=this.restoreFocus),e&&e.focus?e.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(e){this.isOpen()&&this._cRef.instance.navigateTo(e)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(e){if((e.minDate||e.maxDate)&&(this._validatorChange(),this.isOpen()&&(e.minDate&&this._cRef.setInput("minDate",this.minDate),e.maxDate&&this._cRef.setInput("maxDate",this.maxDate))),e.datepickerClass){const{currentValue:i,previousValue:o}=e.datepickerClass;this._applyPopupClass(i,o)}e.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(e){["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(i=>{void 0!==this[i]&&e.setInput(i,this[i])}),e.setInput("startDate",this.startDate||this._model)}_applyPopupClass(e,i){const o=this._cRef?.location.nativeElement;o&&(e&&o.classList.add(e),i&&o.classList.remove(i))}_applyPopupStyling(e){e.classList.add("dropdown-menu","show"),"body"===this.container&&e.classList.add("ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(e){e.navigate.subscribe(i=>this.navigate.emit(i)),e.dateSelect.subscribe(i=>{this.dateSelect.emit(i),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(e){const i=this._parserFormatter.format(e);this._inputValue=i,this._elRef.nativeElement.value=i,this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(e)),this._onTouched())}_fromDateStruct(e){const i=e?new gs(e.year,e.month,e.day):null;return this._calendar.isValid(i)?i:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),A_(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(i,o){1&i&&E("input",function(r){return o.manualDateChange(r.target.value)})("change",function(r){return o.manualDateChange(r.target.value,!0)})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()}),2&i&&zi("disabled",o.disabled)},inputs:{autoClose:"autoClose",contentTemplate:"contentTemplate",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0},{provide:Us,useExisting:rn(()=>t),multi:!0},{provide:XC,useExisting:Sx}]),Di]})}return t})();new Date(1882,10,12),new Date(2174,10,25);let L_=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),q5e=(()=>{class t{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e,this.container=null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),js=(()=>{class t{constructor(){this._disabled=!1,this.nativeElement=M(fn).nativeElement,this.tabindex=0}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(i,o){2&i&&(zi("tabIndex",o.disabled?-1:o.tabindex),we("disabled",o.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"}})}return t})(),oa=(()=>{class t{constructor(){this.item=M(js)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(i,o){2&i&&zi("disabled",o.item.disabled)}})}return t})(),Qo=(()=>{class t{constructor(){this.dropdown=M(Ho),this.nativeElement=M(fn).nativeElement}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(i,o,s){if(1&i&&ui(s,js,4),2&i){let r;Mt(r=Tt())&&(o.menuItems=r)}},hostAttrs:[1,"dropdown-menu"],hostVars:2,hostBindings:function(i,o){1&i&&E("keydown.ArrowUp",function(r){return o.dropdown.onKeyDown(r)})("keydown.ArrowDown",function(r){return o.dropdown.onKeyDown(r)})("keydown.Home",function(r){return o.dropdown.onKeyDown(r)})("keydown.End",function(r){return o.dropdown.onKeyDown(r)})("keydown.Enter",function(r){return o.dropdown.onKeyDown(r)})("keydown.Space",function(r){return o.dropdown.onKeyDown(r)})("keydown.Tab",function(r){return o.dropdown.onKeyDown(r)})("keydown.Shift.Tab",function(r){return o.dropdown.onKeyDown(r)}),2&i&&we("show",o.dropdown.isOpen())}})}return t})(),R_=(()=>{class t{constructor(){this.dropdown=M(Ho),this.nativeElement=M(fn).nativeElement}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,o){2&i&&(Vn("aria-expanded",o.dropdown.isOpen()),we("show",o.dropdown.isOpen()))}})}return t})(),Ss=(()=>{class t extends R_{static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,o){1&i&&E("click",function(){return o.dropdown.toggle()})("keydown.ArrowUp",function(r){return o.dropdown.onKeyDown(r)})("keydown.ArrowDown",function(r){return o.dropdown.onKeyDown(r)})("keydown.Home",function(r){return o.dropdown.onKeyDown(r)})("keydown.End",function(r){return o.dropdown.onKeyDown(r)})("keydown.Tab",function(r){return o.dropdown.onKeyDown(r)})("keydown.Shift.Tab",function(r){return o.dropdown.onKeyDown(r)}),2&i&&(Vn("aria-expanded",o.dropdown.isOpen()),we("show",o.dropdown.isOpen()))},features:[qt([{provide:R_,useExisting:rn(()=>t)}]),at]})}return t})(),Ho=(()=>{class t{constructor(){this._changeDetector=M(Yo),this._config=M(q5e),this._document=M(Un),this._injector=M(Fi),this._ngZone=M(un),this._nativeElement=M(fn).nativeElement,this._destroyCloseHandlers$=new Be,this._bodyContainer=null,this._positioning=N_(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new Ee}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){E1({write:()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()}},{injector:this._injector})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement}),this._applyPlacementClasses()),e.dropdownClass){const{currentValue:i,previousValue:o}=e.dropdownClass;this._applyCustomDropdownClass(i,o)}e.autoClose&&this._open&&(this.autoClose=e.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,updatePopperOptions:e=>this.popperOptions(y_([0,2])(e))}),this._applyPlacementClasses(),this._afterRenderRef=Hd({write:()=>{this._positionMenu()}},{injector:this._injector})})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),A_(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(e){const{key:i}=e,o=this._getMenuElements();let s=-1,r=null;const a=this._isEventFromToggle(e);if(!a&&o.length&&o.forEach((l,c)=>{l.contains(e.target)&&(r=l),l===cx(this._document)&&(s=c)})," "!==i&&"Enter"!==i){if("Tab"!==i){if(a||r){if(this.open(),o.length){switch(i){case"ArrowDown":s=Math.min(s+1,o.length-1);break;case"ArrowUp":if(this._isDropup()&&-1===s){s=o.length-1;break}s=Math.max(s-1,0);break;case"Home":s=0;break;case"End":s=o.length-1}o[s].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(Cx);e.shiftKey&&e.target===l[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Nn(e.target,"focusout").pipe(Or(1)).subscribe(({relatedTarget:l})=>{this._nativeElement.contains(l)||this.close()})}}else r&&(!0===this.autoClose||"inside"===this.autoClose)&&Nn(r,"click").pipe(Or(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:e})=>!e).map(({nativeElement:e})=>e):[]}_positionMenu(){const e=this._menu;this.isOpen()&&e&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||this._document.createElement("div");o.style.position="absolute",i.style.position="static",o.style.zIndex="1055",o.appendChild(i),this._document.body.appendChild(o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const o="body"===this.container?this._bodyContainer:this._nativeElement;o&&(i&&o.classList.remove(i),e&&o.classList.add(e))}_applyPlacementClasses(e){if(this._menu){e||(e=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const i=-1!==e.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(i),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(i))}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(i,o,s){if(1&i&&(ui(s,Qo,5),ui(s,R_,5)),2&i){let r;Mt(r=Tt())&&(o._menu=r.first),Mt(r=Tt())&&(o._anchor=r.first)}},hostVars:2,hostBindings:function(i,o){2&i&&we("show",o.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Di]})}return t})(),Go=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),Y5e=(()=>{class t{constructor(){this._ngbConfig=M(Vl),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class h5{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}class eM{constructor(n){this._componentType=n,this._windowRef=null,this._contentRef=null,this._document=M(Un),this._applicationRef=M(Ja),this._injector=M(Fi),this._viewContainerRef=M(Gs),this._ngZone=M(un)}open(n,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(n,e),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:o}=this._windowRef.location,s=new Be;E1({mixedReadWrite:()=>{s.next(),s.complete()}},{injector:this._injector});const r=s.pipe(bs(()=>yr(this._ngZone,o,({classList:a})=>a.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:r}}close(n=!1){return this._windowRef?yr(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:n,runningTransition:"stop"}).pipe(_n(()=>{this._windowRef?.destroy(),this._contentRef?.viewRef?.destroy(),this._windowRef=null,this._contentRef=null})):Et(void 0)}_getContentRef(n,e){if(n){if(n instanceof dn){const i=n.createEmbeddedView(e);return this._applicationRef.attachView(i),new h5([i.rootNodes],i)}return new h5([[this._document.createTextNode(`${n}`)]])}return new h5([])}}let Q5e=(()=>{class t{constructor(){this._document=M(Un)}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:s,paddingRight:r}=o;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${a+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=r),o.overflow=s}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const J5e=["animation","backdropClass"];let ede=(()=>{class t{constructor(){this._nativeElement=M(fn).nativeElement,this._zone=M(un),this._injector=M(Fi),this._cdRef=M(Yo)}ngOnInit(){E1({mixedReadWrite:()=>yr(this._zone,this._nativeElement,(e,i)=>{i&&M2(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return yr(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}updateOptions(e){J5e.forEach(i=>{Gl(e[i])&&(this[i]=e[i])}),this._cdRef.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){2&i&&(Zi("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),we("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,o){},encapsulation:2})}return t})();class sa{update(n){}close(n){}dismiss(n){}}class tde{update(n){this._windowCmptRef.instance.updateOptions(n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._backdropCmptRef.instance.updateOptions(n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(me(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(me(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new Be,this._dismissed=new Be,this._hidden=new Be,n.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,r)=>{this._resolve=s,this._reject=r}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function rx(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Et(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),IC(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var tM=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(tM||{});const nde=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"];let ide=(()=>{class t{constructor(){this._document=M(Un),this._elRef=M(fn),this._zone=M(un),this._injector=M(Fi),this._cdRef=M(Yo),this._closed$=new Be,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new Ee,this.shown=new Be,this.hidden=new Be}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Hl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,E1({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=IC(yr(this._zone,e,()=>e.classList.remove("show"),i),yr(this._zone,this._dialogEl.nativeElement,()=>{},i));return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}updateOptions(e){nde.forEach(i=>{Gl(e[i])&&(this[i]=e[i])}),this._cdRef.markForCheck()}_show(){const e={animation:this.animation,runningTransition:"continue"};IC(yr(this._zone,this._elRef.nativeElement,(s,r)=>{r&&M2(s),s.classList.add("show")},e),yr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Nn(e,"keydown").pipe(me(this._closed$),ii(o=>"Escape"===o.key)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(tM.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Nn(this._dialogEl.nativeElement,"mousedown").pipe(me(this._closed$),_n(()=>i=!1),_i(()=>Nn(e,"mouseup").pipe(me(this._closed$),Or(1))),ii(({target:o})=>e===o)).subscribe(()=>{i=!0}),Nn(e,"click").pipe(me(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(tM.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=Mx(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&yr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&Tn(qle,7),2&i){let s;Mt(s=Tt())&&(o._dialogEl=s.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(i,o){2&i&&(Vn("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy)("role",o.role),Zi("modal d-block"+(o.windowClass?" "+o.windowClass:"")),we("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:zl,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,o){1&i&&(or(),Hn(0,"div",1,0)(2,"div",2),sr(3),Jn()()),2&i&&Zi("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),ode=(()=>{class t{constructor(){this._applicationRef=M(Ja),this._injector=M(Fi),this._environmentInjector=M(cs),this._document=M(Un),this._scrollBar=M(Q5e),this._activeWindowCmptHasChanged=new Be,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ee;const e=M(un);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const i=this._windowCmpts[this._windowCmpts.length-1];Tx(e,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const s=o.container instanceof HTMLElement?o.container:Gl(o.container)?this._document.querySelector(o.container):this._document.body;if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const r=new sa,a=(e=o.injector||e).get(cs,null)||this._environmentInjector,l=this._getContentRef(e,a,i,r,o);let c=!1!==o.backdrop?this._attachBackdrop(s):void 0,h=this._attachWindowComponent(s,l.nodes),g=new tde(h,l,c,o.beforeDismiss);return this._registerModalRef(g),this._registerWindowCmpt(h),g.hidden.pipe(Or(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),r.close=f=>{g.close(f)},r.dismiss=f=>{g.dismiss(f)},r.update=f=>{g.update(f)},g.update(o),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),h.changeDetectorRef.detectChanges(),g}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=d3(ede,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=d3(ide,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,i,o,s,r){return o?o instanceof dn?this._createFromTemplateRef(o,s):Hl(o)?this._createFromString(o):this._createFromComponent(e,i,o,s,r):new h5([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(r){i.close(r)},dismiss(r){i.dismiss(r)}});return this._applicationRef.attachView(s),new h5([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new h5([[i]])}_createFromComponent(e,i,o,s,r){const l=d3(o,{environmentInjector:i,elementInjector:Fi.create({providers:[{provide:sa,useValue:s}],parent:e})}),c=l.location.nativeElement;return r.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new h5([[c]],l.hostView,l)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ps=(()=>{class t{constructor(){this._injector=M(Fi),this._modalStack=M(ode),this._config=M(Y5e)}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({providers:[ps]})}return t})(),sde=(()=>{class t{constructor(){this._ngbConfig=M(Vl),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Lx=t=>Gl(t)&&""!==t;let rde=0,S2=(()=>{class t{constructor(){this.templateRef=M(dn)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["ng-template","ngbNavContent",""]]})}return t})(),E2=(()=>{class t{constructor(e){this.role=e,this.nav=M(Z0)}static#e=this.\u0275fac=function(i){return new(i||t)(T1("role"))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(i,o){2&i&&Vn("role",o.role?o.role:o.nav.roles?"presentation":void 0)}})}return t})(),$l=(()=>{class t{constructor(){this._nav=M(Z0),this._nativeElement=M(fn).nativeElement,this.disabled=!1,this.shown=new Ee,this.hidden=new Ee}ngOnInit(){Gl(this.domId)||(this.domId="ngb-nav-"+rde++)}get active(){return this._nav.activeId===this.id}get id(){return Lx(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Gl(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbNavItem",""]],contentQueries:function(i,o,s){if(1&i&&ui(s,S2,4),2&i){let r;Mt(r=Tt())&&(o.contentTpl=r.first)}},hostAttrs:[1,"nav-item"],inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[0,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]})}return t})(),Z0=(()=>{class t{constructor(e){this.role=e,this._config=M(sde),this._cd=M(Yo),this._document=M(Un),this._nativeElement=M(fn).nativeElement,this.destroyRef=M(wr),this._navigatingWithKeyboard=!1,this.activeIdChange=new Ee,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new Ee,this.hidden=new Ee,this.navItemChange$=new Be,this.navChange=new Ee}click(e){e.disabled||this._updateActiveId(e.id)}onFocusout({relatedTarget:e}){this._nativeElement.contains(e)||(this._navigatingWithKeyboard=!1)}onKeyDown(e){if("tablist"!==this.roles||!this.keyboard)return;const i=this.links.filter(r=>!r.navItem.disabled),{length:o}=i;let s=-1;if(i.forEach((r,a)=>{r.nativeElement===this._document.activeElement&&(s=a)}),o){switch(e.key){case"ArrowUp":case"ArrowLeft":s=(s-1+o)%o;break;case"ArrowRight":case"ArrowDown":s=(s+1)%o;break;case"Home":s=0;break;case"End":s=o-1}"changeWithArrows"===this.keyboard&&this.select(i[s].navItem.id),i[s].nativeElement.focus(),this._navigatingWithKeyboard=!0,e.preventDefault()}}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!Gl(this.activeId)){const e=this.items.first?this.items.first.id:null;Lx(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}this.items.changes.pipe(Fl(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:e}){e&&!e.firstChange&&this._notifyItemChanged(e.currentValue)}_updateActiveId(e,i=!0){if(this.activeId!==e){let o=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{o=!0}}),o||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}_notifyItemChanged(e){this.navItemChange$.next(this._getItemById(e))}_getItemById(e){return this.items&&this.items.find(i=>i.id===e)||null}static#e=this.\u0275fac=function(i){return new(i||t)(T1("role"))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbNav",""]],contentQueries:function(i,o,s){if(1&i&&(ui(s,$l,4),ui(s,W0,5)),2&i){let r;Mt(r=Tt())&&(o.items=r),Mt(r=Tt())&&(o.links=r)}},hostAttrs:[1,"nav"],hostVars:4,hostBindings:function(i,o){1&i&&E("keydown.arrowLeft",function(r){return o.onKeyDown(r)})("keydown.arrowRight",function(r){return o.onKeyDown(r)})("keydown.arrowDown",function(r){return o.onKeyDown(r)})("keydown.arrowUp",function(r){return o.onKeyDown(r)})("keydown.Home",function(r){return o.onKeyDown(r)})("keydown.End",function(r){return o.onKeyDown(r)})("focusout",function(r){return o.onFocusout(r)}),2&i&&(Vn("aria-orientation","vertical"===o.orientation&&"tablist"===o.roles?"vertical":void 0)("role",o.role?o.role:o.roles?"tablist":void 0),we("flex-column","vertical"===o.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[Di]})}return t})(),W0=(()=>{class t{constructor(e){this.role=e,this.navItem=M($l),this.nav=M(Z0),this.nativeElement=M(fn).nativeElement}get tabindex(){return!1===this.nav.keyboard?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}static#e=this.\u0275fac=function(i){return new(i||t)(T1("role"))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbNavLink",""]],hostAttrs:[1,"nav-link"],hostVars:12,hostBindings:function(i,o){2&i&&(zi("id",o.navItem.domId),Vn("role",o.role?o.role:o.nav.roles?"tab":void 0)("tabindex",o.tabindex)("aria-controls",o.navItem.isPanelInDom()?o.navItem.panelDomId:null)("aria-selected",o.navItem.active)("aria-disabled",o.navItem.disabled),we("nav-item",o.navItem.isNgContainer())("active",o.navItem.active)("disabled",o.navItem.disabled))}})}return t})(),O2=(()=>{class t extends W0{static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275dir=Je({type:t,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostBindings:function(i,o){1&i&&E("click",function(r){return o.nav.click(o.navItem),r.preventDefault()})},features:[at]})}return t})();const lde=({classList:t})=>(t.remove("show"),()=>t.remove("active")),cde=(t,n)=>{n&&M2(t),t.classList.add("show")};let iM=(()=>{class t{constructor(){this.nativeElement=M(fn).nativeElement}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(i,o){2&i&&(zi("id",o.item.panelDomId),Vn("role",o.role?o.role:o.nav.roles?"tabpanel":void 0)("aria-labelledby",o.item.domId),we("fade",o.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}})}return t})(),A2=(()=>{class t{constructor(){this._cd=M(Yo),this._ngZone=M(un),this._activePane=null}isPanelTransitioning(e){return this._activePane?.item===e}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Fl(this.nav.destroyRef),i2(this._activePane?.item||null),r1(),function _0e(t){return ii((n,e)=>t<=e)}(1)).subscribe(e=>{const i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?yr(this._ngZone,this._activePane.nativeElement,lde,i).subscribe(()=>{const o=this._activePane?.item;this._activePane=this._getPaneForItem(e),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),yr(this._ngZone,this._activePane.nativeElement,cde,i).subscribe(()=>{e&&(e.shown.emit(),this.nav.shown.emit(e.id))})),o&&(o.hidden.emit(),this.nav.hidden.emit(o.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show","active")}_getPaneForItem(e){return this._panes&&this._panes.find(i=>i.item===e)||null}_getActivePane(){return this._panes&&this._panes.find(e=>e.item.active)||null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["","ngbNavOutlet",""]],viewQuery:function(i,o){if(1&i&&Tn(iM,5),2&i){let s;Mt(s=Tt())&&(o._panes=s)}},hostAttrs:[1,"tab-content"],inputs:{paneRole:"paneRole",nav:[0,"ngbNavOutlet","nav"]},attrs:Yle,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&Ke(0,ece,1,1,null,null,jt),2&i&&qe(o.nav.items)},dependencies:[iM,Ao],encapsulation:2,changeDetection:0})}return t})(),Bl=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),dde=(()=>{class t{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rx=(()=>{class t{constructor(){this.templateRef=M(dn)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["ng-template","ngbPaginationEllipsis",""]]})}return t})(),xx=(()=>{class t{constructor(){this.templateRef=M(dn)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["ng-template","ngbPaginationFirst",""]]})}return t})(),Fx=(()=>{class t{constructor(){this.templateRef=M(dn)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["ng-template","ngbPaginationLast",""]]})}return t})(),kx=(()=>{class t{constructor(){this.templateRef=M(dn)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["ng-template","ngbPaginationNext",""]]})}return t})(),zx=(()=>{class t{constructor(){this.templateRef=M(dn)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["ng-template","ngbPaginationNumber",""]]})}return t})(),Vx=(()=>{class t{constructor(){this.templateRef=M(dn)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["ng-template","ngbPaginationPrevious",""]]})}return t})(),Hx=(()=>{class t{constructor(){this.templateRef=M(dn)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["ng-template","ngbPaginationPages",""]]})}return t})(),r0=(()=>{class t{constructor(){this._config=M(dde),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new Ee(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,i){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,i=this.pageCount,o=Math.floor(this.maxSize/2);return this.page<=o?i=this.maxSize:this.pageCount-this.page<o?e=this.pageCount-this.maxSize:(e=this.page-o-1,i=this.page+(this.maxSize%2==0?o-1:o)),[e,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(e){const i=this.page;this.page=sx(e,this.pageCount,1),this.page!==i&&xs(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),xs(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,o=this.pageCount;[i,o]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,o),this._applyEllipses(i,o)}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-pagination"]],contentQueries:function(i,o,s){if(1&i&&(ui(s,Rx,5),ui(s,xx,5),ui(s,Fx,5),ui(s,kx,5),ui(s,zx,5),ui(s,Vx,5),ui(s,Hx,5)),2&i){let r;Mt(r=Tt())&&(o.tplEllipsis=r.first),Mt(r=Tt())&&(o.tplFirst=r.first),Mt(r=Tt())&&(o.tplLast=r.first),Mt(r=Tt())&&(o.tplNext=r.first),Mt(r=Tt())&&(o.tplNumber=r.first),Mt(r=Tt())&&(o.tplPrevious=r.first),Mt(r=Tt())&&(o.tplPages=r.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[Di],decls:20,vars:12,consts:()=>{let e,i,o,s,r,a,l,c;return e="\xAB\xAB",i="\xAB",o="\xBB",s="\xBB\xBB",r="\u0627\u0644\u0623\u0648\u0644",a="\u0627\u0644\u0633\u0627\u0628\u0642",l="\u0627\u0644\u062A\u0627\u0644\u064A",c="\u0627\u0644\u0623\u062E\u064A\u0631",[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],e,i,o,s,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",r,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(i,o){if(1&i&&(ce(0,sce,2,0,"ng-template",null,0,xt)(2,rce,2,0,"ng-template",null,1,xt)(4,ace,2,0,"ng-template",null,2,xt)(6,lce,2,0,"ng-template",null,3,xt)(8,cce,1,0,"ng-template",null,4,xt)(10,dce,1,1,"ng-template",null,5,xt)(12,fce,2,0,"ng-template",null,6,xt),d(14,"ul"),y(15,vce,3,9,"li",11),y(16,Mce,3,8,"li",11),ce(17,Tce,0,0,"ng-template",12),y(18,bce,3,9,"li",11),y(19,Ece,3,9,"li",11),u()),2&i){const s=xe(13);_(14),Zi("pagination"+(o.size?" pagination-"+o.size:"")),_(),P(o.boundaryLinks?15:-1),_(),P(o.directionLinks?16:-1),_(),m("ngTemplateOutlet",(null==o.tplPages?null:o.tplPages.templateRef)||s)("ngTemplateOutletContext",Wc(8,tce,o.page,o.pages,o.disabled)),_(),P(o.directionLinks?18:-1),_(),P(o.boundaryLinks?19:-1)}},dependencies:[Ao],encapsulation:2,changeDetection:0})}return t})(),R1=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})();const hde={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function Gx(t,n,e,i,o,s=0,r=0,a=rr,l=rr){const c=function ude(t){const n=(t||"").trim();if(0===n.length)return[];const e=n.split(/\s+/).map(o=>o.split(":")).map(o=>hde[o[0]]||o),i=e.filter(o=>o.includes("manual"));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&e.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i.length?[]:e}(n);if(0===c.length)return()=>{};const h=new Set,g=[];let f;function v(S,D){t.addEventListener(S,D),g.push(()=>t.removeEventListener(S,D))}function C(S,D){clearTimeout(f),D>0?f=setTimeout(S,D):S()}for(const[S,D]of c)if(D?(v(S,()=>{h.add(S),C(()=>h.size>0&&i(),s)}),v(D,()=>{h.delete(S),C(()=>0===h.size&&o(),r)})):v(S,()=>e()?C(o,r):C(i,s)),"mouseenter"===S&&"mouseleave"===D&&r>0){const I=a.subscribe(()=>{h.delete(S),clearTimeout(f)}),L=l.subscribe(()=>{h.delete(S),C(()=>0===h.size&&o(),r)});g.push(()=>I.unsubscribe(),()=>L.unsubscribe())}return g.push(()=>clearTimeout(f)),()=>g.forEach(S=>S())}let _de=(()=>{class t{constructor(){this._ngbConfig=M(Vl),this.autoClose=!0,this.placement="auto",this.popperOptions=e=>e,this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gde=0,pde=(()=>{class t{isTitleTemplate(){return this.title instanceof dn}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(i,o){1&i&&E("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseLeave()}),2&i&&(zi("id",o.id),Zi("popover"+(o.popoverClass?" "+o.popoverClass:"")),we("fade",o.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave"},ngContentSelectors:zl,decls:4,vars:1,consts:[["simpleTitle",""],["data-popper-arrow","",1,"popover-arrow"],[1,"popover-header"],[1,"popover-body"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&(or(),O(0,"div",1),y(1,Nce,4,2,"h3",2),d(2,"div",3),sr(3),u()),2&i&&(_(),P(o.title?1:-1))},dependencies:[Ao],encapsulation:2,changeDetection:0})}return t})(),Aa=(()=>{class t{constructor(){this._config=M(_de),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disablePopover=this._config.disablePopover,this.popoverClass=this._config.popoverClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new Ee,this.hidden=new Ee,this._nativeElement=M(fn).nativeElement,this._ngZone=M(un),this._document=M(Un),this._changeDetector=M(Yo),this._injector=M(Fi),this._ngbPopoverWindowId="ngb-popover-"+gde++,this._popupService=new eM(pde),this._windowRef=null,this._positioning=N_(),this._mouseEnterPopover=new Be,this._mouseLeavePopover=new Be,this._opening=!0,this._transitioning=!1}open(e){if(!this._opening&&this._transitioning&&(this._transitioning=!1,n6(this._windowRef.location.nativeElement)),!this._windowRef&&!this._isDisabled()){const{windowRef:i,transition$:o}=this._popupService.open(this.ngbPopover,e??this.popoverContext,this.animation);this._opening=!0,this._transitioning=!0,this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("title",this.popoverTitle),this._windowRef.setInput("context",e??this.popoverContext),this._windowRef.setInput("popoverClass",this.popoverClass),this._windowRef.setInput("id",this._ngbPopoverWindowId),this._windowRef.setInput("onMouseEnter",()=>this._mouseEnterPopover.next()),this._windowRef.setInput("onMouseLeave",()=>this._mouseLeavePopover.next()),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,baseClass:"bs-popover",updatePopperOptions:s=>this.popperOptions(y_([0,8])(s))}),Promise.resolve().then(()=>{this._positioning.update()}),this._afterRenderRef=Hd({mixedReadWrite:()=>{this._positioning.update()}},{injector:this._injector})}),A_(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),o.subscribe(()=>{this._transitioning&&(this._transitioning=!1,this.shown.emit())})}}close(e=this.animation){this._opening&&this._transitioning&&(this._transitioning=!1,n6(this._windowRef.location.nativeElement)),this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._opening=!1,this._transitioning=!0,this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._afterRenderRef?.destroy(),this._transitioning&&(this._transitioning=!1,this.hidden.emit()),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=Gx(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay,this._mouseEnterPopover,this._mouseLeavePopover)}ngOnChanges({ngbPopover:e,popoverTitle:i,disablePopover:o,popoverClass:s}){s&&this.isOpen()&&this._windowRef.setInput("popoverClass",s.currentValue),(e||i||o)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}_getPositionTargetElement(){return(Hl(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",popoverContext:"popoverContext",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[Di]})}return t})(),Na=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),fde=(()=>{class t{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oM=(()=>{class t{set max(e){this._max=!xs(e)||e<=0?100:e}get max(){return this._max}constructor(){this._config=M(fde),this.stacked=M(mde,{optional:!0}),this.animated=this._config.animated,this.ariaLabel=this._config.ariaLabel,this.striped=this._config.striped,this.showValue=this._config.showValue,this.textType=this._config.textType,this.type=this._config.type,this.value=0,this.height=this._config.height,this.max=this._config.max}getValue(){return sx(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:7,hostBindings:function(i,o){2&i&&(Vn("aria-valuenow",o.getValue())("aria-valuemax",o.max)("aria-label",o.ariaLabel),Qr("width",o.stacked?o.getPercentValue():null,"%")("height",o.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},ngContentSelectors:zl,decls:3,vars:11,consts:()=>{let e;return e="" + "\ufffd0\ufffd" + "",[e]},template:function(i,o){1&i&&(or(),Hn(0,"div"),y(1,Dce,3,3,"span"),sr(2),Jn()),2&i&&(Zi(e1("progress-bar",o.type?o.textType?" bg-"+o.type:" text-bg-"+o.type:"","",o.textType?" text-"+o.textType:"")),Qr("width",o.stacked?null:o.getPercentValue(),"%"),we("progress-bar-animated",o.animated)("progress-bar-striped",o.striped),_(),P(o.showValue?1:-1))},dependencies:[rL],encapsulation:2,changeDetection:0})}return t})(),mde=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-progressbar-stacked"]],hostAttrs:[1,"progress-stacked"],ngContentSelectors:zl,decls:1,vars:0,template:function(i,o){1&i&&(or(),sr(0))},encapsulation:2,changeDetection:0})}return t})(),u5=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),$x=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),Bx=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),Ux=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),Tde=(()=>{class t{constructor(){this._ngbConfig=M(Vl),this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const wde=(t,n)=>{const{classList:e}=t;if(n)return e.add("fade"),M2(t),e.add("show","showing"),()=>{e.remove("showing")};e.add("show")},bde=({classList:t})=>(t.add("showing"),()=>{t.remove("show","showing")});let Sde=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbToastHeader",""]]})}return t})(),Ede=(()=>{class t{constructor(e){this.ariaLive=e,this._config=M(Tde),this._zone=M(un),this._injector=M(Fi),this._element=M(fn),this.animation=this._config.animation,this.delay=this._config.delay,this.autohide=this._config.autohide,this.contentHeaderTpl=null,this.shown=new Ee,this.hidden=new Ee,this.ariaLive??=this._config.ariaLive}ngAfterContentInit(){E1({mixedReadWrite:()=>{this._init(),this.show()}},{injector:this._injector})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=yr(this._zone,this._element.nativeElement,bde,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=yr(this._zone,this._element.nativeElement,wde,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static#e=this.\u0275fac=function(i){return new(i||t)(T1("aria-live"))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-toast"]],contentQueries:function(i,o,s){if(1&i&&ui(s,Sde,7,dn),2&i){let r;Mt(r=Tt())&&(o.contentHeaderTpl=r.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(i,o){2&i&&(Vn("aria-live",o.ariaLive),we("fade",o.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[Di],ngContentSelectors:zl,decls:5,vars:1,consts:()=>{let e;return e="\u0625\u063A\u0644\u0627\u0642",[["headerTpl",""],[1,"toast-header"],[1,"toast-body"],[1,"me-auto"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(i,o){1&i&&(or(),ce(0,xce,2,1,"ng-template",null,0,xt),y(2,kce,3,1,"div",1),d(3,"div",2),sr(4),u()),2&i&&(_(2),P(o.contentHeaderTpl||o.header?2:-1))},dependencies:[Ao],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}return t})(),sM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),Ode=(()=>{class t{constructor(){this._ngbConfig=M(Vl),this.autoClose=!0,this.placement="auto",this.popperOptions=e=>e,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ade=0,Nde=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(i,o){1&i&&E("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseLeave()}),2&i&&(zi("id",o.id),Zi("tooltip"+(o.tooltipClass?" "+o.tooltipClass:"")),we("fade",o.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave"},ngContentSelectors:zl,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(i,o){1&i&&(or(),Kr(0,"div",0),Hn(1,"div",1),sr(2),Jn())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return t})(),N2=(()=>{class t{constructor(){this._config=M(Ode),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disableTooltip=this._config.disableTooltip,this.tooltipClass=this._config.tooltipClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new Ee,this.hidden=new Ee,this._nativeElement=M(fn).nativeElement,this._ngZone=M(un),this._document=M(Un),this._changeDetector=M(Yo),this._injector=M(Fi),this._ngbTooltipWindowId="ngb-tooltip-"+Ade++,this._popupService=new eM(Nde),this._windowRef=null,this._positioning=N_(),this._mouseEnterTooltip=new Be,this._mouseLeaveTooltip=new Be,this._opening=!0,this._transitioning=!1}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._opening&&this._transitioning&&(this._transitioning=!1,n6(this._windowRef.location.nativeElement)),!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:o}=this._popupService.open(this._ngbTooltip,e??this.tooltipContext,this.animation);this._opening=!0,this._transitioning=!0,this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._windowRef.setInput("onMouseEnter",()=>this._mouseEnterTooltip.next()),this._windowRef.setInput("onMouseLeave",()=>this._mouseLeaveTooltip.next()),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,baseClass:"bs-tooltip",updatePopperOptions:s=>this.popperOptions(y_([0,6])(s))}),Promise.resolve().then(()=>{this._positioning.update()}),this._afterRenderRef=Hd({mixedReadWrite:()=>{this._positioning.update()}},{injector:this._injector})}),A_(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._nativeElement]),o.subscribe(()=>{this._transitioning&&(this._transitioning=!1,this.shown.emit())})}}close(e=this.animation){this._opening&&this._transitioning&&(this._transitioning=!1,n6(this._windowRef.location.nativeElement)),null!=this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._opening=!1,this._transitioning=!0,this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._afterRenderRef?.destroy(),this._transitioning&&(this._transitioning=!1,this.hidden.emit()),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=Gx(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay,this._mouseEnterTooltip,this._mouseLeaveTooltip)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&this._windowRef.setInput("tooltipClass",e.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(Hl(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[Di]})}return t})(),Ul=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),Dde=(()=>{class t{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(e){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=M_(this.result),o=Array.isArray(this.term)?this.term:[this.term],s=c=>this.accentSensitive?c:lx(c),r=o.map(c=>function Wce(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(M_(c)))).filter(c=>c),a=this.accentSensitive?i:lx(i),l=r.length?a.split(new RegExp(`(${r.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=l;else{let c=0;this.parts=l.map(h=>i.substring(c,c+=h.length))}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[Di],decls:2,vars:0,consts:[[3,"class"]],template:function(i,o){1&i&&Ke(0,Hce,2,1,null,null,Wd),2&i&&qe(o.parts)},styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0})}return t})();const yde=new Qe("live announcer delay",{providedIn:"root",factory:()=>100});function jx(t,n=!1){let e=t.body.querySelector("#ngb-live");return null==e&&n&&(e=t.createElement("div"),e.setAttribute("id","ngb-live"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.classList.add("visually-hidden"),t.body.appendChild(e)),e}let Pde=(()=>{class t{constructor(){this._document=M(Un),this._delay=M(yde)}ngOnDestroy(){const e=jx(this._document);e&&e.parentElement.removeChild(e)}say(e){const i=jx(this._document,!0),o=this._delay;if(null!=i){i.textContent="";const s=()=>i.textContent=e;null===o?s():setTimeout(s,o)}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ide=(()=>{class t{constructor(){this.editable=!0,this.focusFirst=!0,this.selectOnExact=!1,this.showHint=!1,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lde=(()=>{class t{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=M_,this.selectEvent=new Ee,this.activeChangeEvent=new Ee}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(i,o){1&i&&E("mousedown",function(r){return r.preventDefault()}),2&i&&(zi("id",o.id),Zi("dropdown-menu show"+(o.popupClass?" "+o.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:4,vars:0,consts:[["rt",""],["type","button","role","option",1,"dropdown-item",3,"id","active"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&(ce(0,$ce,1,2,"ng-template",null,0,xt),Ke(2,Uce,2,9,"button",1,Wd)),2&i&&(_(2),qe(o.results))},dependencies:[Dde,Ao],encapsulation:2})}return t})(),Rde=0,xde=(()=>{class t{constructor(){this._nativeElement=M(fn).nativeElement,this._config=M(Ide),this._live=M(Pde),this._document=M(Un),this._ngZone=M(un),this._changeDetector=M(Yo),this._injector=M(Fi),this._popupService=new eM(Lde),this._positioning=N_(),this._subscription=null,this._closed$=new Be,this._inputValueBackup=null,this._inputValueForSelectOnExact=null,this._valueChanges$=Nn(this._nativeElement,"input").pipe(bt(e=>e.target.value)),this._resubscribeTypeahead$=new Qn(null),this._windowRef=null,this.autocomplete="off",this.container=this._config.container,this.editable=this._config.editable,this.focusFirst=this._config.focusFirst,this.selectOnExact=this._config.selectOnExact,this.showHint=this._config.showHint,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.selectItem=new Ee,this.activeDescendant=null,this.popupId="ngb-typeahead-"+Rde++,this._onTouched=()=>{},this._onChange=e=>{}}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:e}){e&&!e.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){this._writeInputValue(this._formatItemForInput(e)),this.showHint&&(this._inputValueBackup=e)}setDisabledState(e){this._nativeElement.disabled=e}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead$.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead$.next(null),this._onTouched()}handleKeyDown(e){if(this.isPopupOpen())switch(e.key){case"ArrowDown":e.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case"ArrowUp":e.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case"Enter":case"Tab":{const i=this._windowRef.instance.getActive();Gl(i)&&(e.preventDefault(),e.stopPropagation(),this._selectResult(i)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._nativeElement.value;const{windowRef:e}=this._popupService.open();this._windowRef=e,this._windowRef.setInput("id",this.popupId),this._windowRef.setInput("popupClass",this.popupClass),this._windowRef.instance.selectEvent.subscribe(i=>this._selectResultClosePopup(i)),this._windowRef.instance.activeChangeEvent.subscribe(i=>this.activeDescendant=i),"body"===this.container&&(this._windowRef.location.nativeElement.style.zIndex="1055",this._document.body.appendChild(this._windowRef.location.nativeElement)),this._changeDetector.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._windowRef&&(this._positioning.createPopper({hostElement:this._nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,updatePopperOptions:i=>this.popperOptions(y_([0,2])(i))}),this._afterRenderRef=Hd({mixedReadWrite:()=>{this._positioning.update()}},{injector:this._injector}))}),A_(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._positioning.destroy(),this._afterRenderRef?.destroy(),this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(e){let i=!1;this.selectItem.emit({item:e,preventDefault:()=>{i=!0}}),this._resubscribeTypeahead$.next(null),i||(this.writeValue(e),this._onChange(e))}_selectResultClosePopup(e){this._selectResult(e),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const e=this._inputValueBackup.toLowerCase(),i=this._formatItemForInput(this._windowRef.instance.getActive());e===i.substring(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+i.substring(this._inputValueBackup.length)),this._nativeElement.setSelectionRange.apply(this._nativeElement,[this._inputValueBackup.length,i.length])):this._writeInputValue(i)}}_formatItemForInput(e){return null!=e&&this.inputFormatter?this.inputFormatter(e):M_(e)}_writeInputValue(e){this._nativeElement.value=M_(e)}_subscribeToUserInput(){const e=this._valueChanges$.pipe(_n(i=>{this._inputValueBackup=this.showHint?i:null,this._inputValueForSelectOnExact=this.selectOnExact?i:null,this._onChange(this.editable?i:null)}),this.ngbTypeahead?this.ngbTypeahead:()=>Et([]));this._subscription=this._resubscribeTypeahead$.pipe(_i(()=>e)).subscribe(i=>{i&&0!==i.length?this.selectOnExact&&1===i.length&&this._formatItemForInput(i[0])===this._inputValueForSelectOnExact?(this._selectResult(i[0]),this._closePopup()):(this._openPopup(),this._windowRef.setInput("focusFirst",this.focusFirst),this._windowRef.setInput("results",i),this._windowRef.setInput("term",this._nativeElement.value),this.resultFormatter&&this._windowRef.setInput("formatter",this.resultFormatter),this.resultTemplate&&this._windowRef.setInput("resultTemplate",this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const o=i?i.length:0;this._live.say(0===o?"No results available":`${o} result${1===o?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox"],hostVars:7,hostBindings:function(i,o){1&i&&E("blur",function(){return o.handleBlur()})("keydown",function(r){return o.handleKeyDown(r)}),2&i&&(zi("autocomplete",o.autocomplete),Vn("aria-autocomplete",o.showHint?"both":"list")("aria-activedescendant",o.activeDescendant)("aria-controls",o.isPopupOpen()?o.popupId:null)("aria-expanded",o.isPopupOpen()),we("open",o.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",selectOnExact:"selectOnExact",showHint:"showHint",placement:"placement",popperOptions:"popperOptions",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),Di]})}return t})(),rM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),Zx=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})();const kde=[r5,UC,_x,O_,L_,Go,nM,Bl,Zx,R1,Na,u5,$x,Bx,Ux,sM,Ul,rM];let zde=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({imports:[kde,r5,UC,_x,O_,L_,Go,nM,Bl,Zx,R1,Na,u5,$x,Bx,Ux,sM,Ul,rM]})}return t})();function ra(t,n=e2){return uo((e,i)=>{let o=null,s=null,r=null;const a=()=>{if(o){o.unsubscribe(),o=null;const c=s;s=null,i.next(c)}};function l(){const c=r+t,h=n.now();if(h<c)return o=this.schedule(void 0,c-h),void i.add(o);a()}e.subscribe($i(i,c=>{s=c,r=n.now(),o||(o=n.schedule(l,t),i.add(o))},()=>{a(),i.complete()},void 0,()=>{s=o=null}))})}const Vde=["content"],Hde=["scroll"],Gde=["padding"],Wx=["*"],x_=t=>({searchTerm:t});function $de(t,n){if(1&t&&(d(0,"div",3),Mn(1,6),u()),2&t){const e=p();_(),m("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",ei(2,x_,e.filterValue))}}function Bde(t,n){if(1&t&&(d(0,"div",5),Mn(1,6),u()),2&t){const e=p();_(),m("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",ei(2,x_,e.filterValue))}}const Ude=["searchInput"],jde=["clearButton"],Zde=(t,n,e)=>({item:t,clear:n,label:e}),Wde=(t,n)=>({items:t,clear:n}),Xde=(t,n,e,i)=>({item:t,item$:n,index:e,searchTerm:i});function Kde(t,n){if(1&t&&(d(0,"div",20),N(1),u()),2&t){const e=p(2);_(),oe(e.placeholder)}}function qde(t,n){}function Yde(t,n){if(1&t&&ce(0,Kde,2,1,"ng-template",null,1,xt)(2,qde,0,0,"ng-template",19),2&t){const e=xe(1),i=p();_(2),m("ngTemplateOutlet",i.placeholderTemplate||e)}}function Qde(t,n){if(1&t){const e=k();d(0,"span",23),E("click",function(){T(e);const o=p().$implicit;return w(p(2).unselect(o))}),N(1,"\xd7"),u(),O(2,"span",24)}if(2&t){const e=p().$implicit,i=p(2);_(2),m("ngItemLabel",e.label)("escape",i.escapeHTML)}}function Jde(t,n){}function e2e(t,n){if(1&t&&(d(0,"div",22),ce(1,Qde,3,2,"ng-template",null,2,xt)(3,Jde,0,0,"ng-template",12),u()),2&t){const e=n.$implicit,i=xe(2),o=p(2);we("ng-value-disabled",e.disabled),_(3),m("ngTemplateOutlet",o.labelTemplate||i)("ngTemplateOutletContext",Wc(4,Zde,e.value,o.clearItem,e.label))}}function t2e(t,n){1&t&&Ke(0,e2e,4,8,"div",21,_v().trackByOption,!0),2&t&&qe(p().selectedItems)}function n2e(t,n){}function i2e(t,n){if(1&t&&ce(0,n2e,0,0,"ng-template",12),2&t){const e=p();m("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",$e(2,Wde,e.selectedValues,e.clearItem))}}function o2e(t,n){1&t&&O(0,"div",25)}function s2e(t,n){}function r2e(t,n){if(1&t&&ce(0,o2e,1,0,"ng-template",null,3,xt)(2,s2e,0,0,"ng-template",19),2&t){const e=xe(1),i=p();_(2),m("ngTemplateOutlet",i.loadingSpinnerTemplate||e)}}function a2e(t,n){1&t&&Mn(0,19),2&t&&m("ngTemplateOutlet",p(2).clearButtonTemplate)}function l2e(t,n){if(1&t){const e=k();d(0,"span",27,4),E("click",function(o){return T(e),w(p(2).handleClearClick(o))}),d(2,"span",28),N(3,"\xd7"),u()()}if(2&t){const e=p(2);m("title",ni(e.clearAllText)),Vn("tabindex",e.tabFocusOnClear()?0:-1)}}function c2e(t,n){1&t&&y(0,a2e,1,1,"ng-container",19)(1,l2e,4,3,"span",26),2&t&&P(p().clearButtonTemplate?0:1)}function d2e(t,n){if(1&t&&O(0,"span",33),2&t){const e=p().$implicit,i=p(2);m("ngItemLabel",e.label)("escape",i.escapeHTML)}}function h2e(t,n){}function u2e(t,n){if(1&t){const e=k();d(0,"div",32),E("click",function(){const o=T(e).$implicit;return w(p(2).toggleItem(o))})("mouseover",function(){const o=T(e).$implicit;return w(p(2).onItemHover(o))}),ce(1,d2e,1,2,"ng-template",null,5,xt)(3,h2e,0,0,"ng-template",12),u()}if(2&t){const e=n.$implicit,i=xe(2),o=p(2);we("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===o.itemsList.markedItem),Vn("role",e.children?"group":"option")("aria-selected",e.selected)("id",null==e?null:e.htmlId)("aria-setsize",o.itemsList.filteredItems.length)("aria-posinset",e.index+1),_(3),m("ngTemplateOutlet",e.children?o.optgroupTemplate||i:o.optionTemplate||i)("ngTemplateOutletContext",Fv(19,Xde,e.value,e,e.index,o.searchTerm))}}function _2e(t,n){if(1&t&&(d(0,"span")(1,"span",35),N(2),u(),N(3),u()),2&t){const e=p(3);_(2),oe(e.addTagText),_(),He('"',e.searchTerm,'"')}}function g2e(t,n){}function p2e(t,n){if(1&t){const e=k();d(0,"div",34),E("mouseover",function(){return T(e),w(p(2).itemsList.unmarkItem())})("click",function(){return T(e),w(p(2).selectTag())}),ce(1,_2e,4,2,"ng-template",null,6,xt)(3,g2e,0,0,"ng-template",12),u()}if(2&t){const e=xe(2),i=p(2);we("ng-option-marked",!i.itemsList.markedItem),_(3),m("ngTemplateOutlet",i.tagTemplate||e)("ngTemplateOutletContext",ei(4,x_,i.searchTerm))}}function f2e(t,n){if(1&t&&(d(0,"div",36),N(1),u()),2&t){const e=p(3);_(),oe(e.notFoundText)}}function m2e(t,n){}function v2e(t,n){if(1&t&&ce(0,f2e,2,1,"ng-template",null,7,xt)(2,m2e,0,0,"ng-template",12),2&t){const e=xe(1),i=p(2);_(2),m("ngTemplateOutlet",i.notFoundTemplate||e)("ngTemplateOutletContext",ei(2,x_,i.searchTerm))}}function C2e(t,n){if(1&t&&(d(0,"div",36),N(1),u()),2&t){const e=p(3);_(),oe(e.typeToSearchText)}}function M2e(t,n){}function T2e(t,n){if(1&t&&ce(0,C2e,2,1,"ng-template",null,8,xt)(2,M2e,0,0,"ng-template",19),2&t){const e=xe(1),i=p(2);_(2),m("ngTemplateOutlet",i.typeToSearchTemplate||e)}}function w2e(t,n){if(1&t&&(d(0,"div",36),N(1),u()),2&t){const e=p(3);_(),oe(e.loadingText)}}function b2e(t,n){}function S2e(t,n){if(1&t&&ce(0,w2e,2,1,"ng-template",null,9,xt)(2,b2e,0,0,"ng-template",12),2&t){const e=xe(1),i=p(2);_(2),m("ngTemplateOutlet",i.loadingTextTemplate||e)("ngTemplateOutletContext",ei(2,x_,i.searchTerm))}}function E2e(t,n){if(1&t){const e=k();d(0,"ng-dropdown-panel",29),E("update",function(o){return T(e),w(p().viewPortItems=o)})("scroll",function(o){return T(e),w(p().scroll.emit(o))})("scrollToEnd",function(o){return T(e),w(p().scrollToEnd.emit(o))})("outsideClick",function(){return T(e),w(p().close())}),ge(1),Ke(2,u2e,4,24,"div",30,_v().trackByOption,!0),y(4,p2e,4,6,"div",31),ue(),y(5,v2e,3,4),y(6,T2e,3,1),y(7,S2e,3,4),u()}if(2&t){const e=p();we("ng-select-multiple",e.multiple),m("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.ngClass?e.ngClass:e.classes:null)("id",e.dropdownId),lv("ariaLabelDropdown",e.ariaLabelDropdown),_(2),qe(e.viewPortItems),_(2),P(e.showAddTag?4:-1),_(),P(e.showNoItemsFound()?5:-1),_(),P(e.showTypeToSearch()?6:-1),_(),P(e.loading&&0===e.itemsList.filteredItems.length?7:-1)}}function O2e(t,n){1&t&&N(0),2&t&&He(" ",p().notFoundText," ")}const Xx=/[&<>"']/g,A2e=RegExp(Xx.source),N2e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function wo(t){return null!=t}function F_(t){return"object"==typeof t&&wo(t)}function _6(t){return t instanceof Function}let P2e=(()=>{class t{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?function D2e(t){return t&&A2e.test(t)?t.replace(Xx,n=>N2e[n]):t}(this.ngItemLabel):this.ngItemLabel}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(fn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[Di]})}return t})(),k_=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-option-tmp",""]]})}return t})(),I2e=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-optgroup-tmp",""]]})}return t})(),aM=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-label-tmp",""]]})}return t})(),L2e=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-multi-label-tmp",""]]})}return t})(),R2e=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-header-tmp",""]]})}return t})(),x2e=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-footer-tmp",""]]})}return t})(),F2e=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-notfound-tmp",""]]})}return t})(),k2e=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-placeholder-tmp",""]]})}return t})(),z2e=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-typetosearch-tmp",""]]})}return t})(),V2e=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-loadingtext-tmp",""]]})}return t})(),H2e=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-tag-tmp",""]]})}return t})(),Kx=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-loadingspinner-tmp",""]]})}return t})(),G2e=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(dn))};static#t=this.\u0275dir=Je({type:t,selectors:[["","ng-clearbutton-tmp",""]]})}return t})();function qx(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const $2e={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function g6(t){return t.replace(/[^\u0000-\u007E]/g,e=>$2e[e]||e)}class B2e{constructor(n,e){this._ngSelect=n,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let n=this.selectedItems.length-1;for(;n>=0;n--){const e=this.selectedItems[n];if(!e.disabled)return e}return null}setItems(n){this._items=n.map((e,i)=>this.mapItem(e,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(n){if(n.selected||this.maxItemsSelected)return;const e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(n,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(n)}unselect(n){n.selected&&(this._selectionModel.unselect(n,this._ngSelect.multiple),this._ngSelect.hideSelected&&wo(n.index)&&this._ngSelect.multiple&&this._showSelected(n))}findItem(n){let e;return e=this._ngSelect.compareWith?i=>this._ngSelect.compareWith(i.value,n):this._ngSelect.bindValue?i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===n:i=>i.value===n||!i.children&&i.label&&i.label===this.resolveNested(n,this._ngSelect.bindLabel),this._items.find(i=>e(i))}addItem(n){const e=this.mapItem(n,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(n=!1){this._selectionModel.clear(n),this._items.forEach(e=>{e.selected=n&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(n){return n=g6(n).toLocaleLowerCase(),this.filteredItems.find(e=>g6(e.label).toLocaleLowerCase().substr(0,n.length)===n)}filter(n){if(!n)return void this.resetFilteredItems();this._filteredItems=[],n=this._ngSelect.searchFn?n:g6(n).toLocaleLowerCase();const e=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(const o of Array.from(this._groups.keys())){const s=[];for(const r of this._groups.get(o))i&&(r.parent&&r.parent.selected||r.selected)||e(n,this._ngSelect.searchFn?r.value:r)&&s.push(r);if(s.length>0){const[r]=s.slice(-1);if(r.parent){const a=this._items.find(l=>l===r.parent);this._filteredItems.push(a)}this._filteredItems.push(...s)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(n=>!n.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(n){this._markedIndex=this._filteredItems.indexOf(n)}markSelectedOrDefault(n){if(0===this._filteredItems.length)return;const e=this._getLastMarkedIndex();this._markedIndex=e>-1?e:n?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(n,e){if(!F_(n))return n;if(-1===e.indexOf("."))return n[e];{const i=e.split(".");let o=n;for(let s=0,r=i.length;s<r;++s){if(null==o)return null;o=o[i[s]]}return o}}mapItem(n,e){const i=wo(n.$ngOptionLabel)?n.$ngOptionLabel:this.resolveNested(n,this._ngSelect.bindLabel),o=wo(n.$ngOptionValue)?n.$ngOptionValue:n;return{index:e,label:wo(i)?i.toString():"",value:o,disabled:n.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){const n=this._ngSelect.multiple;for(const e of this.selectedItems){let i=null;if(this._ngSelect.compareWith)i=this._items.find(o=>this._ngSelect.compareWith(o.value,e.value));else{const o=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value;i=wo(o)?this.findItem(o):null}this._selectionModel.unselect(e,n),this._selectionModel.select(i||e,n,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>-1===this.selectedItems.indexOf(e)))}_showSelected(n){if(this._filteredItems.push(n),n.parent){const e=n.parent;this._filteredItems.find(o=>o===e)||this._filteredItems.push(e)}else if(n.children)for(const e of n.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,i)=>e.index-i.index)]}_hideSelected(n){this._filteredItems=this._filteredItems.filter(e=>e!==n),n.parent?n.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==n.parent)):n.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==n))}_defaultSearchFn(n,e){return g6(e.label).toLocaleLowerCase().indexOf(n)>-1}_getNextItemIndex(n){return n>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(n){0===this._filteredItems.length||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(n),this.markedItem.disabled&&this._stepToItem(n))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const n=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&n<0?-1:Math.max(this.markedIndex,n)}_groupBy(n,e){const i=new Map;if(0===n.length)return i;if(Array.isArray(n[0].value[e])){for(const r of n){const a=(r.value[e]||[]).map((l,c)=>this.mapItem(l,c));i.set(r,a)}return i}const o=_6(this._ngSelect.groupBy),s=r=>{const a=o?e(r.value):r.value[e];return wo(a)?a:void 0};for(const r of n){const a=s(r),l=i.get(a);l?l.push(r):i.set(a,[r])}return i}_flatten(n){const e=_6(this._ngSelect.groupBy),i=[];for(const o of Array.from(n.keys())){let s=i.length;if(void 0===o){const g=n.get(void 0)||[];i.push(...g.map(f=>(f.index=s++,f)));continue}const r=F_(o),a={label:r?"":String(o),children:void 0,parent:null,index:s++,disabled:!this._ngSelect.selectableGroup,htmlId:qx()},l=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,c=this._ngSelect.groupValue||(()=>r?o.value:{[l]:o}),h=n.get(o).map(g=>(g.parent=a,g.children=void 0,g.index=s++,g));a.children=h,a.value=c(o,h.map(g=>g.value)),i.push(a),i.push(...h)}return i}}let Yx=(()=>{class t{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,i,o){const s=this._dimensions,r=s.itemHeight*i,l=Math.max(0,e)/r*i;let c=Math.min(i,Math.ceil(l)+(s.itemsPerViewport+1));const g=Math.max(0,c-s.itemsPerViewport);let f=Math.min(g,Math.floor(l)),v=s.itemHeight*Math.ceil(f)-s.itemHeight*Math.min(f,o);return v=isNaN(v)?0:v,f=isNaN(f)?-1:f,c=isNaN(c)?-1:c,f-=o,f=Math.max(0,f),c+=o,c=Math.min(i,c),{topPadding:v,scrollHeight:r,start:f,end:c}}setDimensions(e,i){const o=Math.max(1,Math.floor(i/e));this._dimensions={itemHeight:e,panelHeight:i,itemsPerViewport:o}}getScrollTo(e,i,o){const{panelHeight:s}=this.dimensions,r=e+i,l=o+s;return s>=r&&o===e?null:r>l?o+r-l:e<=o?e:null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();const Qx=["top","right","bottom","left"],U2e=typeof requestAnimationFrame<"u"?t9:WP;let Jx=(()=>{class t{constructor(e,i,o,s,r){this._renderer=e,this._zone=i,this._panelService=o,this._document=r,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.ariaLabelDropdown=n3(null),this.update=new Ee,this.scroll=new Ee,this.scrollToEnd=new Ee,this.outsideClick=new Ee,this._destroy$=new Be,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=s.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:e,panelHeight:i}=this._panelService.dimensions,o=this.markedItem.index*e;return i>o?0:o}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){const i=e.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,i=!1){if(!e)return;const o=this.items.indexOf(e);if(o<0||o>=this.itemsLength)return;let s;if(this.virtualScroll){const r=this._panelService.dimensions.itemHeight;s=this._panelService.getScrollTo(o*r,r,this._lastScrollPosition)}else{const r=this._dropdown.querySelector(`#${e.htmlId}`);s=this._panelService.getScrollTo(r.offsetTop,r.clientHeight,i?r.offsetTop:this._lastScrollPosition)}wo(s)&&(this._scrollablePanel.scrollTop=s)}scrollToTag(){const e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),Qx.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){Qx.forEach(o=>{const s=`ng-select-${o}`;this._renderer.removeClass(this._dropdown,s),this._renderer.removeClass(this._select,s)});const i=`ng-select-${e}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{Nn(this.scrollElementRef.nativeElement,"scroll").pipe(me(this._destroy$),u9(0,U2e)).subscribe(e=>{const i=e.path||e.composedPath&&e.composedPath();i&&(0!==i.length||e.target)&&this._onContentScrolled(i&&0!==i.length?i[0].scrollTop:e.target.scrollTop)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{J1(Nn(this._document,"touchstart",{capture:!0}),Nn(this._document,"click",{capture:!0})).pipe(me(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;const i=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,i){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(e){this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;const i=this._panelService.calculateItems(e=e||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),wo(e)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{const o=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;return this._virtualPadding.style.height=o*this.itemsLength+"px",this._panelService.setDimensions(o,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(e){this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if("auto"!==this.position)return this.position;const i=this._select.getBoundingClientRect(),o=document.documentElement.scrollTop||document.body.scrollTop;return i.top+window.pageYOffset+i.height+e.getBoundingClientRect().height>o+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=this._dropdown.shadowRoot?this._dropdown.shadowRoot.querySelector(this.appendTo):document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect();this._dropdown.style.left=e.left-i.left+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){const e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),o=e.height;"top"===this._currentPosition?(this._dropdown.style.bottom=i.bottom-e.bottom+o+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=e.top-i.top+o+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{Nn(this._dropdown,"mousedown").pipe(me(this._destroy$)).subscribe(e=>{"INPUT"!==e.target.tagName&&e.preventDefault()})})}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(S1),Ve(un),Ve(Yx),Ve(fn),Ve(Un,8))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ng-dropdown-panel"]],viewQuery:function(i,o){if(1&i&&(Tn(Vde,7,fn),Tn(Hde,7,fn),Tn(Gde,7,fn)),2&i){let s;Mt(s=Tt())&&(o.contentElementRef=s.first),Mt(s=Tt())&&(o.scrollElementRef=s.first),Mt(s=Tt())&&(o.paddingElementRef=s.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:[2,"virtualScroll","virtualScroll",yi],headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue",ariaLabelDropdown:[1,"ariaLabelDropdown"]},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[Di],ngContentSelectors:Wx,decls:9,vars:7,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){1&i&&(or(),y(0,$de,2,4,"div",3),d(1,"div",4,0),O(3,"div",null,1),d(5,"div",null,2),sr(7),u()(),y(8,Bde,2,4,"div",5)),2&i&&(P(o.headerTemplate?0:-1),_(),Vn("aria-label",o.ariaLabelDropdown()),_(2),we("total-padding",o.virtualScroll),_(2),we("scrollable-content",o.virtualScroll&&o.items.length),_(3),P(o.footerTemplate?8:-1))},dependencies:[Ao],encapsulation:2,changeDetection:0})}return t})(),j2e=(()=>{class t{constructor(e){this.elementRef=e,this.disabled=!1,this.stateChange$=new Be}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this.disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this.disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}static#e=this.\u0275fac=function(i){return new(i||t)(Ve(fn))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ng-option"]],inputs:{value:"value",disabled:[2,"disabled","disabled",yi]},features:[Di],ngContentSelectors:Wx,decls:1,vars:0,template:function(i,o){1&i&&(or(),sr(0))},encapsulation:2,changeDetection:0})}return t})();var a0=function(t){return t.Tab="Tab",t.Enter="Enter",t.Esc="Escape",t.Space=" ",t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.Backspace="Backspace",t}(a0||{});function eF(){return new Z2e}class Z2e{constructor(){this._selected=[]}get value(){return this._selected}select(n,e,i){if(n.selected=!0,(!n.children||!e&&i)&&this._selected.push(n),e)if(n.parent){const o=n.parent.children.length,s=n.parent.children.filter(r=>r.selected).length;n.parent.selected=o===s}else n.children&&(this._setChildrenSelectedState(n.children,!0),this._removeChildren(n),this._selected=i&&this._activeChildren(n)?[...this._selected.filter(o=>o.parent!==n),n]:[...this._selected,...n.children.filter(o=>!o.disabled)])}unselect(n,e){if(this._selected=this._selected.filter(i=>i!==n),n.selected=!1,e)if(n.parent&&n.parent.selected){const i=n.parent.children;this._removeParent(n.parent),this._removeChildren(n.parent),this._selected.push(...i.filter(o=>o!==n&&!o.disabled)),n.parent.selected=!1}else n.children&&(this._setChildrenSelectedState(n.children,!1),this._removeChildren(n))}clear(n){this._selected=n?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(n,e){for(const i of n)i.disabled||(i.selected=e)}_removeChildren(n){this._selected=[...this._selected.filter(e=>e.parent!==n),...n.children.filter(e=>e.parent===n&&e.disabled&&e.selected)]}_removeParent(n){this._selected=this._selected.filter(e=>e!==n)}_activeChildren(n){return n.children.every(e=>!e.disabled||e.selected)}}let W2e=(()=>{class t{constructor(){this.fixedPlaceholder=!0,this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline",this.tabFocusOnClear=!0}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),X2e=(()=>{class t{warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const tF=new Qe("ng-select-selection-model");let l0=(()=>{class t{constructor(e,i,o,s,r,a,l){this.classes=e,this.autoFocus=i,this.config=o,this._cd=a,this._console=l,this.ariaLabelDropdown="Options List",this.markFirst=!0,this.fixedPlaceholder=!0,this.preventToggleOnRightClick=!1,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.tabFocusOnClearButton=n3(),this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.ngClass=null,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new Ee,this.focusEvent=new Ee,this.changeEvent=new Ee,this.openEvent=new Ee,this.closeEvent=new Ee,this.searchEvent=new Ee,this.clearEvent=new Ee,this.addEvent=new Ee,this.removeEvent=new Ee,this.scroll=new Ee,this.scrollToEnd=new Ee,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=qx(),this.escapeHTML=!0,this.tabFocusOnClear=Ur(!0),this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Be,this._keyPress$=new Be,this._items=[],this.keyDownFn=c=>!0,this.clearItem=c=>{const h=this.selectedItems.find(g=>g.value===c);this.unselect(h)},this.trackByOption=(c,h)=>this.trackByFn?this.trackByFn(h.value):h,this._onChange=c=>{},this._onTouched=()=>{},this._mergeGlobalConfig(o),this.itemsList=new B2e(this,s?s():eF()),this.element=r.nativeElement}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get items(){return this._items}set items(e){this._itemsAreUsed=!0,this._items=e??[]}get disabled(){return this.readonly||this._disabled}get compareWith(){return this._compareWith}set compareWith(e){if(null!=e&&!_6(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return wo(this._clearSearchOnAdd)?this._clearSearchOnAdd:wo(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return wo(this._deselectOnClick)?this._deselectOnClick:wo(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}get showAddTag(){if(!this._validTerm)return!1;const e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===e))&&!this.loading}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const e=this.searchTerm?.trim();return e&&e.length>=this.minTermLength}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=wo(e.isOpen.currentValue)),e.groupBy&&(e.items||this._setItems([...this.items])),e.inputAttrs&&this._setInputAttributes(),this._setTabFocusOnClear()}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),wo(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){const i=e.key;if(Object.values(a0).includes(i)){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else i&&1===i.length&&this._keyPress$.next(i.toLocaleLowerCase())}handleKeyCode(e){this.clearButton&&this.clearButton.nativeElement===e.target?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.key){case a0.ArrowDown:this._handleArrowDown(e);break;case a0.ArrowUp:this._handleArrowUp(e);break;case a0.Space:this._handleSpace(e);break;case a0.Enter:this._handleEnter(e);break;case a0.Tab:this._handleTab(e);break;case a0.Esc:this.close(),e.preventDefault();break;case a0.Backspace:this._handleBackspace()}}handleKeyCodeClear(e){e.key===a0.Enter&&(this.handleClearClick(),e.preventDefault())}handleMousedown(e){if(this.preventToggleOnRightClick&&2===e.button)return!1;const i=e.target;if("INPUT"!==i.tagName&&e.preventDefault(),!i.classList.contains("ng-clear-wrapper")){if(i.classList.contains("ng-arrow-wrapper"))return void this.handleArrowClick();i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(e){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close(),this._onSelectionChanged()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value),this._onSelectionChanged())}selectTag(){let e;e=_6(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const i=o=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(o,null):this.itemsList.addItem(o);!function y2e(t){return t instanceof Promise}(e)?e&&this.select(i(e)):e.then(o=>this.select(i(o))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}showNoItemsFound(){const e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const e=this.selectedItems?.[0];this.searchTerm=e?.label??null}_setItems(e){const i=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=wo(i)?!F_(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&wo(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const e=o=>{this.items=o.map(s=>({$ngOptionValue:s.value,$ngOptionLabel:s.elementRef.nativeElement.innerHTML,disabled:s.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{const o=J1(this.ngOptions.changes,this._destroy$);J1(...this.ngOptions.map(s=>s.stateChange$)).pipe(me(o)).subscribe(s=>{const r=this.itemsList.findItem(s.value);r.disabled=s.disabled,r.label=s.label||r.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(i2(this.ngOptions),me(this._destroy$)).subscribe(o=>{this.bindLabel=this._defaultLabel,e(o),i()})}_isValidWriteValue(e){if(!wo(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;const i=o=>!(!wo(this.compareWith)&&F_(o)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(o)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(e)?e.every(o=>i(o)):(this._console.warn("Multiple select ngModel should be array."),!1):i(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;const i=o=>{let s=this.itemsList.findItem(o);if(s)this.itemsList.select(s);else{const r=F_(o);r||!r&&!this.bindValue?this.itemsList.select(this.itemsList.mapItem(o,null)):this.bindValue&&(s={[this.bindLabel]:null,[this.bindValue]:o},this.itemsList.select(this.itemsList.mapItem(s,null)))}};this.multiple?e.forEach(o=>i(o)):i(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(me(this._destroy$),_n(e=>this._pressedKeys.push(e)),ra(200),ii(()=>this._pressedKeys.length>0),bt(()=>this._pressedKeys.join(""))).subscribe(e=>{const i=this.itemsList.findByLabel(e);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){const e=this.searchInput.nativeElement,i={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:"off","aria-controls":this.dropdownId,...this.inputAttrs};for(const o of Object.keys(i))e.setAttribute(o,i[o])}_setTabFocusOnClear(){this.tabFocusOnClear.set(wo(this.tabFocusOnClearButton())?!!this.tabFocusOnClearButton():this.config.tabFocusOnClear)}_updateNgModel(){const e=[];for(const o of this.selectedItems)if(this.bindValue){let s=null;s=o.children?o.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(o.value,this.bindValue),e.push(s)}else e.push(o.value);const i=this.selectedItems.map(o=>o.value);this.multiple?(this._onChange(e),this.changeEvent.emit(i)):(this._onChange(wo(e[0])?e[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(!1===this.isOpen)if(this.showClear()&&!e.shiftKey&&this.tabFocusOnClear())this.focusOnClear(),e.preventDefault();else if(!this.addTag)return;this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){const i=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.fixedPlaceholder=this.fixedPlaceholder||e.fixedPlaceholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=this.getVirtualScroll(e),this.openOnEnter=wo(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance,this._setTabFocusOnClear()}getVirtualScroll(e){return wo(this.virtualScroll)?this.virtualScroll:this.isVirtualScrollDisabled(e)}isVirtualScrollDisabled(e){return!!wo(e.disableVirtualScroll)&&!e.disableVirtualScroll}static#e=this.\u0275fac=function(i){return new(i||t)(T1("class"),T1("autofocus"),Ve(W2e),Ve(tF,8),Ve(fn),Ve(Yo),Ve(X2e))};static#t=this.\u0275cmp=Ge({type:t,selectors:[["ng-select"]],contentQueries:function(i,o,s){if(1&i&&(ui(s,k_,5,dn),ui(s,I2e,5,dn),ui(s,aM,5,dn),ui(s,L2e,5,dn),ui(s,R2e,5,dn),ui(s,x2e,5,dn),ui(s,F2e,5,dn),ui(s,k2e,5,dn),ui(s,z2e,5,dn),ui(s,V2e,5,dn),ui(s,H2e,5,dn),ui(s,Kx,5,dn),ui(s,G2e,5,dn),ui(s,j2e,5)),2&i){let r;Mt(r=Tt())&&(o.optionTemplate=r.first),Mt(r=Tt())&&(o.optgroupTemplate=r.first),Mt(r=Tt())&&(o.labelTemplate=r.first),Mt(r=Tt())&&(o.multiLabelTemplate=r.first),Mt(r=Tt())&&(o.headerTemplate=r.first),Mt(r=Tt())&&(o.footerTemplate=r.first),Mt(r=Tt())&&(o.notFoundTemplate=r.first),Mt(r=Tt())&&(o.placeholderTemplate=r.first),Mt(r=Tt())&&(o.typeToSearchTemplate=r.first),Mt(r=Tt())&&(o.loadingTextTemplate=r.first),Mt(r=Tt())&&(o.tagTemplate=r.first),Mt(r=Tt())&&(o.loadingSpinnerTemplate=r.first),Mt(r=Tt())&&(o.clearButtonTemplate=r.first),Mt(r=Tt())&&(o.ngOptions=r)}},viewQuery:function(i,o){if(1&i&&(Tn(Jx,5),Tn(Ude,7),Tn(jde,5)),2&i){let s;Mt(s=Tt())&&(o.dropdownPanel=s.first),Mt(s=Tt())&&(o.searchInput=s.first),Mt(s=Tt())&&(o.clearButton=s.first)}},hostVars:20,hostBindings:function(i,o){1&i&&E("keydown",function(r){return o.handleKeyDown(r)}),2&i&&we("ng-select-typeahead",o.typeahead)("ng-select-multiple",o.multiple)("ng-select-taggable",o.addTag)("ng-select-searchable",o.searchable)("ng-select-clearable",o.clearable)("ng-select-opened",o.isOpen)("ng-select",o.useDefaultClass)("ng-select-filtered",o.filtered)("ng-select-single",o.single)("ng-select-disabled",o.disabled)},inputs:{ariaLabelDropdown:"ariaLabelDropdown",bindLabel:"bindLabel",bindValue:"bindValue",ariaLabel:"ariaLabel",markFirst:[2,"markFirst","markFirst",yi],placeholder:"placeholder",fixedPlaceholder:"fixedPlaceholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",preventToggleOnRightClick:"preventToggleOnRightClick",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:[2,"loading","loading",yi],closeOnSelect:[2,"closeOnSelect","closeOnSelect",yi],hideSelected:[2,"hideSelected","hideSelected",yi],selectOnTab:[2,"selectOnTab","selectOnTab",yi],openOnEnter:[2,"openOnEnter","openOnEnter",yi],maxSelectedItems:[2,"maxSelectedItems","maxSelectedItems",Vu],groupBy:"groupBy",groupValue:"groupValue",bufferAmount:[2,"bufferAmount","bufferAmount",Vu],virtualScroll:[2,"virtualScroll","virtualScroll",yi],selectableGroup:[2,"selectableGroup","selectableGroup",yi],selectableGroupAsModel:[2,"selectableGroupAsModel","selectableGroupAsModel",yi],searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:[2,"clearOnBackspace","clearOnBackspace",yi],labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:[2,"tabIndex","tabIndex",Vu],tabFocusOnClearButton:[1,"tabFocusOnClearButton"],readonly:[2,"readonly","readonly",yi],searchWhileComposing:[2,"searchWhileComposing","searchWhileComposing",yi],minTermLength:[2,"minTermLength","minTermLength",Vu],editableSearchTerm:[2,"editableSearchTerm","editableSearchTerm",yi],ngClass:"ngClass",typeahead:"typeahead",multiple:[2,"multiple","multiple",yi],addTag:"addTag",searchable:[2,"searchable","searchable",yi],clearable:[2,"clearable","clearable",yi],isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick",keyDownFn:"keyDownFn"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0},Yx]),Di],decls:15,vars:20,consts:[["searchInput",""],["defaultPlaceholderTemplate",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-input"],["aria-autocomplete","list","role","combobox",3,"blur","change","compositionend","compositionstart","focus","input","disabled","readOnly","value"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],[1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","ariaLabelDropdown"],["aria-atomic","true","aria-live","polite","role","status",1,"ng-visually-hidden"],[3,"ngTemplateOutlet"],[1,"ng-placeholder"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[1,"ng-spinner-loader"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"title"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"click","title"],["aria-hidden","true",1,"ng-clear"],[1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","ariaLabelDropdown"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(i,o){if(1&i){const s=k();d(0,"div",10),E("mousedown",function(a){return T(s),w(o.handleMousedown(a))}),d(1,"div",11),y(2,Yde,3,1),y(3,t2e,2,0),y(4,i2e,1,5,null,12),d(5,"div",13)(6,"input",14,0),E("blur",function(a){return T(s),w(o.onInputBlur(a))})("change",function(a){return T(s),w(a.stopPropagation())})("compositionend",function(){T(s);const a=xe(7);return w(o.onCompositionEnd(a.value))})("compositionstart",function(){return T(s),w(o.onCompositionStart())})("focus",function(a){return T(s),w(o.onInputFocus(a))})("input",function(){T(s);const a=xe(7);return w(o.filter(a.value))}),u()()(),y(8,r2e,3,1),y(9,c2e,2,1),d(10,"span",15),O(11,"span",16),u()(),y(12,E2e,8,18,"ng-dropdown-panel",17),d(13,"div",18),y(14,O2e,1,1),u()}2&i&&(we("ng-appearance-outline","outline"===o.appearance)("ng-has-value",o.hasValue),_(2),P(0===o.selectedItems.length&&!o.searchTerm||o.fixedPlaceholder?2:-1),_(),P(o.multiLabelTemplate&&o.multiple||!(o.selectedItems.length>0)?-1:3),_(),P(o.multiple&&o.multiLabelTemplate&&o.selectedValues.length>0?4:-1),_(2),m("disabled",o.disabled)("readOnly",!o.searchable||o.itemsList.maxItemsSelected)("value",o.searchTerm??""),Vn("aria-activedescendant",o.isOpen?null==o.itemsList||null==o.itemsList.markedItem?null:o.itemsList.markedItem.htmlId:null)("aria-controls",o.isOpen?o.dropdownId:null)("aria-expanded",o.isOpen)("aria-label",o.ariaLabel)("id",o.labelForId)("tabindex",o.tabIndex),_(2),P(o.loading?8:-1),_(),P(o.showClear()?9:-1),_(3),P(o.isOpen?12:-1),_(2),P(o.isOpen&&o.showNoItemsFound()?14:-1))},dependencies:[Ao,P2e,Jx,wa],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:unset;user-select:unset;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}.ng-visually-hidden{position:absolute!important;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0 0 0 0);border:0;white-space:nowrap}\n'],encapsulation:2,changeDetection:0})}return t})(),_5=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({providers:[{provide:tF,useValue:eF}]})}return t})();var z_={d:(t,n)=>{for(var e in n)z_.o(n,e)&&!z_.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)},Rn=globalThis.pdfjsLib={};z_.d(Rn,{AbortException:()=>p5,AnnotationEditorLayer:()=>Yue,AnnotationEditorParamsType:()=>Dn,AnnotationEditorType:()=>jn,AnnotationEditorUIManager:()=>U_,AnnotationLayer:()=>Xue,AnnotationMode:()=>jl,ColorPicker:()=>d1,DOMSVGFactory:()=>xM,DrawLayer:()=>cr,FeatureTest:()=>Pr,GlobalWorkerOptions:()=>Z_,ImageKind:()=>f6,InvalidPDFException:()=>iF,MissingPDFException:()=>g5,OPS:()=>x1,OutputScale:()=>vM,PDFDataRangeTransport:()=>VF,PDFDateString:()=>lF,PDFWorker:()=>Fs,PasswordResponses:()=>Q2e,PermissionFlag:()=>Y2e,PixelsPerInch:()=>y2,RenderingCancelledException:()=>pM,TextLayer:()=>Lr,UnexpectedResponseException:()=>M6,Util:()=>sn,VerbosityLevel:()=>m6,XfaLayer:()=>BF,build:()=>Nue,createValidAbsoluteUrl:()=>nhe,fetchData:()=>w6,getDocument:()=>Cue,getFilenameFromUrl:()=>uhe,getPdfFilenameFromUrl:()=>_he,getXfaPageViewport:()=>ghe,isDataScheme:()=>b6,isPdfFile:()=>fM,noContextMenu:()=>l1,normalizeUnicode:()=>che,setLayerDimensions:()=>f5,shadow:()=>pi,version:()=>Aue});const ar=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),nF=[1,0,0,1,0,0],lM=[.001,0,0,.001,0,0],jl={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},jn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Dn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Y2e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},f6={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},m6={ERRORS:0,WARNINGS:1,INFOS:5},x1={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Q2e={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let v6=m6.WARNINGS;function ehe(){return v6}function C6(t){v6>=m6.INFOS&&console.log(`Info: ${t}`)}function qn(t){v6>=m6.WARNINGS&&console.log(`Warning: ${t}`)}function po(t){throw new Error(t)}function Os(t,n){t||po(n)}function nhe(t,n=null,e=null){if(!t)return null;try{if(e&&"string"==typeof t&&(e.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),e.tryConvertEncoding))try{t=function lhe(t){return decodeURIComponent(escape(t))}(t)}catch{}const i=n?new URL(t,n):new URL(t);if(function the(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null}function pi(t,n,e,i=!1){return Object.defineProperty(t,n,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Zl=function(){function n(e,i){this.message=e,this.name=i}return n.prototype=new Error,n.constructor=n,n}();class cM extends Zl{constructor(n,e){super(n,"PasswordException"),this.code=e}}class dM extends Zl{constructor(n,e){super(n,"UnknownErrorException"),this.details=e}}class iF extends Zl{constructor(n){super(n,"InvalidPDFException")}}class g5 extends Zl{constructor(n){super(n,"MissingPDFException")}}class M6 extends Zl{constructor(n,e){super(n,"UnexpectedResponseException"),this.status=e}}class ihe extends Zl{constructor(n){super(n,"FormatError")}}class p5 extends Zl{constructor(n){super(n,"AbortException")}}function oF(t){("object"!=typeof t||void 0===t?.length)&&po("Invalid argument for bytesToString");const n=t.length,e=8192;if(n<e)return String.fromCharCode.apply(null,t);const i=[];for(let o=0;o<n;o+=e){const s=Math.min(o+e,n),r=t.subarray(o,s);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function D2(t){"string"!=typeof t&&po("Invalid argument for stringToBytes");const n=t.length,e=new Uint8Array(n);for(let i=0;i<n;++i)e[i]=255&t.charCodeAt(i);return e}function hM(t){const n=Object.create(null);for(const[e,i]of t)n[e]=i;return n}class Pr{static get isLittleEndian(){return pi(this,"isLittleEndian",function she(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return pi(this,"isEvalSupported",function rhe(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return pi(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&"string"==typeof navigator?.platform?pi(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:"string"==typeof navigator?.userAgent&&navigator.userAgent.includes("Firefox")}):pi(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return pi(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const T6=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class sn{static makeHexColor(n,e,i){return`#${T6[n]}${T6[e]}${T6[i]}`}static scaleMinMax(n,e){let i;n[0]?(n[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=n[0],e[2]*=n[0],n[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=n[3],e[3]*=n[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,n[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=n[1],e[3]*=n[1],n[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=n[2],e[2]*=n[2]),e[0]+=n[4],e[1]+=n[5],e[2]+=n[4],e[3]+=n[5]}static transform(n,e){return[n[0]*e[0]+n[2]*e[1],n[1]*e[0]+n[3]*e[1],n[0]*e[2]+n[2]*e[3],n[1]*e[2]+n[3]*e[3],n[0]*e[4]+n[2]*e[5]+n[4],n[1]*e[4]+n[3]*e[5]+n[5]]}static applyTransform(n,e){return[n[0]*e[0]+n[1]*e[2]+e[4],n[0]*e[1]+n[1]*e[3]+e[5]]}static applyInverseTransform(n,e){const i=e[0]*e[3]-e[1]*e[2];return[(n[0]*e[3]-n[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,(-n[0]*e[1]+n[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i]}static getAxialAlignedBoundingBox(n,e){const i=this.applyTransform(n,e),o=this.applyTransform(n.slice(2,4),e),s=this.applyTransform([n[0],n[3]],e),r=this.applyTransform([n[2],n[1]],e);return[Math.min(i[0],o[0],s[0],r[0]),Math.min(i[1],o[1],s[1],r[1]),Math.max(i[0],o[0],s[0],r[0]),Math.max(i[1],o[1],s[1],r[1])]}static inverseTransform(n){const e=n[0]*n[3]-n[1]*n[2];return[n[3]/e,-n[1]/e,-n[2]/e,n[0]/e,(n[2]*n[5]-n[4]*n[3])/e,(n[4]*n[1]-n[5]*n[0])/e]}static singularValueDecompose2dScale(n){const e=[n[0],n[2],n[1],n[3]],i=n[0]*e[0]+n[1]*e[2],r=n[2]*e[1]+n[3]*e[3],a=(i+r)/2,l=Math.sqrt((i+r)**2-4*(i*r-(n[2]*e[0]+n[3]*e[2])*(n[0]*e[1]+n[1]*e[3])))/2,h=a-l||1;return[Math.sqrt(a+l||1),Math.sqrt(h)]}static normalizeRect(n){const e=n.slice(0);return n[0]>n[2]&&(e[0]=n[2],e[2]=n[0]),n[1]>n[3]&&(e[1]=n[3],e[3]=n[1]),e}static intersect(n,e){const i=Math.max(Math.min(n[0],n[2]),Math.min(e[0],e[2])),o=Math.min(Math.max(n[0],n[2]),Math.max(e[0],e[2]));if(i>o)return null;const s=Math.max(Math.min(n[1],n[3]),Math.min(e[1],e[3])),r=Math.min(Math.max(n[1],n[3]),Math.max(e[1],e[3]));return s>r?null:[i,s,o,r]}static#e(n,e,i,o,s,r,a,l,c,h){if(c<=0||c>=1)return;const g=1-c,f=c*c,v=f*c,C=g*(g*(g*n+3*c*e)+3*f*i)+v*o,S=g*(g*(g*s+3*c*r)+3*f*a)+v*l;h[0]=Math.min(h[0],C),h[1]=Math.min(h[1],S),h[2]=Math.max(h[2],C),h[3]=Math.max(h[3],S)}static#t(n,e,i,o,s,r,a,l,c,h,g,f){if(Math.abs(c)<1e-12)return void(Math.abs(h)>=1e-12&&this.#e(n,e,i,o,s,r,a,l,-g/h,f));const v=h**2-4*g*c;if(v<0)return;const C=Math.sqrt(v),S=2*c;this.#e(n,e,i,o,s,r,a,l,(-h+C)/S,f),this.#e(n,e,i,o,s,r,a,l,(-h-C)/S,f)}static bezierBoundingBox(n,e,i,o,s,r,a,l,c){return c?(c[0]=Math.min(c[0],n,a),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],n,a),c[3]=Math.max(c[3],e,l)):c=[Math.min(n,a),Math.min(e,l),Math.max(n,a),Math.max(e,l)],this.#t(n,i,s,a,e,o,r,l,3*(3*(i-s)-n+a),6*(n-2*i+s),3*(i-n),c),this.#t(n,i,s,a,e,o,r,l,3*(3*(o-r)-e+l),6*(e-2*o+r),3*(o-e),c),c}}let uM=null,sF=null;function che(t){return uM||(uM=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,sF=new Map([["\ufb05","\u017ft"]])),t.replaceAll(uM,(n,e,i)=>e?e.normalize("NFKC"):sF.get(i))}const _M="pdfjs_internal_id_",K0="http://www.w3.org/2000/svg";class y2{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}function w6(t){return gM.apply(this,arguments)}function gM(){return(gM=je(function*(t,n="text"){if(G_(t,document.baseURI)){const e=yield fetch(t);if(!e.ok)throw new Error(e.statusText);switch(n){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType=n,o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){switch(n){case"arraybuffer":case"blob":case"json":return void e(o.response)}return void e(o.responseText)}i(new Error(o.statusText))}},o.send(null)})})).apply(this,arguments)}class H_{constructor({viewBox:n,scale:e,rotation:i,offsetX:o=0,offsetY:s=0,dontFlip:r=!1}){this.viewBox=n,this.scale=e,this.rotation=i,this.offsetX=o,this.offsetY=s;const a=(n[2]+n[0])/2,l=(n[3]+n[1])/2;let c,h,g,f,v,C,S,D;switch((i%=360)<0&&(i+=360),i){case 180:c=-1,h=0,g=0,f=1;break;case 90:c=0,h=1,g=1,f=0;break;case 270:c=0,h=-1,g=-1,f=0;break;case 0:c=1,h=0,g=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}r&&(g=-g,f=-f),0===c?(v=Math.abs(l-n[1])*e+o,C=Math.abs(a-n[0])*e+s,S=(n[3]-n[1])*e,D=(n[2]-n[0])*e):(v=Math.abs(a-n[0])*e+o,C=Math.abs(l-n[1])*e+s,S=(n[2]-n[0])*e,D=(n[3]-n[1])*e),this.transform=[c*e,h*e,g*e,f*e,v-c*e*a-g*e*l,C-h*e*a-f*e*l],this.width=S,this.height=D}get rawDims(){const{viewBox:n}=this;return pi(this,"rawDims",{pageWidth:n[2]-n[0],pageHeight:n[3]-n[1],pageX:n[0],pageY:n[1]})}clone({scale:n=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:o=this.offsetY,dontFlip:s=!1}={}){return new H_({viewBox:this.viewBox.slice(),scale:n,rotation:e,offsetX:i,offsetY:o,dontFlip:s})}convertToViewportPoint(n,e){return sn.applyTransform([n,e],this.transform)}convertToViewportRectangle(n){const e=sn.applyTransform([n[0],n[1]],this.transform),i=sn.applyTransform([n[2],n[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(n,e){return sn.applyInverseTransform([n,e],this.transform)}}class pM extends Zl{constructor(n,e=0){super(n,"RenderingCancelledException"),this.extraDelay=e}}function b6(t){const n=t.length;let e=0;for(;e<n&&""===t[e].trim();)e++;return"data:"===t.substring(e,e+5).toLowerCase()}function fM(t){return"string"==typeof t&&/\.pdf$/i.test(t)}function uhe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function _he(t,n="document.pdf"){if("string"!=typeof t)return n;if(b6(t))return qn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),n;const i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let s=i.exec(o[1])||i.exec(o[2])||i.exec(o[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||n}class rF{started=Object.create(null);times=[];time(n){n in this.started&&qn(`Timer is already running for ${n}`),this.started[n]=Date.now()}timeEnd(n){n in this.started||qn(`Timer has not been started for ${n}`),this.times.push({name:n,start:this.started[n],end:Date.now()}),delete this.started[n]}toString(){const n=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:o,end:s}of this.times)n.push(`${i.padEnd(e)} ${s-o}ms\n`);return n.join("")}}function G_(t,n){try{const{protocol:e}=n?new URL(t,n):new URL(t);return"http:"===e||"https:"===e}catch{return!1}}function l1(t){t.preventDefault()}function aF(t){console.log("Deprecated API usage: "+t)}class lF{static#e;static toDateObject(n){if(!n||"string"!=typeof n)return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#e.exec(n);if(!e)return null;const i=parseInt(e[1],10);let o=parseInt(e[2],10);o=o>=1&&o<=12?o-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let r=parseInt(e[4],10);r=r>=0&&r<=23?r:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,"-"===c?(r+=h,a+=g):"+"===c&&(r-=h,a-=g),new Date(Date.UTC(i,o,s,r,a,l))}}function ghe(t,{scale:n=1,rotation:e=0}){const{width:i,height:o}=t.attributes.style,s=[0,0,parseInt(i),parseInt(o)];return new H_({viewBox:s,scale:n,rotation:e})}function mM(t){if(t.startsWith("#")){const n=parseInt(t.slice(1),16);return[(16711680&n)>>16,(65280&n)>>8,255&n]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(n=>parseInt(n)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(n=>parseInt(n)).slice(0,3):(qn(`Not a valid color format: "${t}"`),[0,0,0])}function yo(t){const{a:n,b:e,c:i,d:o,e:s,f:r}=t.getTransform();return[n,e,i,o,s,r]}function q0(t){const{a:n,b:e,c:i,d:o,e:s,f:r}=t.getTransform().invertSelf();return[n,e,i,o,s,r]}function f5(t,n,e=!1,i=!0){if(n instanceof H_){const{pageWidth:o,pageHeight:s}=n.rawDims,{style:r}=t,a=Pr.isCSSRoundSupported,l=`var(--scale-factor) * ${o}px`,c=`var(--scale-factor) * ${s}px`,h=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,g=a?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;e&&n.rotation%180!=0?(r.width=g,r.height=h):(r.width=h,r.height=g)}i&&t.setAttribute("data-main-rotation",n.rotation)}class vM{constructor(){const n=window.devicePixelRatio||1;this.sx=n,this.sy=n}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}}class $_{#e=null;#t=null;#n;#i=null;#s=null;static#o=null;constructor(n){this.#n=n,$_.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){const n=this.#e=document.createElement("div");n.classList.add("editToolbar","hidden"),n.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;n.addEventListener("contextmenu",l1,{signal:e}),n.addEventListener("pointerdown",$_.#l,{signal:e});const i=this.#i=document.createElement("div");i.className="buttons",n.append(i);const o=this.#n.toolbarPosition;if(o){const{style:s}=n,r="ltr"===this.#n._uiManager.direction?1-o[0]:o[0];s.insetInlineEnd=100*r+"%",s.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`}return this.#h(),n}get div(){return this.#e}static#l(n){n.stopPropagation()}#c(n){this.#n._focusEventsAllowed=!1,n.preventDefault(),n.stopPropagation()}#d(n){this.#n._focusEventsAllowed=!0,n.preventDefault(),n.stopPropagation()}#a(n){const e=this.#n._uiManager._signal;n.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:e}),n.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:e}),n.addEventListener("contextmenu",l1,{signal:e})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown()}#h(){const{editorType:n,_uiManager:e}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",$_.#o[n]),this.#a(i),i.addEventListener("click",o=>{e.delete()},{signal:e._signal}),this.#i.append(i)}get#r(){const n=document.createElement("div");return n.className="divider",n}addAltText(n){var e=this;return je(function*(){const i=yield n.render();e.#a(i),e.#i.prepend(i,e.#r),e.#s=n})()}addColorPicker(n){this.#t=n;const e=n.renderButton();this.#a(e),this.#i.prepend(e,this.#r)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class fhe{#e=null;#t=null;#n;constructor(n){this.#n=n}#i(){const n=this.#t=document.createElement("div");n.className="editToolbar",n.setAttribute("role","toolbar"),n.addEventListener("contextmenu",l1,{signal:this.#n._signal});const e=this.#e=document.createElement("div");return e.className="buttons",n.append(e),this.#o(),n}#s(n,e){let i=0,o=0;for(const s of n){const r=s.y+s.height;if(r<i)continue;const a=s.x+(e?s.width:0);r>i?(o=a,i=r):e?a>o&&(o=a):a<o&&(o=a)}return[e?1-o:o,i]}show(n,e,i){const[o,s]=this.#s(e,i),{style:r}=this.#t||=this.#i();n.append(this.#t),r.insetInlineEnd=100*o+"%",r.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#o(){const n=document.createElement("button");n.className="highlightButton",n.tabIndex=0,n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");n.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=this.#n._signal;n.addEventListener("contextmenu",l1,{signal:i}),n.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#e.append(n)}}function S6(t,n,e){for(const i of e)n.addEventListener(i,t[i].bind(t))}class vhe{#e=0;get id(){return"pdfjs_internal_editor_"+this.#e++}}class CM{#e=function dhe(){if(typeof crypto<"u"&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(t);else for(let n=0;n<32;n++)t[n]=Math.floor(255*Math.random());return oF(t)}();#t=0;#n=null;static get _isSVGFittingCanvas(){const i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),o=new Image;return o.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',pi(this,"_isSVGFittingCanvas",o.decode().then(()=>(i.drawImage(o,0,0,1,1,0,0,1,3),0===new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0])))}#i(n,e){var i=this;return je(function*(){i.#n||=new Map;let o=i.#n.get(n);if(null===o)return null;if(o?.bitmap)return o.refCounter+=1,o;try{let s;if(o||={bitmap:null,id:`image_${i.#e}_${i.#t++}`,refCounter:0,isSvg:!1},"string"==typeof e?(o.url=e,s=yield w6(e,"blob")):e instanceof File?s=o.file=e:e instanceof Blob&&(s=e),"image/svg+xml"===s.type){const r=CM._isSVGFittingCanvas,a=new FileReader,l=new Image,c=new Promise((h,g)=>{l.onload=()=>{o.bitmap=l,o.isSvg=!0,h()},a.onload=je(function*(){const f=o.svgUrl=a.result;l.src=(yield r)?`${f}#svgView(preserveAspectRatio(none))`:f}),l.onerror=a.onerror=g});a.readAsDataURL(s),yield c}else o.bitmap=yield createImageBitmap(s);o.refCounter=1}catch(s){console.error(s),o=null}return i.#n.set(n,o),o&&i.#n.set(o.id,o),o})()}getFromFile(n){var e=this;return je(function*(){const{lastModified:i,name:o,size:s,type:r}=n;return e.#i(`${i}_${o}_${s}_${r}`,n)})()}getFromUrl(n){var e=this;return je(function*(){return e.#i(n,n)})()}getFromBlob(n,e){var i=this;return je(function*(){const o=yield e;return i.#i(n,o)})()}getFromId(n){var e=this;return je(function*(){e.#n||=new Map;const i=e.#n.get(n);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return e.getFromFile(i.file);if(i.blobPromise){const{blobPromise:o}=i;return delete i.blobPromise,e.getFromBlob(i.id,o)}return e.getFromUrl(i.url)})()}getFromCanvas(n,e){this.#n||=new Map;let i=this.#n.get(n);if(i?.bitmap)return i.refCounter+=1,i;const o=new OffscreenCanvas(e.width,e.height);return o.getContext("2d").drawImage(e,0,0),i={bitmap:o.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(n,i),this.#n.set(i.id,i),i}getSvgUrl(n){const e=this.#n.get(n);return e?.isSvg?e.svgUrl:null}deleteId(n){this.#n||=new Map;const e=this.#n.get(n);if(!e||(e.refCounter-=1,0!==e.refCounter))return;const{bitmap:i}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(i.width,i.height);o.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=o.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(n){return n.startsWith(`image_${this.#e}_`)}}class Che{#e=[];#t=!1;#n;#i=-1;constructor(n=128){this.#n=n}add({cmd:n,undo:e,post:i,mustExec:o,type:s=NaN,overwriteIfSameType:r=!1,keepUndo:a=!1}){if(o&&n(),this.#t)return;const l={cmd:n,undo:e,post:i,type:s};if(-1===this.#i)return this.#e.length>0&&(this.#e.length=0),this.#i=0,void this.#e.push(l);if(r&&this.#e[this.#i].type===s)return a&&(l.undo=this.#e[this.#i].undo),void(this.#e[this.#i]=l);const c=this.#i+1;c===this.#n?this.#e.splice(0,1):(this.#i=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(-1===this.#i)return;this.#t=!0;const{undo:n,post:e}=this.#e[this.#i];n(),e?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;const{cmd:n,post:e}=this.#e[this.#i];n(),e?.(),this.#t=!1}}hasSomethingToUndo(){return-1!==this.#i}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}class B_{constructor(n){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Pr.platform;for(const[i,o,s={}]of n)for(const r of i){const a=r.startsWith("mac+");e&&a?(this.callbacks.set(r.slice(4),{callback:o,options:s}),this.allKeys.add(r.split("+").at(-1))):!e&&!a&&(this.callbacks.set(r,{callback:o,options:s}),this.allKeys.add(r.split("+").at(-1)))}}#e(n){n.altKey&&this.buffer.push("alt"),n.ctrlKey&&this.buffer.push("ctrl"),n.metaKey&&this.buffer.push("meta"),n.shiftKey&&this.buffer.push("shift"),this.buffer.push(n.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(n,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#e(e));if(!i)return;const{callback:o,options:{bubbles:s=!1,args:r=[],checker:a=null}}=i;a&&!a(n,e)||(o.bind(n,...r,e)(),s||(e.stopPropagation(),e.preventDefault()))}}class MM{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const n=new Map([["CanvasText",null],["Canvas",null]]);return function phe(t){const n=document.createElement("span");n.style.visibility="hidden",document.body.append(n);for(const e of t.keys()){n.style.color=e;const i=window.getComputedStyle(n).color;t.set(e,mM(i))}n.remove()}(n),pi(this,"_colors",n)}convert(n){const e=mM(n);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,o]of this._colors)if(o.every((s,r)=>s===e[r]))return MM._colorsMapping.get(i);return e}getHexCode(n){const e=this._colors.get(n);return e?sn.makeHexColor(...e):n}}let U_=(()=>{class t{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#s=null;#o=null;#l=null;#c=new Che;#d=null;#a=0;#h=new Set;#r=null;#u=null;#g=new Set;#_=!1;#p=!1;#m=!1;#f=null;#v=null;#M=null;#b=null;#T=!1;#w=null;#y=new vhe;#A=!1;#S=!1;#N=null;#O=null;#P=null;#L=null;#E=jn.NONE;#C=new Set;#D=null;#I=null;#k=null;#G={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#F=null;#z=null;#V=null;#R=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=t.prototype,i=a=>a.#z.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&a.hasSomethingToControl(),o=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return"text"!==c&&"number"!==c}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return pi(this,"_keyboardManager",new B_([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:o}],[["ctrl+z","mac+meta+z"],e.undo,{checker:o}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:o}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:o}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#z.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#z.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:i}]]))}constructor(e,i,o,s,r,a,l,c,h,g,f){const v=this._signal=this.#e.signal;this.#z=e,this.#V=i,this.#s=o,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:v}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),s._on("setpreference",this.onSetPreference.bind(this),{signal:v}),s._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:v}),this.#ee(),this.#oe(),this.#W(),this.#o=r.annotationStorage,this.#f=r.filterFactory,this.#I=a,this.#b=l||null,this.#_=c,this.#p=h,this.#m=g,this.#L=f||null,this.viewParameters={realScale:y2.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#R?.resolve(),this.#R=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#i.values())e.destroy();this.#i.clear(),this.#n.clear(),this.#g.clear(),this.#t=null,this.#C.clear(),this.#c.destroy(),this.#s?.destroy(),this.#w?.hide(),this.#w=null,this.#v&&(clearTimeout(this.#v),this.#v=null),this.#F&&(clearTimeout(this.#F),this.#F=null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#L}get useNewAltTextFlow(){return this.#p}get useNewAltTextWhenAddingImage(){return this.#m}get hcmFilter(){return pi(this,"hcmFilter",this.#I?this.#f.addHCMFilter(this.#I.foreground,this.#I.background):"none")}get direction(){return pi(this,"direction",getComputedStyle(this.#z).direction)}get highlightColors(){return pi(this,"highlightColors",this.#b?new Map(this.#b.split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return pi(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){this.#P=e}editAltText(e,i=!1){this.#s?.editAltText(this,e,i)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){"enableNewAltTextWhenAddingImage"===e&&(this.#m=i)}onPageChanging({pageNumber:e}){this.#a=e-1}focusMainContainer(){this.#z.focus()}findParent(e,i){for(const o of this.#i.values()){const{x:s,y:r,width:a,height:l}=o.div.getBoundingClientRect();if(e>=s&&e<=s+a&&i>=r&&i<=r+l)return o}return null}disableUserSelect(e=!1){this.#V.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#g.add(e)}removeShouldRescale(e){this.#g.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*y2.PDF_TO_CSS_UNITS;for(const i of this.#g)i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#U({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#Z(e){const{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(const o of this.#i.values())if(o.hasTextLayer(e))return o;return null}highlightSelection(e=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:o,anchorOffset:s,focusNode:r,focusOffset:a}=i,l=i.toString(),h=this.#U(i).closest(".textLayer"),g=this.getSelectionBoxes(h);if(!g)return;i.empty();const f=this.#Z(h),v=this.#E===jn.NONE,C=()=>{f?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:o,anchorOffset:s,focusNode:r,focusOffset:a,text:l}),v&&this.showAllEditors("highlight",!0,!0)};v?this.switchToMode(jn.HIGHLIGHT,C):C()}#Q(){const e=document.getSelection();if(!e||e.isCollapsed)return;const o=this.#U(e).closest(".textLayer"),s=this.getSelectionBoxes(o);s&&(this.#w||=new fhe(this),this.#w.show(o,s,"ltr"===this.direction))}addToAnnotationStorage(e){!e.isEmpty()&&this.#o&&!this.#o.has(e.id)&&this.#o.setValue(e.id,e)}#J(){const e=document.getSelection();if(!e||e.isCollapsed)return void(this.#D&&(this.#w?.hide(),this.#D=null,this.#x({hasSelectedText:!1})));const{anchorNode:i}=e;if(i===this.#D)return;const s=this.#U(e).closest(".textLayer");if(s){if(this.#w?.hide(),this.#D=i,this.#x({hasSelectedText:!0}),(this.#E===jn.HIGHLIGHT||this.#E===jn.NONE)&&(this.#E===jn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#T=this.isShiftKeyDown,!this.isShiftKeyDown)){const r=this.#E===jn.HIGHLIGHT?this.#Z(s):null;r?.toggleDrawing();const a=new AbortController,l=this.combinedSignal(a),c=h=>{"pointerup"===h.type&&0!==h.button||(a.abort(),r?.toggleDrawing(!0),"pointerup"===h.type&&this.#j("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}}else this.#D&&(this.#w?.hide(),this.#D=null,this.#x({hasSelectedText:!1}))}#j(e=""){this.#E===jn.HIGHLIGHT?this.highlightSelection(e):this.#_&&this.#Q()}#ee(){document.addEventListener("selectionchange",this.#J.bind(this),{signal:this._signal})}#te(){if(this.#M)return;this.#M=new AbortController;const e=this.combinedSignal(this.#M);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ne(){this.#M?.abort(),this.#M=null}blur(){if(this.isShiftKeyDown=!1,this.#T&&(this.#T=!1,this.#j("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const i of this.#C)if(i.div.contains(e)){this.#O=[i,e],i._focusEventsAllowed=!1;break}}focus(){if(!this.#O)return;const[e,i]=this.#O;this.#O=null,i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}#W(){if(this.#N)return;this.#N=new AbortController;const e=this.combinedSignal(this.#N);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ie(){this.#N?.abort(),this.#N=null}#X(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#K(){this.#d?.abort(),this.#d=null}#oe(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#W(),this.#X()}removeEditListeners(){this.#ie(),this.#K()}dragOver(e){for(const{type:i}of e.dataTransfer.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(i))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const i of e.dataTransfer.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(i.type))return o.paste(i,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const i=[];for(const o of this.#C){const s=o.serialize(!0);s&&i.push(s)}0!==i.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}paste(e){var i=this;return je(function*(){e.preventDefault();const{clipboardData:o}=e;for(const a of o.items)for(const l of i.#u)if(l.isHandlingMimeForPasting(a.type))return void l.paste(a,i.currentLayer);let s=o.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(a){return void qn(`paste: "${a.message}".`)}if(!Array.isArray(s))return;i.unselectAll();const r=i.currentLayer;try{const a=[];for(const h of s){const g=yield r.deserialize(h);if(!g)return;a.push(g)}const l=()=>{for(const h of a)i.#q(h);i.#Y(a)};i.addCommands({cmd:l,undo:()=>{for(const h of a)h.remove()},mustExec:!0})}catch(a){qn(`paste: "${a.message}".`)}})()}keydown(e){!this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!0),this.#E!==jn.NONE&&!this.isEditorHandlingKeyboard&&t._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#T&&(this.#T=!1,this.#j("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#x(e){Object.entries(e).some(([o,s])=>this.#G[o]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#G,e)}),this.#E===jn.HIGHLIGHT&&!1===e.hasSelectedEditor&&this.#$([[Dn.HIGHLIGHT_FREE,!0]]))}#$(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#te(),this.#X(),this.#x({isEditing:this.#E!==jn.NONE,isEmpty:this.#B(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ne(),this.#K(),this.#x({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const i of this.#u)this.#$(i.defaultPropertiesToUpdate)}}getId(){return this.#y.id}get currentLayer(){return this.#i.get(this.#a)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#a}addLayer(e){this.#i.set(e.pageIndex,e),this.#A?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}updateMode(e){var i=this;return je(function*(o,s=null,r=!1){if(i.#E!==o&&(!i.#R||(yield i.#R.promise,i.#R))){if(i.#R=Promise.withResolvers(),i.#E=o,o===jn.NONE)return i.setEditingState(!1),i.#re(),void i.#R.resolve();i.setEditingState(!0),yield i.#se(),i.unselectAll();for(const a of i.#i.values())a.updateMode(o);if(!s)return r&&i.addNewEditorFromKeyboard(),void i.#R.resolve();for(const a of i.#n.values())a.annotationElementId===s?(i.setSelected(a),a.enterInEditMode()):a.unselect();i.#R.resolve()}}).apply(this,arguments)}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){if(this.#u){switch(e){case Dn.CREATE:return void this.currentLayer.addNewEditor();case Dn.HIGHLIGHT_DEFAULT_COLOR:this.#P?.updateColor(i);break;case Dn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#k||=new Map).set(e,i),this.showAllEditors("highlight",i)}for(const o of this.#C)o.updateParams(e,i);for(const o of this.#u)o.updateDefaultParams(e,i)}}showAllEditors(e,i,o=!1){for(const r of this.#n.values())r.editorType===e&&r.show(i);(this.#k?.get(Dn.HIGHLIGHT_SHOW_ALL)??!0)!==i&&this.#$([[Dn.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(this.#S!==e){this.#S=e;for(const i of this.#i.values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}#se(){var e=this;return je(function*(){if(!e.#A){e.#A=!0;const i=[];for(const o of e.#i.values())i.push(o.enable());yield Promise.all(i);for(const o of e.#n.values())o.enable()}})()}#re(){if(this.unselectAll(),this.#A){this.#A=!1;for(const e of this.#i.values())e.disable();for(const e of this.#n.values())e.disable()}}getEditors(e){const i=[];for(const o of this.#n.values())o.pageIndex===e&&i.push(o);return i}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.focusMainContainer(),this.#v=null},0)),this.#n.delete(e.id),this.unselect(e),(!e.annotationElementId||!this.#h.has(e.annotationElementId))&&this.#o?.remove(e.id)}addDeletedAnnotationElement(e){this.#h.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#h.has(e)}removeDeletedAnnotationElement(e){this.#h.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#q(e){const i=this.#i.get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#$(e.propertiesToUpdate))}get#ae(){let e=null;for(e of this.#C);return e}updateUI(e){this.#ae===e&&this.#$(e.propertiesToUpdate)}toggleSelected(e){if(this.#C.has(e))return this.#C.delete(e),e.unselect(),void this.#x({hasSelectedEditor:this.hasSelection});this.#C.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#x({hasSelectedEditor:!0})}setSelected(e){for(const i of this.#C)i!==e&&i.unselect();this.#C.clear(),this.#C.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#x({hasSelectedEditor:!0})}isSelected(e){return this.#C.has(e)}get firstSelectedEditor(){return this.#C.values().next().value}unselect(e){e.unselect(),this.#C.delete(e),this.#x({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#C.size}get isEnterHandled(){return 1===this.#C.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#x({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#B()})}redo(){this.#c.redo(),this.#x({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#B()})}addCommands(e){this.#c.add(e),this.#x({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#B()})}#B(){if(0===this.#n.size)return!0;if(1===this.#n.size)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#C];this.addCommands({cmd:()=>{for(const s of e)s.remove()},undo:()=>{for(const s of e)this.#q(s)},mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#Y(e){for(const i of this.#C)i.unselect();this.#C.clear();for(const i of e)i.isEmpty()||(this.#C.add(i),i.select());this.#x({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#C)e.commit();this.#Y(this.#n.values())}unselectAll(){if((!this.#t||(this.#t.commitOrRemove(),this.#E===jn.NONE))&&this.hasSelection){for(const e of this.#C)e.unselect();this.#C.clear(),this.#x({hasSelectedEditor:!1})}}translateSelectedEditors(e,i,o=!1){if(o||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=e,this.#H[1]+=i;const[s,r]=this.#H,a=[...this.#C];this.#F&&clearTimeout(this.#F),this.#F=setTimeout(()=>{this.#F=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const c of a)this.#n.has(c.id)&&c.translateInPage(s,r)},undo:()=>{for(const c of a)this.#n.has(c.id)&&c.translateInPage(-s,-r)},mustExec:!1})},1e3);for(const c of a)c.translateInPage(e,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#r=new Map;for(const e of this.#C)this.#r.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#r)return!1;this.disableUserSelect(!1);const e=this.#r;this.#r=null;let i=!1;for(const[{x:s,y:r,pageIndex:a},l]of e)l.newX=s,l.newY=r,l.newPageIndex=a,i||=s!==l.savedX||r!==l.savedY||a!==l.savedPageIndex;if(!i)return!1;const o=(s,r,a,l)=>{if(this.#n.has(s.id)){const c=this.#i.get(l);c?s._setParentAndPosition(c,r,a):(s.pageIndex=l,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:l}]of e)o(s,r,a,l)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:l}]of e)o(s,r,a,l)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(this.#r)for(const o of this.#r.keys())o.drag(e,i)}rebuild(e){if(null===e.parent){const i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#C.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#E}get imageManager(){return pi(this,"imageManager",new CM)}getSelectionBoxes(e){if(!e)return null;const i=document.getSelection();for(let h=0,g=i.rangeCount;h<g;h++)if(!e.contains(i.getRangeAt(h).commonAncestorContainer))return null;const{x:o,y:s,width:r,height:a}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(h,g,f,v)=>({x:(g-s)/a,y:1-(h+f-o)/r,width:v/a,height:f/r});break;case"180":l=(h,g,f,v)=>({x:1-(h+f-o)/r,y:1-(g+v-s)/a,width:f/r,height:v/a});break;case"270":l=(h,g,f,v)=>({x:1-(g+v-s)/a,y:(h-o)/r,width:v/a,height:f/r});break;default:l=(h,g,f,v)=>({x:(h-o)/r,y:(g-s)/a,width:f/r,height:v/a})}const c=[];for(let h=0,g=i.rangeCount;h<g;h++){const f=i.getRangeAt(h);if(!f.collapsed)for(const{x:v,y:C,width:S,height:D}of f.getClientRects())0===S||0===D||c.push(l(v,C,S,D))}return 0===c.length?null:c}addChangedExistingAnnotation({annotationElementId:e,id:i}){(this.#l||=new Map).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){this.#l?.delete(e)}renderAnnotationElement(e){const i=this.#l?.get(e.data.id);if(!i)return;const o=this.#o.getRawValue(i);o&&(this.#E===jn.NONE&&!o.hasBeenModified||o.renderAnnotationElement(e))}}return t})(),cF=(()=>{class t{#e=null;#t=!1;#n=null;#i=null;#s=null;#o=null;#l=!1;#c=null;#d=null;#a=null;#h=null;#r=!1;static#u=null;static _l10n=null;constructor(e){this.#d=e,this.#r=e._uiManager.useNewAltTextFlow,t.#u||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){t._l10n??=e}render(){var e=this;return je(function*(){const i=e.#n=document.createElement("button");i.className="altText",i.tabIndex="0";const o=e.#i=document.createElement("span");i.append(o),e.#r?(i.classList.add("new"),i.setAttribute("data-l10n-id",t.#u.missing),o.setAttribute("data-l10n-id",t.#u["missing-label"])):(i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),o.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=e.#d._uiManager._signal;i.addEventListener("contextmenu",l1,{signal:s}),i.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:s});const r=a=>{a.preventDefault(),e.#d._uiManager.editAltText(e.#d),e.#r&&e.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:e.#g}})};return i.addEventListener("click",r,{capture:!0,signal:s}),i.addEventListener("keydown",a=>{a.target===i&&"Enter"===a.key&&(e.#l=!0,r(a))},{signal:s}),yield e.#_(),i})()}get#g(){return(this.#e?"added":null===this.#e&&this.guessedText&&"review")||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#r?null===this.#e:!this.#e&&!this.#t}hasData(){return this.#r?null!==this.#e||!!this.#a:this.isEmpty()}get guessedText(){return this.#a}setGuessedText(e){var i=this;return je(function*(){null===i.#e&&(i.#a=e,i.#h=yield t._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),i.#_())})()}toggleAltTextBadge(e=!1){if(!this.#r||this.#e)return this.#c?.remove(),void(this.#c=null);if(!this.#c){const i=this.#c=document.createElement("div");i.className="noAltTextBadge",this.#d.div.append(i)}this.#c.classList.toggle("hidden",!e)}serialize(e){let i=this.#e;return!e&&this.#a===i&&(i=this.#h),{altText:i,decorative:this.#t,guessedText:this.#a,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:i,guessedText:o,textWithDisclaimer:s,cancel:r=!1}){o&&(this.#a=o,this.#h=s),(this.#e!==e||this.#t!==i)&&(r||(this.#e=e,this.#t=i),this.#_())}toggle(e=!1){this.#n&&(!e&&this.#o&&(clearTimeout(this.#o),this.#o=null),this.#n.disabled=!e)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s=null,this.#c?.remove(),this.#c=null}#_(){var e=this;return je(function*(){const i=e.#n;if(!i)return;if(e.#r){if(i.classList.toggle("done",!!e.#e),i.setAttribute("data-l10n-id",t.#u[e.#g]),e.#i?.setAttribute("data-l10n-id",t.#u[`${e.#g}-label`]),!e.#e)return void e.#s?.remove()}else{if(!e.#e&&!e.#t)return i.classList.remove("done"),void e.#s?.remove();i.classList.add("done"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let o=e.#s;if(!o){e.#s=o=document.createElement("span"),o.className="tooltip",o.setAttribute("role","tooltip"),o.id=`alt-text-tooltip-${e.#d.id}`;const r=100,a=e.#d._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(e.#o),e.#o=null},{once:!0}),i.addEventListener("mouseenter",()=>{e.#o=setTimeout(()=>{e.#o=null,e.#s.classList.add("show"),e.#d._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:a}),i.addEventListener("mouseleave",()=>{e.#o&&(clearTimeout(e.#o),e.#o=null),e.#s?.classList.remove("show")},{signal:a})}e.#t?o.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(o.removeAttribute("data-l10n-id"),o.textContent=e.#e),o.parentNode||i.append(o),e.#d.getImageForAltText()?.setAttribute("aria-describedby",o.id)})()}}return t})();class yn{#e=null;#t=null;#n=null;#i=!1;#s=!1;#o=null;#l=null;#c=null;#d="";#a=!1;#h=null;#r=!1;#u=!1;#g=!1;#_=null;#p=0;#m=0;#f=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#v=!1;#M=yn._zIndex++;static _borderLineWidth=-1;static _colorManager=new MM;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const n=yn.prototype._resizeWithKeyboard,e=U_.TRANSLATE_SMALL,i=U_.TRANSLATE_BIG;return pi(this,"_resizerKeyboardManager",new B_([[["ArrowLeft","mac+ArrowLeft"],n,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],n,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],n,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],n,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n,{args:[0,i]}],[["Escape","mac+Escape"],yn.prototype._stopResizingWithKeyboard]]))}constructor(n){this.parent=n.parent,this.id=n.id,this.width=this.height=null,this.pageIndex=n.parent.pageIndex,this.name=n.name,this.div=null,this._uiManager=n.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=n.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:o,pageX:s,pageY:r}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,o],this.pageTranslation=[s,r];const[a,l]=this.parentDimensions;this.x=n.x/a,this.y=n.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return pi(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(n){const e=new Mhe({id:n.parent.getNextId(),parent:n.parent,uiManager:n._uiManager});e.annotationElementId=n.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(n,e){if(yn._l10n??=n,yn._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),-1!==yn._borderLineWidth)return;const i=getComputedStyle(document.documentElement);yn._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(n,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(n){return!1}static paste(n,e){po("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#v}set _isDraggable(n){this.#v=n,this.div?.classList.toggle("draggable",n)}get isEnterHandled(){return!0}center(){const[n,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*n),this.y+=this.width*n/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*n),this.y-=this.width*n/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(n){this._uiManager.addCommands(n)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#M}setParent(n){null!==n?(this.pageIndex=n.pageIndex,this.pageDimensions=n.pageDimensions):this.#k(),this.parent=n}focusin(n){this._focusEventsAllowed&&(this.#a?this.#a=!1:this.parent.setSelected(this))}focusout(n){!this._focusEventsAllowed||!this.isAttachedToDOM||n.relatedTarget?.closest(`#${this.id}`)||(n.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(n,e,i,o){const[s,r]=this.parentDimensions;[i,o]=this.screenToPageTranslation(i,o),this.x=(n+i)/s,this.y=(e+o)/r,this.fixAndSetPosition()}#b([n,e],i,o){[i,o]=this.screenToPageTranslation(i,o),this.x+=i/n,this.y+=o/e,this.fixAndSetPosition()}translate(n,e){this.#b(this.parentDimensions,n,e)}translateInPage(n,e){this.#h||=[this.x,this.y],this.#b(this.pageDimensions,n,e),this.div.scrollIntoView({block:"nearest"})}drag(n,e){this.#h||=[this.x,this.y];const[i,o]=this.parentDimensions;if(this.x+=n/i,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:r}=this;const[a,l]=this.getBaseTranslation();s+=a,r+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*r).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#h&&(this.#h[0]!==this.x||this.#h[1]!==this.y)}getBaseTranslation(){const[n,e]=this.parentDimensions,{_borderLineWidth:i}=yn,o=i/n,s=i/e;switch(this.rotation){case 90:return[-o,s];case 180:return[o,s];case 270:return[o,-s];default:return[-o,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(n=this.rotation){const[e,i]=this.pageDimensions;let{x:o,y:s,width:r,height:a}=this;if(r*=e,a*=i,o*=e,s*=i,this._mustFixPosition)switch(n){case 0:o=Math.max(0,Math.min(e-r,o)),s=Math.max(0,Math.min(i-a,s));break;case 90:o=Math.max(0,Math.min(e-a,o)),s=Math.min(i,Math.max(r,s));break;case 180:o=Math.min(e,Math.max(r,o)),s=Math.min(i,Math.max(a,s));break;case 270:o=Math.min(e,Math.max(a,o)),s=Math.max(0,Math.min(i-r,s))}this.x=o/=e,this.y=s/=i;const[l,c]=this.getBaseTranslation();o+=l,s+=c;const{style:h}=this.div;h.left=`${(100*o).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#T(n,e,i){switch(i){case 90:return[e,-n];case 180:return[-n,-e];case 270:return[-e,n];default:return[n,e]}}screenToPageTranslation(n,e){return yn.#T(n,e,this.parentRotation)}pageTranslationToScreen(n,e){return yn.#T(n,e,360-this.parentRotation)}#w(n){switch(n){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:n,pageDimensions:[e,i]}=this;return[e*n,i*n]}setDims(n,e){const[i,o]=this.parentDimensions;this.div.style.width=`${(100*n/i).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*e/o).toFixed(2)}%`)}fixDims(){const{style:n}=this.div,{height:e,width:i}=n,o=i.endsWith("%"),s=!this.#s&&e.endsWith("%");if(o&&s)return;const[r,a]=this.parentDimensions;o||(n.width=`${(100*parseFloat(i)/r).toFixed(2)}%`),!this.#s&&!s&&(n.height=`${(100*parseFloat(e)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const n=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of n){const o=document.createElement("div");this.#o.append(o),o.classList.add("resizer",i),o.setAttribute("data-resizer-name",i),o.addEventListener("pointerdown",this.#A.bind(this,i),{signal:e}),o.addEventListener("contextmenu",l1,{signal:e}),o.tabIndex=-1}this.div.prepend(this.#o)}#A(n,e){e.preventDefault();const{isMac:i}=Pr.platform;if(0!==e.button||e.ctrlKey&&i)return;this.#n?.toggle(!1);const o=this._isDraggable;this._isDraggable=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#N.bind(this,n),{passive:!0,capture:!0,signal:r}),window.addEventListener("contextmenu",l1,{signal:r});const a=this.x,l=this.y,c=this.width,h=this.height,g=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const v=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=o,this.parent.div.style.cursor=g,this.div.style.cursor=f,this.#S(a,l,c,h)};window.addEventListener("pointerup",v,{signal:r}),window.addEventListener("blur",v,{signal:r})}#S(n,e,i,o){const s=this.x,r=this.y,a=this.width,l=this.height;s===n&&r===e&&a===i&&l===o||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=r;const[c,h]=this.parentDimensions;this.setDims(c*a,h*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=o,this.x=n,this.y=e;const[c,h]=this.parentDimensions;this.setDims(c*i,h*o),this.fixAndSetPosition()},mustExec:!0})}#N(n,e){const[i,o]=this.parentDimensions,s=this.x,r=this.y,a=this.width,l=this.height,c=yn.MIN_SIZE/i,h=yn.MIN_SIZE/o,g=We=>Math.round(1e4*We)/1e4,f=this.#w(this.rotation),v=(We,kt)=>[f[0]*We+f[2]*kt,f[1]*We+f[3]*kt],C=this.#w(360-this.rotation);let D,I,L=!1,G=!1;switch(n){case"topLeft":L=!0,D=(We,kt)=>[0,0],I=(We,kt)=>[We,kt];break;case"topMiddle":D=(We,kt)=>[We/2,0],I=(We,kt)=>[We/2,kt];break;case"topRight":L=!0,D=(We,kt)=>[We,0],I=(We,kt)=>[0,kt];break;case"middleRight":G=!0,D=(We,kt)=>[We,kt/2],I=(We,kt)=>[0,kt/2];break;case"bottomRight":L=!0,D=(We,kt)=>[We,kt],I=(We,kt)=>[0,0];break;case"bottomMiddle":D=(We,kt)=>[We/2,kt],I=(We,kt)=>[We/2,0];break;case"bottomLeft":L=!0,D=(We,kt)=>[0,kt],I=(We,kt)=>[We,0];break;case"middleLeft":G=!0,D=(We,kt)=>[0,kt/2],I=(We,kt)=>[We,kt/2]}const R=D(a,l),J=I(a,l);let se=v(...J);const ve=g(s+se[0]),pe=g(r+se[1]);let le=1,fe=1,[ke,Dt]=this.screenToPageTranslation(e.movementX,e.movementY);if([ke,Dt]=[C[0]*(We=ke/i)+C[2]*(kt=Dt/o),C[1]*We+C[3]*kt],L){const We=Math.hypot(a,l);le=fe=Math.max(Math.min(Math.hypot(J[0]-R[0]-ke,J[1]-R[1]-Dt)/We,1/a,1/l),c/a,h/l)}else G?le=Math.max(c,Math.min(1,Math.abs(J[0]-R[0]-ke)))/a:fe=Math.max(h,Math.min(1,Math.abs(J[1]-R[1]-Dt)))/l;var We,kt;const it=g(a*le),Ft=g(l*fe);se=v(...I(it,Ft));const Yt=ve-se[0],Qt=pe-se[1];this.width=it,this.height=Ft,this.x=Yt,this.y=Qt,this.setDims(i*it,o*Ft),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}addEditToolbar(){var n=this;return je(function*(){return n._editToolbar||n.#u||(n._editToolbar=new $_(n),n.div.append(n._editToolbar.render()),n.#n&&(yield n._editToolbar.addAltText(n.#n))),n._editToolbar})()}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(n){const e=this._editToolbar?.div;e?e.before(n):this.div.append(n)}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){var n=this;return je(function*(){n.#n||(cF.initialize(yn._l10n),n.#n=new cF(n),n.#e&&(n.#n.data=n.#e,n.#e=null),yield n.addEditToolbar())})()}get altTextData(){return this.#n?.data}set altTextData(n){this.#n&&(this.#n.data=n)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(n){var e=this;return je(function*(){yield e.#n?.setGuessedText(n)})()}serializeAltText(n){return this.#n?.serialize(n)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#i?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#L();const[n,e]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*e/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/e).toFixed(2)}%`);const[i,o]=this.getInitialTranslation();return this.translate(i,o),S6(this,this.div,["pointerdown"]),this.div}pointerdown(n){const{isMac:e}=Pr.platform;0!==n.button||n.ctrlKey&&e?n.preventDefault():(this.#a=!0,this._isDraggable?this.#P(n):this.#O(n))}get isSelected(){return this._uiManager.isSelected(this)}#O(n){const{isMac:e}=Pr.platform;n.ctrlKey&&!e||n.shiftKey||n.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#P(n){const{isSelected:e}=this;this._uiManager.setUpDragSession();const i=new AbortController,o=this._uiManager.combinedSignal(i);e&&(this.div.classList.add("moving"),this.#p=n.clientX,this.#m=n.clientY,window.addEventListener("pointermove",a=>{const{clientX:l,clientY:c}=a,[h,g]=this.screenToPageTranslation(l-this.#p,c-this.#m);this.#p=l,this.#m=c,this._uiManager.dragSelectedEditors(h,g)},{passive:!0,capture:!0,signal:o}));const s=()=>{i.abort(),e&&this.div.classList.remove("moving"),this.#a=!1,this._uiManager.endDragSession()||this.#O(n)};window.addEventListener("pointerup",s,{signal:o}),window.addEventListener("blur",s,{signal:o})}moveInDOM(){this.#_&&clearTimeout(this.#_),this.#_=setTimeout(()=>{this.#_=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(n,e,i){n.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition()}getRect(n,e,i=this.rotation){const o=this.parentScale,[s,r]=this.pageDimensions,[a,l]=this.pageTranslation,c=n/o,h=e/o,g=this.x*s,f=this.y*r,v=this.width*s,C=this.height*r;switch(i){case 0:return[g+c+a,r-f-h-C+l,g+c+v+a,r-f-h+l];case 90:return[g+h+a,r-f+c+l,g+h+C+a,r-f+c+v+l];case 180:return[g-c-v+a,r-f+h+l,g-c+a,r-f+h+C+l];case 270:return[g-h-C+a,r-f-c-v+l,g-h+a,r-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(n,e){const[i,o,s,r]=n,a=s-i,l=r-o;switch(this.rotation){case 0:return[i,e-r,a,l];case 90:return[i,e-o,l,a];case 180:return[s,e-o,a,l];case 270:return[s,e-r,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#u=!0}disableEditMode(){this.#u=!1}isInEditMode(){return this.#u}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#L(){if(this.#c||!this.div)return;this.#c=new AbortController;const n=this._uiManager.combinedSignal(this.#c);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:n}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:n})}rebuild(){this.#L()}rotate(n){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(n=!1,e=null){po("An editor must be serializable")}static deserialize(n,e,i){var o=this;return je(function*(){const s=new o.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});s.rotation=n.rotation,s.#e=n.accessibilityData;const[r,a]=s.pageDimensions,[l,c,h,g]=s.getRectInCurrentCoords(n.rect,a);return s.x=l/r,s.y=c/a,s.width=h/r,s.height=g/a,s})()}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.#c?.abort(),this.#c=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#_&&(clearTimeout(this.#_),this.#_=null),this.#k(),this.removeEditToolbar(),this.#f){for(const n of this.#f.values())clearTimeout(n);this.#f=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#o.classList.remove("hidden"),S6(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(n){if(!this.isResizable||n.target!==this.div||"Enter"!==n.key)return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#o.children;if(!this.#t){this.#t=Array.from(e);const r=this.#E.bind(this),a=this.#C.bind(this),l=this._uiManager._signal;for(const c of this.#t){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",r,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",this.#D.bind(this,h),{signal:l}),c.setAttribute("data-l10n-id",yn._l10nResizer[h])}}const i=this.#t[0];let o=0;for(const r of e){if(r===i)break;o++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==o){if(s<o)for(let a=0;a<o-s;a++)this.#o.append(this.#o.firstChild);else if(s>o)for(let a=0;a<s-o;a++)this.#o.firstChild.before(this.#o.lastChild);let r=0;for(const a of e){const c=this.#t[r++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",yn._l10nResizer[c])}}this.#I(0),this.#g=!0,this.#o.firstChild.focus({focusVisible:!0}),n.preventDefault(),n.stopImmediatePropagation()}#E(n){yn._resizerKeyboardManager.exec(this,n)}#C(n){this.#g&&n.relatedTarget?.parentNode!==this.#o&&this.#k()}#D(n){this.#d=this.#g?n:""}#I(n){if(this.#t)for(const e of this.#t)e.tabIndex=n}_resizeWithKeyboard(n,e){this.#g&&this.#N(this.#d,{movementX:n,movementY:e})}#k(){if(this.#g=!1,this.#I(-1),this.#l){const{savedX:n,savedY:e,savedWidth:i,savedHeight:o}=this.#l;this.#S(n,e,i,o),this.#l=null}}_stopResizingWithKeyboard(){this.#k(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this._editToolbar?(this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()})}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(n,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#r}set isEditing(n){this.#r=n,this.parent&&(n?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(n,e){this.#s=!0;const i=n/e,{style:o}=this.div;o.aspectRatio=i,o.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(n,e=!1){if(e){this.#f||=new Map;const{action:i}=n;let o=this.#f.get(i);return o&&clearTimeout(o),o=setTimeout(()=>{this._reportTelemetry(n),this.#f.delete(i),0===this.#f.size&&(this.#f=null)},yn._telemetryTimeout),void this.#f.set(i,o)}n.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:n}})}show(n=this._isVisible){this.div.classList.toggle("hidden",!n),this._isVisible=n}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(n){let e=n.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.container.prepend(e);return e}resetAnnotationElement(n){const{firstChild:e}=n.container;"DIV"===e?.nodeName&&e.classList.contains("annotationContent")&&e.remove()}}class Mhe extends yn{constructor(n){super(n),this.annotationElementId=n.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const dF=3285377520,c1=4294901760,c0=65535;class hF{constructor(n){this.h1=n?4294967295&n:dF,this.h2=n?4294967295&n:dF}update(n){let e,i;if("string"==typeof n){e=new Uint8Array(2*n.length),i=0;for(let S=0,D=n.length;S<D;S++){const I=n.charCodeAt(S);I<=255?e[i++]=I:(e[i++]=I>>>8,e[i++]=255&I)}}else{if(!ArrayBuffer.isView(n))throw new Error("Invalid data format, must be a string or TypedArray.");e=n.slice(),i=e.byteLength}const o=i>>2,s=i-4*o,r=new Uint32Array(e.buffer,0,o);let a=0,l=0,c=this.h1,h=this.h2;const g=3432918353,f=461845907,v=g&c0,C=f&c0;for(let S=0;S<o;S++)1&S?(a=r[S],a=a*g&c1|a*v&c0,a=a<<15|a>>>17,a=a*f&c1|a*C&c0,c^=a,c=c<<13|c>>>19,c=5*c+3864292196):(l=r[S],l=l*g&c1|l*v&c0,l=l<<15|l>>>17,l=l*f&c1|l*C&c0,h^=l,h=h<<13|h>>>19,h=5*h+3864292196);switch(a=0,s){case 3:a^=e[4*o+2]<<16;case 2:a^=e[4*o+1]<<8;case 1:a^=e[4*o],a=a*g&c1|a*v&c0,a=a<<15|a>>>17,a=a*f&c1|a*C&c0,1&o?c^=a:h^=a}this.h1=c,this.h2=h}hexdigest(){let n=this.h1,e=this.h2;return n^=e>>>1,n=3981806797*n&c1|36045*n&c0,e=4283543511*e&c1|(2950163797*(e<<16|n>>>16)&c1)>>>16,n^=e>>>1,n=444984403*n&c1|60499*n&c0,e=3301882366*e&c1|(3120437893*(e<<16|n>>>16)&c1)>>>16,n^=e>>>1,(n>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const TM=Object.freeze({map:null,hash:"",transfer:void 0});class wM{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(n,e){const i=this.#n.get(n);return void 0===i?e:Object.assign(e,i)}getRawValue(n){return this.#n.get(n)}remove(n){if(this.#n.delete(n),0===this.#n.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const e of this.#n.values())if(e instanceof yn)return;this.onAnnotationEditor(null)}}setValue(n,e){const i=this.#n.get(n);let o=!1;if(void 0!==i)for(const[s,r]of Object.entries(e))i[s]!==r&&(o=!0,i[s]=r);else o=!0,this.#n.set(n,e);o&&this.#i(),e instanceof yn&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(n){return this.#n.has(n)}getAll(){return this.#n.size>0?hM(this.#n):null}setAll(n){for(const[e,i]of Object.entries(n))this.setValue(e,i)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new uF(this)}get serializable(){if(0===this.#n.size)return TM;const n=new Map,e=new hF,i=[],o=Object.create(null);let s=!1;for(const[r,a]of this.#n){const l=a instanceof yn?a.serialize(!1,o):a;l&&(n.set(r,l),e.update(`${r}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const r of n.values())r.bitmap&&i.push(r.bitmap);return n.size>0?{map:n,hash:e.hexdigest(),transfer:i}:TM}get editorStats(){let n=null;const e=new Map;for(const i of this.#n.values()){if(!(i instanceof yn))continue;const o=i.telemetryFinalData;if(!o)continue;const{type:s}=o;e.has(s)||e.set(s,Object.getPrototypeOf(i).constructor),n||=Object.create(null);const r=n[s]||=new Map;for(const[a,l]of Object.entries(o)){if("type"===a)continue;let c=r.get(a);c||(c=new Map,r.set(a,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[i,o]of e)n[i]=o.computeTelemetryFinalData(n[i]);return n}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const n=[];for(const e of this.#n.values())!(e instanceof yn)||!e.annotationElementId||!e.serialize()||n.push(e.annotationElementId);return this.#t={ids:new Set(n),hash:n.join(",")}}}class uF extends wM{#e;constructor(n){super();const{map:e,hash:i,transfer:o}=n.serializable,s=structuredClone(e,o?{transfer:o}:null);this.#e={map:s,hash:i,transfer:o}}get print(){po("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return pi(this,"modifiedIds",{ids:new Set,hash:""})}}class The{#e=new Set;constructor({ownerDocument:n=globalThis.document,styleElement:e=null}){this._document=n,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(n){this.nativeFontFaces.add(n),this._document.fonts.add(n)}removeNativeFontFace(n){this.nativeFontFaces.delete(n),this._document.fonts.delete(n)}insertRule(n){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(n,e.cssRules.length)}clear(){for(const n of this.nativeFontFaces)this._document.fonts.delete(n);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(n){var e=this;return je(function*({systemFontInfo:i,_inspectFont:o}){if(i&&!e.#e.has(i.loadedName)){if(Os(!e.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),e.isFontLoadingAPISupported){const{loadedName:s,src:r,style:a}=i,l=new FontFace(s,r,a);e.addNativeFontFace(l);try{yield l.load(),e.#e.add(s),o?.(i)}catch{qn(`Cannot load system font: ${i.baseFontName}, installing it could help to improve PDF rendering.`),e.removeNativeFontFace(l)}return}po("Not implemented: loadSystemFont without the Font Loading API.")}}).apply(this,arguments)}bind(n){var e=this;return je(function*(){if(n.attached||n.missingFile&&!n.systemFontInfo)return;if(n.attached=!0,n.systemFontInfo)return void(yield e.loadSystemFont(n));if(e.isFontLoadingAPISupported){const o=n.createNativeFontFace();if(o){e.addNativeFontFace(o);try{yield o.loaded}catch(s){throw qn(`Failed to load font '${o.family}': '${s}'.`),n.disableFontFace=!0,s}}return}const i=n.createFontFaceRule();if(i){if(e.insertRule(i),e.isSyncFontLoadingSupported)return;yield new Promise(o=>{const s=e._queueLoadingCallback(o);e._prepareFontLoadEvent(n,s)})}})()}get isFontLoadingAPISupported(){return pi(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let n=!1;return(ar||typeof navigator<"u"&&"string"==typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(n=!0),pi(this,"isSyncFontLoadingSupported",n)}_queueLoadingCallback(n){const{loadingRequests:i}=this,o={done:!1,complete:function e(){for(Os(!o.done,"completeRequest() cannot be called twice."),o.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}},callback:n};return i.push(o),o}get _loadTestFont(){return pi(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(n,e){function i(R,J){return R.charCodeAt(J)<<24|R.charCodeAt(J+1)<<16|R.charCodeAt(J+2)<<8|255&R.charCodeAt(J+3)}function o(R,J,se,ve){return R.substring(0,J)+ve+R.substring(J+se)}let s,r;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;const g=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=o(f,976,g.length,g);const S=1482184792;let D=i(f,16);for(s=0,r=g.length-3;s<r;s+=4)D=D-S+i(g,s)|0;s<g.length&&(D=D-S+i(g+"XXX",s)|0),f=o(f,16,4,function ohe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}(D));const I=`url(data:font/opentype;base64,${btoa(f)});`;this.insertRule(`@font-face {font-family:"${g}";src:${I}}`);const G=this._document.createElement("div");G.style.visibility="hidden",G.style.width=G.style.height="10px",G.style.position="absolute",G.style.top=G.style.left="0px";for(const R of[n.loadedName,g]){const J=this._document.createElement("span");J.textContent="Hi",J.style.fontFamily=R,G.append(J)}this._document.body.append(G),function h(R,J){if(++c>30)return qn("Load test font never loaded."),void J();l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?J():setTimeout(h.bind(null,R,J))}(g,()=>{G.remove(),e.complete()})}}class whe{constructor(n,{disableFontFace:e=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const o in n)this[o]=n[o];this.disableFontFace=!0===e,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let n;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),n=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else n=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),n}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const n=`url(data:${this.mimetype};base64,${function hhe(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(oF(t))}(this.data)});`;let e;if(this.cssFontInfo){let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${n}}`}else e=`@font-face {font-family:"${this.loadedName}";src:${n}}`;return this._inspectFont?.(this,n),e}getPathGenerator(n,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let i;try{i=n.get(this.loadedName+"_path_"+e)}catch(s){qn(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||0===i.length)return this.compiledGlyphs[e]=function(s,r){};const o=[];for(let s=0,r=i.length;s<r;)switch(i[s++]){case 0:{const[a,l,c,h,g,f]=i.slice(s,s+6);o.push(v=>v.bezierCurveTo(a,l,c,h,g,f)),s+=6}break;case 1:{const[a,l]=i.slice(s,s+2);o.push(c=>c.moveTo(a,l)),s+=2}break;case 2:{const[a,l]=i.slice(s,s+2);o.push(c=>c.lineTo(a,l)),s+=2}break;case 3:{const[a,l,c,h]=i.slice(s,s+4);o.push(g=>g.quadraticCurveTo(a,l,c,h)),s+=4}break;case 4:o.push(a=>a.restore());break;case 5:o.push(a=>a.save());break;case 6:Os(2===o.length,"Scale command is only valid at the third position.");break;case 7:{const[a,l,c,h,g,f]=i.slice(s,s+6);o.push(v=>v.transform(a,l,c,h,g,f)),s+=6}break;case 8:{const[a,l]=i.slice(s,s+2);o.push(c=>c.translate(a,l)),s+=2}}return this.compiledGlyphs[e]=function(r,a){o[0](r),o[1](r),r.scale(a,-a);for(let l=2,c=o.length;l<c;l++)o[l](r)}}}class _F{#e=!1;constructor({enableHWA:n=!1}){this.#e=n}create(n,e){if(n<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(n,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(n,e,i){if(!n.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");n.canvas.width=e,n.canvas.height=i}destroy(n){if(!n.canvas)throw new Error("Canvas is not specified");n.canvas.width=0,n.canvas.height=0,n.canvas=null,n.context=null}_createCanvas(n,e){po("Abstract method `_createCanvas` called.")}}class gF{constructor({baseUrl:n=null,isCompressed:e=!0}){this.baseUrl=n,this.isCompressed=e}fetch(n){var e=this;return je(function*({name:i}){if(!e.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!i)throw new Error("CMap name must be specified.");const o=e.baseUrl+i+(e.isCompressed?".bcmap":"");return e._fetch(o).then(s=>({cMapData:s,isCompressed:e.isCompressed})).catch(s=>{throw new Error(`Unable to load ${e.isCompressed?"binary ":""}CMap at: ${o}`)})}).apply(this,arguments)}_fetch(n){return je(function*(){po("Abstract method `_fetch` called.")})()}}class pF extends gF{_fetch(n){var e=this;return je(function*(){const i=yield w6(n,e.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):D2(i)})()}}class fF{addFilter(n){return"none"}addHCMFilter(n,e){return"none"}addAlphaFilter(n){return"none"}addLuminosityFilter(n){return"none"}addHighlightHCMFilter(n,e,i,o,s){return"none"}destroy(n=!1){}}class mF{constructor({baseUrl:n=null}){this.baseUrl=n}fetch(n){var e=this;return je(function*({filename:i}){if(!e.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!i)throw new Error("Font filename must be specified.");const o=`${e.baseUrl}${i}`;return e._fetch(o).catch(s=>{throw new Error(`Unable to load font data at: ${o}`)})}).apply(this,arguments)}_fetch(n){return je(function*(){po("Abstract method `_fetch` called.")})()}}class vF extends mF{_fetch(n){return je(function*(){const e=yield w6(n,"arraybuffer");return new Uint8Array(e)})()}}if(ar){var bM=Promise.withResolvers(),SM=null;(function(){var n=je(function*(){const e=yield import("fs"),i=yield import("http"),o=yield import("https"),s=yield import("url");return new Map(Object.entries({fs:e,http:i,https:o,url:s,canvas:void 0,path2d:void 0}))});return function(){return n.apply(this,arguments)}})()().then(n=>{SM=n,bM.resolve()},n=>{qn(`loadPackages: ${n}`),SM=new Map,bM.resolve()})}class Wl{static get promise(){return bM.promise}static get(n){return SM?.get(n)}}function CF(t){return EM.apply(this,arguments)}function EM(){return(EM=je(function*(t){const e=yield Wl.get("fs").promises.readFile(t);return new Uint8Array(e)})).apply(this,arguments)}function OM(t,n){if(!n)return;const e=n[2]-n[0],i=n[3]-n[1],o=new Path2D;o.rect(n[0],n[1],e,i),t.clip(o)}class AM{getPattern(){po("Abstract method `getPattern` called.")}}class Dhe extends AM{constructor(n){super(),this._type=n[1],this._bbox=n[2],this._colorStops=n[3],this._p0=n[4],this._p1=n[5],this._r0=n[6],this._r1=n[7],this.matrix=null}_createGradient(n){let e;"axial"===this._type?e=n.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=n.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(n,e,i,o){let s;if("Stroke"===o||"Fill"===o){const r=e.current.getClippedPathBoundingBox(o,yo(n))||[0,0,0,0],a=Math.ceil(r[2]-r[0])||1,l=Math.ceil(r[3]-r[1])||1,c=e.cachedCanvases.getCanvas("pattern",a,l),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-r[0],-r[1]),i=sn.transform(i,[1,0,0,1,r[0],r[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),OM(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=n.createPattern(c.canvas,"no-repeat");const g=new DOMMatrix(i);s.setTransform(g)}else OM(n,this._bbox),s=this._createGradient(n);return s}}function NM(t,n,e,i,o,s,r,a){const l=n.coords,c=n.colors,h=t.data,g=4*t.width;let f;l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=s,s=r,r=f),l[i+1]>l[o+1]&&(f=i,i=o,o=f,f=r,r=a,a=f),l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=s,s=r,r=f);const v=(l[e]+n.offsetX)*n.scaleX,C=(l[e+1]+n.offsetY)*n.scaleY,S=(l[i]+n.offsetX)*n.scaleX,D=(l[i+1]+n.offsetY)*n.scaleY,I=(l[o]+n.offsetX)*n.scaleX,L=(l[o+1]+n.offsetY)*n.scaleY;if(C>=L)return;const G=c[s],R=c[s+1],J=c[s+2],se=c[r],ve=c[r+1],pe=c[r+2],le=c[a],fe=c[a+1],ke=c[a+2],Dt=Math.round(C),it=Math.round(L);let Ft,Yt,Qt,We,kt,ri,Si,ai;for(let et=Dt;et<=it;et++){if(et<D){const wt=et<C?0:(C-et)/(C-D);Ft=v-(v-S)*wt,Yt=G-(G-se)*wt,Qt=R-(R-ve)*wt,We=J-(J-pe)*wt}else{let wt;wt=et>L?1:D===L?0:(D-et)/(D-L),Ft=S-(S-I)*wt,Yt=se-(se-le)*wt,Qt=ve-(ve-fe)*wt,We=pe-(pe-ke)*wt}let Yn;Yn=et<C?0:et>L?1:(C-et)/(C-L),kt=v-(v-I)*Yn,ri=G-(G-le)*Yn,Si=R-(R-fe)*Yn,ai=J-(J-ke)*Yn;const Yi=Math.round(Math.min(Ft,kt)),Hi=Math.round(Math.max(Ft,kt));let Ei=g*et+4*Yi;for(let wt=Yi;wt<=Hi;wt++)Yn=(Ft-wt)/(Ft-kt),Yn<0?Yn=0:Yn>1&&(Yn=1),h[Ei++]=Yt-(Yt-ri)*Yn|0,h[Ei++]=Qt-(Qt-Si)*Yn|0,h[Ei++]=We-(We-ai)*Yn|0,h[Ei++]=255}}function yhe(t,n,e){const i=n.coords,o=n.colors;let s,r;switch(n.type){case"lattice":const a=n.verticesPerRow,l=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<l;s++){let h=s*a;for(let g=0;g<c;g++,h++)NM(t,e,i[h],i[h+1],i[h+a],o[h],o[h+1],o[h+a]),NM(t,e,i[h+a+1],i[h+1],i[h+a],o[h+a+1],o[h+1],o[h+a])}break;case"triangles":for(s=0,r=i.length;s<r;s+=3)NM(t,e,i[s],i[s+1],i[s+2],o[s],o[s+1],o[s+2]);break;default:throw new Error("illegal figure")}}class Phe extends AM{constructor(n){super(),this._coords=n[2],this._colors=n[3],this._figures=n[4],this._bounds=n[5],this._bbox=n[7],this._background=n[8],this.matrix=null}_createMeshCanvas(n,e,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,g=Math.min(Math.ceil(Math.abs(c*n[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*n[1]*1.1)),3e3),v=c/g,C=h/f,S={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/v,scaleY:1/C},L=i.getCanvas("mesh",g+4,f+4),G=L.context,R=G.createImageData(g,f);if(e){const se=R.data;for(let ve=0,pe=se.length;ve<pe;ve+=4)se[ve]=e[0],se[ve+1]=e[1],se[ve+2]=e[2],se[ve+3]=255}for(const se of this._figures)yhe(R,se,S);return G.putImageData(R,2,2),{canvas:L.canvas,offsetX:a-2*v,offsetY:l-2*C,scaleX:v,scaleY:C}}getPattern(n,e,i,o){let s;if(OM(n,this._bbox),"Shading"===o)s=sn.singularValueDecompose2dScale(yo(n));else if(s=sn.singularValueDecompose2dScale(e.baseTransform),this.matrix){const a=sn.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const r=this._createMeshCanvas(s,"Shading"===o?null:this._background,e.cachedCanvases);return"Shading"!==o&&(n.setTransform(...e.baseTransform),this.matrix&&n.transform(...this.matrix)),n.translate(r.offsetX,r.offsetY),n.scale(r.scaleX,r.scaleY),n.createPattern(r.canvas,"no-repeat")}}class Ihe extends AM{getPattern(){return"hotpink"}}let Rhe=(()=>{class t{static MAX_PATTERN_SIZE=3e3;constructor(e,i,o,s,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=i,this.ctx=o,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(e){const{bbox:i,operatorList:o,paintType:s,tilingType:r,color:a,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:h}=this;c=Math.abs(c),h=Math.abs(h),C6("TilingType: "+r);const g=i[0],f=i[1],v=i[2],C=i[3],S=v-g,D=C-f,I=sn.singularValueDecompose2dScale(this.matrix),L=sn.singularValueDecompose2dScale(this.baseTransform),G=I[0]*L[0],R=I[1]*L[1];let J=S,se=D,ve=!1,pe=!1;const le=Math.ceil(c*G),fe=Math.ceil(h*R);le>=Math.ceil(S*G)?J=c:ve=!0,fe>=Math.ceil(D*R)?se=h:pe=!0;const it=this.getSizeAndScale(J,this.ctx.canvas.width,G),Ft=this.getSizeAndScale(se,this.ctx.canvas.height,R),Yt=e.cachedCanvases.getCanvas("pattern",it.size,Ft.size),Qt=Yt.context,We=l.createCanvasGraphics(Qt);if(We.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(We,s,a),Qt.translate(-it.scale*g,-Ft.scale*f),We.transform(it.scale,0,0,Ft.scale,0,0),Qt.save(),this.clipBbox(We,g,f,v,C),We.baseTransform=yo(We.ctx),We.executeOperatorList(o),We.endDrawing(),Qt.restore(),ve||pe){const kt=Yt.canvas;ve&&(J=c),pe&&(se=h);const ri=this.getSizeAndScale(J,this.ctx.canvas.width,G),Si=this.getSizeAndScale(se,this.ctx.canvas.height,R),ai=ri.size,et=Si.size,Yn=e.cachedCanvases.getCanvas("pattern-workaround",ai,et),Yi=Yn.context,Hi=ve?Math.floor(S/c):0,Ei=pe?Math.floor(D/h):0;for(let wt=0;wt<=Hi;wt++)for(let Gi=0;Gi<=Ei;Gi++)Yi.drawImage(kt,ai*wt,et*Gi,ai,et,0,0,ai,et);return{canvas:Yn.canvas,scaleX:ri.scale,scaleY:Si.scale,offsetX:g,offsetY:f}}return{canvas:Yt.canvas,scaleX:it.scale,scaleY:Ft.scale,offsetX:g,offsetY:f}}getSizeAndScale(e,i,o){const s=Math.max(t.MAX_PATTERN_SIZE,i);let r=Math.ceil(e*o);return r>=s?r=s:o=r/e,{scale:o,size:r}}clipBbox(e,i,o,s,r){e.ctx.rect(i,o,s-i,r-o),e.current.updateRectMinMax(yo(e.ctx),[i,o,s,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,o){const s=e.ctx,r=e.current;switch(i){case 1:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case 2:const l=sn.makeHexColor(o[0],o[1],o[2]);s.fillStyle=l,s.strokeStyle=l,r.fillColor=l,r.strokeColor=l;break;default:throw new ihe(`Unsupported paint type: ${i}`)}}getPattern(e,i,o,s){let r=o;"Shading"!==s&&(r=sn.transform(r,i.baseTransform),this.matrix&&(r=sn.transform(r,this.matrix)));const a=this.createPatternCanvas(i);let l=new DOMMatrix(r);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(l),c}}return t})();function TF({src:t,srcPos:n=0,dest:e,width:i,height:o,nonBlackColor:s=4294967295,inverseDecode:r=!1}){const a=Pr.isLittleEndian?4278190080:255,[l,c]=r?[s,a]:[a,s],h=i>>3,g=7&i,f=t.length;e=new Uint32Array(e.buffer);let v=0;for(let C=0;C<o;C++){for(const D=n+h;n<D;n++){const I=n<f?t[n]:255;e[v++]=128&I?c:l,e[v++]=64&I?c:l,e[v++]=32&I?c:l,e[v++]=16&I?c:l,e[v++]=8&I?c:l,e[v++]=4&I?c:l,e[v++]=2&I?c:l,e[v++]=1&I?c:l}if(0===g)continue;const S=n<f?t[n++]:255;for(let D=0;D<g;D++)e[v++]=S&1<<7-D?c:l}return{srcPos:n,destPos:v}}class zhe{constructor(n){this.canvasFactory=n,this.cache=Object.create(null)}getCanvas(n,e,i){let o;return void 0!==this.cache[n]?(o=this.cache[n],this.canvasFactory.reset(o,e,i)):(o=this.canvasFactory.create(e,i),this.cache[n]=o),o}delete(n){delete this.cache[n]}clear(){for(const n in this.cache)this.canvasFactory.destroy(this.cache[n]),delete this.cache[n]}}function E6(t,n,e,i,o,s,r,a,l,c){const[h,g,f,v,C,S]=yo(t);if(0===g&&0===f){const G=Math.round(r*h+C),J=Math.round(a*v+S),ve=Math.abs(Math.round((r+l)*h+C)-G)||1,le=Math.abs(Math.round((a+c)*v+S)-J)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(v),G,J),t.drawImage(n,e,i,o,s,0,0,ve,le),t.setTransform(h,g,f,v,C,S),[ve,le]}if(0===h&&0===v){const G=Math.round(a*f+C),J=Math.round(r*g+S),ve=Math.abs(Math.round((a+c)*f+C)-G)||1,le=Math.abs(Math.round((r+l)*g+S)-J)||1;return t.setTransform(0,Math.sign(g),Math.sign(f),0,G,J),t.drawImage(n,e,i,o,s,0,0,le,ve),t.setTransform(h,g,f,v,C,S),[le,ve]}return t.drawImage(n,e,i,o,s,r,a,l,c),[Math.hypot(h,g)*l,Math.hypot(f,v)*c]}class OF{constructor(n,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=nF,this.textMatrixScale=1,this.fontMatrix=lM,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=0,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,n,e])}clone(){const n=Object.create(this);return n.clipBox=this.clipBox.slice(),n}setCurrentPoint(n,e){this.x=n,this.y=e}updatePathMinMax(n,e,i){[e,i]=sn.applyTransform([e,i],n),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(n,e){const i=sn.applyTransform(e,n),o=sn.applyTransform(e.slice(2),n),s=sn.applyTransform([e[0],e[3]],n),r=sn.applyTransform([e[2],e[1]],n);this.minX=Math.min(this.minX,i[0],o[0],s[0],r[0]),this.minY=Math.min(this.minY,i[1],o[1],s[1],r[1]),this.maxX=Math.max(this.maxX,i[0],o[0],s[0],r[0]),this.maxY=Math.max(this.maxY,i[1],o[1],s[1],r[1])}updateScalingPathMinMax(n,e){sn.scaleMinMax(n,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(n,e,i,o,s,r,a,l,c,h){const g=sn.bezierBoundingBox(e,i,o,s,r,a,l,c,h);h||this.updateRectMinMax(n,g)}getPathBoundingBox(n="Fill",e=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if("Stroke"===n){e||po("Stroke bounding box must include transform.");const o=sn.singularValueDecompose2dScale(e),s=o[0]*this.lineWidth/2,r=o[1]*this.lineWidth/2;i[0]-=s,i[1]-=r,i[2]+=s,i[3]+=r}return i}updateClipFromPath(){const n=sn.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(n||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(n){this.clipBox=n,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(n="Fill",e=null){return sn.intersect(this.clipBox,this.getPathBoundingBox(n,e))}}function AF(t,n){if(typeof ImageData<"u"&&n instanceof ImageData)return void t.putImageData(n,0,0);const e=n.height,i=n.width,o=e%16,s=(e-o)/16,r=0===o?s:s+1,a=t.createImageData(i,16);let c,l=0;const h=n.data,g=a.data;let f,v,C,S;if(n.kind===f6.GRAYSCALE_1BPP){const D=h.byteLength,I=new Uint32Array(g.buffer,0,g.byteLength>>2),L=I.length,G=i+7>>3,R=4294967295,J=Pr.isLittleEndian?4278190080:255;for(f=0;f<r;f++){for(C=f<s?16:o,c=0,v=0;v<C;v++){const se=D-l;let ve=0;const pe=se>G?i:8*se-7,le=-8&pe;let fe=0,ke=0;for(;ve<le;ve+=8)ke=h[l++],I[c++]=128&ke?R:J,I[c++]=64&ke?R:J,I[c++]=32&ke?R:J,I[c++]=16&ke?R:J,I[c++]=8&ke?R:J,I[c++]=4&ke?R:J,I[c++]=2&ke?R:J,I[c++]=1&ke?R:J;for(;ve<pe;ve++)0===fe&&(ke=h[l++],fe=128),I[c++]=ke&fe?R:J,fe>>=1}for(;c<L;)I[c++]=0;t.putImageData(a,0,16*f)}}else if(n.kind===f6.RGBA_32BPP){for(v=0,S=16*i*4,f=0;f<s;f++)g.set(h.subarray(l,l+S)),l+=S,t.putImageData(a,0,v),v+=16;f<r&&(S=i*o*4,g.set(h.subarray(l,l+S)),t.putImageData(a,0,v))}else{if(n.kind!==f6.RGB_24BPP)throw new Error(`bad image kind: ${n.kind}`);for(C=16,S=i*C,f=0;f<r;f++){for(f>=s&&(C=o,S=i*C),c=0,v=S;v--;)g[c++]=h[l++],g[c++]=h[l++],g[c++]=h[l++],g[c++]=255;t.putImageData(a,0,16*f)}}}function NF(t,n){if(n.bitmap)return void t.drawImage(n.bitmap,0,0);const e=n.height,i=n.width,o=e%16,s=(e-o)/16,r=0===o?s:s+1,a=t.createImageData(i,16);let l=0;const c=n.data,h=a.data;for(let g=0;g<r;g++){const f=g<s?16:o;({srcPos:l}=TF({src:c,srcPos:l,dest:h,width:i,height:f,nonBlackColor:0})),t.putImageData(a,0,16*g)}}function j_(t,n){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)void 0!==t[i]&&(n[i]=t[i]);void 0!==t.setLineDash&&(n.setLineDash(t.getLineDash()),n.lineDashOffset=t.lineDashOffset)}function O6(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0),!ar){const{filter:n}=t;"none"!==n&&""!==n&&(t.filter="none")}}function DF(t,n){if(n)return!0;const e=sn.singularValueDecompose2dScale(t);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*y2.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}const Hhe=["butt","round","square"],Ghe=["miter","round","bevel"],$he={},yF={};class P2{constructor(n,e,i,o,s,{optionalContentConfig:r,markedContentStack:a=null},l,c){this.ctx=n,this.current=new OF(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=o,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=r,this.cachedCanvases=new zhe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(n,e=null){return"string"==typeof n?n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n):e}beginDrawing({transform:n,viewport:e,transparency:i=!1,background:o=null}){const s=this.ctx.canvas.width,r=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,s,r),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,r);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...yo(this.compositeCtx))}this.ctx.save(),O6(this.ctx),n&&(this.ctx.transform(...n),this.outputScaleX=n[0],this.outputScaleY=n[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=yo(this.ctx)}executeOperatorList(n,e,i,o){const s=n.argsArray,r=n.fnArray;let a=e||0;const l=s.length;if(l===a)return a;const c=l-a>10&&"function"==typeof i,h=c?Date.now()+15:0;let g=0;const f=this.commonObjs,v=this.objs;let C;for(;;){if(void 0!==o&&a===o.nextBreakPoint)return o.breakIt(a,i),a;if(C=r[a],C!==x1.dependency)this[C].apply(this,s[a]);else for(const S of s[a]){const D=S.startsWith("g_")?f:v;if(!D.has(S))return D.get(S,i),a}if(a++,a===l)return a;if(c&&++g>10){if(Date.now()>h)return i(),a;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const n of this._cachedBitmapsMap.values()){for(const e of n.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);n.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const n=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==n){const e=this.ctx.filter;this.ctx.filter=n,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(n,e){const i=n.width??n.displayWidth,o=n.height??n.displayHeight;let h,g,s=Math.max(Math.hypot(e[0],e[1]),1),r=Math.max(Math.hypot(e[2],e[3]),1),a=i,l=o,c="prescale1";for(;s>2&&a>1||r>2&&l>1;){let f=a,v=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),r>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,r/=l/v),h=this.cachedCanvases.getCanvas(c,f,v),g=h.context,g.clearRect(0,0,f,v),g.drawImage(n,0,0,a,l,0,0,f,v),n=h.canvas,a=f,l=v,c="prescale1"===c?"prescale2":"prescale1"}return{img:n,paintWidth:a,paintHeight:l}}_createMaskCanvas(n){const e=this.ctx,{width:i,height:o}=n,s=this.current.fillColor,r=this.current.patternFill,a=yo(e);let l,c,h,g;if((n.bitmap||n.data)&&n.count>1){const pe=n.bitmap||n.data.buffer;c=JSON.stringify(r?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(pe),l||(l=new Map,this._cachedBitmapsMap.set(pe,l));const le=l.get(c);if(le&&!r)return{canvas:le,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])};h=le}h||(g=this.cachedCanvases.getCanvas("maskCanvas",i,o),NF(g.context,n));let f=sn.transform(a,[1/i,0,0,-1/o,0,0]);f=sn.transform(f,[1,0,0,1,0,-o]);const[v,C,S,D]=sn.getAxialAlignedBoundingBox([0,0,i,o],f),I=Math.round(S-v)||1,L=Math.round(D-C)||1,G=this.cachedCanvases.getCanvas("fillCanvas",I,L),R=G.context,J=v,se=C;R.translate(-J,-se),R.transform(...f),h||(h=this._scaleImage(g.canvas,q0(R)),h=h.img,l&&r&&l.set(c,h)),R.imageSmoothingEnabled=DF(yo(R),n.interpolate),E6(R,h,0,0,h.width,h.height,0,0,i,o),R.globalCompositeOperation="source-in";const ve=sn.transform(q0(R),[1,0,0,1,-J,-se]);return R.fillStyle=r?s.getPattern(e,this,ve,"Fill"):s,R.fillRect(0,0,i,o),l&&!r&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,G.canvas)),{canvas:G.canvas,offsetX:Math.round(J),offsetY:Math.round(se)}}setLineWidth(n){n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(n){this.ctx.lineCap=Hhe[n]}setLineJoin(n){this.ctx.lineJoin=Ghe[n]}setMiterLimit(n){this.ctx.miterLimit=n}setDash(n,e){const i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(n),i.lineDashOffset=e)}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[e,i]of n)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const n=this.inSMaskMode;this.current.activeSMask&&!n?this.beginSMaskMode():!this.current.activeSMask&&n&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=o.context;const s=this.ctx;s.setTransform(...yo(this.suspendedCtx)),j_(this.suspendedCtx,s),function khe(t,n){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){n.save(),this.__originalSave()},t.restore=function(){n.restore(),this.__originalRestore()},t.translate=function(i,o){n.translate(i,o),this.__originalTranslate(i,o)},t.scale=function(i,o){n.scale(i,o),this.__originalScale(i,o)},t.transform=function(i,o,s,r,a,l){n.transform(i,o,s,r,a,l),this.__originalTransform(i,o,s,r,a,l)},t.setTransform=function(i,o,s,r,a,l){n.setTransform(i,o,s,r,a,l),this.__originalSetTransform(i,o,s,r,a,l)},t.resetTransform=function(){n.resetTransform(),this.__originalResetTransform()},t.rotate=function(i){n.rotate(i),this.__originalRotate(i)},t.clip=function(i){n.clip(i),this.__originalClip(i)},t.moveTo=function(e,i){n.moveTo(e,i),this.__originalMoveTo(e,i)},t.lineTo=function(e,i){n.lineTo(e,i),this.__originalLineTo(e,i)},t.bezierCurveTo=function(e,i,o,s,r,a){n.bezierCurveTo(e,i,o,s,r,a),this.__originalBezierCurveTo(e,i,o,s,r,a)},t.rect=function(e,i,o,s){n.rect(e,i,o,s),this.__originalRect(e,i,o,s)},t.closePath=function(){n.closePath(),this.__originalClosePath()},t.beginPath=function(){n.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),j_(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(n){this.current.activeSMask&&(n?(n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.ceil(n[2]),n[3]=Math.ceil(n[3])):n=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],this.composeSMask(this.suspendedCtx,this.current.activeSMask,this.ctx,n),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}composeSMask(n,e,i,o){const s=o[0],r=o[1],a=o[2]-s,l=o[3]-r;0===a||0===l||(this.genericComposeSMask(e.context,i,a,l,e.subtype,e.backdrop,e.transferMap,s,r,e.offsetX,e.offsetY),n.save(),n.globalAlpha=1,n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0),n.drawImage(i.canvas,0,0),n.restore())}genericComposeSMask(n,e,i,o,s,r,a,l,c,h,g){let f=n.canvas,v=l-h,C=c-g;if(r){const D=sn.makeHexColor(...r);if(v<0||C<0||v+i>f.width||C+o>f.height){const I=this.cachedCanvases.getCanvas("maskExtension",i,o),L=I.context;L.drawImage(f,-v,-C),L.globalCompositeOperation="destination-atop",L.fillStyle=D,L.fillRect(0,0,i,o),L.globalCompositeOperation="source-over",f=I.canvas,v=C=0}else{n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0);const I=new Path2D;I.rect(v,C,i,o),n.clip(I),n.globalCompositeOperation="destination-atop",n.fillStyle=D,n.fillRect(v,C,i,o),n.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===s&&a?e.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===s&&(e.filter=this.filterFactory.addLuminosityFilter(a));const S=new Path2D;S.rect(l,c,i,o),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(f,v,C,i,o,l,c,i,o),e.restore()}save(){this.inSMaskMode?(j_(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),j_(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(n,e,i,o,s,r){this.ctx.transform(n,e,i,o,s,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(n,e,i){const o=this.ctx,s=this.current;let l,c,r=s.x,a=s.y;const h=yo(o),g=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],f=g?i.slice(0):null;for(let v=0,C=0,S=n.length;v<S;v++)switch(0|n[v]){case x1.rectangle:r=e[C++],a=e[C++];const D=e[C++],I=e[C++],L=r+D,G=a+I;o.moveTo(r,a),0===D||0===I?o.lineTo(L,G):(o.lineTo(L,a),o.lineTo(L,G),o.lineTo(r,G)),g||s.updateRectMinMax(h,[r,a,L,G]),o.closePath();break;case x1.moveTo:r=e[C++],a=e[C++],o.moveTo(r,a),g||s.updatePathMinMax(h,r,a);break;case x1.lineTo:r=e[C++],a=e[C++],o.lineTo(r,a),g||s.updatePathMinMax(h,r,a);break;case x1.curveTo:l=r,c=a,r=e[C+4],a=e[C+5],o.bezierCurveTo(e[C],e[C+1],e[C+2],e[C+3],r,a),s.updateCurvePathMinMax(h,l,c,e[C],e[C+1],e[C+2],e[C+3],r,a,f),C+=6;break;case x1.curveTo2:l=r,c=a,o.bezierCurveTo(r,a,e[C],e[C+1],e[C+2],e[C+3]),s.updateCurvePathMinMax(h,l,c,r,a,e[C],e[C+1],e[C+2],e[C+3],f),r=e[C+2],a=e[C+3],C+=4;break;case x1.curveTo3:l=r,c=a,r=e[C+2],a=e[C+3],o.bezierCurveTo(e[C],e[C+1],r,a,r,a),s.updateCurvePathMinMax(h,l,c,e[C],e[C+1],r,a,r,a,f),C+=4;break;case x1.closePath:o.closePath()}g&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(r,a)}closePath(){this.ctx.closePath()}stroke(n=!0){const e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof i&&i?.getPattern?(e.save(),e.strokeStyle=i.getPattern(e,this,q0(e),"Stroke"),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),n&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(n=!0){const e=this.ctx,i=this.current.fillColor;let s=!1;this.current.patternFill&&(e.save(),e.fillStyle=i.getPattern(e,this,q0(e),"Fill"),s=!0);const r=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==r&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),s&&e.restore(),n&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$he}eoClip(){this.pendingClip=yF}beginText(){this.current.textMatrix=nF,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const n=this.pendingTextPaths,e=this.ctx;if(void 0!==n){e.save(),e.beginPath();for(const i of n)e.setTransform(...i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(n){this.current.charSpacing=n}setWordSpacing(n){this.current.wordSpacing=n}setHScale(n){this.current.textHScale=n/100}setLeading(n){this.current.leading=-n}setFont(n,e){const i=this.commonObjs.get(n),o=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(o.fontMatrix=i.fontMatrix||lM,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&qn("Invalid font matrix for font "+n),e<0?(e=-e,o.fontDirection=-1):o.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const s=i.loadedName||"sans-serif",r=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let c=e;e<16?c=16:e>100&&(c=100),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${a} ${c}px ${r}`}setTextRenderingMode(n){this.current.textRenderingMode=n}setTextRise(n){this.current.textRise=n}moveText(n,e){this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=e}setLeadingMoveText(n,e){this.setLeading(-e),this.moveText(n,e)}setTextMatrix(n,e,i,o,s,r){this.current.textMatrix=[n,e,i,o,s,r],this.current.textMatrixScale=Math.hypot(n,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(n,e,i,o){const s=this.ctx,r=this.current,a=r.font,l=r.textRenderingMode,c=r.fontSize/r.fontSizeScale,h=3&l,g=!!(4&l),f=r.patternFill&&!a.missingFile;let v;(a.disableFontFace||g||f)&&(v=a.getPathGenerator(this.commonObjs,n)),a.disableFontFace||f?(s.save(),s.translate(e,i),s.beginPath(),v(s,c),o&&s.setTransform(...o),(0===h||2===h)&&s.fill(),(1===h||2===h)&&s.stroke(),s.restore()):((0===h||2===h)&&s.fillText(n,e,i),(1===h||2===h)&&s.strokeText(n,e,i)),g&&(this.pendingTextPaths||=[]).push({transform:yo(s),x:e,y:i,fontSize:c,addToPath:v})}get isFontSubpixelAAEnabled(){const{context:n}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);n.scale(1.5,1),n.fillText("I",0,10);const e=n.getImageData(0,0,10,10).data;let i=!1;for(let o=3;o<e.length;o+=4)if(e[o]>0&&e[o]<255){i=!0;break}return pi(this,"isFontSubpixelAAEnabled",i)}showText(n){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(n);const o=e.fontSize;if(0===o)return;const s=this.ctx,r=e.fontSizeScale,a=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,h=e.textHScale*c,g=n.length,f=i.vertical,v=f?1:-1,C=i.defaultVMetrics,S=o*e.fontMatrix[0],D=0===e.textRenderingMode&&!i.disableFontFace&&!e.patternFill;let I;if(s.save(),s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),s.scale(h,c>0?-1:1),e.patternFill){s.save();const se=e.fillColor.getPattern(s,this,q0(s),"Fill");I=yo(s),s.restore(),s.fillStyle=se}let L=e.lineWidth;const G=e.textMatrixScale;if(0===G||0===L){const se=3&e.textRenderingMode;(1===se||2===se)&&(L=this.getSinglePixelWidth())}else L/=G;if(1!==r&&(s.scale(r,r),L/=r),s.lineWidth=L,i.isInvalidPDFjsFont){const se=[];let ve=0;for(const pe of n)se.push(pe.unicode),ve+=pe.width;return s.fillText(se.join(""),0,0),e.x+=ve*S*h,s.restore(),void this.compose()}let J,R=0;for(J=0;J<g;++J){const se=n[J];if("number"==typeof se){R+=v*se*o/1e3;continue}let ve=!1;const pe=(se.isSpace?l:0)+a,le=se.fontChar,fe=se.accent;let ke,Dt,it=se.width;if(f){const Yt=se.vmetric||C,Qt=-(se.vmetric?Yt[1]:.5*it)*S;it=Yt?-Yt[0]:it,ke=Qt/r,Dt=(R+Yt[2]*S)/r}else ke=R/r,Dt=0;if(i.remeasure&&it>0){const Yt=1e3*s.measureText(le).width/o*r;if(it<Yt&&this.isFontSubpixelAAEnabled){const Qt=it/Yt;ve=!0,s.save(),s.scale(Qt,1),ke/=Qt}else it!==Yt&&(ke+=(it-Yt)/2e3*o/r)}this.contentVisible&&(se.isInFont||i.missingFile)&&(D&&!fe?s.fillText(le,ke,Dt):(this.paintChar(le,ke,Dt,I),fe&&this.paintChar(fe.fontChar,ke+o*fe.offset.x/r,Dt-o*fe.offset.y/r,I))),R+=f?it*S-pe*c:it*S+pe*c,ve&&s.restore()}f?e.y-=R:e.x+=R*h,s.restore(),this.compose()}showType3Text(n){const e=this.ctx,i=this.current,o=i.font,s=i.fontSize,r=i.fontDirection,a=o.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,h=i.textHScale*r,g=i.fontMatrix||lM,f=n.length;let C,S,D,I;if(3!==i.textRenderingMode&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(h,r),C=0;C<f;++C){if(S=n[C],"number"==typeof S){I=a*S*s/1e3,this.ctx.translate(I,0),i.x+=I*h;continue}const L=(S.isSpace?c:0)+l,G=o.charProcOperatorList[S.operatorListId];G?(this.contentVisible&&(this.processingType3=S,this.save(),e.scale(s,s),e.transform(...g),this.executeOperatorList(G),this.restore()),D=sn.applyTransform([S.width,0],g)[0]*s+L,e.translate(D,0),i.x+=D*h):qn(`Type3 character "${S.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(n,e){}setCharWidthAndBounds(n,e,i,o,s,r){this.ctx.rect(i,o,s-i,r-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(n){let e;if("TilingPattern"===n[0]){const i=n[1],o=this.baseTransform||yo(this.ctx);e=new Rhe(n,i,this.ctx,{createCanvasGraphics:r=>new P2(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},o)}else e=this._getPattern(n[1],n[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(n,e,i){this.ctx.strokeStyle=this.current.strokeColor=sn.makeHexColor(n,e,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(n,e,i){this.ctx.fillStyle=this.current.fillColor=sn.makeHexColor(n,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(n,e=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=function Lhe(t){switch(t[0]){case"RadialAxial":return new Dhe(t);case"Mesh":return new Phe(t);case"Dummy":return new Ihe}throw new Error(`Unknown IR type: ${t[0]}`)}(this.getObject(n)),this.cachedPatterns.set(n,i)),e&&(i.matrix=e),i}shadingFill(n){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(n);e.fillStyle=i.getPattern(e,this,q0(e),"Shading");const o=q0(e);if(o){const{width:s,height:r}=e.canvas,[a,l,c,h]=sn.getAxialAlignedBoundingBox([0,0,s,r],o);this.ctx.fillRect(a,l,c-a,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){po("Should not call beginInlineImage")}beginImageData(){po("Should not call beginImageData")}paintFormXObjectBegin(n,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),n&&this.transform(...n),this.baseTransform=yo(this.ctx),e)&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.current.updateRectMinMax(yo(this.ctx),e),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(n){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;n.isolated||C6("TODO: Support non-isolated groups."),n.knockout&&qn("Knockout groups not supported.");const i=yo(e);if(n.matrix&&e.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let o=sn.getAxialAlignedBoundingBox(n.bbox,yo(e));o=sn.intersect(o,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];const r=Math.floor(o[0]),a=Math.floor(o[1]),l=Math.max(Math.ceil(o[2])-r,1),c=Math.max(Math.ceil(o[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,l,c),f=g.context;f.translate(-r,-a),f.transform(...i),n.smask?this.smaskStack.push({canvas:g.canvas,context:f,offsetX:r,offsetY:a,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(r,a),e.save()),j_(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(n){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,n.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=yo(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...o);const s=sn.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],o);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(n,e,i,o,s){if(this.#e(),O6(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const r=e[2]-e[0],a=e[3]-e[1];if(s&&this.annotationCanvasMap){(i=i.slice())[4]-=e[0],i[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=r,e[3]=a;const[l,c]=sn.singularValueDecompose2dScale(yo(this.ctx)),{viewportScale:h}=this,g=Math.ceil(r*this.outputScaleX*h),f=Math.ceil(a*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(g,f);const{canvas:v,context:C}=this.annotationCanvas;this.annotationCanvasMap.set(n,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=C,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),O6(this.ctx)}else O6(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],r,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new OF(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(n){if(!this.contentVisible)return;const e=n.count;(n=this.getObject(n.data,n)).count=e;const i=this.ctx,o=this.processingType3;if(o&&(void 0===o.compiled&&(o.compiled=function Vhe(t){const{width:n,height:e}=t;if(n>1e3||e>1e3)return null;const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=n+1;let a,l,c,r=new Uint8Array(s*(e+1));const h=n+7&-8;let g=new Uint8Array(h*e),f=0;for(const I of t.data){let L=128;for(;L>0;)g[f++]=I&L?0:255,L>>=1}let v=0;for(f=0,0!==g[f]&&(r[0]=1,++v),l=1;l<n;l++)g[f]!==g[f+1]&&(r[l]=g[f]?2:1,++v),f++;for(0!==g[f]&&(r[l]=2,++v),a=1;a<e;a++){f=a*h,c=a*s,g[f-h]!==g[f]&&(r[c]=g[f]?1:8,++v);let I=(g[f]?4:0)+(g[f-h]?8:0);for(l=1;l<n;l++)I=(I>>2)+(g[f+1]?4:0)+(g[f-h+1]?8:0),o[I]&&(r[c+l]=o[I],++v),f++;if(g[f-h]!==g[f]&&(r[c+l]=g[f]?2:4,++v),v>1e3)return null}for(f=h*(e-1),c=a*s,0!==g[f]&&(r[c]=8,++v),l=1;l<n;l++)g[f]!==g[f+1]&&(r[c+l]=g[f]?4:8,++v),f++;if(0!==g[f]&&(r[c+l]=4,++v),v>1e3)return null;const C=new Int32Array([0,s,-1,0,-s,0,0,0,1]),S=new Path2D;for(a=0;v&&a<=e;a++){let I=a*s;const L=I+n;for(;I<L&&!r[I];)I++;if(I===L)continue;S.moveTo(I%s,a);const G=I;let R=r[I];do{const J=C[R];do{I+=J}while(!r[I]);const se=r[I];5!==se&&10!==se?(R=se,r[I]=0):(R=se&51*R>>4,r[I]&=R>>2|R<<2),S.lineTo(I%s,I/s|0),r[I]||--v}while(G!==I);--a}return g=null,r=null,function(I){I.save(),I.scale(1/n,-1/e),I.translate(0,-e),I.fill(S),I.beginPath(),I.restore()}}(n)),o.compiled))return void o.compiled(i);const s=this._createMaskCanvas(n),r=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(n,e,i=0,o=0,s,r){if(!this.contentVisible)return;n=this.getObject(n.data,n);const a=this.ctx;a.save();const l=yo(a);a.transform(e,i,o,s,0,0);const c=this._createMaskCanvas(n);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,g=r.length;h<g;h+=2){const f=sn.transform(l,[e,i,o,s,r[h],r[h+1]]),[v,C]=sn.applyTransform([0,0],f);a.drawImage(c.canvas,v,C)}a.restore(),this.compose()}paintImageMaskXObjectGroup(n){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,o=this.current.patternFill;for(const s of n){const{data:r,width:a,height:l,transform:c}=s,h=this.cachedCanvases.getCanvas("maskCanvas",a,l),g=h.context;g.save(),NF(g,this.getObject(r,s)),g.globalCompositeOperation="source-in",g.fillStyle=o?i.getPattern(g,this,q0(e),"Fill"):i,g.fillRect(0,0,a,l),g.restore(),e.save(),e.transform(...c),e.scale(1,-1),E6(e,h.canvas,0,0,a,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(n){if(!this.contentVisible)return;const e=this.getObject(n);e?this.paintInlineImageXObject(e):qn("Dependent image isn't ready yet")}paintImageXObjectRepeat(n,e,i,o){if(!this.contentVisible)return;const s=this.getObject(n);if(!s)return void qn("Dependent image isn't ready yet");const r=s.width,a=s.height,l=[];for(let c=0,h=o.length;c<h;c+=2)l.push({transform:[e,0,0,i,o[c],o[c+1]],x:0,y:0,w:r,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(n){return"none"!==this.current.transferMaps&&(n.filter=this.current.transferMaps,n.drawImage(n.canvas,0,0),n.filter="none"),n.canvas}applyTransferMapsToBitmap(n){if("none"===this.current.transferMaps)return n.bitmap;const{bitmap:e,width:i,height:o}=n,s=this.cachedCanvases.getCanvas("inlineImage",i,o),r=s.context;return r.filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",s.canvas}paintInlineImageXObject(n){if(!this.contentVisible)return;const e=n.width,i=n.height,o=this.ctx;if(this.save(),!ar){const{filter:a}=o;"none"!==a&&""!==a&&(o.filter="none")}let s;if(o.scale(1/e,-1/i),n.bitmap)s=this.applyTransferMapsToBitmap(n);else if("function"==typeof HTMLElement&&n instanceof HTMLElement||!n.data)s=n;else{const l=this.cachedCanvases.getCanvas("inlineImage",e,i).context;AF(l,n),s=this.applyTransferMapsToCanvas(l)}const r=this._scaleImage(s,q0(o));o.imageSmoothingEnabled=DF(yo(o),n.interpolate),E6(o,r.img,0,0,r.paintWidth,r.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(n,e){if(!this.contentVisible)return;const i=this.ctx;let o;if(n.bitmap)o=n.bitmap;else{const l=this.cachedCanvases.getCanvas("inlineImage",n.width,n.height).context;AF(l,n),o=this.applyTransferMapsToCanvas(l)}for(const s of e)i.save(),i.transform(...s.transform),i.scale(1,-1),E6(i,o,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(n){}markPointProps(n,e){}beginMarkedContent(n){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(n,e){this.markedContentStack.push("OC"===n?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(n){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const i=this.ctx;this.pendingClip&&(e||(this.pendingClip===yF?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const n=yo(this.ctx);if(0===n[1]&&0===n[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(n[0]),Math.abs(n[3]));else{const e=Math.abs(n[0]*n[3]-n[2]*n[1]),i=Math.hypot(n[0],n[2]),o=Math.hypot(n[1],n[3]);this._cachedGetSinglePixelWidth=Math.max(i,o)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:n}=this.current,{a:e,b:i,c:o,d:s}=this.ctx.getTransform();let r,a;if(0===i&&0===o){const l=Math.abs(e),c=Math.abs(s);if(l===c)if(0===n)r=a=1/l;else{const h=l*n;r=a=h<1?1/h:1}else if(0===n)r=1/l,a=1/c;else{const h=l*n,g=c*n;r=h<1?1/h:1,a=g<1?1/g:1}}else{const l=Math.abs(e*s-i*o),c=Math.hypot(e,i),h=Math.hypot(o,s);if(0===n)r=h/l,a=c/l;else{const g=n*l;r=h>g?h/g:1,a=c>g?c/g:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(n){const{ctx:e}=this,{lineWidth:i}=this.current,[o,s]=this.getScaleForStroking();if(e.lineWidth=i||1,1===o&&1===s)return void e.stroke();const r=e.getLineDash();if(n&&e.save(),e.scale(o,s),r.length>0){const a=Math.max(o,s);e.setLineDash(r.map(l=>l/a)),e.lineDashOffset/=a}e.stroke(),n&&e.restore()}isContentVisible(){for(let n=this.markedContentStack.length-1;n>=0;n--)if(!this.markedContentStack[n].visible)return!1;return!0}}for(const t in x1)void 0!==P2.prototype[t]&&(P2.prototype[x1[t]]=P2.prototype[t]);class Z_{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(n){if(!(typeof Worker<"u"&&n instanceof Worker)&&null!==n)throw new Error("Invalid `workerPort` type.");this.#e=n}static get workerSrc(){return this.#t}static set workerSrc(n){if("string"!=typeof n)throw new Error("Invalid `workerSrc` type.");this.#t=n}}function ya(t){switch(t instanceof Error||"object"==typeof t&&null!==t||po('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new p5(t.message);case"MissingPDFException":return new g5(t.message);case"PasswordException":return new cM(t.message,t.code);case"UnexpectedResponseException":return new M6(t.message,t.status);case"UnknownErrorException":return new dM(t.message,t.details);default:return new dM(t.message,t.toString())}}class W_{#e=new AbortController;constructor(n,e,i){this.sourceName=n,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:n}){if(n.targetName!==this.sourceName)return;if(n.stream)return void this.#i(n);if(n.callback){const i=n.callbackId,o=this.callbackCapabilities[i];if(!o)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],1===n.callback)o.resolve(n.data);else{if(2!==n.callback)throw new Error("Unexpected callback case");o.reject(ya(n.reason))}return}const e=this.actionHandler[n.action];if(!e)throw new Error(`Unknown action from worker: ${n.action}`);if(n.callbackId){const i=this.sourceName,o=n.sourceName,s=this.comObj;new Promise(function(r){r(e(n.data))}).then(function(r){s.postMessage({sourceName:i,targetName:o,callback:1,callbackId:n.callbackId,data:r})},function(r){s.postMessage({sourceName:i,targetName:o,callback:2,callbackId:n.callbackId,reason:ya(r)})})}else n.streamId?this.#n(n):e(n.data)}on(n,e){const i=this.actionHandler;if(i[n])throw new Error(`There is already an actionName called "${n}"`);i[n]=e}send(n,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:n,data:e},i)}sendWithPromise(n,e,i){const o=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[o]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:n,callbackId:o,data:e},i)}catch(r){s.reject(r)}return s.promise}sendWithStream(n,e,i,o){const s=this.streamId++,r=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:r,targetName:a,action:n,streamId:s,data:e,desiredSize:c.desiredSize},o),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:r,targetName:a,stream:6,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{Os(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:r,targetName:a,stream:1,streamId:s,reason:ya(c)}),h.promise}},i)}#n(n){const e=n.streamId,i=this.sourceName,o=n.sourceName,s=this.comObj,r=this,a=this.actionHandler[n.action],l={enqueue(c,h=1,g){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:o,stream:4,streamId:e,chunk:c},g)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:o,stream:3,streamId:e}),delete r.streamSinks[e])},error(c){Os(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:o,stream:5,streamId:e,reason:ya(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:n.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,new Promise(function(c){c(a(n.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:o,stream:8,streamId:e,success:!0})},function(c){s.postMessage({sourceName:i,targetName:o,stream:8,streamId:e,reason:ya(c)})})}#i(n){const e=n.streamId,i=this.sourceName,o=n.sourceName,s=this.comObj,r=this.streamControllers[e],a=this.streamSinks[e];switch(n.stream){case 8:n.success?r.startCall.resolve():r.startCall.reject(ya(n.reason));break;case 7:n.success?r.pullCall.resolve():r.pullCall.reject(ya(n.reason));break;case 6:if(!a){s.postMessage({sourceName:i,targetName:o,stream:7,streamId:e,success:!0});break}a.desiredSize<=0&&n.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=n.desiredSize,new Promise(function(l){l(a.onPull?.())}).then(function(){s.postMessage({sourceName:i,targetName:o,stream:7,streamId:e,success:!0})},function(l){s.postMessage({sourceName:i,targetName:o,stream:7,streamId:e,reason:ya(l)})});break;case 4:if(Os(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(n.chunk);break;case 3:if(Os(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),this.#s(r,e);break;case 5:Os(r,"error should have stream controller"),r.controller.error(ya(n.reason)),this.#s(r,e);break;case 2:n.success?r.cancelCall.resolve():r.cancelCall.reject(ya(n.reason)),this.#s(r,e);break;case 1:if(!a)break;new Promise(function(l){l(a.onCancel?.(ya(n.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:o,stream:2,streamId:e,success:!0})},function(l){s.postMessage({sourceName:i,targetName:o,stream:2,streamId:e,reason:ya(l)})}),a.sinkCapability.reject(ya(n.reason)),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}#s(n,e){var i=this;return je(function*(){yield Promise.allSettled([n.startCall?.promise,n.pullCall?.promise,n.cancelCall?.promise]),delete i.streamControllers[e]})()}destroy(){this.#e?.abort(),this.#e=null}}class Bhe{#e;#t;constructor({parsedData:n,rawData:e}){this.#e=n,this.#t=e}getRaw(){return this.#t}get(n){return this.#e.get(n)??null}getAll(){return hM(this.#e)}has(n){return this.#e.has(n)}}const I2=Symbol("INTERNAL");class Uhe{#e=!1;#t=!1;#n=!1;#i=!0;constructor(n,{name:e,intent:i,usage:o,rbGroups:s}){this.#e=!!(2&n),this.#t=!!(4&n),this.name=e,this.intent=i,this.usage=o,this.rbGroups=s}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:n,view:e}=this.usage;return this.#e?"OFF"!==e?.viewState:!this.#t||"OFF"!==n?.printState}_setVisible(n,e,i=!1){n!==I2&&po("Internal method `_setVisible` called."),this.#n=i,this.#i=e}}class jhe{#e=null;#t=new Map;#n=null;#i=null;constructor(n,e=2){if(this.renderingIntent=e,this.name=null,this.creator=null,null!==n){this.name=n.name,this.creator=n.creator,this.#i=n.order;for(const i of n.groups)this.#t.set(i.id,new Uhe(e,i));if("OFF"===n.baseState)for(const i of this.#t.values())i._setVisible(I2,!1);for(const i of n.on)this.#t.get(i)._setVisible(I2,!0);for(const i of n.off)this.#t.get(i)._setVisible(I2,!1);this.#n=this.getHash()}}#s(n){const e=n.length;if(e<2)return!0;const i=n[0];for(let o=1;o<e;o++){const s=n[o];let r;if(Array.isArray(s))r=this.#s(s);else{if(!this.#t.has(s))return qn(`Optional content group not found: ${s}`),!0;r=this.#t.get(s).visible}switch(i){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===i}isVisible(n){if(0===this.#t.size)return!0;if(!n)return C6("Optional content group not defined."),!0;if("OCG"===n.type)return this.#t.has(n.id)?this.#t.get(n.id).visible:(qn(`Optional content group not found: ${n.id}`),!0);if("OCMD"===n.type){if(n.expression)return this.#s(n.expression);if(!n.policy||"AnyOn"===n.policy){for(const e of n.ids){if(!this.#t.has(e))return qn(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!0}return!1}if("AllOn"===n.policy){for(const e of n.ids){if(!this.#t.has(e))return qn(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!1}return!0}if("AnyOff"===n.policy){for(const e of n.ids){if(!this.#t.has(e))return qn(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!0}return!1}if("AllOff"===n.policy){for(const e of n.ids){if(!this.#t.has(e))return qn(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!1}return!0}return qn(`Unknown optional content policy ${n.policy}.`),!0}return qn(`Unknown group type ${n.type}.`),!0}setVisibility(n,e=!0,i=!0){const o=this.#t.get(n);if(o){if(i&&e&&o.rbGroups.length)for(const s of o.rbGroups)for(const r of s)r!==n&&this.#t.get(r)?._setVisible(I2,!1,!0);o._setVisible(I2,!!e,!0),this.#e=null}else qn(`Optional content group not found: ${n}`)}setOCGState({state:n,preserveRB:e}){let i;for(const o of n){switch(o){case"ON":case"OFF":case"Toggle":i=o;continue}const s=this.#t.get(o);if(s)switch(i){case"ON":this.setVisibility(o,!0,e);break;case"OFF":this.setVisibility(o,!1,e);break;case"Toggle":this.setVisibility(o,!s.visible,e)}}this.#e=null}get hasInitialVisibility(){return null===this.#n||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?hM(this.#t):null}getGroup(n){return this.#t.get(n)||null}getHash(){if(null!==this.#e)return this.#e;const n=new hF;for(const[e,i]of this.#t)n.update(`${e}:${i.visible}`);return this.#e=n.hexdigest()}}class Zhe{constructor(n,{disableRange:e=!1,disableStream:i=!1}){Os(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:o,initialData:s,progressiveDone:r,contentDispositionFilename:a}=n;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=a,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],n.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),n.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),n.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),n.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),n.transportReady()}_onReceiveData({begin:n,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;void 0===n?this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i):Os(this._rangeReaders.some(function(s){return s._begin===n&&(s._enqueue(i),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(n){void 0===n.total?this._rangeReaders[0]?.onProgress?.({loaded:n.loaded}):this._fullRequestReader?.onProgress?.({loaded:n.loaded,total:n.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(n){const e=this._rangeReaders.indexOf(n);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Os(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const n=this._queuedChunks;return this._queuedChunks=null,new Whe(this,n,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(n,e){if(e<=this._progressiveDataLength)return null;const i=new Xhe(this,n,e);return this._pdfDataRangeTransport.requestDataRange(n,e),this._rangeReaders.push(i),i}cancelAllRequests(n){this._fullRequestReader?.cancel(n);for(const e of this._rangeReaders.slice(0))e.cancel(n);this._pdfDataRangeTransport.abort()}}class Whe{constructor(n,e,i=!1,o=null){this._stream=n,this._done=i||!1,this._filename=fM(o)?o:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),n._fullRequestReader=this,this.onProgress=null}_enqueue(n){this._done||(this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunks.push(n),this._loaded+=n.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var n=this;return je(function*(){if(n._queuedChunks.length>0)return{value:n._queuedChunks.shift(),done:!1};if(n._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return n._requests.push(e),e.promise})()}cancel(n){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Xhe{constructor(n,e,i){this._stream=n,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(n){if(!this._done){if(0===this._requests.length)this._queuedChunk=n;else{this._requests.shift().resolve({value:n,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var n=this;return je(function*(){if(n._queuedChunk){const i=n._queuedChunk;return n._queuedChunk=null,{value:i,done:!1}}if(n._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return n._requests.push(e),e.promise})()}cancel(n){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function DM(t,n){const e=new Headers;if(!t||!n||"object"!=typeof n)return e;for(const i in n){const o=n[i];void 0!==o&&e.append(i,o)}return e}function yM({responseHeaders:t,isHttp:n,rangeChunkSize:e,disableRange:i}){const o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(o.suggestedLength=s,s<=2*e)||i||!n||"bytes"!==t.get("Accept-Ranges")||"identity"!==(t.get("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o}function PM(t){const n=t.get("Content-Disposition");if(n){let e=function Khe(t){let n=!0,e=i("filename\\*","i").exec(t);if(e){e=e[1];let h=a(e);return h=unescape(h),h=l(h),h=c(h),s(h)}if(e=function r(h){const g=[];let f;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(f=v.exec(h));){let[,S,D,I]=f;if(S=parseInt(S,10),S in g){if(0===S)break}else g[S]=[D,I]}const C=[];for(let S=0;S<g.length&&S in g;++S){let[D,I]=g[S];I=a(I),D&&(I=unescape(I),0===S&&(I=l(I))),C.push(I)}return C.join("")}(t),e)return s(c(e));if(e=i("filename","i").exec(t),e){e=e[1];let h=a(e);return h=c(h),s(h)}function i(h,g){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function o(h,g){if(h){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const f=new TextDecoder(h,{fatal:!0}),v=D2(g);g=f.decode(v),n=!1}catch{}}return g}function s(h){return n&&/[\x80-\xff]/.test(h)&&(h=o("utf-8",h),n&&(h=o("iso-8859-1",h))),h}function a(h){if(h.startsWith('"')){const g=h.slice(1).split('\\"');for(let f=0;f<g.length;++f){const v=g[f].indexOf('"');-1!==v&&(g[f]=g[f].slice(0,v),g.length=f+1),g[f]=g[f].replaceAll(/\\(.)/g,"$1")}h=g.join('"')}return h}function l(h){const g=h.indexOf("'");return-1===g?h:o(h.slice(0,g),h.slice(g+1).replace(/^[^']*'/,""))}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,f,v,C){if("q"===v||"Q"===v)return o(f,C=(C=C.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(S,D){return String.fromCharCode(parseInt(D,16))}));try{C=atob(C)}catch{}return o(f,C)})}return""}(n);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(fM(e))return e}return null}function N6(t,n){return 404===t||0===t&&n.startsWith("file:")?new g5('Missing PDF "'+n+'".'):new M6(`Unexpected server response (${t}) while retrieving PDF "${n}".`,t)}function PF(t){return 200===t||206===t}function IF(t,n,e){return{method:"GET",headers:t,signal:e.signal,mode:"cors",credentials:n?"include":"same-origin",redirect:"follow"}}function LF(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(qn(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class RF{constructor(n){this.source=n,this.isHttp=/^https?:/i.test(n.url),this.headers=DM(this.isHttp,n.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Os(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new qhe(this),this._fullRequestReader}getRangeReader(n,e){if(e<=this._progressiveDataLength)return null;const i=new Yhe(this,n,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(n){this._fullRequestReader?.cancel(n);for(const e of this._rangeRequestReaders.slice(0))e.cancel(n)}}class qhe{constructor(n){this._stream=n,this._reader=null,this._loaded=0,this._filename=null;const e=n.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(n.headers),o=e.url;fetch(o,IF(i,this._withCredentials,this._abortController)).then(s=>{if(!PF(s.status))throw N6(s.status,o);this._reader=s.body.getReader(),this._headersCapability.resolve();const r=s.headers,{allowRangeRequests:a,suggestedLength:l}=yM({responseHeaders:r,isHttp:n.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=PM(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new p5("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var n=this;return je(function*(){yield n._headersCapability.promise;const{value:e,done:i}=yield n._reader.read();return i?{value:e,done:i}:(n._loaded+=e.byteLength,n.onProgress?.({loaded:n._loaded,total:n._contentLength}),{value:LF(e),done:!1})})()}cancel(n){this._reader?.cancel(n),this._abortController.abort()}}class Yhe{constructor(n,e,i){this._stream=n,this._reader=null,this._loaded=0;const o=n.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController;const s=new Headers(n.headers);s.append("Range",`bytes=${e}-${i-1}`);const r=o.url;fetch(r,IF(s,this._withCredentials,this._abortController)).then(a=>{if(!PF(a.status))throw N6(a.status,r);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var n=this;return je(function*(){yield n._readCapability.promise;const{value:e,done:i}=yield n._reader.read();return i?{value:e,done:i}:(n._loaded+=e.byteLength,n.onProgress?.({loaded:n._loaded}),{value:LF(e),done:!1})})()}cancel(n){this._reader?.cancel(n),this._abortController.abort()}}class Jhe{constructor({url:n,httpHeaders:e,withCredentials:i}){this.url=n,this.isHttp=/^https?:/i.test(n),this.headers=DM(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(n,e,i){const o={begin:n,end:e};for(const s in i)o[s]=i[s];return this.request(o)}requestFull(n){return this.request(n)}request(n){const e=new XMLHttpRequest,i=this.currXhrId++,o=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,r]of this.headers)e.setRequestHeader(s,r);return this.isHttp&&"begin"in n&&"end"in n?(e.setRequestHeader("Range",`bytes=${n.begin}-${n.end-1}`),o.expectedStatus=206):o.expectedStatus=200,e.responseType="arraybuffer",n.onError&&(e.onerror=function(s){n.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),o.onHeadersReceived=n.onHeadersReceived,o.onDone=n.onDone,o.onError=n.onError,o.onProgress=n.onProgress,e.send(null),i}onProgress(n,e){const i=this.pendingRequests[n];i&&i.onProgress?.(e)}onStateChange(n,e){const i=this.pendingRequests[n];if(!i)return;const o=i.xhr;if(o.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==o.readyState||!(n in this.pendingRequests))return;if(delete this.pendingRequests[n],0===o.status&&this.isHttp)return void i.onError?.(o.status);const s=o.status||200;if((200!==s||206!==i.expectedStatus)&&s!==i.expectedStatus)return void i.onError?.(o.status);const a=function Qhe(t){const n=t.response;return"string"!=typeof n?n:D2(n).buffer}(o);if(206===s){const l=o.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);i.onDone({begin:parseInt(c[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):i.onError?.(o.status)}getRequestXhr(n){return this.pendingRequests[n].xhr}isPendingRequest(n){return n in this.pendingRequests}abortRequest(n){const e=this.pendingRequests[n].xhr;delete this.pendingRequests[n],e.abort()}}class eue{constructor(n){this._source=n,this._manager=new Jhe(n),this._rangeChunkSize=n.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(n){const e=this._rangeRequestReaders.indexOf(n);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Os(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new tue(this._manager,this._source),this._fullRequestReader}getRangeReader(n,e){const i=new nue(this._manager,n,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(n){this._fullRequestReader?.cancel(n);for(const e of this._rangeRequestReaders.slice(0))e.cancel(n)}}class tue{constructor(n,e){this._manager=n;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=n.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const n=this._fullRequestId,e=this._manager.getRequestXhr(n),i=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(r=>{const[a,...l]=r.split(": ");return[a,l.join(": ")]})),{allowRangeRequests:o,suggestedLength:s}=yM({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=PM(i),this._isRangeSupported&&this._manager.abortRequest(n),this._headersCapability.resolve()}_onDone(n){if(n&&(this._requests.length>0?this._requests.shift().resolve({value:n.chunk,done:!1}):this._cachedChunks.push(n.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(n){this._storedError=N6(n,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(n){this.onProgress?.({loaded:n.loaded,total:n.lengthComputable?n.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}read(){var n=this;return je(function*(){if(n._storedError)throw n._storedError;if(n._cachedChunks.length>0)return{value:n._cachedChunks.shift(),done:!1};if(n._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return n._requests.push(e),e.promise})()}cancel(n){this._done=!0,this._headersCapability.reject(n);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class nue{constructor(n,e,i){this._manager=n;const o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._requestId=n.requestRange(e,i,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(n){const e=n.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(n){this._storedError=N6(n,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(n){this.isStreamingSupported||this.onProgress?.({loaded:n.loaded})}get isStreamingSupported(){return!1}read(){var n=this;return je(function*(){if(n._storedError)throw n._storedError;if(null!==n._queuedChunk){const i=n._queuedChunk;return n._queuedChunk=null,{value:i,done:!1}}if(n._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return n._requests.push(e),e.promise})()}cancel(n){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const iue=/^[a-z][a-z0-9\-+.]+:/i;function xF(t,n,e){return"http:"===t.protocol?Wl.get("http").request(t,{headers:n},e):Wl.get("https").request(t,{headers:n},e)}class sue{constructor(n){this.source=n,this.url=function oue(t){if(iue.test(t))return new URL(t);const n=Wl.get("url");return new URL(n.pathToFileURL(t))}(n.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.headers=DM(this.isHttp,n.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Os(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new lue(this):new rue(this),this._fullRequestReader}getRangeReader(n,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new cue(this,n,e):new aue(this,n,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(n){this._fullRequestReader?.cancel(n);for(const e of this._rangeRequestReaders.slice(0))e.cancel(n)}}class FF{constructor(n){this._url=n.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=n.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var n=this;return je(function*(){if(yield n._readCapability.promise,n._done)return{value:void 0,done:!0};if(n._storedError)throw n._storedError;const e=n._readableStream.read();return null===e?(n._readCapability=Promise.withResolvers(),n.read()):(n._loaded+=e.length,n.onProgress?.({loaded:n._loaded,total:n._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(n){this._readableStream?this._readableStream.destroy(n):this._error(n)}_error(n){this._storedError=n,this._readCapability.resolve()}_setReadableStream(n){this._readableStream=n,n.on("readable",()=>{this._readCapability.resolve()}),n.on("end",()=>{n.destroy(),this._done=!0,this._readCapability.resolve()}),n.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new p5("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class kF{constructor(n){this._url=n.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!n.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var n=this;return je(function*(){if(yield n._readCapability.promise,n._done)return{value:void 0,done:!0};if(n._storedError)throw n._storedError;const e=n._readableStream.read();return null===e?(n._readCapability=Promise.withResolvers(),n.read()):(n._loaded+=e.length,n.onProgress?.({loaded:n._loaded}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(n){this._readableStream?this._readableStream.destroy(n):this._error(n)}_error(n){this._storedError=n,this._readCapability.resolve()}_setReadableStream(n){this._readableStream=n,n.on("readable",()=>{this._readCapability.resolve()}),n.on("end",()=>{n.destroy(),this._done=!0,this._readCapability.resolve()}),n.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class rue extends FF{constructor(n){super(n);const e=Object.fromEntries(n.headers);this._request=xF(this._url,e,o=>{if(404===o.statusCode){const l=new g5(`Missing PDF "${this._url}".`);return this._storedError=l,void this._headersCapability.reject(l)}this._headersCapability.resolve(),this._setReadableStream(o);const s=new Headers(this._readableStream.headers),{allowRangeRequests:r,suggestedLength:a}=yM({responseHeaders:s,isHttp:n.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=PM(s)}),this._request.on("error",o=>{this._storedError=o,this._headersCapability.reject(o)}),this._request.end()}}class aue extends kF{constructor(n,e,i){super(n);const o=Object.fromEntries(n.headers);o.Range=`bytes=${e}-${i-1}`,this._request=xF(this._url,o,r=>{if(404!==r.statusCode)this._setReadableStream(r);else{const a=new g5(`Missing PDF "${this._url}".`);this._storedError=a}}),this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class lue extends FF{constructor(n){super(n);const e=Wl.get("fs");e.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},i=>{"ENOENT"===i.code&&(i=new g5(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class cue extends kF{constructor(n,e,i){super(n);const o=Wl.get("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:i-1}))}}class Lr{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#o=null;#l=0;#c=0;#d=null;#a=null;#h=0;#r=0;#u=Object.create(null);#g=[];#_=null;#p=[];#m=new WeakMap;#f=null;static#v=new Map;static#M=new Map;static#b=new WeakMap;static#T=null;static#w=new Set;constructor({textContentSource:n,container:e,viewport:i}){if(n instanceof ReadableStream)this.#_=n;else{if("object"!=typeof n)throw new Error('No "textContentSource" parameter specified.');this.#_=new ReadableStream({start(l){l.enqueue(n),l.close()}})}this.#t=this.#a=e,this.#r=i.scale*(globalThis.devicePixelRatio||1),this.#h=i.rotation,this.#o={div:null,properties:null,ctx:null};const{pageWidth:o,pageHeight:s,pageX:r,pageY:a}=i.rawDims;this.#f=[1,0,0,-1,-r,a+s],this.#c=o,this.#l=s,Lr.#P(),f5(e,i),this.#e.promise.finally(()=>{Lr.#w.delete(this),this.#o=null,this.#u=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:n,isFirefox:e}=Pr.platform;return pi(this,"fontFamilyMap",new Map([["sans-serif",(n&&e?"Calibri, ":"")+"sans-serif"],["monospace",(n&&e?"Lucida Console, ":"")+"monospace"]]))}render(){const n=()=>{this.#d.read().then(({value:e,done:i})=>{i?this.#e.resolve():(this.#s??=e.lang,Object.assign(this.#u,e.styles),this.#y(e.items),n())},this.#e.reject)};return this.#d=this.#_.getReader(),Lr.#w.add(this),n(),this.#e.promise}update({viewport:n,onBefore:e=null}){const i=n.scale*(globalThis.devicePixelRatio||1),o=n.rotation;if(o!==this.#h&&(e?.(),this.#h=o,f5(this.#a,{rotation:o})),i!==this.#r){e?.(),this.#r=i;const s={div:null,properties:null,ctx:Lr.#N(this.#s)};for(const r of this.#p)s.properties=this.#m.get(r),s.div=r,this.#S(s)}}cancel(){const n=new p5("TextLayer task cancelled.");this.#d?.cancel(n).catch(()=>{}),this.#d=null,this.#e.reject(n)}get textDivs(){return this.#p}get textContentItemsStr(){return this.#g}#y(n){if(this.#n)return;this.#o.ctx??=Lr.#N(this.#s);const e=this.#p,i=this.#g;for(const o of n){if(e.length>1e5)return qn("Ignoring additional textDivs for performance reasons."),void(this.#n=!0);if(void 0!==o.str)i.push(o.str),this.#A(o);else if("beginMarkedContentProps"===o.type||"beginMarkedContent"===o.type){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),null!==o.id&&this.#t.setAttribute("id",`${o.id}`),s.append(this.#t)}else"endMarkedContent"===o.type&&(this.#t=this.#t.parentNode)}}#A(n){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:""!==n.str,hasEOL:n.hasEOL,fontSize:0};this.#p.push(e);const o=sn.transform(this.#f,n.transform);let s=Math.atan2(o[1],o[0]);const r=this.#u[n.fontName];r.vertical&&(s+=Math.PI/2);let a=this.#i&&r.fontSubstitution||r.fontFamily;a=Lr.fontFamilyMap.get(a)||a;const l=Math.hypot(o[2],o[3]),c=l*Lr.#L(a,this.#s);let h,g;0===s?(h=o[4],g=o[5]-c):(h=o[4]+c*Math.sin(s),g=o[5]-c*Math.cos(s));const f="calc(var(--scale-factor)*",v=e.style;this.#t===this.#a?(v.left=`${(100*h/this.#c).toFixed(2)}%`,v.top=`${(100*g/this.#l).toFixed(2)}%`):(v.left=`${f}${h.toFixed(2)}px)`,v.top=`${f}${g.toFixed(2)}px)`),v.fontSize=`${f}${(Lr.#T*l).toFixed(2)}px)`,v.fontFamily=a,i.fontSize=l,e.setAttribute("role","presentation"),e.textContent=n.str,e.dir=n.dir,this.#i&&(e.dataset.fontName=r.fontSubstitutionLoadedName||n.fontName),0!==s&&(i.angle=s*(180/Math.PI));let C=!1;if(n.str.length>1)C=!0;else if(" "!==n.str&&n.transform[0]!==n.transform[3]){const S=Math.abs(n.transform[0]),D=Math.abs(n.transform[3]);S!==D&&Math.max(S,D)/Math.min(S,D)>1.5&&(C=!0)}if(C&&(i.canvasWidth=r.vertical?n.height:n.width),this.#m.set(e,i),this.#o.div=e,this.#o.properties=i,this.#S(this.#o),i.hasText&&this.#t.append(e),i.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),this.#t.append(S)}}#S(n){const{div:e,properties:i,ctx:o}=n,{style:s}=e;let r="";if(Lr.#T>1&&(r=`scale(${1/Lr.#T})`),0!==i.canvasWidth&&i.hasText){const{fontFamily:a}=s,{canvasWidth:l,fontSize:c}=i;Lr.#O(o,c*this.#r,a);const{width:h}=o.measureText(e.textContent);h>0&&(r=`scaleX(${l*this.#r/h}) ${r}`)}0!==i.angle&&(r=`rotate(${i.angle}deg) ${r}`),r.length>0&&(s.transform=r)}static cleanup(){if(!(this.#w.size>0)){this.#v.clear();for(const{canvas:n}of this.#M.values())n.remove();this.#M.clear()}}static#N(n=null){let e=this.#M.get(n||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=n,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#M.set(n,e),this.#b.set(e,{size:0,family:""})}return e}static#O(n,e,i){const o=this.#b.get(n);e===o.size&&i===o.family||(n.font=`${e}px ${i}`,o.size=e,o.family=i)}static#P(){if(null!==this.#T)return;const n=document.createElement("div");n.style.opacity=0,n.style.lineHeight=1,n.style.fontSize="1px",n.style.position="absolute",n.textContent="X",document.body.append(n),this.#T=n.getBoundingClientRect().height,n.remove()}static#L(n,e){const i=this.#v.get(n);if(i)return i;const o=this.#N(e);o.canvas.width=o.canvas.height=30,this.#O(o,30,n);const s=o.measureText("");let r=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(r){const h=r/(r+a);return this.#v.set(n,h),o.canvas.width=o.canvas.height=0,h}o.strokeStyle="red",o.clearRect(0,0,30,30),o.strokeText("g",0,0);let l=o.getImageData(0,0,30,30).data;a=0;for(let h=l.length-1-3;h>=0;h-=4)if(l[h]>0){a=Math.ceil(h/4/30);break}o.clearRect(0,0,30,30),o.strokeText("A",0,30),l=o.getImageData(0,0,30,30).data,r=0;for(let h=0,g=l.length;h<g;h+=4)if(l[h]>0){r=30-Math.floor(h/4/30);break}o.canvas.width=o.canvas.height=0;const c=r?r/(r+a):.8;return this.#v.set(n,c),c}}class X_{static textContent(n){const e=[],i={items:e,styles:Object.create(null)};return function o(s){if(!s)return;let r=null;const a=s.name;if("#text"===a)r=s.value;else{if(!X_.shouldBuildText(a))return;s?.attributes?.textContent?r=s.attributes.textContent:s.value&&(r=s.value)}if(null!==r&&e.push({str:r}),s.children)for(const l of s.children)o(l)}(n),i}static shouldBuildText(n){return!("textarea"===n||"input"===n||"option"===n||"select"===n)}}const uue=65536,pue=ar?class Ohe extends _F{_createCanvas(n,e){return Wl.get("canvas").createCanvas(n,e)}}:class bhe extends _F{constructor({ownerDocument:n=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=n}_createCanvas(n,e){const i=this._document.createElement("canvas");return i.width=n,i.height=e,i}},fue=ar?class Ahe extends gF{_fetch(n){return je(function*(){return CF(n)})()}}:pF,mue=ar?class Ehe extends fF{}:class She extends fF{#e;#t;#n;#i;#s;#o;#l=0;constructor({docId:n,ownerDocument:e=globalThis.document}){super(),this.#i=n,this.#s=e}get#c(){return this.#t||=new Map}get#d(){return this.#o||=new Map}get#a(){if(!this.#n){const n=this.#s.createElement("div"),{style:e}=n;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#s.createElementNS(K0,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#s.createElementNS(K0,"defs"),n.append(i),i.append(this.#n),this.#s.body.append(n)}return this.#n}#h(n){if(1===n.length){const l=n[0],c=new Array(256);for(let g=0;g<256;g++)c[g]=l[g]/255;const h=c.join(",");return[h,h,h]}const[e,i,o]=n,s=new Array(256),r=new Array(256),a=new Array(256);for(let l=0;l<256;l++)s[l]=e[l]/255,r[l]=i[l]/255,a[l]=o[l]/255;return[s.join(","),r.join(","),a.join(",")]}#r(n){if(void 0===this.#e){this.#e="";const e=this.#s.URL;e!==this.#s.baseURI&&(b6(e)?qn('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=e.split("#",1)[0])}return`url(${this.#e}#${n})`}addFilter(n){if(!n)return"none";let e=this.#c.get(n);if(e)return e;const[i,o,s]=this.#h(n),r=1===n.length?i:`${i}${o}${s}`;if(e=this.#c.get(r),e)return this.#c.set(n,e),e;const a=`g_${this.#i}_transfer_map_${this.#l++}`,l=this.#r(a);this.#c.set(n,l),this.#c.set(r,l);const c=this.#_(a);return this.#m(i,o,s,c),l}addHCMFilter(n,e){const i=`${n}-${e}`,o="base";let s=this.#d.get(o);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#d.set(o,s)),!n||!e))return s.url;const r=this.#v(n);n=sn.makeHexColor(...r);const a=this.#v(e);if(e=sn.makeHexColor(...a),this.#a.style.color="","#000000"===n&&"#ffffff"===e||n===e)return s.url;const l=new Array(256);for(let v=0;v<=255;v++){const C=v/255;l[v]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const c=l.join(","),h=`g_${this.#i}_hcm_filter`,g=s.filter=this.#_(h);this.#m(c,c,c,g),this.#g(g);const f=(v,C)=>{const S=r[v]/255,D=a[v]/255,I=new Array(C+1);for(let L=0;L<=C;L++)I[L]=S+L/C*(D-S);return I.join(",")};return this.#m(f(0,5),f(1,5),f(2,5),g),s.url=this.#r(h),s.url}addAlphaFilter(n){let e=this.#c.get(n);if(e)return e;const[i]=this.#h([n]),o=`alpha_${i}`;if(e=this.#c.get(o),e)return this.#c.set(n,e),e;const s=`g_${this.#i}_alpha_map_${this.#l++}`,r=this.#r(s);this.#c.set(n,r),this.#c.set(o,r);const a=this.#_(s);return this.#f(i,a),r}addLuminosityFilter(n){let i,o,e=this.#c.get(n||"luminosity");if(e)return e;if(n?([i]=this.#h([n]),o=`luminosity_${i}`):o="luminosity",e=this.#c.get(o),e)return this.#c.set(n,e),e;const s=`g_${this.#i}_luminosity_map_${this.#l++}`,r=this.#r(s);this.#c.set(n,r),this.#c.set(o,r);const a=this.#_(s);return this.#u(a),n&&this.#f(i,a),r}addHighlightHCMFilter(n,e,i,o,s){const r=`${e}-${i}-${o}-${s}`;let a=this.#d.get(n);if(a?.key===r||(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#d.set(n,a)),!e||!i))return a.url;const[l,c]=[e,i].map(this.#v.bind(this));let h=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),g=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[f,v]=[o,s].map(this.#v.bind(this));g<h&&([h,g,f,v]=[g,h,v,f]),this.#a.style.color="";const C=(I,L,G)=>{const R=new Array(256),J=(g-h)/G,se=I/255,ve=(L-I)/(255*G);let pe=0;for(let le=0;le<=G;le++){const fe=Math.round(h+le*J),ke=se+le*ve;for(let Dt=pe;Dt<=fe;Dt++)R[Dt]=ke;pe=fe+1}for(let le=pe;le<256;le++)R[le]=R[pe-1];return R.join(",")},S=`g_${this.#i}_hcm_${n}_filter`,D=a.filter=this.#_(S);return this.#g(D),this.#m(C(f[0],v[0],5),C(f[1],v[1],5),C(f[2],v[2],5),D),a.url=this.#r(S),a.url}destroy(n=!1){n&&0!==this.#d.size||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#t&&(this.#t.clear(),this.#t=null),this.#l=0)}#u(n){const e=this.#s.createElementNS(K0,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(e)}#g(n){const e=this.#s.createElementNS(K0,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(e)}#_(n){const e=this.#s.createElementNS(K0,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",n),this.#a.append(e),e}#p(n,e,i){const o=this.#s.createElementNS(K0,e);o.setAttribute("type","discrete"),o.setAttribute("tableValues",i),n.append(o)}#m(n,e,i,o){const s=this.#s.createElementNS(K0,"feComponentTransfer");o.append(s),this.#p(s,"feFuncR",n),this.#p(s,"feFuncG",e),this.#p(s,"feFuncB",i)}#f(n,e){const i=this.#s.createElementNS(K0,"feComponentTransfer");e.append(i),this.#p(i,"feFuncA",n)}#v(n){return this.#a.style.color=n,mM(getComputedStyle(this.#a).getPropertyValue("color"))}},vue=ar?class Nhe extends mF{_fetch(n){return je(function*(){return CF(n)})()}}:vF;function Cue(t={}){"string"==typeof t||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const n=new RM,{docId:e}=n,i=t.url?function Mue(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(ar&&"string"==typeof t)return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(t.url):null,o=t.data?function Tue(t){if(ar&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"==typeof t)return D2(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"==typeof t&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(t.data):null,s=t.httpHeaders||null,r=!0===t.withCredentials,a=t.password??null,l=t.range instanceof VF?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:uue;let h=t.worker instanceof Fs?t.worker:null;const g=t.verbosity,f="string"!=typeof t.docBaseUrl||b6(t.docBaseUrl)?null:t.docBaseUrl,v="string"==typeof t.cMapUrl?t.cMapUrl:null,C=!1!==t.cMapPacked,S=t.CMapReaderFactory||fue,D="string"==typeof t.standardFontDataUrl?t.standardFontDataUrl:null,I=t.StandardFontDataFactory||vue,L=!0!==t.stopAtErrors,G=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,R=!1!==t.isEvalSupported,J="boolean"==typeof t.isOffscreenCanvasSupported?t.isOffscreenCanvasSupported:!ar,se="boolean"==typeof t.isChrome?t.isChrome:!Pr.platform.isFirefox&&typeof window<"u"&&!!window?.chrome,ve=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,pe="boolean"==typeof t.disableFontFace?t.disableFontFace:ar,le=!0===t.fontExtraProperties,fe=!0===t.enableXfa,ke=t.ownerDocument||globalThis.document,Dt=!0===t.disableRange,it=!0===t.disableStream,Ft=!0===t.disableAutoFetch,Yt=!0===t.pdfBug,Qt=t.CanvasFactory||pue,We=t.FilterFactory||mue,kt=!0===t.enableHWA,ri=l?l.length:t.length??NaN,Si="boolean"==typeof t.useSystemFonts?t.useSystemFonts:!ar&&!pe,ai="boolean"==typeof t.useWorkerFetch?t.useWorkerFetch:S===pF&&I===vF&&v&&D&&G_(v,document.baseURI)&&G_(D,document.baseURI);t.canvasFactory&&aF("`canvasFactory`-instance option, please use `CanvasFactory` instead."),t.filterFactory&&aF("`filterFactory`-instance option, please use `FilterFactory` instead."),function J2e(t){Number.isInteger(t)&&(v6=t)}(g);const Yn={canvasFactory:new Qt({ownerDocument:ke,enableHWA:kt}),filterFactory:new We({docId:e,ownerDocument:ke}),cMapReaderFactory:ai?null:new S({baseUrl:v,isCompressed:C}),standardFontDataFactory:ai?null:new I({baseUrl:D})};if(!h){const Ei={verbosity:g,port:Z_.workerPort};h=Ei.port?Fs.fromPort(Ei):new Fs(Ei),n._worker=h}const Yi={docId:e,apiVersion:"4.8.69",data:o,password:a,disableAutoFetch:Ft,rangeChunkSize:c,length:ri,docBaseUrl:f,enableXfa:fe,evaluatorOptions:{maxImageSize:G,disableFontFace:pe,ignoreErrors:L,isEvalSupported:R,isOffscreenCanvasSupported:J,isChrome:se,canvasMaxAreaInBytes:ve,fontExtraProperties:le,useSystemFonts:Si,cMapUrl:ai?v:null,standardFontDataUrl:ai?D:null}},Hi={disableFontFace:pe,fontExtraProperties:le,ownerDocument:ke,pdfBug:Yt,styleElement:null,loadingParams:{disableAutoFetch:Ft,enableXfa:fe}};return h.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ei=h.messageHandler.sendWithPromise("GetDocRequest",Yi,o?[o.buffer]:null);let wt;if(l)wt=new Zhe(l,{disableRange:Dt,disableStream:it});else if(!o){if(!i)throw new Error("getDocument - no `url` parameter provided.");let Gi;Gi=ar?typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&G_(i)?RF:sue:G_(i)?RF:eue,wt=new Gi({url:i,length:ri,httpHeaders:s,withCredentials:r,rangeChunkSize:c,disableRange:Dt,disableStream:it})}return Ei.then(Gi=>{if(n.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ms=new W_(e,Gi,h.port),pr=new Eue(Ms,n,wt,Hi,Yn);n._transport=pr,Ms.send("Ready",null)})}).catch(n._capability.reject),n}function zF(t){return"object"==typeof t&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0}class RM{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+RM.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){var n=this;return je(function*(){n.destroyed=!0;try{n._worker?.port&&(n._worker._pendingDestroy=!0),yield n._transport?.destroy()}catch(e){throw n._worker?.port&&delete n._worker._pendingDestroy,e}n._transport=null,n._worker&&(n._worker.destroy(),n._worker=null)})()}}class VF{constructor(n,e,i=!1,o=null){this.length=n,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(n){this._rangeListeners.push(n)}addProgressListener(n){this._progressListeners.push(n)}addProgressiveReadListener(n){this._progressiveReadListeners.push(n)}addProgressiveDoneListener(n){this._progressiveDoneListeners.push(n)}onDataRange(n,e){for(const i of this._rangeListeners)i(n,e)}onDataProgress(n,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(n,e)})}onDataProgressiveRead(n){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(n)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const n of this._progressiveDoneListeners)n()})}transportReady(){this._readyCapability.resolve()}requestDataRange(n,e){po("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class wue{constructor(n,e){this._pdfInfo=n,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return pi(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(n){return this._transport.getPage(n)}getPageIndex(n){return this._transport.getPageIndex(n)}getDestinations(){return this._transport.getDestinations()}getDestination(n){return this._transport.getDestination(n)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:n="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(n);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(n=!1){return this._transport.startCleanup(n||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(n){return this._transport.cachedPageNumber(n)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class bue{#e=null;#t=!1;constructor(n,e,i,o=!1){this._pageIndex=n,this._pageInfo=e,this._transport=i,this._stats=o?new rF:null,this._pdfBug=o,this.commonObjs=i.commonObjs,this.objs=new HF,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:n,rotation:e=this.rotate,offsetX:i=0,offsetY:o=0,dontFlip:s=!1}={}){return new H_({viewBox:this.view,scale:n,rotation:e,offsetX:i,offsetY:o,dontFlip:s})}getAnnotations({intent:n="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(n);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return pi(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var n=this;return je(function*(){return n._transport._htmlForXfa?.children[n._pageIndex]||null})()}render({canvasContext:n,viewport:e,intent:i="display",annotationMode:o=jl.ENABLE,transform:s=null,background:r=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null,isEditing:g=!1}){this._stats?.time("Overall");const f=this._transport.getRenderingIntent(i,o,h,g),{renderingIntent:v,cacheKey:C}=f;this.#t=!1,this.#i(),a||=this._transport.getOptionalContentConfig(v);let S=this._intentStates.get(C);S||(S=Object.create(null),this._intentStates.set(C,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const D=!!(4&v);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(f));const I=R=>{S.renderTasks.delete(L),(this._maybeCleanupAfterRender||D)&&(this.#t=!0),this.#n(!D),R?(L.capability.reject(R),this._abortOperatorList({intentState:S,reason:R instanceof Error?R:new Error(R)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new L2({callback:I,params:{canvasContext:n,viewport:e,transform:s,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:c});(S.renderTasks||=new Set).add(L);const G=L.task;return Promise.all([S.displayReadyCapability.promise,a]).then(([R,J])=>{if(this.destroyed)I();else{if(this._stats?.time("Rendering"),!(J.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:R,optionalContentConfig:J}),L.operatorListChanged()}}).catch(I),G}getOperatorList({intent:n="display",annotationMode:e=jl.ENABLE,printAnnotationStorage:i=null,isEditing:o=!1}={}){const r=this._transport.getRenderingIntent(n,e,i,o,!0);let l,a=this._intentStates.get(r.cacheKey);return a||(a=Object.create(null),this._intentStates.set(r.cacheKey,a)),a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))},a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:n=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===n,disableNormalization:!0===e},{highWaterMark:100,size:o=>o.items.length})}getTextContent(n={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>X_.textContent(i));const e=this.streamTextContent(n);return new Promise(function(i,o){const r=e.getReader(),a={items:[],styles:Object.create(null),lang:null};!function s(){r.read().then(function({value:l,done:c}){c?i(a):(a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),s())},o)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const n=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)n.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(n)}cleanup(n=!1){this.#t=!0;const e=this.#n(!1);return n&&e&&(this._stats&&=new rF),e}#n(n=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(n)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},5e3),!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(n,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(n))}_renderPageChunk(n,e){for(let i=0,o=n.length;i<o;i++)e.operatorList.fnArray.push(n.fnArray[i]),e.operatorList.argsArray.push(n.argsArray[i]);e.operatorList.lastChunk=n.lastChunk,e.operatorList.separateAnnots=n.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();n.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:n,cacheKey:e,annotationStorageSerializable:i,modifiedIds:o}){const{map:s,transfer:r}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:e,annotationStorage:s,modifiedIds:o},r).getReader(),c=this._intentStates.get(e);c.streamReader=l;const h=()=>{l.read().then(({value:g,done:f})=>{f?c.streamReader=null:this._transport.destroyed||(this._renderPageChunk(g,c),h())},g=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();this.#n(!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(g);else{if(!c.opListReadCapability)throw g;c.opListReadCapability.reject(g)}}})};h()}_abortOperatorList({intentState:n,reason:e,force:i=!1}){if(n.streamReader){if(n.streamReaderCancelTimeout&&(clearTimeout(n.streamReaderCancelTimeout),n.streamReaderCancelTimeout=null),!i){if(n.renderTasks.size>0)return;if(e instanceof pM){let o=100;return e.extraDelay>0&&e.extraDelay<1e3&&(o+=e.extraDelay),void(n.streamReaderCancelTimeout=setTimeout(()=>{n.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:n,reason:e,force:!0})},o))}}if(n.streamReader.cancel(new p5(e.message)).catch(()=>{}),n.streamReader=null,!this._transport.destroyed){for(const[o,s]of this._intentStates)if(s===n){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}class Sue{#e=new Map;#t=Promise.resolve();postMessage(n,e){const i={data:structuredClone(n,e?{transfer:e}:null)};this.#t.then(()=>{for(const[o]of this.#e)o.call(this,i)})}addEventListener(n,e,i=null){let o=null;if(i?.signal instanceof AbortSignal){const{signal:s}=i;if(s.aborted)return void qn("LoopbackPort - cannot use an `aborted` signal.");const r=()=>this.removeEventListener(n,e);o=()=>s.removeEventListener("abort",r),s.addEventListener("abort",r)}this.#e.set(e,o)}removeEventListener(n,e){this.#e.get(e)?.(),this.#e.delete(e)}terminate(){for(const[,n]of this.#e)n?.();this.#e.clear()}}class Fs{static#e=0;static#t=!1;static#n;static#i=(()=>{ar&&(this.#t=!0,Z_.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(n,e)=>{let i;try{if(i=new URL(n),!i.origin||"null"===i.origin)return!1}catch{return!1}const o=new URL(e,i);return i.origin===o.origin},this._createCDNWrapper=n=>URL.createObjectURL(new Blob([`await import("${n}");`],{type:"text/javascript"}))})();constructor({name:n=null,port:e=null,verbosity:i=ehe()}={}){if(this.name=n,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if(Fs.#n?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");return(Fs.#n||=new WeakMap).set(e,this),void this._initializeFromPort(e)}this._initialize()}get promise(){return ar?Promise.all([Wl.promise,this._readyCapability.promise]):this._readyCapability.promise}#s(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(n){this._port=n,this._messageHandler=new W_("main","worker",n),this._messageHandler.on("ready",function(){}),this.#s()}_initialize(){if(Fs.#t||Fs.#o)return void this._setupFakeWorker();let{workerSrc:n}=Fs;try{Fs._isSameOrigin(window.location.href,n)||(n=Fs._createCDNWrapper(new URL(n,window.location).href));const e=new Worker(n,{type:"module"}),i=new W_("main","worker",e),o=()=>{s.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;e.addEventListener("error",()=>{this._webWorker||o()},{signal:s.signal}),i.on("test",a=>{s.abort(),!this.destroyed&&a?(this._messageHandler=i,this._port=e,this._webWorker=e,this.#s()):o()}),i.on("ready",a=>{if(s.abort(),this.destroyed)o();else try{r()}catch{this._setupFakeWorker()}});const r=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};return void r()}catch{C6("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Fs.#t||(qn("Setting up fake worker."),Fs.#t=!0),Fs._setupFakeWorkerGlobal.then(n=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new Sue;this._port=e;const i="fake"+Fs.#e++,o=new W_(i+"_worker",i,e);n.setup(o,e),this._messageHandler=new W_(i,i+"_worker",e),this.#s()}).catch(n=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${n.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Fs.#n?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(n){if(!n?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const e=this.#n?.get(n.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Fs(n)}static get workerSrc(){if(Z_.workerSrc)return Z_.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#o(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var n=this;return pi(this,"_setupFakeWorkerGlobal",function(){var i=je(function*(){return n.#o?n.#o:(yield import(n.workerSrc)).WorkerMessageHandler});return function(){return i.apply(this,arguments)}}()())}}class Eue{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#s=null;constructor(n,e,i,o,s){this.messageHandler=n,this.loadingTask=e,this.commonObjs=new HF,this.fontLoader=new The({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#o(n,e=null){const i=this.#e.get(n);if(i)return i;const o=this.messageHandler.sendWithPromise(n,e);return this.#e.set(n,o),o}get annotationStorage(){return pi(this,"annotationStorage",new wM)}getRenderingIntent(n,e=jl.ENABLE,i=null,o=!1,s=!1){let r=2,a=TM;switch(n){case"any":r=1;break;case"display":break;case"print":r=4;break;default:qn(`getRenderingIntent - invalid intent: ${n}`)}const l=4&r&&i instanceof uF?i:this.annotationStorage;switch(e){case jl.DISABLE:r+=64;break;case jl.ENABLE:break;case jl.ENABLE_FORMS:r+=16;break;case jl.ENABLE_STORAGE:r+=32,a=l.serializable;break;default:qn(`getRenderingIntent - invalid annotationMode: ${e}`)}o&&(r+=128),s&&(r+=256);const{ids:c,hash:h}=l.modifiedIds;return{renderingIntent:r,cacheKey:[r,a.hash,h].join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const n=[];for(const i of this.#t.values())n.push(i._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return n.push(e),Promise.all(n).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Lr.cleanup(),this._networkStream?.cancelAllRequests(new p5("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){var n=this;const{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(o,s)=>{Os(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){a?s.close():(Os(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r]))}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",function(){var o=je(function*(s){yield n._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:a,contentLength:l}=n._fullReader;return(!r||!a)&&(n._lastProgress&&i.onProgress?.(n._lastProgress),n._fullReader.onProgress=c=>{i.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:a,contentLength:l}});return function(s){return o.apply(this,arguments)}}()),e.on("GetRangeReader",(o,s)=>{Os(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(o.begin,o.end);r?(s.onPull=()=>{r.read().then(function({value:a,done:l}){l?s.close():(Os(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a]))}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}):s.close()}),e.on("GetDoc",({pdfInfo:o})=>{this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,i._capability.resolve(new wue(o,this))}),e.on("DocException",function(o){let s;switch(o.name){case"PasswordException":s=new cM(o.message,o.code);break;case"InvalidPDFException":s=new iF(o.message);break;case"MissingPDFException":s=new g5(o.message);break;case"UnexpectedResponseException":s=new M6(o.message,o.status);break;case"UnknownErrorException":s=new dM(o.message,o.details);break;default:po("DocException - expected a valid Error.")}i._capability.reject(s)}),e.on("PasswordRequest",o=>{if(this.#s=Promise.withResolvers(),i.onPassword){const s=r=>{r instanceof Error?this.#s.reject(r):this.#s.resolve({password:r})};try{i.onPassword(s,o.code)}catch(r){this.#s.reject(r)}}else this.#s.reject(new cM(o.message,o.code));return this.#s.promise}),e.on("DataLoaded",o=>{i.onProgress?.({loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),e.on("StartRenderPage",o=>{this.destroyed||this.#t.get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),e.on("commonobj",([o,s,r])=>{if(this.destroyed||this.commonObjs.has(o))return null;switch(s){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in r){const v=r.error;qn(`Error during font loading: ${v}`),this.commonObjs.resolve(o,v);break}const h=c&&globalThis.FontInspector?.enabled?(v,C)=>globalThis.FontInspector.fontAdded(v,C):null,g=new whe(r,{disableFontFace:a,inspectFont:h});this.fontLoader.bind(g).catch(()=>e.sendWithPromise("FontFallback",{id:o})).finally(()=>{!l&&g.data&&(g.data=null),this.commonObjs.resolve(o,g)});break;case"CopyLocalImage":const{imageRef:f}=r;Os(f,"The imageRef must be defined.");for(const v of this.#t.values())for(const[,C]of v.objs)if(C?.ref===f)return C.dataLen?(this.commonObjs.resolve(o,structuredClone(C)),C.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(o,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([o,s,r,a])=>{if(this.destroyed)return;const l=this.#t.get(s);if(!l.objs.has(o)){if(0===l._intentStates.size)return void a?.bitmap?.close();switch(r){case"Image":l.objs.resolve(o,a),a?.dataLen>1e7&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(o,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",o=>{this.destroyed||i.onProgress?.({loaded:o.loaded,total:o.total})}),e.on("FetchBuiltInCMap",function(){var o=je(function*(s){if(n.destroyed)throw new Error("Worker was destroyed.");if(!n.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return n.cMapReaderFactory.fetch(s)});return function(s){return o.apply(this,arguments)}}()),e.on("FetchStandardFontData",function(){var o=je(function*(s){if(n.destroyed)throw new Error("Worker was destroyed.");if(!n.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return n.standardFontDataFactory.fetch(s)});return function(s){return o.apply(this,arguments)}}())}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&qn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(n){if(!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=n-1,i=this.#n.get(e);if(i)return i;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#i.set(s.refStr,n);const r=new bue(e,s,this,this._params.pdfBug);return this.#t.set(e,r),r});return this.#n.set(e,o),o}getPageIndex(n){return zF(n)?this.messageHandler.sendWithPromise("GetPageIndex",{num:n.num,gen:n.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(n,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:n,intent:e})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(n){return"string"!=typeof n?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:n})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(n){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:n})}getStructTree(n){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:n})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(n){return this.#o("GetOptionalContentConfig").then(e=>new jhe(e,n))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const n="GetMetadata",e=this.#e.get(n);if(e)return e;const i=this.messageHandler.sendWithPromise(n,null).then(o=>({info:o[0],metadata:o[1]?new Bhe(o[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(n,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(){var n=this;return je(function*(e=!1){if(!n.destroyed){yield n.messageHandler.sendWithPromise("Cleanup",null);for(const i of n.#t.values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);n.commonObjs.clear(),e||n.fontLoader.clear(),n.#e.clear(),n.filterFactory.destroy(!0),Lr.cleanup()}}).apply(this,arguments)}cachedPageNumber(n){return zF(n)?this.#i.get(0===n.gen?`${n.num}R`:`${n.num}R${n.gen}`)??null:null}}const D6=Symbol("INITIAL_DATA");class HF{#e=Object.create(null);#t(n){return this.#e[n]||={...Promise.withResolvers(),data:D6}}get(n,e=null){if(e){const o=this.#t(n);return o.promise.then(()=>e(o.data)),null}const i=this.#e[n];if(!i||i.data===D6)throw new Error(`Requesting object that isn't resolved yet ${n}.`);return i.data}has(n){const e=this.#e[n];return!!e&&e.data!==D6}resolve(n,e=null){const i=this.#t(n);i.data=e,i.resolve()}clear(){for(const n in this.#e){const{data:e}=this.#e[n];e?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const n in this.#e){const{data:e}=this.#e[n];e!==D6&&(yield[n,e])}}}class Oue{#e=null;constructor(n){this.#e=n,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(n=0){this.#e.cancel(null,n)}get separateAnnots(){const{separateAnnots:n}=this.#e.operatorList;if(!n)return!1;const{annotationCanvasMap:e}=this.#e;return n.form||n.canvas&&e?.size>0}}class L2{#e=null;static#t=new WeakSet;constructor({callback:n,params:e,objs:i,commonObjs:o,annotationCanvasMap:s,operatorList:r,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:g=!1,pageColors:f=null}){this.callback=n,this.params=e,this.objs=i,this.commonObjs=o,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=g,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Oue(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:n=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(L2.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");L2.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:o,transform:s,background:r}=this.params;this.gfx=new P2(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:o,transparency:n,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(n=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),L2.#t.delete(this._canvas),this.callback(n||new pM(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var n=this;return je(function*(){n.cancelled||(n.operatorListIdx=n.gfx.executeOperatorList(n.operatorList,n.operatorListIdx,n._continueBound,n.stepper),n.operatorListIdx===n.operatorList.argsArray.length&&(n.running=!1,n.operatorList.lastChunk&&(n.gfx.endDrawing(),L2.#t.delete(n._canvas),n.callback())))})()}}const Aue="4.8.69",Nue="3634dab10";function GF(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function K_(t){return Math.max(0,Math.min(255,255*t))}class $F{static CMYK_G([n,e,i,o]){return["G",1-Math.min(1,.3*n+.59*i+.11*e+o)]}static G_CMYK([n]){return["CMYK",0,0,0,1-n]}static G_RGB([n]){return["RGB",n,n,n]}static G_rgb([n]){return[n=K_(n),n,n]}static G_HTML([n]){const e=GF(n);return`#${e}${e}${e}`}static RGB_G([n,e,i]){return["G",.3*n+.59*e+.11*i]}static RGB_rgb(n){return n.map(K_)}static RGB_HTML(n){return`#${n.map(GF).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([n,e,i,o]){return["RGB",1-Math.min(1,n+o),1-Math.min(1,i+o),1-Math.min(1,e+o)]}static CMYK_rgb([n,e,i,o]){return[K_(1-Math.min(1,n+o)),K_(1-Math.min(1,i+o)),K_(1-Math.min(1,e+o))]}static CMYK_HTML(n){const e=this.CMYK_RGB(n).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([n,e,i]){const o=1-n,s=1-e,r=1-i;return["CMYK",o,s,r,Math.min(o,s,r)]}}class Due{create(n,e,i=!1){if(n<=0||e<=0)throw new Error("Invalid SVG dimensions");const o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),i||(o.setAttribute("width",`${n}px`),o.setAttribute("height",`${e}px`)),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${n} ${e}`),o}createElement(n){if("string"!=typeof n)throw new Error("Invalid SVG element type");return this._createSVG(n)}_createSVG(n){po("Abstract method `_createSVG` called.")}}class xM extends Due{_createSVG(n){return document.createElementNS(K0,n)}}class BF{static setupStorage(n,e,i,o,s){const r=o.getValue(e,{value:null});switch(i.name){case"textarea":if(null!==r.value&&(n.textContent=r.value),"print"===s)break;n.addEventListener("input",a=>{o.setValue(e,{value:a.target.value})});break;case"input":if("radio"===i.attributes.type||"checkbox"===i.attributes.type){if(r.value===i.attributes.xfaOn?n.setAttribute("checked",!0):r.value===i.attributes.xfaOff&&n.removeAttribute("checked"),"print"===s)break;n.addEventListener("change",a=>{o.setValue(e,{value:a.target.getAttribute(a.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==r.value&&n.setAttribute("value",r.value),"print"===s)break;n.addEventListener("input",a=>{o.setValue(e,{value:a.target.value})})}break;case"select":if(null!==r.value){n.setAttribute("value",r.value);for(const a of i.children)a.attributes.value===r.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}n.addEventListener("input",a=>{const l=a.target.options;o.setValue(e,{value:-1===l.selectedIndex?"":l[l.selectedIndex].value})})}}static setAttributes({html:n,element:e,storage:i=null,intent:o,linkService:s}){const{attributes:r}=e,a=n instanceof HTMLAnchorElement;"radio"===r.type&&(r.name=`${r.name}-${o}`);for(const[l,c]of Object.entries(r))if(null!=c)switch(l){case"class":c.length&&n.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":n.setAttribute("data-element-id",c);break;case"style":Object.assign(n.style,c);break;case"textContent":n.textContent=c;break;default:(!a||"href"!==l&&"newWindow"!==l)&&n.setAttribute(l,c)}a&&s.addLinkAttributes(n,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(n,r.dataId,e,i)}static render(n){const e=n.annotationStorage,i=n.linkService,o=n.xfaHtml,s=n.intent||"display",r=document.createElement(o.name);o.attributes&&this.setAttributes({html:r,element:o,intent:s,linkService:i});const a="richText"!==s,l=n.div;if(l.append(r),n.viewport){const g=`matrix(${n.viewport.transform.join(",")})`;l.style.transform=g}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(0===o.children.length){if(o.value){const g=document.createTextNode(o.value);r.append(g),a&&X_.shouldBuildText(o.name)&&c.push(g)}return{textDivs:c}}const h=[[o,-1,r]];for(;h.length>0;){const[g,f,v]=h.at(-1);if(f+1===g.children.length){h.pop();continue}const C=g.children[++h.at(-1)[1]];if(null===C)continue;const{name:S}=C;if("#text"===S){const I=document.createTextNode(C.value);c.push(I),v.append(I);continue}const D=C?.attributes?.xmlns?document.createElementNS(C.attributes.xmlns,S):document.createElement(S);if(v.append(D),C.attributes&&this.setAttributes({html:D,element:C,storage:e,intent:s,linkService:i}),C.children?.length>0)h.push([C,-1,D]);else if(C.value){const I=document.createTextNode(C.value);a&&X_.shouldBuildText(S)&&c.push(I),D.append(I)}}for(const g of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:c}}static update(n){const e=`matrix(${n.viewport.transform.join(",")})`;n.div.style.transform=e,n.div.hidden=!1}}const q_=1e3,m5=new WeakSet;function Y0(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class Pue{static create(n){switch(n.data.annotationType){case 2:return new UF(n);case 1:return new Iue(n);case 20:switch(n.data.fieldType){case"Tx":return new Lue(n);case"Btn":return n.data.radioButton?new jF(n):n.data.checkBox?new xue(n):new Fue(n);case"Ch":return new kue(n);case"Sig":return new Rue(n)}return new v5(n);case 16:return new FM(n);case 3:return new ZF(n);case 4:return new Vue(n);case 5:return new Hue(n);case 6:return new Gue(n);case 8:return new WF(n);case 14:return new Bue(n);case 15:return new kM(n);case 7:return new $ue(n);case 9:return new XF(n);case 10:return new Uue(n);case 11:return new jue(n);case 12:return new Zue(n);case 13:return new KF(n);case 17:return new Wue(n);default:return new Jo(n)}}}class Jo{#e=null;#t=!1;#n=null;constructor(n,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:o=!1}={}){this.isRenderable=e,this.data=n.data,this.layer=n.layer,this.linkService=n.linkService,this.downloadManager=n.downloadManager,this.imageResourcesPath=n.imageResourcesPath,this.renderForms=n.renderForms,this.svgFactory=n.svgFactory,this.annotationStorage=n.annotationStorage,this.enableScripting=n.enableScripting,this.hasJSActions=n.hasJSActions,this._fieldObjects=n.fieldObjects,this.parent=n.parent,e&&(this.container=this._createContainer(i)),o&&this._createQuadrilaterals()}static _hasPopupData({titleObj:n,contentsObj:e,richText:i}){return!!(n?.str||e?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Jo._hasPopupData(this.data)}updateEdited(n){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:e}=n;e&&this.#i(e),this.#n?.popup.updateEdited(n)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(n){const{container:{style:e},data:{rect:i,rotation:o},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:a,pageY:l}}}}=this;i?.splice(0,4,...n);const{width:c,height:h}=Y0(n);e.left=100*(n[0]-a)/s+"%",e.top=100*(r-n[3]+l)/r+"%",0===o?(e.width=100*c/s+"%",e.height=100*h/r+"%"):this.setRotation(o)}_createContainer(n){const{data:e,parent:{page:i,viewport:o}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof v5||(s.tabIndex=q_);const{style:r}=s;if(r.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof FM){const{rotation:S}=e;return!e.hasOwnCanvas&&0!==S&&this.setRotation(S,s),s}const{width:a,height:l}=Y0(e.rect);if(!n&&e.borderStyle.width>0){r.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,D=e.borderStyle.verticalCornerRadius;switch(S>0||D>0?r.borderRadius=`calc(${S}px * var(--scale-factor)) / calc(${D}px * var(--scale-factor))`:this instanceof jF&&(r.borderRadius=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`),e.borderStyle.style){case 1:r.borderStyle="solid";break;case 2:r.borderStyle="dashed";break;case 3:qn("Unimplemented border style: beveled");break;case 4:qn("Unimplemented border style: inset");break;case 5:r.borderBottomStyle="solid"}const I=e.borderColor||null;I?(this.#t=!0,r.borderColor=sn.makeHexColor(0|I[0],0|I[1],0|I[2])):r.borderWidth=0}const c=sn.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:g,pageX:f,pageY:v}=o.rawDims;r.left=100*(c[0]-f)/h+"%",r.top=100*(c[1]-v)/g+"%";const{rotation:C}=e;return e.hasOwnCanvas||0===C?(r.width=100*a/h+"%",r.height=100*l/g+"%"):this.setRotation(C,s),s}setRotation(n,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:o}=this.parent.viewport.rawDims,{width:s,height:r}=Y0(this.data.rect);let a,l;n%180==0?(a=100*s/i,l=100*r/o):(a=100*r/i,l=100*s/o),e.style.width=`${a}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-n)%360)}get _commonActions(){const n=(e,i,o)=>{const s=o.detail[e],r=s[0],a=s.slice(1);o.target.style[i]=$F[`${r}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:$F[`${r}_rgb`](a)})};return pi(this,"_commonActions",{display:e=>{const{display:i}=e.detail,o=i%2==1;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:o,noPrint:1===i||2===i})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{n("bgColor","backgroundColor",e)},fillColor:e=>{n("fillColor","backgroundColor",e)},fgColor:e=>{n("fgColor","color",e)},textColor:e=>{n("textColor","color",e)},borderColor:e=>{n("borderColor","borderColor",e)},strokeColor:e=>{n("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(n,e){const i=this._commonActions;for(const o of Object.keys(e.detail))(n[o]||i[o])?.(e)}_setDefaultPropertiesFromJS(n){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[o,s]of Object.entries(e)){const r=i[o];r&&(r({detail:{[o]:s},target:n}),delete e[o])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:n}=this.data;if(!n)return;const[e,i,o,s]=this.data.rect.map(S=>Math.fround(S));if(8===n.length){const[S,D,I,L]=n.subarray(2,6);if(o===S&&s===D&&e===I&&i===L)return}const{style:r}=this.container;let a;if(this.#t){const{borderColor:S,borderWidth:D}=r;r.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${D}">`],this.container.classList.add("hasBorder")}const l=o-e,c=s-i,{svgFactory:h}=this,g=h.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0);const f=h.createElement("defs");g.append(f);const v=h.createElement("clipPath"),C=`clippath_${this.data.id}`;v.setAttribute("id",C),v.setAttribute("clipPathUnits","objectBoundingBox"),f.append(v);for(let S=2,D=n.length;S<D;S+=8){const I=n[S],L=n[S+1],G=n[S+2],R=n[S+3],J=h.createElement("rect"),se=(G-e)/l,ve=(s-L)/c,pe=(I-G)/l,le=(L-R)/c;J.setAttribute("x",se),J.setAttribute("y",ve),J.setAttribute("width",pe),J.setAttribute("height",le),v.append(J),a?.push(`<rect vector-effect="non-scaling-stroke" x="${se}" y="${ve}" width="${pe}" height="${le}"/>`)}this.#t&&(a.push("</g></svg>')"),r.backgroundImage=a.join("")),this.container.append(g),this.container.style.clipPath=`url(#${C})`}_createPopup(){const{data:n}=this,e=this.#n=new FM({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){po("Abstract method `AnnotationElement.render` called")}_getElementsByName(n,e=null){const i=[];if(this._fieldObjects){const o=this._fieldObjects[n];if(o)for(const{page:s,id:r,exportValues:a}of o){if(-1===s||r===e)continue;const l="string"==typeof a?a:null,c=document.querySelector(`[data-element-id="${r}"]`);!c||m5.has(c)?i.push({id:r,exportValue:l,domElement:c}):qn(`_getElementsByName - element not allowed: ${r}`)}return i}for(const o of document.getElementsByName(n)){const{exportValue:s}=o,r=o.getAttribute("data-element-id");r!==e&&m5.has(o)&&i.push({id:r,exportValue:s,domElement:o})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const n=this.getElementsToTriggerPopup();if(Array.isArray(n))for(const e of n)e.classList.add("highlightArea");else n.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:n,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:n,editId:e})})}}class UF extends Jo{constructor(n,e=null){super(n,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let o=!1;return n.url?(e.addLinkAttributes(i,n.url,n.newWindow),o=!0):n.action?(this._bindNamedAction(i,n.action),o=!0):n.attachment?(this.#t(i,n.attachment,n.attachmentDest),o=!0):n.setOCGState?(this.#n(i,n.setOCGState),o=!0):n.dest?(this._bindLink(i,n.dest),o=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),o=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(i,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(n,e){n.href=this.linkService.getDestinationHash(e),n.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&this.#e()}_bindNamedAction(n,e){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#e()}#t(n,e,i=null){n.href=this.linkService.getAnchorUrl(""),e.description&&(n.title=e.description),n.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,i),!1),this.#e()}#n(n,e){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#e()}_bindJSAction(n,e){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(e.actions)){const s=i.get(o);s&&(n[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:o}}),!1))}n.onclick||(n.onclick=()=>!1),this.#e()}_bindResetFormAction(n,e){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects)return qn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(i||(n.onclick=()=>!1));n.onclick=()=>{i?.();const{fields:o,refs:s,include:r}=e,a=[];if(0!==o.length||0!==s.length){const h=new Set(s);for(const g of o){const f=this._fieldObjects[g]||[];for(const{id:v}of f)h.add(v)}for(const g of Object.values(this._fieldObjects))for(const f of g)h.has(f.id)===r&&a.push(f)}else for(const h of Object.values(this._fieldObjects))a.push(...h);const l=this.annotationStorage,c=[];for(const h of a){const{id:g}=h;switch(c.push(g),h.type){case"text":case"combobox":case"listbox":l.setValue(g,{value:h.defaultValue||""});break;case"checkbox":case"radiobutton":l.setValue(g,{value:h.defaultValue===h.exportValues});break;default:continue}const f=document.querySelector(`[data-element-id="${g}"]`);f&&(m5.has(f)?f.dispatchEvent(new Event("resetform")):qn(`_bindResetFormAction - element not allowed: ${g}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class Iue extends Jo{constructor(n){super(n,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const n=document.createElement("img");return n.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",n.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),n.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(n),this.container}}class v5 extends Jo{render(){return this.container}showElementAndHideCanvas(n){this.data.hasOwnCanvas&&("CANVAS"===n.previousSibling?.nodeName&&(n.previousSibling.hidden=!0),n.hidden=!1)}_getKeyModifier(n){return Pr.platform.isMac?n.metaKey:n.ctrlKey}_setEventListener(n,e,i,o,s){i.includes("mouse")?n.addEventListener(i,r=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:s(r),shift:r.shiftKey,modifier:this._getKeyModifier(r)}})}):n.addEventListener(i,r=>{if("blur"===i){if(!e.focused||!r.relatedTarget)return;e.focused=!1}else if("focus"===i){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:s(r)}})})}_setEventListeners(n,e,i,o){for(const[s,r]of i)("Action"===r||this.data.actions?.[r])&&(("Focus"===r||"Blur"===r)&&(e||={focused:!1}),this._setEventListener(n,e,s,r,o),"Focus"!==r||this.data.actions?.Blur?"Blur"===r&&!this.data.actions?.Focus&&this._setEventListener(n,e,"focus","Focus",null):this._setEventListener(n,e,"blur","Blur",null))}_setBackgroundColor(n){const e=this.data.backgroundColor||null;n.style.backgroundColor=null===e?"transparent":sn.makeHexColor(e[0],e[1],e[2])}_setTextStyle(n){const{fontColor:i}=this.data.defaultAppearanceData,o=this.data.defaultAppearanceData.fontSize||9,s=n.style;let r;const l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-2),h=Math.round(c/(1.35*o))||1;r=Math.min(o,l(c/h/1.35))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(o,l(c/1.35))}s.fontSize=`calc(${r}px * var(--scale-factor))`,s.color=sn.makeHexColor(i[0],i[1],i[2]),null!==this.data.textAlignment&&(s.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(n,e){e?n.setAttribute("required",!0):n.removeAttribute("required"),n.setAttribute("aria-required",e)}}class Lue extends v5{constructor(n){super(n,{isRenderable:n.renderForms||n.data.hasOwnCanvas||!n.data.hasAppearance&&!!n.data.fieldValue})}setPropertyOnSiblings(n,e,i,o){const s=this.annotationStorage;for(const r of this._getElementsByName(n.name,n.id))r.domElement&&(r.domElement[e]=i),s.setValue(r.id,{[o]:i})}render(){const n=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=n.getValue(e,{value:this.data.fieldValue});let s=o.value||"";const r=n.getValue(e,{charLimit:this.data.maxLen}).charLimit;r&&s.length>r&&(s=s.slice(0,r));let a=o.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=a??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",a??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),m5.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=q_,this._setRequired(i,this.data.required),r&&(i.maxLength=r),i.addEventListener("input",h=>{n.setValue(e,{value:h.target.value}),this.setPropertyOnSiblings(i,"value",h.target.value,"value"),l.formattedValue=null}),i.addEventListener("resetform",h=>{i.value=l.userValue=this.data.defaultFieldValue??"",l.formattedValue=null});let c=h=>{const{formattedValue:g}=l;null!=g&&(h.target.value=g),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",g=>{if(l.focused)return;const{target:f}=g;l.userValue&&(f.value=l.userValue),l.lastCommittedValue=f.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),i.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target),this._dispatchEventFromSandbox({value(v){l.userValue=v.detail.value??"",n.setValue(e,{value:l.userValue.toString()}),v.target.value=l.userValue},formattedValue(v){const{formattedValue:C}=v.detail;l.formattedValue=C,null!=C&&v.target!==document.activeElement&&(v.target.value=C),n.setValue(e,{formattedValue:C})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{const{charLimit:C}=v.detail,{target:S}=v;if(0===C)return void S.removeAttribute("maxLength");S.setAttribute("maxLength",C);let D=l.userValue;!D||D.length<=C||(D=D.slice(0,C),S.value=l.userValue=D,n.setValue(e,{value:D}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}},g)}),i.addEventListener("keydown",g=>{l.commitKey=1;let f=-1;if("Escape"===g.key?f=0:"Enter"!==g.key||this.data.multiLine?"Tab"===g.key&&(l.commitKey=3):f=2,-1===f)return;const{value:v}=g.target;l.lastCommittedValue!==v&&(l.lastCommittedValue=v,l.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:f,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const h=c;c=null,i.addEventListener("blur",g=>{if(!l.focused||!g.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{value:f}=g.target;l.userValue=f,l.lastCommittedValue!==f&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,willCommit:!0,commitKey:l.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}),h(g)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",g=>{l.lastCommittedValue=null;const{data:f,target:v}=g,{value:C,selectionStart:S,selectionEnd:D}=v;let I=S,L=D;switch(g.inputType){case"deleteWordBackward":{const G=C.substring(0,S).match(/\w*[^\w]*$/);G&&(I-=G[0].length);break}case"deleteWordForward":{const G=C.substring(S).match(/^[^\w]*\w*/);G&&(L+=G[0].length);break}case"deleteContentBackward":S===D&&(I-=1);break;case"deleteContentForward":S===D&&(L+=1)}g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:f||"",willCommit:!1,selStart:I,selEnd:L}})}),this._setEventListeners(i,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(c&&i.addEventListener("blur",c),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/r;i.classList.add("comb"),i.style.letterSpacing=`calc(${g}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Rue extends v5{constructor(n){super(n,{isRenderable:!!n.data.hasOwnCanvas})}}class xue extends v5{constructor(n){super(n,{isRenderable:n.renderForms})}render(){const n=this.annotationStorage,e=this.data,i=e.id;let o=n.getValue(i,{value:e.exportValue===e.fieldValue}).value;"string"==typeof o&&(o="Off"!==o,n.setValue(i,{value:o})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return m5.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,o&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=q_,s.addEventListener("change",r=>{const{name:a,checked:l}=r.target;for(const c of this._getElementsByName(a,i)){const h=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=h),n.setValue(c.id,{value:h})}n.setValue(i,{value:l})}),s.addEventListener("resetform",r=>{r.target.checked=(e.defaultFieldValue||"Off")===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({value(l){l.target.checked="Off"!==l.detail.value,n.setValue(i,{value:l.target.checked})}},r)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],r=>r.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class jF extends v5{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const n=this.annotationStorage,e=this.data,i=e.id;let o=n.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if("string"==typeof o&&(o=o!==e.buttonValue,n.setValue(i,{value:o})),o)for(const r of this._getElementsByName(e.fieldName,i))n.setValue(r.id,{value:!1});const s=document.createElement("input");if(m5.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,o&&s.setAttribute("checked",!0),s.tabIndex=q_,s.addEventListener("change",r=>{const{name:a,checked:l}=r.target;for(const c of this._getElementsByName(a,i))n.setValue(c.id,{value:!1});n.setValue(i,{value:l})}),s.addEventListener("resetform",r=>{const a=e.defaultFieldValue;r.target.checked=null!=a&&a===e.buttonValue}),this.enableScripting&&this.hasJSActions){const r=e.buttonValue;s.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({value:c=>{const h=r===c.detail.value;for(const g of this._getElementsByName(c.target.name)){const f=h&&g.id===i;g.domElement&&(g.domElement.checked=f),n.setValue(g.id,{value:f})}}},a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Fue extends UF{constructor(n){super(n,{ignoreBorder:n.data.hasAppearance})}render(){const n=super.render();n.classList.add("buttonWidgetAnnotation","pushButton");const e=n.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),n}}class kue extends v5{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const n=this.annotationStorage,e=this.data.id,i=n.getValue(e,{value:this.data.fieldValue}),o=document.createElement("select");m5.add(o),o.setAttribute("data-element-id",e),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=q_;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",h=>{const g=this.data.defaultFieldValue;for(const f of o.options)f.selected=f.value===g});for(const h of this.data.options){const g=document.createElement("option");g.textContent=h.displayValue,g.value=h.exportValue,i.value.includes(h.exportValue)&&(g.setAttribute("selected",!0),s=!1),o.append(g)}let r=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),o.prepend(h),r=()=>{h.remove(),o.removeEventListener("input",r),r=null},o.addEventListener("input",r)}const a=h=>{const g=h?"value":"textContent",{options:f,multiple:v}=o;return v?Array.prototype.filter.call(f,C=>C.selected).map(C=>C[g]):-1===f.selectedIndex?null:f[f.selectedIndex][g]};let l=a(!1);const c=h=>Array.prototype.map.call(h.target.options,f=>({displayValue:f.textContent,exportValue:f.value}));return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",h=>{this._dispatchEventFromSandbox({value(f){r?.();const v=f.detail.value,C=new Set(Array.isArray(v)?v:[v]);for(const S of o.options)S.selected=C.has(S.value);n.setValue(e,{value:a(!0)}),l=a(!1)},multipleSelection(f){o.multiple=!0},remove(f){const v=o.options,C=f.detail.remove;v[C].selected=!1,o.remove(C),v.length>0&&-1===Array.prototype.findIndex.call(v,D=>D.selected)&&(v[0].selected=!0),n.setValue(e,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;0!==o.length;)o.remove(0);n.setValue(e,{value:null,items:[]}),l=a(!1)},insert(f){const{index:v,displayValue:C,exportValue:S}=f.detail.insert,D=o.children[v],I=document.createElement("option");I.textContent=C,I.value=S,D?D.before(I):o.append(I),n.setValue(e,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:v}=f.detail;for(;0!==o.length;)o.remove(0);for(const C of v){const{displayValue:S,exportValue:D}=C,I=document.createElement("option");I.textContent=S,I.value=D,o.append(I)}o.options.length>0&&(o.options[0].selected=!0),n.setValue(e,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const v=new Set(f.detail.indices);for(const C of f.target.options)C.selected=v.has(C.index);n.setValue(e,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}},h)}),o.addEventListener("input",h=>{const g=a(!0),f=a(!1);n.setValue(e,{value:g}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:f,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):o.addEventListener("input",function(h){n.setValue(e,{value:a(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class FM extends Jo{constructor(n){const{data:e,elements:i}=n;super(n,{isRenderable:Jo._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const n=this.popup=new zue({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${_M}${i}`).join(",")),this.container}}class zue{#e=this.#y.bind(this);#t=this.#O.bind(this);#n=this.#N.bind(this);#i=this.#S.bind(this);#s=null;#o=null;#l=null;#c=null;#d=null;#a=null;#h=null;#r=!1;#u=null;#g=null;#_=null;#p=null;#m=null;#f=null;#v=!1;constructor({container:n,color:e,elements:i,titleObj:o,modificationDate:s,contentsObj:r,richText:a,parent:l,rect:c,parentRect:h,open:g}){this.#o=n,this.#m=o,this.#l=r,this.#p=a,this.#a=l,this.#s=e,this.#_=c,this.#h=h,this.#d=i,this.#c=lF.toDateObject(s),this.trigger=i.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",this.#i),f.addEventListener("mouseenter",this.#n),f.addEventListener("mouseleave",this.#t),f.classList.add("popupTriggerArea");for(const f of i)f.container?.addEventListener("keydown",this.#e);this.#o.hidden=!0,g&&this.#S()}render(){if(this.#u)return;const n=this.#u=document.createElement("div");if(n.className="popup",this.#s){const s=n.style.outlineColor=sn.makeHexColor(...this.#s);n.style.backgroundColor=CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?`color-mix(in srgb, ${s} 30%, white)`:sn.makeHexColor(...this.#s.map(a=>Math.floor(.7*(255-a)+a)))}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),({dir:i.dir,str:i.textContent}=this.#m),n.append(e),this.#c){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),e.append(s)}const o=this.#M;if(o)BF.render({xfaHtml:o,intent:"richText",div:n}),n.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(this.#l);n.append(s)}this.#o.append(n)}get#M(){const n=this.#p,e=this.#l;return n?.str&&(!e?.str||e.str===n.str)&&this.#p.html||null}get#b(){return this.#M?.attributes?.style?.fontSize||0}get#T(){return this.#M?.attributes?.style?.color||null}#w(n){const e=[],i={str:n,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},o={style:{color:this.#T,fontSize:this.#b?`calc(${this.#b}px * var(--scale-factor))`:""}};for(const s of n.split("\n"))e.push({name:"span",value:s,attributes:o});return i}_formatContents({str:n,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const o=n.split(/(?:\r\n?|\n)/);for(let s=0,r=o.length;s<r;++s)i.append(document.createTextNode(o[s])),s<r-1&&i.append(document.createElement("br"));return i}#y(n){n.altKey||n.shiftKey||n.ctrlKey||n.metaKey||("Enter"===n.key||"Escape"===n.key&&this.#r)&&this.#S()}updateEdited({rect:n,popupContent:e}){this.#f||={contentsObj:this.#l,richText:this.#p},n&&(this.#g=null),e&&(this.#p=this.#w(e),this.#l=null),this.#u?.remove(),this.#u=null}resetEdited(){this.#f&&(({contentsObj:this.#l,richText:this.#p}=this.#f),this.#f=null,this.#u?.remove(),this.#u=null,this.#g=null)}#A(){if(null!==this.#g)return;const{page:{view:n},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:o,pageY:s}}}=this.#a;let r=!!this.#h,a=r?this.#h:this.#_;for(const C of this.#d)if(!a||null!==sn.intersect(C.data.rect,a)){a=C.data.rect,r=!0;break}const l=sn.normalizeRect([a[0],n[3]-a[1]+n[1],a[2],n[3]-a[3]+n[1]]);this.#g=[100*(l[0]+(r?a[2]-a[0]+5:0)-o)/e,100*(l[1]-s)/i];const{style:v}=this.#o;v.left=`${this.#g[0]}%`,v.top=`${this.#g[1]}%`}#S(){this.#r=!this.#r,this.#r?(this.#N(),this.#o.addEventListener("click",this.#i),this.#o.addEventListener("keydown",this.#e)):(this.#O(),this.#o.removeEventListener("click",this.#i),this.#o.removeEventListener("keydown",this.#e))}#N(){this.#u||this.render(),this.isVisible?this.#r&&this.#o.classList.add("focused"):(this.#A(),this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#O(){this.#o.classList.remove("focused"),!this.#r&&this.isVisible&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#o.hidden=!0)}maybeShow(){this.#v&&(this.#u||this.#N(),this.#v=!1,this.#o.hidden=!1)}get isVisible(){return!1===this.#o.hidden}}class ZF extends Jo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0}),this.textContent=n.data.textContent,this.textPosition=n.data.textPosition,this.annotationEditorType=jn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const n=document.createElement("div");n.classList.add("annotationTextContent"),n.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,n.append(i)}this.container.append(n)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Vue extends Jo{#e=null;constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:e,height:i}=Y0(n.rect),o=this.svgFactory.create(e,i,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Hue extends Jo{#e=null;constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:e,height:i}=Y0(n.rect),o=this.svgFactory.create(e,i,!0),s=n.borderStyle.width,r=this.#e=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",s/2),r.setAttribute("y",s/2),r.setAttribute("width",e-s),r.setAttribute("height",i-s),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),o.append(r),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Gue extends Jo{#e=null;constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:e,height:i}=Y0(n.rect),o=this.svgFactory.create(e,i,!0),s=n.borderStyle.width,r=this.#e=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",e/2),r.setAttribute("cy",i/2),r.setAttribute("rx",e/2-s/2),r.setAttribute("ry",i/2-s/2),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),o.append(r),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class WF extends Jo{#e=null;constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:e,borderStyle:i,popupRef:o}}=this;if(!e)return this.container;const{width:s,height:r}=Y0(n),a=this.svgFactory.create(s,r,!0);let l=[];for(let h=0,g=e.length;h<g;h+=2)l.push(`${e[h]-n[0]},${n[3]-e[h+1]}`);l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class $ue extends WF{constructor(n){super(n),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Bue extends Jo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class kM extends Jo{#e=[];constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?jn.HIGHLIGHT:jn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:e,borderStyle:i,popupRef:o}}=this,{width:s,height:r}=Y0(n),a=this.svgFactory.create(s,r,!0);for(const l of e){let c=[];for(let g=0,f=l.length;g<f;g+=2)c.push(`${l[g]-n[0]},${n[3]-l[g+1]}`);c=c.join(" ");const h=this.svgFactory.createElement(this.svgElementName);this.#e.push(h),h.setAttribute("points",c),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),a.append(h)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(a),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class XF extends Jo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=jn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Uue extends Jo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class jue extends Jo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Zue extends Jo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class KF extends Jo{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=jn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Wue extends Jo{#e=null;constructor(n){super(n,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:e}=this;let i;e.hasAppearance||0===e.fillAlpha?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(100*e.fillAlpha)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;const{isMac:o}=Pr.platform;return n.addEventListener("keydown",s=>{"Enter"===s.key&&(o?s.metaKey:s.ctrlKey)&&this.#t()}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Xue{#e=null;#t=null;#n=new Map;#i=null;constructor({div:n,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:o,page:s,viewport:r,structTreeLayer:a}){this.div=n,this.#e=e,this.#t=i,this.#i=a||null,this.page=s,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=o}hasEditableAnnotations(){return this.#n.size>0}#s(n,e){var i=this;return je(function*(){const o=n.firstChild||n,s=o.id=`${_M}${e}`,r=yield i.#i?.getAriaAttributes(s);if(r)for(const[a,l]of r)o.setAttribute(a,l);i.div.append(n),i.#e?.moveElementInDOM(i.div,n,o,!1)})()}render(n){var e=this;return je(function*(){const{annotations:i}=n,o=e.div;f5(o,e.viewport);const s=new Map,r={data:null,layer:o,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:!1!==n.renderForms,svgFactory:new xM,annotationStorage:n.annotationStorage||new wM,enableScripting:!0===n.enableScripting,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,parent:e,elements:null};for(const a of i){if(a.noHTML)continue;const l=16===a.annotationType;if(l){const g=s.get(a.id);if(!g)continue;r.elements=g}else{const{width:g,height:f}=Y0(a.rect);if(g<=0||f<=0)continue}r.data=a;const c=Pue.create(r);if(!c.isRenderable)continue;if(!l&&a.popupRef){const g=s.get(a.popupRef);g?g.push(c):s.set(a.popupRef,[c])}const h=c.render();a.hidden&&(h.style.visibility="hidden"),yield e.#s(h,a.id),c._isEditable&&(e.#n.set(c.data.id,c),e._annotationEditorUIManager?.renderAnnotationElement(c))}e.#o()})()}update({viewport:n}){const e=this.div;this.viewport=n,f5(e,{rotation:n.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#t)return;const n=this.div;for(const[e,i]of this.#t){const o=n.querySelector(`[data-annotation-id="${e}"]`);if(!o)continue;i.className="annotationContent";const{firstChild:s}=o;s?"CANVAS"===s.nodeName?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):o.append(i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(n){return this.#n.get(n)}}const y6=/\r\n?|\n/g;class As extends yn{#e;#t="";#n=`${this.id}-editor`;#i=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const n=As.prototype,e=s=>s.isEmpty(),i=U_.TRANSLATE_SMALL,o=U_.TRANSLATE_BIG;return pi(this,"_keyboardManager",new B_([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,o],checker:e}]]))}static _type="freetext";static _editorType=jn.FREETEXT;constructor(n){super({...n,name:"freeTextEditor"}),this.#e=n.color||As._defaultColor||yn._defaultLineColor,this.#s=n.fontSize||As._defaultFontSize}static initialize(n,e){yn.initialize(n,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,e){switch(n){case Dn.FREETEXT_SIZE:As._defaultFontSize=e;break;case Dn.FREETEXT_COLOR:As._defaultColor=e}}updateParams(n,e){switch(n){case Dn.FREETEXT_SIZE:this.#o(e);break;case Dn.FREETEXT_COLOR:this.#l(e)}}static get defaultPropertiesToUpdate(){return[[Dn.FREETEXT_SIZE,As._defaultFontSize],[Dn.FREETEXT_COLOR,As._defaultColor||yn._defaultLineColor]]}get propertiesToUpdate(){return[[Dn.FREETEXT_SIZE,this.#s],[Dn.FREETEXT_COLOR,this.#e]]}#o(n){const e=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-this.#s)*this.parentScale),this.#s=o,this.#d()},i=this.#s;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(n){const e=o=>{this.#e=this.editorDiv.style.color=o},i=this.#e;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(n,e){this._uiManager.translateSelectedEditors(n,e,!0)}getInitialTranslation(){const n=this.parentScale;return[-As._internalPadding*n,-(As._internalPadding+this.#s)*n]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(jn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const n=this._uiManager.combinedSignal(this.#i);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#c(){const n=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&"BR"===i.nodeName||(n.push(As.#a(i)),e=i);return n.join("\n")}#d(){const[n,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:o,div:s}=this,r=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",o.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=r,s.classList.toggle("hidden",a)}this.rotation%180==this.parentRotation%180?(this.width=i.width/n,this.height=i.height/e):(this.width=i.height/n,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=this.#t,e=this.#t=this.#c().trimEnd();if(n===e)return;const i=o=>{this.#t=o,o?(this.#h(),this._uiManager.rebuild(this),this.#d()):this.remove()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(n)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&"Enter"===n.key&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){As._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,e;this.width&&(n=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#s}px * var(--scale-factor))`,i.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),S6(this,this.div,["dblclick","keydown"]),this.width){const[o,s]=this.parentDimensions;if(this.annotationElementId){const{position:r}=this._initialData;let[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);const[c,h]=this.pageDimensions,[g,f]=this.pageTranslation;let v,C;switch(this.rotation){case 0:v=n+(r[0]-g)/c,C=e+this.height-(r[1]-f)/h;break;case 90:v=n+(r[0]-g)/c,C=e-(r[1]-f)/h,[a,l]=[l,-a];break;case 180:v=n-this.width+(r[0]-g)/c,C=e-(r[1]-f)/h,[a,l]=[-a,-l];break;case 270:v=n+(r[0]-g-this.height*h)/c,C=e+(r[1]-f-this.width*c)/h,[a,l]=[-l,a]}this.setAt(v*o,C*s,a,l)}else this.setAt(n*o,e*s,this.width*o,this.height*s);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#a(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(y6,"")}editorDivPaste(n){const e=n.clipboardData||window.clipboardData,{types:i}=e;if(1===i.length&&"text/plain"===i[0])return;n.preventDefault();const o=As.#u(e.getData("text")||"").replaceAll(y6,"\n");if(!o)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const r=s.getRangeAt(0);if(!o.includes("\n"))return r.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:a,startOffset:l}=r,c=[],h=[];if(a.nodeType===Node.TEXT_NODE){const v=a.parentElement;if(h.push(a.nodeValue.slice(l).replaceAll(y6,"")),v!==this.editorDiv){let C=c;for(const S of this.editorDiv.childNodes)S!==v?C.push(As.#a(S)):C=h}c.push(a.nodeValue.slice(0,l).replaceAll(y6,""))}else if(a===this.editorDiv){let v=c,C=0;for(const S of this.editorDiv.childNodes)C++===l&&(v=h),v.push(As.#a(S))}this.#t=`${c.join("\n")}${o}${h.join("\n")}`,this.#h();const g=new Range;let f=c.reduce((v,C)=>v+C.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const C=v.nodeValue.length;if(f<=C){g.setStart(v,f),g.setEnd(v,f);break}f-=C}s.removeAllRanges(),s.addRange(g)}#h(){if(this.editorDiv.replaceChildren(),this.#t)for(const n of this.#t.split("\n")){const e=document.createElement("div");e.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(e)}}#r(){return this.#t.replaceAll("\xa0"," ")}static#u(n){return n.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static deserialize(n,e,i){var o=()=>super.deserialize,s=this;return je(function*(){let r=null;if(n instanceof ZF){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:g,id:f,popupRef:v},textContent:C,textPosition:S,parent:{page:{pageNumber:D}}}=n;if(!C||0===C.length)return null;r=n={annotationType:jn.FREETEXT,color:Array.from(c),fontSize:l,value:C.join("\n"),position:S,pageIndex:D-1,rect:h.slice(0),rotation:g,id:f,deleted:!1,popupRef:v}}const a=yield o().call(s,n,e,i);return a.#s=n.fontSize,a.#e=sn.makeHexColor(...n.color),a.#t=As.#u(n.value),a.annotationElementId=n.id||null,a._initialData=r,a})()}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=As._internalPadding*this.parentScale,i=this.getRect(e,e),o=yn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),s={annotationType:jn.FREETEXT,color:o,fontSize:this.#s,value:this.#r(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?s:this.annotationElementId&&!this.#g(s)?null:(s.id=this.annotationElementId,s)}#g(n){const{value:e,fontSize:i,color:o,pageIndex:s}=this._initialData;return this._hasBeenMoved||n.value!==e||n.fontSize!==i||n.color.some((r,a)=>r!==o[a])||n.pageIndex!==s}renderAnnotationElement(n){const e=super.renderAnnotationElement(n);if(this.deleted)return e;const{style:i}=e;i.fontSize=`calc(${this.#s}px * var(--scale-factor))`,i.color=this.#e,e.replaceChildren();for(const s of this.#t.split("\n")){const r=document.createElement("div");r.append(s?document.createTextNode(s):document.createElement("br")),e.append(r)}const o=As._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(o,o),popupContent:this.#t}),e}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}}class qF{toSVGPath(){po("Abstract method `toSVGPath` must be implemented.")}get box(){po("Abstract getter `box` must be implemented.")}serialize(n,e){po("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){po("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){po("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}class C5{#e;#t=[];#n;#i;#s=[];#o=new Float64Array(18);#l;#c;#d;#a;#h;#r;#u=[];static#g=8;static#_=2;static#p=C5.#g+C5.#_;constructor({x:n,y:e},i,o,s,r,a=0){this.#e=i,this.#r=s*o,this.#i=r,this.#o.set([NaN,NaN,NaN,NaN,n,e],6),this.#n=a,this.#a=C5.#g*o,this.#d=C5.#p*o,this.#h=o,this.#u.push(n,e)}isEmpty(){return isNaN(this.#o[8])}#m(){const n=this.#o.subarray(4,6),e=this.#o.subarray(16,18),[i,o,s,r]=this.#e;return[(this.#l+(n[0]-e[0])/2-i)/s,(this.#c+(n[1]-e[1])/2-o)/r,(this.#l+(e[0]-n[0])/2-i)/s,(this.#c+(e[1]-n[1])/2-o)/r]}add({x:n,y:e}){this.#l=n,this.#c=e;const[i,o,s,r]=this.#e;let[a,l,c,h]=this.#o.subarray(8,12);const g=n-c,f=e-h,v=Math.hypot(g,f);if(v<this.#d)return!1;const C=v-this.#a,S=C/v,D=S*g,I=S*f;let L=a,G=l;a=c,l=h,c+=D,h+=I,this.#u?.push(n,e);const se=-I/C*this.#r,ve=D/C*this.#r;return this.#o.set(this.#o.subarray(2,8),0),this.#o.set([c+se,h+ve],4),this.#o.set(this.#o.subarray(14,18),12),this.#o.set([c-se,h-ve],16),isNaN(this.#o[6])?(0===this.#s.length&&(this.#o.set([a+se,l+ve],2),this.#s.push(NaN,NaN,NaN,NaN,(a+se-i)/s,(l+ve-o)/r),this.#o.set([a-se,l-ve],14),this.#t.push(NaN,NaN,NaN,NaN,(a-se-i)/s,(l-ve-o)/r)),this.#o.set([L,G,a,l,c,h],6),!this.isEmpty()):(this.#o.set([L,G,a,l,c,h],6),Math.abs(Math.atan2(G-l,L-a)-Math.atan2(I,D))<Math.PI/2?([a,l,c,h]=this.#o.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((l+h)/2-o)/r),[a,l,L,G]=this.#o.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((L+a)/2-i)/s,((G+l)/2-o)/r),!0):([L,G,a,l,c,h]=this.#o.subarray(0,6),this.#s.push(((L+5*a)/6-i)/s,((G+5*l)/6-o)/r,((5*a+c)/6-i)/s,((5*l+h)/6-o)/r,((a+c)/2-i)/s,((l+h)/2-o)/r),[c,h,a,l,L,G]=this.#o.subarray(12,18),this.#t.push(((L+5*a)/6-i)/s,((G+5*l)/6-o)/r,((5*a+c)/6-i)/s,((5*l+h)/6-o)/r,((a+c)/2-i)/s,((l+h)/2-o)/r),!0))}toSVGPath(){if(this.isEmpty())return"";const n=this.#s,e=this.#t;if(isNaN(this.#o[6])&&!this.isEmpty())return this.#f();const i=[];i.push(`M${n[4]} ${n[5]}`);for(let o=6;o<n.length;o+=6)isNaN(n[o])?i.push(`L${n[o+4]} ${n[o+5]}`):i.push(`C${n[o]} ${n[o+1]} ${n[o+2]} ${n[o+3]} ${n[o+4]} ${n[o+5]}`);this.#M(i);for(let o=e.length-6;o>=6;o-=6)isNaN(e[o])?i.push(`L${e[o+4]} ${e[o+5]}`):i.push(`C${e[o]} ${e[o+1]} ${e[o+2]} ${e[o+3]} ${e[o+4]} ${e[o+5]}`);return this.#v(i),i.join(" ")}#f(){const[n,e,i,o]=this.#e,[s,r,a,l]=this.#m();return`M${(this.#o[2]-n)/i} ${(this.#o[3]-e)/o} L${(this.#o[4]-n)/i} ${(this.#o[5]-e)/o} L${s} ${r} L${a} ${l} L${(this.#o[16]-n)/i} ${(this.#o[17]-e)/o} L${(this.#o[14]-n)/i} ${(this.#o[15]-e)/o} Z`}#v(n){const e=this.#t;n.push(`L${e[4]} ${e[5]} Z`)}#M(n){const[e,i,o,s]=this.#e,r=this.#o.subarray(4,6),a=this.#o.subarray(16,18),[l,c,h,g]=this.#m();n.push(`L${(r[0]-e)/o} ${(r[1]-i)/s} L${l} ${c} L${h} ${g} L${(a[0]-e)/o} ${(a[1]-i)/s}`)}newFreeDrawOutline(n,e,i,o,s,r){return new YF(n,e,i,o,s,r)}getOutlines(){const n=this.#s,e=this.#t,i=this.#o,[o,s,r,a]=this.#e,l=new Float64Array((this.#u?.length??0)+2);for(let g=0,f=l.length-2;g<f;g+=2)l[g]=(this.#u[g]-o)/r,l[g+1]=(this.#u[g+1]-s)/a;if(l[l.length-2]=(this.#l-o)/r,l[l.length-1]=(this.#c-s)/a,isNaN(i[6])&&!this.isEmpty())return this.#b(l);const c=new Float64Array(this.#s.length+24+this.#t.length);let h=n.length;for(let g=0;g<h;g+=2)isNaN(n[g])?c[g]=c[g+1]=NaN:(c[g]=n[g],c[g+1]=n[g+1]);h=this.#w(c,h);for(let g=e.length-6;g>=6;g-=6)for(let f=0;f<6;f+=2)isNaN(e[g+f])?(c[h]=c[h+1]=NaN,h+=2):(c[h]=e[g+f],c[h+1]=e[g+f+1],h+=2);return this.#T(c,h),this.newFreeDrawOutline(c,l,this.#e,this.#h,this.#n,this.#i)}#b(n){const e=this.#o,[i,o,s,r]=this.#e,[a,l,c,h]=this.#m(),g=new Float64Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-i)/s,(e[3]-o)/r,NaN,NaN,NaN,NaN,(e[4]-i)/s,(e[5]-o)/r,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(e[16]-i)/s,(e[17]-o)/r,NaN,NaN,NaN,NaN,(e[14]-i)/s,(e[15]-o)/r],0),this.newFreeDrawOutline(g,n,this.#e,this.#h,this.#n,this.#i)}#T(n,e){const i=this.#t;return n.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+6}#w(n,e){const i=this.#o.subarray(4,6),o=this.#o.subarray(16,18),[s,r,a,l]=this.#e,[c,h,g,f]=this.#m();return n.set([NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-r)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,g,f,NaN,NaN,NaN,NaN,(o[0]-s)/a,(o[1]-r)/l],e),e+24}}class YF extends qF{#e;#t=null;#n;#i;#s;#o;#l;constructor(n,e,i,o,s,r){super(),this.#l=n,this.#s=e,this.#e=i,this.#o=o,this.#n=s,this.#i=r,this.#a(r);const{x:a,y:l,width:c,height:h}=this.#t;for(let g=0,f=n.length;g<f;g+=2)n[g]=(n[g]-a)/c,n[g+1]=(n[g+1]-l)/h;for(let g=0,f=e.length;g<f;g+=2)e[g]=(e[g]-a)/c,e[g+1]=(e[g+1]-l)/h}toSVGPath(){const n=[`M${this.#l[4]} ${this.#l[5]}`];for(let e=6,i=this.#l.length;e<i;e+=6)isNaN(this.#l[e])?n.push(`L${this.#l[e+4]} ${this.#l[e+5]}`):n.push(`C${this.#l[e]} ${this.#l[e+1]} ${this.#l[e+2]} ${this.#l[e+3]} ${this.#l[e+4]} ${this.#l[e+5]}`);return n.push("Z"),n.join(" ")}serialize([n,e,i,o],s){const r=i-n,a=o-e;let l,c;switch(s){case 0:l=this.#c(this.#l,n,o,r,-a),c=this.#c(this.#s,n,o,r,-a);break;case 90:l=this.#d(this.#l,n,e,r,a),c=this.#d(this.#s,n,e,r,a);break;case 180:l=this.#c(this.#l,i,e,-r,a),c=this.#c(this.#s,i,e,-r,a);break;case 270:l=this.#d(this.#l,i,o,-r,-a),c=this.#d(this.#s,i,o,-r,-a)}return{outline:Array.from(l),points:[Array.from(c)]}}#c(n,e,i,o,s){const r=new Float64Array(n.length);for(let a=0,l=n.length;a<l;a+=2)r[a]=e+n[a]*o,r[a+1]=i+n[a+1]*s;return r}#d(n,e,i,o,s){const r=new Float64Array(n.length);for(let a=0,l=n.length;a<l;a+=2)r[a]=e+n[a+1]*o,r[a+1]=i+n[a]*s;return r}#a(n){const e=this.#l;let i=e[4],o=e[5],s=i,r=o,a=i,l=o,c=i,h=o;const g=n?Math.max:Math.min;for(let D=6,I=e.length;D<I;D+=6){if(isNaN(e[D]))s=Math.min(s,e[D+4]),r=Math.min(r,e[D+5]),a=Math.max(a,e[D+4]),l=Math.max(l,e[D+5]),h<e[D+5]?(c=e[D+4],h=e[D+5]):h===e[D+5]&&(c=g(c,e[D+4]));else{const L=sn.bezierBoundingBox(i,o,...e.slice(D,D+6));s=Math.min(s,L[0]),r=Math.min(r,L[1]),a=Math.max(a,L[2]),l=Math.max(l,L[3]),h<L[3]?(c=L[2],h=L[3]):h===L[3]&&(c=g(c,L[2]))}i=e[D+4],o=e[D+5]}const f=s-this.#n,v=r-this.#n,C=a-s+2*this.#n,S=l-r+2*this.#n;this.#t={x:f,y:v,width:C,height:S,lastPoint:[c,h]}}get box(){return this.#t}newOutliner(n,e,i,o,s,r=0){return new C5(n,e,i,o,s,r)}getNewOutline(n,e){const{x:i,y:o,width:s,height:r}=this.#t,[a,l,c,h]=this.#e,g=s*c,f=r*h,v=i*c+a,C=o*h+l,S=this.newOutliner({x:this.#s[0]*g+v,y:this.#s[1]*f+C},this.#e,this.#o,n,this.#i,e??this.#n);for(let D=2;D<this.#s.length;D+=2)S.add({x:this.#s[D]*g+v,y:this.#s[D+1]*f+C});return S.getOutlines()}get mustRemoveSelfIntersections(){return!0}}class QF{#e;#t=[];#n=[];constructor(n,e=0,i=0,o=!0){let s=1/0,r=-1/0,a=1/0,l=-1/0;const h=10**-4;for(const{x:I,y:L,width:G,height:R}of n){const J=Math.floor((I-e)/h)*h,se=Math.ceil((I+G+e)/h)*h,ve=Math.floor((L-e)/h)*h,pe=Math.ceil((L+R+e)/h)*h;this.#t.push([J,ve,pe,!0],[se,ve,pe,!1]),s=Math.min(s,J),r=Math.max(r,se),a=Math.min(a,ve),l=Math.max(l,pe)}const g=r-s+2*i,f=l-a+2*i,v=s-i,C=a-i,S=this.#t.at(o?-1:-2),D=[S[0],S[2]];for(const I of this.#t){const[L,G,R]=I;I[0]=(L-v)/g,I[1]=(G-C)/f,I[2]=(R-C)/f}this.#e={x:v,y:C,width:g,height:f,lastPoint:D}}getOutlines(){this.#t.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const n=[];for(const e of this.#t)e[3]?(n.push(...this.#c(e)),this.#o(e)):(this.#l(e),n.push(...this.#c(e)));return this.#i(n)}#i(n){const e=[],i=new Set;for(const r of n){const[a,l,c]=r;e.push([a,l,r],[a,c,r])}e.sort((r,a)=>r[1]-a[1]||r[0]-a[0]);for(let r=0,a=e.length;r<a;r+=2){const l=e[r][2],c=e[r+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const o=[];let s;for(;i.size>0;){const r=i.values().next().value;let[a,l,c,h,g]=r;i.delete(r);let f=a,v=l;for(s=[a,c],o.push(s);;){let C;if(i.has(h))C=h;else{if(!i.has(g))break;C=g}i.delete(C),[a,l,c,h,g]=C,f!==a&&(s.push(f,v,a,v===l?l:c),f=a),v=v===l?c:l}s.push(f,v)}return new Kue(o,this.#e)}#s(n){const e=this.#n;let i=0,o=e.length-1;for(;i<=o;){const s=i+o>>1,r=e[s][0];if(r===n)return s;r<n?i=s+1:o=s-1}return o+1}#o([,n,e]){const i=this.#s(n);this.#n.splice(i,0,[n,e])}#l([,n,e]){const i=this.#s(n);for(let o=i;o<this.#n.length;o++){const[s,r]=this.#n[o];if(s!==n)break;if(s===n&&r===e)return void this.#n.splice(o,1)}for(let o=i-1;o>=0;o--){const[s,r]=this.#n[o];if(s!==n)break;if(s===n&&r===e)return void this.#n.splice(o,1)}}#c(n){const[e,i,o]=n,s=[[e,i,o]],r=this.#s(o);for(let a=0;a<r;a++){const[l,c]=this.#n[a];for(let h=0,g=s.length;h<g;h++){const[,f,v]=s[h];if(!(c<=f||v<=l)){if(f>=l){if(v>c)s[h][1]=c;else{if(1===g)return[];s.splice(h,1),h--,g--}continue}s[h][2]=l,v>c&&s.push([e,c,v])}}}return s}}class Kue extends qF{#e;#t;constructor(n,e){super(),this.#t=n,this.#e=e}toSVGPath(){const n=[];for(const e of this.#t){let[i,o]=e;n.push(`M${i} ${o}`);for(let s=2;s<e.length;s+=2){const r=e[s],a=e[s+1];r===i?(n.push(`V${a}`),o=a):a===o&&(n.push(`H${r}`),i=r)}n.push("Z")}return n.join(" ")}serialize([n,e,i,o],s){const r=[],a=i-n,l=o-e;for(const c of this.#t){const h=new Array(c.length);for(let g=0;g<c.length;g+=2)h[g]=n+c[g]*a,h[g+1]=o-c[g+1]*l;r.push(h)}return r}get box(){return this.#e}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}class zM extends C5{newFreeDrawOutline(n,e,i,o,s,r){return new que(n,e,i,o,s,r)}get classNamesForDrawing(){return["highlight","free"]}}class que extends YF{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(n,e,i,o,s,r=0){return new zM(n,e,i,o,s,r)}}class d1{#e=null;#t=null;#n;#i=null;#s=!1;#o=!1;#l=null;#c;#d=null;#a=null;#h;static#r=null;static get _keyboardManager(){return pi(this,"_keyboardManager",new B_([[["Escape","mac+Escape"],d1.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],d1.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],d1.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],d1.prototype._moveToPrevious],[["Home","mac+Home"],d1.prototype._moveToBeginning],[["End","mac+End"],d1.prototype._moveToEnd]]))}constructor({editor:n=null,uiManager:e=null}){n?(this.#o=!1,this.#h=Dn.HIGHLIGHT_COLOR,this.#l=n):(this.#o=!0,this.#h=Dn.HIGHLIGHT_DEFAULT_COLOR),this.#a=n?._uiManager||e,this.#c=this.#a._eventBus,this.#n=n?.color||this.#a?.highlightColors.values().next().value||"#FFFF98",d1.#r||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const n=this.#e=document.createElement("button");n.className="colorPicker",n.tabIndex="0",n.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),n.setAttribute("aria-haspopup",!0);const e=this.#a._signal;n.addEventListener("click",this.#p.bind(this),{signal:e}),n.addEventListener("keydown",this.#_.bind(this),{signal:e});const i=this.#t=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#n,n.append(i),n}renderMainDropdown(){const n=this.#i=this.#u();return n.setAttribute("aria-orientation","horizontal"),n.setAttribute("aria-labelledby","highlightColorPickerLabel"),n}#u(){const n=document.createElement("div"),e=this.#a._signal;n.addEventListener("contextmenu",l1,{signal:e}),n.className="dropdown",n.role="listbox",n.setAttribute("aria-multiselectable",!1),n.setAttribute("aria-orientation","vertical"),n.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,o]of this.#a.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",o),s.title=i,s.setAttribute("data-l10n-id",d1.#r[i]);const r=document.createElement("span");s.append(r),r.className="swatch",r.style.backgroundColor=o,s.setAttribute("aria-selected",o===this.#n),s.addEventListener("click",this.#g.bind(this,o),{signal:e}),n.append(s)}return n.addEventListener("keydown",this.#_.bind(this),{signal:e}),n}#g(n,e){e.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:n})}_colorSelectFromKeyboard(n){if(n.target===this.#e)return void this.#p(n);const e=n.target.getAttribute("data-color");e&&this.#g(e,n)}_moveToNext(n){this.#f?n.target!==this.#e?n.target.nextSibling?.focus():this.#i.firstChild?.focus():this.#p(n)}_moveToPrevious(n){n.target!==this.#i?.firstChild&&n.target!==this.#e?(this.#f||this.#p(n),n.target.previousSibling?.focus()):this.#f&&this._hideDropdownFromKeyboard()}_moveToBeginning(n){this.#f?this.#i.firstChild?.focus():this.#p(n)}_moveToEnd(n){this.#f?this.#i.lastChild?.focus():this.#p(n)}#_(n){d1._keyboardManager.exec(this,n)}#p(n){if(this.#f)return void this.hideDropdown();if(this.#s=0===n.detail,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#a.combinedSignal(this.#d)})),this.#i)return void this.#i.classList.remove("hidden");const e=this.#i=this.#u();this.#e.append(e)}#m(n){this.#i?.contains(n.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#d?.abort(),this.#d=null}get#f(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#o){if(!this.#f)return void this.#l?.unselect();this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(n){if(this.#t&&(this.#t.style.backgroundColor=n),!this.#i)return;const e=this.#a.highlightColors.values();for(const i of this.#i.children)i.setAttribute("aria-selected",e.next().value===n)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#i?.remove(),this.#i=null}}class es extends yn{#e=null;#t=0;#n;#i=null;#s=null;#o=null;#l=null;#c=0;#d=null;#a=null;#h=null;#r=!1;#u=null;#g;#_=null;#p="";#m;#f="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=jn.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const n=es.prototype;return pi(this,"_keyboardManager",new B_([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}constructor(n){super({...n,name:"highlightEditor"}),this.color=n.color||es._defaultColor,this.#m=n.thickness||es._defaultThickness,this.#g=n.opacity||es._defaultOpacity,this.#n=n.boxes||null,this.#f=n.methodOfCreation||"",this.#p=n.text||"",this._isDraggable=!1,n.highlightId>-1?(this.#r=!0,this.#M(n),this.#A()):this.#n&&(this.#e=n.anchorNode,this.#t=n.anchorOffset,this.#l=n.focusNode,this.#c=n.focusOffset,this.#v(),this.#A(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#r?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#f}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}#v(){const n=new QF(this.#n,.001);this.#a=n.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#a.box);const e=new QF(this.#n,.0025,.001,"ltr"===this._uiManager.direction);this.#o=e.getOutlines();const{lastPoint:i}=this.#o.box;this.#u=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#M({highlightOutlines:n,highlightId:e,clipPathId:i}){if(this.#a=n,this.#o=n.getNewOutline(this.#m/2+1.5,.0025),e>=0)this.#h=e,this.#i=i,this.parent.drawLayer.finalizeLine(e,n),this.#_=this.parent.drawLayer.drawOutline(this.#o);else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#h,n),this.parent.drawLayer.updateBox(this.#h,es.#S(this.#a.box,(h-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#_,this.#o),this.parent.drawLayer.updateBox(this.#_,es.#S(this.#o.box,h))}const{x:s,y:r,width:a,height:l}=n.box;switch(this.rotation){case 0:this.x=s,this.y=r,this.width=a,this.height=l;break;case 90:{const[h,g]=this.parentDimensions;this.x=r,this.y=1-s,this.width=a*g/h,this.height=l*h/g;break}case 180:this.x=1-s,this.y=1-r,this.width=a,this.height=l;break;case 270:{const[h,g]=this.parentDimensions;this.x=1-r,this.y=s,this.width=a*g/h,this.height=l*h/g;break}}const{lastPoint:c}=this.#o.box;this.#u=[(c[0]-s)/a,(c[1]-r)/l]}static initialize(n,e){yn.initialize(n,e),es._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(n,e){switch(n){case Dn.HIGHLIGHT_DEFAULT_COLOR:es._defaultColor=e;break;case Dn.HIGHLIGHT_THICKNESS:es._defaultThickness=e}}translateInPage(n,e){}get toolbarPosition(){return this.#u}updateParams(n,e){switch(n){case Dn.HIGHLIGHT_COLOR:this.#b(e);break;case Dn.HIGHLIGHT_THICKNESS:this.#T(e)}}static get defaultPropertiesToUpdate(){return[[Dn.HIGHLIGHT_DEFAULT_COLOR,es._defaultColor],[Dn.HIGHLIGHT_THICKNESS,es._defaultThickness]]}get propertiesToUpdate(){return[[Dn.HIGHLIGHT_COLOR,this.color||es._defaultColor],[Dn.HIGHLIGHT_THICKNESS,this.#m||es._defaultThickness],[Dn.HIGHLIGHT_FREE,this.#r]]}#b(n){const e=(s,r)=>{this.color=s,this.parent?.drawLayer.changeColor(this.#h,s),this.#s?.updateColor(s),this.#g=r,this.parent?.drawLayer.changeOpacity(this.#h,r)},i=this.color,o=this.#g;this.addCommands({cmd:e.bind(this,n,es._defaultOpacity),undo:e.bind(this,i,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)}#T(n){const e=this.#m,i=o=>{this.#m=o,this.#w(o)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)}addEditToolbar(){var n=()=>super.addEditToolbar,e=this;return je(function*(){const i=yield n().call(e);return i?(e._uiManager.highlightColors&&(e.#s=new d1({editor:e}),i.addColorPicker(e.#s)),i):null})()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#P())}getBaseTranslation(){return[0,0]}getRect(n,e){return super.getRect(n,e,this.#P())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#y(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#A(),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){let e=!1;this.parent&&!n?this.#y():n&&(this.#A(n),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(n),this.show(this._isVisible),e&&this.select()}#w(n){if(!this.#r)return;this.#M({highlightOutlines:this.#a.getNewOutline(n/2)}),this.fixAndSetPosition();const[e,i]=this.parentDimensions;this.setDims(this.width*e,this.height*i)}#y(){null===this.#h||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#_),this.#_=null)}#A(n=this.parent){null===this.#h&&(({id:this.#h,clipPathId:this.#i}=n.drawLayer.draw(this.#a,this.color,this.#g)),this.#_=n.drawLayer.drawOutline(this.#o),this.#d&&(this.#d.style.clipPath=this.#i))}static#S({x:n,y:e,width:i,height:o},s){switch(s){case 90:return{x:1-e-o,y:n,width:o,height:i};case 180:return{x:1-n-i,y:1-e-o,width:i,height:o};case 270:return{x:e,y:1-n-i,width:o,height:i}}return{x:n,y:e,width:i,height:o}}rotate(n){const{drawLayer:e}=this.parent;let i;i=this.#r?es.#S(this.#a.box,n=(n-this.rotation+360)%360):es.#S(this,n),e.rotate(this.#h,n),e.rotate(this.#_,n),e.updateBox(this.#h,i),e.updateBox(this.#_,es.#S(this.#o.box,n))}render(){if(this.div)return this.div;const n=super.render();this.#p&&(n.setAttribute("aria-label",this.#p),n.setAttribute("role","mark")),this.#r?n.classList.add("free"):this.div.addEventListener("keydown",this.#N.bind(this),{signal:this._uiManager._signal});const e=this.#d=document.createElement("div");n.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[i,o]=this.parentDimensions;return this.setDims(this.width*i,this.height*o),S6(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#_,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#_,"hovered")}#N(n){es._keyboardManager.exec(this,n)}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:this.#O(!0);break;case 1:case 3:this.#O(!1)}}#O(n){if(!this.#e)return;const e=window.getSelection();n?e.setPosition(this.#e,this.#t):e.setPosition(this.#l,this.#c)}select(){super.select(),this.#_&&(this.parent?.drawLayer.removeClass(this.#_,"hovered"),this.parent?.drawLayer.addClass(this.#_,"selected"))}unselect(){super.unselect(),this.#_&&(this.parent?.drawLayer.removeClass(this.#_,"selected"),this.#r||this.#O(!1))}get _mustFixPosition(){return!this.#r}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(this.#h,n),this.parent.drawLayer.show(this.#_,n))}#P(){return this.#r?this.rotation:0}#L(){if(this.#r)return null;const[n,e]=this.pageDimensions,[i,o]=this.pageTranslation,s=this.#n,r=new Float32Array(8*s.length);let a=0;for(const{x:l,y:c,width:h,height:g}of s){const f=l*n+i,v=(1-c-g)*e+o;r[a]=r[a+4]=f,r[a+1]=r[a+3]=v,r[a+2]=r[a+6]=f+h*n,r[a+5]=r[a+7]=v+g*e,a+=8}return r}#E(n){return this.#a.serialize(n,this.#P())}static startHighlighting(n,e,{target:i,x:o,y:s}){const{x:r,y:a,width:l,height:c}=i.getBoundingClientRect(),h=new AbortController,g=n.combinedSignal(h),v=C=>{h.abort(),this.#D(n,C)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",C=>{C.preventDefault(),C.stopPropagation()},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",l1,{signal:g}),i.addEventListener("pointermove",this.#C.bind(this,n),{signal:g}),this._freeHighlight=new zM({x:o,y:s},[r,a,l,c],n.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#C(n,e){this._freeHighlight.add(e)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#D(n,e){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(n,e,i){var o=()=>super.deserialize,s=this;return je(function*(){let r=null;if(n instanceof XF){const{data:{quadPoints:D,rect:I,rotation:L,id:G,color:R,opacity:J,popupRef:se},parent:{page:{pageNumber:ve}}}=n;r=n={annotationType:jn.HIGHLIGHT,color:Array.from(R),opacity:J,quadPoints:D,boxes:null,pageIndex:ve-1,rect:I.slice(0),rotation:L,id:G,deleted:!1,popupRef:se}}else if(n instanceof kM){const{data:{inkLists:D,rect:I,rotation:L,id:G,color:R,borderStyle:{rawWidth:J},popupRef:se},parent:{page:{pageNumber:ve}}}=n;r=n={annotationType:jn.HIGHLIGHT,color:Array.from(R),thickness:J,inkLists:D,boxes:null,pageIndex:ve-1,rect:I.slice(0),rotation:L,id:G,deleted:!1,popupRef:se}}const{color:a,quadPoints:l,inkLists:c,opacity:h}=n,g=yield o().call(s,n,e,i);g.color=sn.makeHexColor(...a),g.#g=h||1,c&&(g.#m=n.thickness),g.annotationElementId=n.id||null,g._initialData=r;const[f,v]=g.pageDimensions,[C,S]=g.pageTranslation;if(l){const D=g.#n=[];for(let I=0;I<l.length;I+=8)D.push({x:(l[I]-C)/f,y:1-(l[I+1]-S)/v,width:(l[I+2]-l[I])/f,height:(l[I+1]-l[I+5])/v});g.#v(),g.#A(),g.rotate(g.rotation)}else if(c){g.#r=!0;const D=c[0],I={x:D[0]-C,y:v-(D[1]-S)},L=new zM(I,[0,0,f,v],1,g.#m/2,!0,.001);for(let J=0,se=D.length;J<se;J+=2)I.x=D[J]-C,I.y=v-(D[J+1]-S),L.add(I);const{id:G,clipPathId:R}=e.drawLayer.draw(L,g.color,g._defaultOpacity,!0);g.#M({highlightOutlines:L.getOutlines(),highlightId:G,clipPathId:R}),g.#A()}return g})()}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),i=yn._colorManager.convert(this.color),o={annotationType:jn.HIGHLIGHT,color:i,opacity:this.#g,thickness:this.#m,quadPoints:this.#L(),outlines:this.#E(e),pageIndex:this.pageIndex,rect:e,rotation:this.#P(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#I(o)?null:(o.id=this.annotationElementId,o)}#I(n){const{color:e}=this._initialData;return n.color.some((i,o)=>i!==e[o])}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Zs extends yn{#e=0;#t=0;#n=null;#i=new Path2D;#s=!1;#o=null;#l=!1;#c=!1;#d=null;#a=null;#h=0;#r=0;#u=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=jn.INK;constructor(n){super({...n,name:"inkEditor"}),this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,e){yn.initialize(n,e)}static updateDefaultParams(n,e){switch(n){case Dn.INK_THICKNESS:Zs._defaultThickness=e;break;case Dn.INK_COLOR:Zs._defaultColor=e;break;case Dn.INK_OPACITY:Zs._defaultOpacity=e/100}}updateParams(n,e){switch(n){case Dn.INK_THICKNESS:this.#g(e);break;case Dn.INK_COLOR:this.#_(e);break;case Dn.INK_OPACITY:this.#p(e)}}static get defaultPropertiesToUpdate(){return[[Dn.INK_THICKNESS,Zs._defaultThickness],[Dn.INK_COLOR,Zs._defaultColor||yn._defaultLineColor],[Dn.INK_OPACITY,Math.round(100*Zs._defaultOpacity)]]}get propertiesToUpdate(){return[[Dn.INK_THICKNESS,this.thickness||Zs._defaultThickness],[Dn.INK_COLOR,this.color||Zs._defaultColor||yn._defaultLineColor],[Dn.INK_OPACITY,Math.round(100*(this.opacity??Zs._defaultOpacity))]]}#g(n){const e=o=>{this.thickness=o,this.#R()},i=this.thickness;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#_(n){const e=o=>{this.color=o,this.#S()},i=this.color;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dn.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#p(n){const e=o=>{this.opacity=o,this.#S()},i=this.opacity;this.addCommands({cmd:e.bind(this,n/=100),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dn.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#L(),this.#E()),this.isAttachedToDOM||(this.parent.add(this),this.#C()),this.#R()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#n&&(clearTimeout(this.#n),this.#n=null),this.#d?.disconnect(),this.#d=null,super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&null===n&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,e]=this.parentDimensions;this.setDimensions(this.width*n,this.height*e)}enableEditMode(){this.#s||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.#N())}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#O())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#m(){const{parentRotation:n,parentDimensions:[e,i]}=this;switch(n){case 90:return[0,i,i,e];case 180:return[e,i,e,i];case 270:return[e,0,i,e];default:return[0,0,e,i]}}#f(){const{ctx:n,color:e,opacity:i,thickness:o,parentScale:s,scaleFactor:r}=this;n.lineWidth=o*s/r,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${e}${function mhe(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}(i)}`}#v(n,e){this.canvas.addEventListener("contextmenu",l1,{signal:this._uiManager._signal}),this.#O(),this.#o=new AbortController;const i=this._uiManager.combinedSignal(this.#o);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,this.#c||(this.#c=!0,this.#C(),this.thickness||=Zs._defaultThickness,this.color||=Zs._defaultColor||yn._defaultLineColor,this.opacity??=Zs._defaultOpacity),this.currentPath.push([n,e]),this.#l=!1,this.#f(),this.#u=()=>{this.#w(),this.#u&&window.requestAnimationFrame(this.#u)},window.requestAnimationFrame(this.#u)}#M(n,e){const[i,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===i&&e===o)return;const s=this.currentPath;let r=this.#i;if(s.push([n,e]),this.#l=!0,s.length<=2)return r.moveTo(...s[0]),void r.lineTo(n,e);3===s.length&&(this.#i=r=new Path2D,r.moveTo(...s[0])),this.#y(r,...s.at(-3),...s.at(-2),n,e)}#b(){if(0===this.currentPath.length)return;const n=this.currentPath.at(-1);this.#i.lineTo(...n)}#T(n,e){let i;if(this.#u=null,n=Math.min(Math.max(n,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),this.#M(n,e),this.#b(),1!==this.currentPath.length)i=this.#A();else{const l=[n,e];i=[[l,l.slice(),l.slice(),l]]}const o=this.#i,s=this.currentPath;this.currentPath=[],this.#i=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#L(),this.#E()),this.#R())},mustExec:!0})}#w(){if(!this.#l)return;this.#l=!1;Math.ceil(this.thickness*this.parentScale);const e=this.currentPath.slice(-3),i=e.map(h=>h[0]),o=e.map(h=>h[1]),{ctx:c}=(Math.min(...i),Math.max(...i),Math.min(...o),Math.max(...o),this);c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(this.#i),c.restore()}#y(n,e,i,o,s,r,a){const l=(e+o)/2,c=(i+s)/2,h=(o+r)/2,g=(s+a)/2;n.bezierCurveTo(l+2*(o-l)/3,c+2*(s-c)/3,h+2*(o-h)/3,g+2*(s-g)/3,h,g)}#A(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const e=[];let i,[o,s]=n[0];for(i=1;i<n.length-2;i++){const[f,v]=n[i],[C,S]=n[i+1],D=(f+C)/2,I=(v+S)/2;e.push([[o,s],[o+2*(f-o)/3,s+2*(v-s)/3],[D+2*(f-D)/3,I+2*(v-I)/3],[D,I]]),[o,s]=[D,I]}const[r,a]=n[i],[l,c]=n[i+1];return e.push([[o,s],[o+2*(r-o)/3,s+2*(a-s)/3],[l+2*(r-l)/3,c+2*(a-c)/3],[l,c]]),e}#S(){if(this.isEmpty())return void this.#I();this.#f();const{canvas:n,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n.width,n.height),this.#I();for(const i of this.bezierPath2D)e.stroke(i)}commit(){this.#s||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#s=!0,this.div.classList.add("disabled"),this.#R(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}#N(){if(this.#a)return;this.#a=new AbortController;const n=this._uiManager.combinedSignal(this.#a);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:n})}#O(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(n){0!==n.button||!this.isInEditMode()||this.#s||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#v(n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),this.#M(n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),this.#P(n)}canvasPointerleave(n){this.#P(n)}#P(n){this.#o?.abort(),this.#o=null,this.#N(),this.#n&&clearTimeout(this.#n),this.#n=setTimeout(()=>{this.#n=null,this.canvas.removeEventListener("contextmenu",l1)},10),this.#T(n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#L(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#E(){this.#d=new ResizeObserver(n=>{const e=n[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)}),this.#d.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#d?.disconnect(),this.#d=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#s}render(){if(this.div)return this.div;let n,e;this.width&&(n=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,o,s,r]=this.#m();if(this.setAt(i,o,0,0),this.setDims(s,r),this.#L(),this.width){const[a,l]=this.parentDimensions;this.setAspectRatio(this.width*a,this.height*l),this.setAt(n*a,e*l,this.width*a,this.height*l),this.#c=!0,this.#C(),this.setDims(this.width*a,this.height*l),this.#S(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#E(),this.div}#C(){if(!this.#c)return;const[n,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*e),this.#I()}setDimensions(n,e){const i=Math.round(n),o=Math.round(e);if(this.#h===i&&this.#r===o)return;this.#h=i,this.#r=o,this.canvas.style.visibility="hidden";const[s,r]=this.parentDimensions;this.width=n/s,this.height=e/r,this.fixAndSetPosition(),this.#s&&this.#D(n,e),this.#C(),this.#S(),this.canvas.style.visibility="visible",this.fixDims()}#D(n,e){const i=this.#V(),o=(n-i)/this.#t,s=(e-i)/this.#e;this.scaleFactor=Math.min(o,s)}#I(){const n=this.#V()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)}static#k(n){const e=new Path2D;for(let i=0,o=n.length;i<o;i++){const[s,r,a,l]=n[i];0===i&&e.moveTo(...s),e.bezierCurveTo(r[0],r[1],a[0],a[1],l[0],l[1])}return e}static#G(n,e,i){const[o,s,r,a]=e;switch(i){case 0:for(let l=0,c=n.length;l<c;l+=2)n[l]+=o,n[l+1]=a-n[l+1];break;case 90:for(let l=0,c=n.length;l<c;l+=2){const h=n[l];n[l]=n[l+1]+o,n[l+1]=h+s}break;case 180:for(let l=0,c=n.length;l<c;l+=2)n[l]=r-n[l],n[l+1]+=s;break;case 270:for(let l=0,c=n.length;l<c;l+=2){const h=n[l];n[l]=r-n[l+1],n[l+1]=a-h}break;default:throw new Error("Invalid rotation")}return n}static#H(n,e,i){const[o,s,r,a]=e;switch(i){case 0:for(let l=0,c=n.length;l<c;l+=2)n[l]-=o,n[l+1]=a-n[l+1];break;case 90:for(let l=0,c=n.length;l<c;l+=2){const h=n[l];n[l]=n[l+1]-s,n[l+1]=h-o}break;case 180:for(let l=0,c=n.length;l<c;l+=2)n[l]=r-n[l],n[l+1]-=s;break;case 270:for(let l=0,c=n.length;l<c;l+=2){const h=n[l];n[l]=a-n[l+1],n[l+1]=r-h}break;default:throw new Error("Invalid rotation")}return n}#F(n,e,i,o){const s=[],r=this.thickness/2,a=n*e+r,l=n*i+r;for(const c of this.paths){const h=[],g=[];for(let f=0,v=c.length;f<v;f++){const[C,S,D,I]=c[f];if(C[0]===I[0]&&C[1]===I[1]&&1===v){const fe=n*C[0]+a,ke=n*C[1]+l;h.push(fe,ke),g.push(fe,ke);break}const L=n*C[0]+a,G=n*C[1]+l,R=n*S[0]+a,J=n*S[1]+l,se=n*D[0]+a,ve=n*D[1]+l,pe=n*I[0]+a,le=n*I[1]+l;0===f&&(h.push(L,G),g.push(L,G)),h.push(R,J,se,ve,pe,le),g.push(R,J),f===v-1&&g.push(pe,le)}s.push({bezier:Zs.#G(h,o,this.rotation),points:Zs.#G(g,o,this.rotation)})}return s}#z(){let n=1/0,e=-1/0,i=1/0,o=-1/0;for(const s of this.paths)for(const[r,a,l,c]of s){const h=sn.bezierBoundingBox(...r,...a,...l,...c);n=Math.min(n,h[0]),i=Math.min(i,h[1]),e=Math.max(e,h[2]),o=Math.max(o,h[3])}return[n,i,e,o]}#V(){return this.#s?Math.ceil(this.thickness*this.parentScale):0}#R(n=!1){if(this.isEmpty())return;if(!this.#s)return void this.#S();const e=this.#z(),i=this.#V();this.#t=Math.max(yn.MIN_SIZE,e[2]-e[0]),this.#e=Math.max(yn.MIN_SIZE,e[3]-e[1]);const o=Math.ceil(i+this.#t*this.scaleFactor),s=Math.ceil(i+this.#e*this.scaleFactor),[r,a]=this.parentDimensions;this.width=o/r,this.height=s/a,this.setAspectRatio(o,s);const l=this.translationX,c=this.translationY;this.translationX=-e[0],this.translationY=-e[1],this.#C(),this.#S(),this.#h=o,this.#r=s,this.setDims(o,s);const h=n?i/this.scaleFactor/2:0;this.translate(l-this.translationX-h,c-this.translationY-h)}static deserialize(n,e,i){var o=()=>super.deserialize,s=this;return je(function*(){if(n instanceof kM)return null;const r=yield o().call(s,n,e,i);r.thickness=n.thickness,r.color=sn.makeHexColor(...n.color),r.opacity=n.opacity;const[a,l]=r.pageDimensions,c=r.width*a,h=r.height*l,g=r.parentScale,f=n.thickness/2;r.#s=!0,r.#h=Math.round(c),r.#r=Math.round(h);const{paths:v,rect:C,rotation:S}=n;for(let{bezier:I}of v){I=Zs.#H(I,C,S);const L=[];r.paths.push(L);let G=g*(I[0]-f),R=g*(I[1]-f);for(let se=2,ve=I.length;se<ve;se+=6){const Dt=g*(I[se+4]-f),it=g*(I[se+5]-f);L.push([[G,R],[g*(I[se]-f),g*(I[se+1]-f)],[g*(I[se+2]-f),g*(I[se+3]-f)],[Dt,it]]),G=Dt,R=it}const J=s.#k(L);r.bezierPath2D.push(J)}const D=r.#z();return r.#t=Math.max(yn.MIN_SIZE,D[2]-D[0]),r.#e=Math.max(yn.MIN_SIZE,D[3]-D[1]),r.#D(c,h),r})()}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),e=yn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:jn.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:this.#F(this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class VM extends yn{#e=null;#t=null;#n=null;#i=null;#s=null;#o="";#l=null;#c=null;#d=null;#a=!1;#h=!1;static _type="stamp";static _editorType=jn.STAMP;constructor(n){super({...n,name:"stampEditor"}),this.#i=n.bitmapUrl,this.#s=n.bitmapFile}static initialize(n,e){yn.initialize(n,e)}static get supportedTypes(){return pi(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>`image/${e}`))}static get supportedTypesStr(){return pi(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,e){e.pasteEditor(jn.STAMP,{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(n){const e=n.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#r(n,e=!1){n?(this.#e=n.bitmap,e||(this.#t=n.id,this.#a=n.isSvg),n.file&&(this.#o=n.file.name),this.#_()):this.remove()}#u(){if(this.#n=null,this._uiManager.enableWaiting(!1),this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e)return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(){var n=this;return je(function*(e=null,i=!0){if(n.hasAltTextData())return null;const{mlManager:o}=n._uiManager;if(!o)throw new Error("No ML.");if(!(yield o.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");const{data:s,width:r,height:a}=e||n.copyCanvas(null,null,!0).imageData,l=yield o.guess({name:"altText",request:{data:s,width:r,height:a,channels:s.length/(r*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return yield n.setGuessedAltText(c),i&&!n.hasAltTextData()&&(n.altTextData={alt:c,decorative:!1}),c}).apply(this,arguments)}#g(){var n=this;if(this.#t)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#t).then(o=>this.#r(o,!0)).finally(()=>this.#u());if(this.#i){const o=this.#i;return this.#i=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromUrl(o).then(s=>this.#r(s)).finally(()=>this.#u()))}if(this.#s){const o=this.#s;return this.#s=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromFile(o).then(s=>this.#r(s)).finally(()=>this.#u()))}const e=document.createElement("input");e.type="file",e.accept=VM.supportedTypesStr;const i=this._uiManager._signal;this.#n=new Promise(o=>{e.addEventListener("change",je(function*(){if(e.files&&0!==e.files.length){n._uiManager.enableWaiting(!0);const s=yield n._uiManager.imageManager.getFromFile(e.files[0]);n._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:n._uiManager.useNewAltTextFlow}}),n.#r(s)}else n.remove();o()}),{signal:i}),e.addEventListener("cancel",()=>{this.remove(),o()},{signal:i})}).finally(()=>this.#u()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#l?.remove(),this.#l=null,this.#c?.disconnect(),this.#c=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#t&&null===this.#l&&this.#g(),this.isAttachedToDOM||this.parent.add(this))):this.#t&&this.#g()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#s||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let n,e;if(this.width&&(n=this.x,e=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#e?this.#_():this.#g(),this.width&&!this.annotationElementId){const[i,o]=this.parentDimensions;this.setAt(n*i,e*o,this.width*i,this.height*o)}return this.div}#_(){const{div:n}=this;let{width:e,height:i}=this.#e;const[o,s]=this.pageDimensions,r=.75;if(this.width)e=this.width*o,i=this.height*s;else if(e>r*o||i>r*s){const h=Math.min(r*o/e,r*s/i);e*=h,i*=h}const[a,l]=this.parentDimensions;this.setDims(e*a/o,i*l/s),this._uiManager.enableWaiting(!1);const c=this.#l=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),this.#f(e,i),this.#M(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#o&&c.setAttribute("aria-label",this.#o)}copyCanvas(n,e,i=!1){n||(n=224);const{width:o,height:s}=this.#e,r=new vM;let a=this.#e,l=o,c=s,h=null;if(e){if(o>e||s>e){const se=Math.min(e/o,e/s);l=Math.floor(o*se),c=Math.floor(s*se)}h=document.createElement("canvas");const f=h.width=Math.ceil(l*r.sx),v=h.height=Math.ceil(c*r.sy);this.#a||(a=this.#m(f,v));const C=h.getContext("2d");C.filter=this._uiManager.hcmFilter;let S="white",D="#cfcfd8";"none"!==this._uiManager.hcmFilter?D="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",D="#42414d");const I=15,L=I*r.sx,G=I*r.sy,R=new OffscreenCanvas(2*L,2*G),J=R.getContext("2d");J.fillStyle=S,J.fillRect(0,0,2*L,2*G),J.fillStyle=D,J.fillRect(0,0,L,G),J.fillRect(L,G,L,G),C.fillStyle=C.createPattern(R,"repeat"),C.fillRect(0,0,f,v),C.drawImage(a,0,0,a.width,a.height,0,0,f,v)}let g=null;if(i){let f,v;if(r.symmetric&&a.width<n&&a.height<n)f=a.width,v=a.height;else if(a=this.#e,o>n||s>n){const D=Math.min(n/o,n/s);f=Math.floor(o*D),v=Math.floor(s*D),this.#a||(a=this.#m(f,v))}const S=new OffscreenCanvas(f,v).getContext("2d",{willReadFrequently:!0});S.drawImage(a,0,0,a.width,a.height,0,0,f,v),g={width:f,height:v,data:S.getImageData(0,0,f,v).data}}return{canvas:h,width:l,height:c,imageData:g}}#p(n,e){const[i,o]=this.parentDimensions;this.width=n/i,this.height=e/o,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#d&&clearTimeout(this.#d),this.#d=setTimeout(()=>{this.#d=null,this.#f(n,e)},200)}#m(n,e){const{width:i,height:o}=this.#e;let s=i,r=o,a=this.#e;for(;s>2*n||r>2*e;){const l=s,c=r;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const h=new OffscreenCanvas(s,r);h.getContext("2d").drawImage(a,0,0,l,c,0,0,s,r),a=h.transferToImageBitmap()}return a}#f(n,e){const i=new vM,o=Math.ceil(n*i.sx),s=Math.ceil(e*i.sy),r=this.#l;if(!r||r.width===o&&r.height===s)return;r.width=o,r.height=s;const a=this.#a?this.#e:this.#m(o,s),l=r.getContext("2d");l.filter=this._uiManager.hcmFilter,l.drawImage(a,0,0,a.width,a.height,0,0,o,s)}getImageForAltText(){return this.#l}#v(n){if(n){if(this.#a){const o=this._uiManager.imageManager.getSvgUrl(this.#t);if(o)return o}const e=document.createElement("canvas");return({width:e.width,height:e.height}=this.#e),e.getContext("2d").drawImage(this.#e,0,0),e.toDataURL()}if(this.#a){const[e,i]=this.pageDimensions,o=Math.round(this.width*e*y2.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*y2.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(o,s);return r.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,o,s),r.transferToImageBitmap()}return structuredClone(this.#e)}#M(){this._uiManager._signal&&(this.#c=new ResizeObserver(n=>{const e=n[0].contentRect;e.width&&e.height&&this.#p(e.width,e.height)}),this.#c.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#c?.disconnect(),this.#c=null},{once:!0}))}static deserialize(n,e,i){var o=()=>super.deserialize,s=this;return je(function*(){let r=null;if(n instanceof KF){const{data:{rect:D,rotation:I,id:L,structParent:G,popupRef:R},container:J,parent:{page:{pageNumber:se}}}=n,ve=J.querySelector("canvas"),pe=i.imageManager.getFromCanvas(J.id,ve);ve.remove();const le=(yield e._structTree.getAriaAttributes(`${_M}${L}`))?.get("aria-label")||"";r=n={annotationType:jn.STAMP,bitmapId:pe.id,bitmap:pe.bitmap,pageIndex:se-1,rect:D.slice(0),rotation:I,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:le},isSvg:!1,structParent:G,popupRef:R}}const a=yield o().call(s,n,e,i),{rect:l,bitmap:c,bitmapUrl:h,bitmapId:g,isSvg:f,accessibilityData:v}=n;g&&i.imageManager.isValidId(g)?(a.#t=g,c&&(a.#e=c)):a.#i=h,a.#a=f;const[C,S]=a.pageDimensions;return a.width=(l[2]-l[0])/C,a.height=(l[3]-l[1])/S,a.annotationElementId=n.id||null,v&&(a.altTextData=v),a._initialData=r,a.#h=!!r,a})()}serialize(n=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:jn.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#a,structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=this.#v(!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:o,altText:s}=this.serializeAltText(!1);if(!o&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const a=this.#b(i);if(a.isSame)return null;a.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,null===e)return i;e.stamps||=new Map;const r=this.#a?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(e.stamps.has(this.#t)){if(this.#a){const a=e.stamps.get(this.#t);r>a.area&&(a.area=r,a.serialized.bitmap.close(),a.serialized.bitmap=this.#v(!1))}}else e.stamps.set(this.#t,{area:r,serialized:i}),i.bitmap=this.#v(!1);return i}#b(n){const{rect:e,pageIndex:i,accessibilityData:{altText:o}}=this._initialData,s=n.rect.every((l,c)=>Math.abs(l-e[c])<1),r=n.pageIndex===i,a=(n.accessibilityData?.alt||"")===o;return{isSame:s&&r&&a,isSameAltText:a}}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}}let Yue=(()=>{class t{#e;#t=!1;#n=null;#i=null;#s=null;#o=new Map;#l=!1;#c=!1;#d=!1;#a=null;#h=null;#r;static _initialized=!1;static#u=new Map([As,Zs,VM,es].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:i,div:o,structTreeLayer:s,accessibilityManager:r,annotationLayer:a,drawLayer:l,textLayer:c,viewport:h,l10n:g}){const f=[...t.#u.values()];if(!t._initialized){t._initialized=!0;for(const v of f)v.initialize(g,e)}e.registerEditorTypes(f),this.#r=e,this.pageIndex=i,this.div=o,this.#e=r,this.#n=a,this.viewport=h,this.#a=c,this.drawLayer=l,this._structTree=s,this.#r.addLayer(this)}get isEmpty(){return 0===this.#o.size}get isInvisible(){return this.isEmpty&&this.#r.getMode()===jn.NONE}updateToolbar(e){this.#r.updateToolbar(e)}updateMode(e=this.#r.getMode()){switch(this.#f(),e){case jn.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case jn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case jn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const o of t.#u.values())i.toggle(`${o._type}Editing`,e===o._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#a?.div}addInkEditorIfNeeded(e){if(this.#r.getMode()===jn.INK){if(!e)for(const o of this.#o.values())if(o.isEmpty())return void o.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(e){this.#r.setEditingState(e)}addCommands(e){this.#r.addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}enable(){var e=this;return je(function*(){e.div.tabIndex=0,e.togglePointerEvents(!0);const i=new Set;for(const s of e.#o.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(e.#r.removeChangedExistingAnnotation(s),i.add(s.annotationElementId));if(!e.#n)return;const o=e.#n.getEditableAnnotations();for(const s of o){if(s.hide(),e.#r.isDeletedAnnotationElement(s.data.id)||i.has(s.data.id))continue;const r=yield e.deserialize(s);r&&(e.addOrRebuild(r),r.enableEditing())}})()}disable(){this.#d=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const s of this.#o.values())if(s.disableEditing(),s.annotationElementId){if(null!==s.serialize()){e.set(s.annotationElementId,s);continue}i.set(s.annotationElementId,s),this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#n){const s=this.#n.getEditableAnnotations();for(const r of s){const{id:a}=r.data;if(this.#r.isDeletedAnnotationElement(a))continue;let l=i.get(a);l?(l.resetAnnotationElement(r),l.show(!1),r.show()):(l=e.get(a),l&&(this.#r.addChangedExistingAnnotation(l),l.renderAnnotationElement(r)&&l.show(!1)),r.show())}}this.#f(),this.isEmpty&&(this.div.hidden=!0);const{classList:o}=this.div;for(const s of t.#u.values())o.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#d=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#r.getActive()!==e&&this.#r.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#a?.div&&!this.#h){this.#h=new AbortController;const e=this.#r.combinedSignal(this.#h);this.#a.div.addEventListener("pointerdown",this.#g.bind(this),{signal:e}),this.#a.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#a?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#a.div.classList.remove("highlighting"))}#g(e){this.#r.unselectAll();const{target:i}=e;if(i===this.#a.div||("img"===i.getAttribute("role")||i.classList.contains("endOfContent"))&&this.#a.div.contains(i)){const{isMac:o}=Pr.platform;if(0!==e.button||e.ctrlKey&&o)return;this.#r.showAllEditors("highlight",!0,!0),this.#a.div.classList.add("free"),this.toggleDrawing(),es.startHighlighting(this,"ltr"===this.#r.direction,{target:this.#a.div,x:e.x,y:e.y}),this.#a.div.addEventListener("pointerup",()=>{this.#a.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),e.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const e=this.#r.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){this.#i?.abort(),this.#i=null}attach(e){this.#o.set(e.id,e);const{annotationElementId:i}=e;i&&this.#r.isDeletedAnnotationElement(i)&&this.#r.removeDeletedAnnotationElement(e)}detach(e){this.#o.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#d&&e.annotationElementId&&this.#r.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#r.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#r.addDeletedAnnotationElement(e.annotationElementId),yn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),this.#r.addEditor(e),this.attach(e),!e.isAttachedToDOM){const i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#r.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),i.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#r.getId()}get#_(){return t.#u.get(this.#r.getMode())}combinedSignal(e){return this.#r.combinedSignal(e)}#p(e){const i=this.#_;return i?new i.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#_?.canCreateNewEmptyEditor()}pasteEditor(e,i){this.#r.updateToolbar(e),this.#r.updateMode(e);const{offsetX:o,offsetY:s}=this.#m(),r=this.getNextId(),a=this.#p({parent:this,id:r,x:o,y:s,uiManager:this.#r,isCentered:!0,...i});a&&this.add(a)}deserialize(e){var i=this;return je(function*(){return(yield t.#u.get(e.annotationType??e.annotationEditorType)?.deserialize(e,i,i.#r))||null})()}createAndAddNewEditor(e,i,o={}){const s=this.getNextId(),r=this.#p({parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:this.#r,isCentered:i,...o});return r&&this.add(r),r}#m(){const{x:e,y:i,width:o,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,e),a=Math.max(0,i),h=(r+Math.min(window.innerWidth,e+o))/2-e,g=(a+Math.min(window.innerHeight,i+s))/2-i,[f,v]=this.viewport.rotation%180==0?[h,g]:[g,h];return{offsetX:f,offsetY:v}}addNewEditor(){this.createAndAddNewEditor(this.#m(),!0)}setSelected(e){this.#r.setSelected(e)}toggleSelected(e){this.#r.toggleSelected(e)}unselect(e){this.#r.unselect(e)}pointerup(e){const{isMac:i}=Pr.platform;if(!(0!==e.button||e.ctrlKey&&i)&&e.target===this.div&&this.#l){if(this.#l=!1,!this.#t)return void(this.#t=!0);if(this.#r.getMode()===jn.STAMP)return void this.#r.unselectAll();this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(this.#r.getMode()===jn.HIGHLIGHT&&this.enableTextSelection(),this.#l)return void(this.#l=!1);const{isMac:i}=Pr.platform;if(0!==e.button||e.ctrlKey&&i||e.target!==this.div)return;this.#l=!0;const o=this.#r.getActive();this.#t=!o||o.isEmpty()}findNewParent(e,i,o){const s=this.#r.findParent(i,o);return null!==s&&s!==this&&(s.changeParent(e),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#o.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#o.clear(),this.#r.removeLayer(this)}#f(){this.#c=!0;for(const e of this.#o.values())e.isEmpty()&&e.remove();this.#c=!1}render({viewport:e}){this.viewport=e,f5(this.div,e);for(const i of this.#r.getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){this.#r.commitOrRemove(),this.#f();const i=this.viewport.rotation,o=e.rotation;if(this.viewport=e,f5(this.div,{rotation:o}),i!==o)for(const s of this.#o.values())s.rotate(o);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return this.#r.viewParameters.realScale}}return t})();class cr{#e=null;#t=0;#n=new Map;#i=new Map;constructor({pageIndex:n}){this.pageIndex=n}setParent(n){if(this.#e){if(this.#e!==n){if(this.#n.size>0)for(const e of this.#n.values())e.remove(),n.append(e);this.#e=n}}else this.#e=n}static get _svgFactory(){return pi(this,"_svgFactory",new xM)}static#s(n,{x:e=0,y:i=0,width:o=1,height:s=1}={}){const{style:r}=n;r.top=100*i+"%",r.left=100*e+"%",r.width=100*o+"%",r.height=100*s+"%"}#o(n){const e=cr._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),cr.#s(e,n),e}#l(n,e){const i=cr._svgFactory.createElement("clipPath");n.append(i);const o=`clip_${e}`;i.setAttribute("id",o),i.setAttribute("clipPathUnits","objectBoundingBox");const s=cr._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),o}draw(n,e,i,o=!1){const s=this.#t++,r=this.#o(n.box);r.classList.add(...n.classNamesForDrawing);const a=cr._svgFactory.createElement("defs");r.append(a);const l=cr._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",n.toSVGPath()),o&&this.#i.set(s,l);const h=this.#l(a,c),g=cr._svgFactory.createElement("use");return r.append(g),r.setAttribute("fill",e),r.setAttribute("fill-opacity",i),g.setAttribute("href",`#${c}`),this.#n.set(s,r),{id:s,clipPathId:`url(#${h})`}}drawOutline(n){const e=this.#t++,i=this.#o(n.box);i.classList.add(...n.classNamesForOutlining);const o=cr._svgFactory.createElement("defs");i.append(o);const s=cr._svgFactory.createElement("path");o.append(s);const r=`path_p${this.pageIndex}_${e}`;let a;if(s.setAttribute("id",r),s.setAttribute("d",n.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke"),n.mustRemoveSelfIntersections){const h=cr._svgFactory.createElement("mask");o.append(h),a=`mask_p${this.pageIndex}_${e}`,h.setAttribute("id",a),h.setAttribute("maskUnits","objectBoundingBox");const g=cr._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const f=cr._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${r}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=cr._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${r}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.#n.set(e,i),e}finalizeLine(n,e){const i=this.#i.get(n);this.#i.delete(n),this.updateBox(n,e.box),i.setAttribute("d",e.toSVGPath())}updateLine(n,e){this.#n.get(n).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(n,e){this.#i.get(n).setAttribute("d",e.toSVGPath())}updateBox(n,e){cr.#s(this.#n.get(n),e)}show(n,e){this.#n.get(n).classList.toggle("hidden",!e)}rotate(n,e){this.#n.get(n).setAttribute("data-main-rotation",e)}changeColor(n,e){this.#n.get(n).setAttribute("fill",e)}changeOpacity(n,e){this.#n.get(n).setAttribute("fill-opacity",e)}addClass(n,e){this.#n.get(n).classList.add(e)}removeClass(n,e){this.#n.get(n).classList.remove(e)}getSVGRoot(n){return this.#n.get(n)}remove(n){this.#i.delete(n),null!==this.#e&&(this.#n.get(n).remove(),this.#n.delete(n))}destroy(){this.#e=null;for(const n of this.#n.values())n.remove();this.#n.clear(),this.#i.clear()}}var Que=Rn.AbortException,Jue=Rn.AnnotationEditorLayer,e_e=Rn.AnnotationEditorParamsType,JF=Rn.AnnotationEditorType,t_e=Rn.AnnotationEditorUIManager,n_e=Rn.AnnotationLayer,i_e=Rn.AnnotationMode,o_e=Rn.ColorPicker,s_e=Rn.DOMSVGFactory,r_e=Rn.DrawLayer,a_e=Rn.FeatureTest,ek=Rn.GlobalWorkerOptions,l_e=Rn.ImageKind,c_e=Rn.InvalidPDFException,d_e=Rn.MissingPDFException,h_e=Rn.OPS,u_e=Rn.OutputScale,__e=Rn.PDFDataRangeTransport,g_e=Rn.PDFDateString,p_e=Rn.PDFWorker,f_e=Rn.PasswordResponses,m_e=Rn.PermissionFlag,v_e=Rn.PixelsPerInch,C_e=Rn.RenderingCancelledException,M_e=Rn.TextLayer,T_e=Rn.UnexpectedResponseException,w_e=Rn.Util,tk=Rn.VerbosityLevel,b_e=Rn.XfaLayer,S_e=Rn.build,E_e=Rn.createValidAbsoluteUrl,O_e=Rn.fetchData,nk=Rn.getDocument,A_e=Rn.getFilenameFromUrl,N_e=Rn.getPdfFilenameFromUrl,D_e=Rn.getXfaPageViewport,y_e=Rn.isDataScheme,P_e=Rn.isPdfFile,I_e=Rn.noContextMenu,L_e=Rn.normalizeUnicode,R_e=Rn.setLayerDimensions,x_e=Rn.shadow,P6=Rn.version;function ik(t,n){this.v=t,this.k=n}function ok(t){return new ik(t,0)}function sk(t){return function(){return new Y_(t.apply(this,arguments))}}function Y_(t){var n,e;function i(s,r){try{var a=t[s](r),l=a.value,c=l instanceof ik;Promise.resolve(c?l.v:l).then(function(h){if(c){var g="return"===s?"return":"next";if(!l.k||h.done)return i(g,h);h=t[g](h).value}o(a.done?"return":"normal",h)},function(h){i("throw",h)})}catch(h){o("throw",h)}}function o(s,r){switch(s){case"return":n.resolve({value:r,done:!0});break;case"throw":n.reject(r);break;default:n.resolve({value:r,done:!1})}(n=n.next)?i(n.key,n.arg):e=null}this._invoke=function(s,r){return new Promise(function(a,l){var c={key:s,arg:r,resolve:a,reject:l,next:null};e?e=e.next=c:(n=e=c,i(s,r))})},"function"!=typeof t.return&&(this.return=void 0)}function I6(t){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var i=e.done;return Promise.resolve(e.value).then(function(o){return{value:o,done:i}})}return(I6=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(i){var o=this.s.return;return void 0===o?Promise.resolve({value:i,done:!0}):n(o.apply(this.s,arguments))},throw:function(i){var o=this.s.return;return void 0===o?Promise.reject(i):n(o.apply(this.s,arguments))}},new I6(t)}Y_.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Y_.prototype.next=function(t){return this._invoke("next",t)},Y_.prototype.throw=function(t){return this._invoke("throw",t)},Y_.prototype.return=function(t){return this._invoke("return",t)};var Q_={d:(t,n)=>{for(var e in n)Q_.o(n,e)&&!Q_.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)},Po=globalThis.pdfjsViewer={};Q_.d(Po,{AnnotationLayerBuilder:()=>bk,DownloadManager:()=>Ige,EventBus:()=>XM,FindState:()=>Xl,GenericL10n:()=>tl,LinkTarget:()=>M5,PDFFindController:()=>vge,PDFHistory:()=>Ope,PDFLinkService:()=>k6,PDFPageView:()=>Xk,PDFScriptingManager:()=>Vpe,PDFSinglePageViewer:()=>Bpe,PDFViewer:()=>Yk,ProgressBar:()=>K_e,RenderingStates:()=>$o,ScrollMode:()=>mi,SimpleLinkService:()=>UM,SpreadMode:()=>dr,StructTreeLayerBuilder:()=>Zk,TextLayerBuilder:()=>k2,XfaLayerBuilder:()=>Wk,parseQueryString:()=>L6});const $o={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},mi={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},dr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function dk(t,n,e=!1){let i=t.offsetParent;if(!i)return void console.error("offsetParent is not set -- cannot scroll");let o=t.offsetTop+t.clientTop,s=t.offsetLeft+t.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||e&&(i.classList.contains("markedContent")||"hidden"===getComputedStyle(i).overflow);)if(o+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;n&&(void 0!==n.top&&(o+=n.top),void 0!==n.left&&(s+=n.left,i.scrollLeft=s)),i.scrollTop=o}function L6(t){const n=new Map;for(const[e,i]of new URLSearchParams(t))n.set(e.toLowerCase(),i);return n}const hk=/[\x00-\x1F]/g;function J_(t,n=!1){return hk.test(t)?n?t.replaceAll(hk,e=>"\0"===e?"":" "):t.replaceAll("\0",""):t}function eg(t,n,e=0){let i=e,o=t.length-1;if(o<0||!n(t[o]))return t.length;if(n(t[i]))return i;for(;i<o;){const s=i+o>>1;n(t[s])?o=s:i=s+1}return i}function uk(t){if(Math.floor(t)===t)return[t,1];const n=1/t;if(n>8)return[1,8];if(Math.floor(n)===n)return[1,n];const i=t>1?n:t;let l,o=0,s=1,r=1,a=1;for(;;){const c=o+r,h=s+a;if(h>8)break;i<=c/h?(r=c,a=h):(o=c,s=h)}return l=i-o/s<r/a-i?i===t?[o,s]:[s,o]:i===t?[r,a]:[a,r],l}function R6(t,n){return t-t%n}function _k(t){return Number.isInteger(t)&&t%90==0}function gk(t){return t.width<=t.height}new Promise(function(t){window.requestAnimationFrame(t)});const W_e=document.documentElement.style;class K_e{#e=null;#t=null;#n=0;#i=null;#s=!0;constructor(n){this.#e=n.classList,this.#i=n.style}get percent(){return this.#n}set percent(n){this.#n=function X_e(t,n,e){return Math.min(Math.max(t,n),e)}(n,0,100),isNaN(n)?this.#e.add("indeterminate"):(this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`))}setWidth(n){if(!n)return;const i=n.parentNode.offsetWidth-n.offsetWidth;i>0&&this.#i.setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(n=5e3){100===this.#n||isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},n))}hide(){this.#s&&(this.#s=!1,this.#e.add("hidden"))}show(){this.#s||(this.#s=!0,this.#e.remove("hidden"))}}const x6=function(){const t=document.createElement("div");return t.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)","calc(1320px)"===t.style.width?Math.fround:n=>n}();function F6(t){return function Y_e(t){return t<11904}(t)?function Q_e(t){return!(65408&t)}(t)?function tge(t){return 32===t||9===t||13===t||10===t}(t)?0:function J_e(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||function ege(t){return t>=48&&t<=57}(t)||95===t?1:2:function rge(t){return 3584==(65408&t)}(t)?7:160===t?0:1:function nge(t){return t>=13312&&t<=40959||t>=63744&&t<=64255}(t)?3:function ige(t){return t>=12448&&t<=12543}(t)?4:function oge(t){return t>=12352&&t<=12447}(t)?5:function sge(t){return t>=65376&&t<=65439}(t)?6:1}let pk;const Xl={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},fk={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},mk=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let vk;const hge=new RegExp("\\p{M}+","gu"),uge=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),_ge=new RegExp("([^\\p{M}])\\p{M}*$","u"),gge=new RegExp("^\\p{M}*([^\\p{M}])","u"),pge=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Ck=new Map,Mk=new Map;let GM=null,$M=null;function BM(t){const n=[];let e,i;for(;null!==(e=pge.exec(t));){let{index:v}=e;for(const C of e[0]){let S=Ck.get(C);S||(S=C.normalize("NFD").length,Ck.set(C,S)),n.push([S,v++])}}if(0===n.length&&GM)i=GM;else if(n.length>0&&$M)i=$M;else{const L=`([${Object.keys(fk).join("")}])|([${function age(){return pk||="\xa0\xa8\xaa\xaf\xb2-\xb5\xb8-\xba\xbc-\xbe\u0132-\u0133\u013f-\u0140\u0149\u017f\u01c4-\u01cc\u01f1-\u01f3\u02b0-\u02b8\u02d8-\u02dd\u02e0-\u02e4\u0374\u037a\u037e\u0384-\u0385\u0387\u03d0-\u03d6\u03f0-\u03f2\u03f4-\u03f5\u03f9\u0587\u0675-\u0678\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e33\u0eb3\u0edc-\u0edd\u0f0c\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u10fc\u1d2c-\u1d2e\u1d30-\u1d3a\u1d3c-\u1d4d\u1d4f-\u1d6a\u1d78\u1d9b-\u1dbf\u1e9a-\u1e9b\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbd-\u1fc1\u1fc9\u1fcb\u1fcd-\u1fcf\u1fd3\u1fdb\u1fdd-\u1fdf\u1fe3\u1feb\u1fed-\u1fef\u1ff9\u1ffb\u1ffd-\u1ffe\u2000-\u200a\u2011\u2017\u2024-\u2026\u202f\u2033-\u2034\u2036-\u2037\u203c\u203e\u2047-\u2049\u2057\u205f\u2070-\u2071\u2074-\u208e\u2090-\u209c\u20a8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211d\u2120-\u2122\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213b-\u2140\u2145-\u2149\u2150-\u217f\u2189\u222c-\u222d\u222f-\u2230\u2329-\u232a\u2460-\u24ea\u2a0c\u2a74-\u2a76\u2adc\u2c7c-\u2c7d\u2d6f\u2e9f\u2ef3\u2f00-\u2fd5\u3000\u3036\u3038-\u303a\u309b-\u309c\u309f\u30ff\u3131-\u318e\u3192-\u319f\u3200-\u321e\u3220-\u3247\u3250-\u327e\u3280-\u33ff\ua69c-\ua69d\ua770\ua7f2-\ua7f4\ua7f8-\ua7f9\uab5c-\uab5f\uab69\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfc\ufe10-\ufe19\ufe30-\ufe44\ufe47-\ufe52\ufe54-\ufe66\ufe68-\ufe6b\ufe70-\ufe72\ufe74\ufe76-\ufefc\uff01-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\uffe0-\uffe6",pk}()}])|((?:\u3099|\u309a)\\n)|(\\p{M}+(?:-\\n)?)|(\\p{Ll}-\\n\\p{Lu})|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30ff])\\n)|(\\n)`;i=0===n.length?GM=new RegExp(L+"|(\\u0000)","gum"):$M=new RegExp(L+"|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])","gum")}const o=[];for(;null!==(e=hge.exec(t));)o.push([e[0].length,e.index]);let s=t.normalize("NFD");const r=[[0,0]];let a=0,l=0,c=0,h=0,g=0,f=!1;return s=s.replace(i,(v,C,S,D,I,L,G,R,J,se,ve)=>{if(ve-=h,C){const pe=fk[C],le=pe.length;for(let fe=1;fe<le;fe++)r.push([ve-c+fe,c-fe]);return c-=le-1,pe}if(S){let pe=Mk.get(S);pe||(pe=S.normalize("NFKC"),Mk.set(S,pe));const le=pe.length;for(let fe=1;fe<le;fe++)r.push([ve-c+fe,c-fe]);return c-=le-1,pe}if(D)return f=!0,ve+g===o[a]?.[1]?++a:(r.push([ve-1-c+1,c-1]),c-=1,h+=1),r.push([ve-c+1,c]),h+=1,g+=1,D.charAt(0);if(I){const pe=I.endsWith("\n"),le=pe?I.length-2:I.length;f=!0;let fe=le;ve+g===o[a]?.[1]&&(fe-=o[a][0],++a);for(let ke=1;ke<=fe;ke++)r.push([ve-1-c+ke,c-ke]);return c-=fe,h+=fe,pe?(r.push([(ve+=le-1)-c+1,1+c]),c+=1,h+=1,g+=1,I.slice(0,le)):I}if(L)return r.push([ve-c+3,1+c]),c+=1,h+=1,g+=1,L.replace("\n","");if(G)return r.push([ve-c+(G.length-2),1+c]),c+=1,h+=1,g+=1,G.slice(0,-2);if(R)return r.push([ve-c+(R.length-1),c]),h+=1,g+=1,R.slice(0,-1);if(J)return r.push([ve-c+1,c-1]),c-=1,h+=1,g+=1," ";if(ve+g===n[l]?.[1]){const pe=n[l][0]-1;++l;for(let le=1;le<=pe;le++)r.push([ve-(c-le),c-le]);c-=pe,h+=pe}return se}),r.push([s.length,c]),[s,r,f]}class vge{#e=null;#t=!0;#n=0;constructor({linkService:n,eventBus:e,updateMatchesCountOnProgress:i=!0}){this._linkService=n,this._eventBus=e,this.#t=i,this.onIsPageVisible=null,this.#s(),e._on("find",this.#i.bind(this)),e._on("findbarclose",this.#v.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(n){this._pdfDocument&&this.#s(),n&&(this._pdfDocument=n,this._firstPageCapability.resolve())}#i(n){if(!n)return;const e=this._pdfDocument,{type:i}=n;(null===this.#e||this.#l(n))&&(this._dirtyMatch=!0),this.#e=n,"highlightallchange"!==i&&this.#T(Xl.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||e&&this._pdfDocument!==e)return;this.#h();const o=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?this.#g():"again"===i?(this.#g(),o&&this.#e.highlightAll&&this.#u()):"highlightallchange"===i?(s?this.#g():this._highlightMatches=!0,this.#u()):this.#g():this._findTimeout=setTimeout(()=>{this.#g(),this._findTimeout=null},250)})}scrollMatchIntoView({element:n=null,selectedLeft:e=0,pageIndex:i=-1,matchIndex:o=-1}){this._scrollMatches&&n&&-1!==o&&o===this._selected.matchIdx&&-1!==i&&i===this._selected.pageIdx&&(this._scrollMatches=!1,dk(n,{top:-50,left:e+-400},!0))}#s(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#o(){const{query:n}=this.#e;return"string"==typeof n?(n!==this._rawQuery&&(this._rawQuery=n,[this._normalizedQuery]=BM(n)),this._normalizedQuery):(n||[]).filter(e=>!!e).map(e=>BM(e)[0])}#l(n){const e=n.query,i=this.#e.query,o=typeof e;if(o!==typeof i)return!0;if("string"===o){if(e!==i)return!0}else if(JSON.stringify(e)!==JSON.stringify(i))return!0;switch(n.type){case"again":const r=this._selected.pageIdx+1,a=this._linkService;return r>=1&&r<=a.pagesCount&&r!==a.page&&!(this.onIsPageVisible?.(r)??1);case"highlightallchange":return!1}return!0}#c(n,e,i){let o=n.slice(0,e).match(_ge);if(o){const s=n.charCodeAt(e),r=o[1].charCodeAt(0);if(F6(s)===F6(r))return!1}if(o=n.slice(e+i).match(gge),o){const s=n.charCodeAt(e+i-1),r=o[1].charCodeAt(0);if(F6(s)===F6(r))return!1}return!0}#d(n,e){const{matchDiacritics:i}=this.#e;let o=!1;return(n=n.replaceAll(uge,(r,a,l,c,h,g)=>a?`[ ]*\\${a}[ ]*`:l?`[ ]*${l}[ ]*`:c?"[ ]+":i?h||g:h?mk.has(h.charCodeAt(0))?h:"":e?(o=!0,`${g}\\p{M}*`):g)).endsWith("[ ]*")&&(n=n.slice(0,n.length-4)),i&&e&&(vk||=String.fromCharCode(...mk),o=!0,n=`${n}(?=[${vk}]|[^\\p{M}]|$)`),[o,n]}#a(n){const e=this.#o;if(0===e.length)return;const o=this.match(e,this._pageContents[n],n),s=this._pageMatches[n]=[],r=this._pageMatchesLength[n]=[],a=this._pageDiffs[n];o?.forEach(({index:c,length:h})=>{const[g,f]=function mge(t,n,e){if(!t)return[n,e];const i=n,o=n+e-1;let s=eg(t,h=>h[0]>=i);t[s][0]>i&&--s;let r=eg(t,h=>h[0]>=o,s);t[r][0]>o&&--r;const a=i+t[s][1];return[a,o+t[r][1]+1-a]}(a,c,h);f&&(s.push(g),r.push(f))}),this.#e.highlightAll&&this.#r(n),this._resumePageIdx===n&&(this._resumePageIdx=null,this.#p());const l=s.length;this._matchesCountTotal+=l,this.#t?l>0&&this.#b():++this.#n===this._linkService.pagesCount&&this.#b()}match(n,e,i){const o=this._hasDiacritics[i];let s=!1;if("string"==typeof n?[s,n]=this.#d(n,o):n=n.sort().reverse().map(g=>{const[f,v]=this.#d(g,o);return s||=f,`(${v})`}).join("|"),!n)return;const{caseSensitive:r,entireWord:a}=this.#e;n=new RegExp(n,`g${s?"u":""}${r?"":"i"}`);const c=[];let h;for(;null!==(h=n.exec(e));)a&&!this.#c(e,h.index,h[0].length)||c.push({index:h.index,length:h[0].length});return c}#h(){if(this._extractTextPromises.length>0)return;let n=Promise.resolve();const e={disableNormalization:!0};for(let i=0,o=this._linkService.pagesCount;i<o;i++){const{promise:s,resolve:r}=Promise.withResolvers();this._extractTextPromises[i]=s,n=n.then(()=>this._pdfDocument.getPage(i+1).then(a=>a.getTextContent(e)).then(a=>{const l=[];for(const c of a.items)l.push(c.str),c.hasEOL&&l.push("\n");[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=BM(l.join("")),r()},a=>{console.error(`Unable to get text content for page ${i+1}`,a),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,r()}))}}#r(n){this._scrollMatches&&this._selected.pageIdx===n&&(this._linkService.page=n+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:n})}#u(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#g(){const n=this.#e.findPrevious,e=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=e,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#u();for(let r=0;r<i;r++)this._pendingFindMatches.has(r)||(this._pendingFindMatches.add(r),this._extractTextPromises[r].then(()=>{this._pendingFindMatches.delete(r),this.#a(r)}))}if(0===this.#o.length)return void this.#T(Xl.FOUND);if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,null!==s.matchIdx){if(!n&&s.matchIdx+1<this._pageMatches[s.pageIdx].length||n&&s.matchIdx>0)return s.matchIdx=n?s.matchIdx-1:s.matchIdx+1,void this.#f(!0);this.#m(n)}this.#p()}#_(n){const e=this._offset,i=n.length,o=this.#e.findPrevious;return i?(e.matchIdx=o?i-1:0,this.#f(!0),!0):(this.#m(o),!!(e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0))&&(this.#f(!1),!0))}#p(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let n=null;do{const e=this._offset.pageIdx;if(n=this._pageMatches[e],!n){this._resumePageIdx=e;break}}while(!this.#_(n))}#m(n){const e=this._offset,i=this._linkService.pagesCount;e.pageIdx=n?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=i||e.pageIdx<0)&&(e.pageIdx=n?i-1:0,e.wrapped=!0)}#f(n=!1){let e=Xl.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,n){const o=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=i?Xl.WRAPPED:Xl.FOUND,-1!==o&&o!==this._selected.pageIdx&&this.#r(o)}this.#T(e,this.#e.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#r(this._selected.pageIdx))}#v(n){const e=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||e&&this._pdfDocument!==e||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#T(Xl.FOUND),this._highlightMatches=!1,this.#u())})}#M(){const{pageIdx:n,matchIdx:e}=this._selected;let i=0,o=this._matchesCountTotal;if(-1!==e){for(let s=0;s<n;s++)i+=this._pageMatches[s]?.length||0;i+=e+1}return(i<1||i>o)&&(i=o=0),{current:i,total:o}}#b(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#M()})}#T(n,e=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||n===Xl.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:n,previous:e,entireWord:this.#e?.entireWord??null,matchesCount:this.#M(),rawQuery:this.#e?.query??null})}}const M5={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class k6{externalLinkEnabled=!0;constructor({eventBus:n,externalLinkTarget:e=null,externalLinkRel:i=null,ignoreDestinationZoom:o=!1}={}){this.eventBus=n,this.externalLinkTarget=e,this.externalLinkRel=i,this._ignoreDestinationZoom=o,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(n,e=null){this.baseUrl=e,this.pdfDocument=n}setViewer(n){this.pdfViewer=n}setHistory(n){this.pdfHistory=n}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(n){this.pdfDocument&&(this.pdfViewer.currentPageNumber=n)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(n){this.pdfDocument&&(this.pdfViewer.pagesRotation=n)}get isInPresentationMode(){return!!this.pdfDocument&&this.pdfViewer.isInPresentationMode}goToDestination(n){var e=this;return je(function*(){if(!e.pdfDocument)return;let i,o,s;if("string"==typeof n?(i=n,o=yield e.pdfDocument.getDestination(n)):(i=null,o=yield n),!Array.isArray(o))return void console.error(`goToDestination: "${o}" is not a valid destination array, for dest="${n}".`);const[r]=o;if(r&&"object"==typeof r){if(s=e.pdfDocument.cachedPageNumber(r),!s)try{s=(yield e.pdfDocument.getPageIndex(r))+1}catch{return void console.error(`goToDestination: "${r}" is not a valid page reference, for dest="${n}".`)}}else Number.isInteger(r)&&(s=r+1);!s||s<1||s>e.pagesCount?console.error(`goToDestination: "${s}" is not a valid page number, for dest="${n}".`):(e.pdfHistory&&(e.pdfHistory.pushCurrentPosition(),e.pdfHistory.push({namedDest:i,explicitDest:o,pageNumber:s})),e.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:o,ignoreDestinationZoom:e._ignoreDestinationZoom}))})()}goToPage(n){if(!this.pdfDocument)return;const e="string"==typeof n&&this.pdfViewer.pageLabelToPageNumber(n)||0|n;Number.isInteger(e)&&e>0&&e<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(e)),this.pdfViewer.scrollPageIntoView({pageNumber:e})):console.error(`PDFLinkService.goToPage: "${n}" is not a valid page.`)}addLinkAttributes(n,e,i=!1){if(!e||"string"!=typeof e)throw new Error('A valid "url" parameter must provided.');const o=i?M5.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?n.href=n.title=e:(n.href="",n.title=`Disabled: ${e}`,n.onclick=()=>!1);let r="";switch(o){case M5.NONE:break;case M5.SELF:r="_self";break;case M5.BLANK:r="_blank";break;case M5.PARENT:r="_parent";break;case M5.TOP:r="_top"}n.target=r,n.rel="string"==typeof s?s:"noopener noreferrer nofollow"}getDestinationHash(n){if("string"==typeof n){if(n.length>0)return this.getAnchorUrl("#"+escape(n))}else if(Array.isArray(n)){const e=JSON.stringify(n);if(e.length>0)return this.getAnchorUrl("#"+escape(e))}return this.getAnchorUrl("")}getAnchorUrl(n){return this.baseUrl?this.baseUrl+n:n}setHash(n){if(!this.pdfDocument)return;let e,i;if(n.includes("=")){const o=L6(n);if(o.has("search")){const s=o.get("search").replaceAll('"',""),r="true"===o.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:r?s:s.match(/\S+/g)})}if(o.has("page")&&(e=0|o.get("page")||1),o.has("zoom")){const s=o.get("zoom").split(","),r=s[0],a=parseFloat(r);r.includes("Fit")?"Fit"===r||"FitB"===r?i=[null,{name:r}]:"FitH"===r||"FitBH"===r||"FitV"===r||"FitBV"===r?i=[null,{name:r},s.length>1?0|s[1]:null]:"FitR"===r?5!==s.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:r},0|s[1],0|s[2],0|s[3],0|s[4]]:console.error(`PDFLinkService.setHash: "${r}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?0|s[1]:null,s.length>2?0|s[2]:null,a?a/100:r]}return i?this.pdfViewer.scrollPageIntoView({pageNumber:e||this.page,destArray:i,allowNegativeOffset:!0}):e&&(this.page=e),o.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:o.get("pagemode")}),void(o.has("nameddest")&&this.goToDestination(o.get("nameddest")))}i=unescape(n);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}"string"==typeof i||k6.#e(i)?this.goToDestination(i):console.error(`PDFLinkService.setHash: "${unescape(n)}" is not a valid destination.`)}executeNamedAction(n){if(this.pdfDocument){switch(n){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:n})}}executeSetOCGState(n){var e=this;return je(function*(){if(!e.pdfDocument)return;const i=e.pdfDocument,o=yield e.pdfViewer.optionalContentConfigPromise;i===e.pdfDocument&&(o.setOCGState(n),e.pdfViewer.optionalContentConfigPromise=Promise.resolve(o))})()}static#e(n){if(!Array.isArray(n)||n.length<2)return!1;const[e,i,...o]=n;if(("object"!=typeof e||!Number.isInteger(e?.num)||!Number.isInteger(e?.gen))&&!Number.isInteger(e)||"object"!=typeof i||"string"!=typeof i?.name)return!1;const s=o.length;let r=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;r=!1;break;default:return!1}for(const a of o)if(!("number"==typeof a||r&&null===a))return!1;return!0}}class UM extends k6{setDocument(n,e=null){}}const{AbortException:Mge,AnnotationEditorLayer:Tge,AnnotationEditorType:Pa,AnnotationEditorUIManager:wge,AnnotationLayer:bge,AnnotationMode:Q0,createValidAbsoluteUrl:Sge,DrawLayer:Ege,fetchData:Tk,getPdfFilenameFromUrl:Oge,isPdfFile:Age,normalizeUnicode:Nge,OutputScale:Dge,PermissionFlag:z6,PixelsPerInch:J0,RenderingCancelledException:jM,setLayerDimensions:yge,shadow:V6,TextLayer:Pge,version:wk,XfaLayer:ZM}=globalThis.pdfjsLib;class bk{#e=null;#t=null;constructor({pdfPage:n,linkService:e,downloadManager:i,annotationStorage:o=null,imageResourcesPath:s="",renderForms:r=!0,enableScripting:a=!1,hasJSActionsPromise:l=null,fieldObjectsPromise:c=null,annotationCanvasMap:h=null,accessibilityManager:g=null,annotationEditorUIManager:f=null,onAppend:v=null}){this.pdfPage=n,this.linkService=e,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=r,this.annotationStorage=o,this.enableScripting=a,this._hasJSActionsPromise=l||Promise.resolve(!1),this._fieldObjectsPromise=c||Promise.resolve(null),this._annotationCanvasMap=h,this._accessibilityManager=g,this._annotationEditorUIManager=f,this.#e=v,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=e.eventBus}render(n,e){var i=this;return je(function*(o,s,r="display"){if(i.div){if(i._cancelled||!i.annotationLayer)return;return void i.annotationLayer.update({viewport:o.clone({dontFlip:!0})})}const[a,l,c]=yield Promise.all([i.pdfPage.getAnnotations({intent:r}),i._hasJSActionsPromise,i._fieldObjectsPromise]);if(i._cancelled)return;const h=i.div=document.createElement("div");h.className="annotationLayer",i.#e?.(h),0!==a.length?(i.annotationLayer=new bge({div:h,accessibilityManager:i._accessibilityManager,annotationCanvasMap:i._annotationCanvasMap,annotationEditorUIManager:i._annotationEditorUIManager,page:i.pdfPage,viewport:o.clone({dontFlip:!0}),structTreeLayer:s?.structTreeLayer||null}),yield i.annotationLayer.render({annotations:a,imageResourcesPath:i.imageResourcesPath,renderForms:i.renderForms,linkService:i.linkService,downloadManager:i.downloadManager,annotationStorage:i.annotationStorage,enableScripting:i.enableScripting,hasJSActions:l,fieldObjects:c}),i.linkService.isInPresentationMode&&i.#n(3),i.#t||(i.#t=new AbortController,i._eventBus?._on("presentationmodechanged",g=>{i.#n(g.state)},{signal:i.#t.signal}))):i.hide()}).apply(this,arguments)}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#n(n){if(!this.div)return;let e=!1;switch(n){case 3:e=!0;break;case 1:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=e)}}function Sk(t,n){const e=document.createElement("a");if(!e.click)throw new Error('DownloadManager: "a.click()" is not supported.');e.href=t,e.target="_parent","download"in e&&(e.download=n),(document.body||document.documentElement).append(e),e.click(),e.remove()}class Ige{#e=new WeakMap;downloadData(n,e,i){Sk(URL.createObjectURL(new Blob([n],{type:i})),e)}openOrDownloadData(n,e,i=null){const s=Age(e)?"application/pdf":"";return this.downloadData(n,e,s),!1}download(n,e,i){let o;if(n)o=URL.createObjectURL(new Blob([n],{type:"application/pdf"}));else{if(!Sge(e,"http://example.com"))return void console.error(`download - not a valid URL: ${e}`);o=e+"#pdfjs.action=download"}Sk(o,i)}}function WM(){return(WM=je(function*({target:t,name:n,delay:e=0}){if("object"!=typeof t||!n||"string"!=typeof n||!(Number.isInteger(e)&&e>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:o}=Promise.withResolvers(),s=new AbortController;function r(c){s.abort(),clearTimeout(l),o(c)}t[t instanceof XM?"_on":"addEventListener"](n,r.bind(null,"event"),{signal:s.signal});const l=setTimeout(r.bind(null,"timeout"),e);return i})).apply(this,arguments)}class XM{#e=Object.create(null);on(n,e,i=null){this._on(n,e,{external:!0,once:i?.once,signal:i?.signal})}off(n,e,i=null){this._off(n,e)}dispatch(n,e){const i=this.#e[n];if(!i||0===i.length)return;let o;for(const{listener:s,external:r,once:a}of i.slice(0))a&&this._off(n,s),r?(o||=[]).push(s):s(e);if(o){for(const s of o)s(e);o=null}}_on(n,e,i=null){let o=null;if(i?.signal instanceof AbortSignal){const{signal:r}=i;if(r.aborted)return void console.error("Cannot use an `aborted` signal.");const a=()=>this._off(n,e);o=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}(this.#e[n]||=[]).push({listener:e,external:!0===i?.external,once:!0===i?.once,rmAbort:o})}_off(n,e,i=null){const o=this.#e[n];if(o)for(let s=0,r=o.length;s<r;s++){const a=o[s];if(a.listener===e)return a.rmAbort?.(),void o.splice(s,1)}}}class H6{constructor(n){this.value=n}valueOf(){return this.value}}class ms extends H6{constructor(n="???"){super(n)}toString(n){return`{${this.value}}`}}class el extends H6{constructor(n,e={}){super(n),this.opts=e}toString(n){try{return n.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(e){return n.reportError(e),this.value.toString(10)}}}class tg extends H6{constructor(n,e={}){super(n),this.opts=e}toString(n){try{return n.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(e){return n.reportError(e),new Date(this.value).toISOString()}}}function Fge(t,n,e){return e===n||e instanceof el&&n instanceof el&&e.value===n.value||n instanceof el&&"string"==typeof e&&e===t.memoizeIntlObject(Intl.PluralRules,n.opts).select(n.value)}function Ak(t,n,e){return n[e]?F2(t,n[e].value):(t.reportError(new RangeError("No default")),new ms)}function KM(t,n){const e=[],i=Object.create(null);for(const o of n)"narg"===o.type?i[o.name]=ng(t,o.value):e.push(ng(t,o));return{positional:e,named:i}}function ng(t,n){switch(n.type){case"str":return n.value;case"num":return new el(n.value,{minimumFractionDigits:n.precision});case"var":return function kge(t,{name:n}){let e;if(t.params){if(!Object.prototype.hasOwnProperty.call(t.params,n))return new ms(`$${n}`);e=t.params[n]}else{if(!t.args||!Object.prototype.hasOwnProperty.call(t.args,n))return t.reportError(new ReferenceError(`Unknown variable: $${n}`)),new ms(`$${n}`);e=t.args[n]}if(e instanceof H6)return e;switch(typeof e){case"string":return e;case"number":return new el(e);case"object":if(e instanceof Date)return new tg(e.getTime());default:return t.reportError(new TypeError(`Variable type not supported: $${n}, ${typeof e}`)),new ms(`$${n}`)}}(t,n);case"mesg":return function zge(t,{name:n,attr:e}){const i=t.bundle._messages.get(n);if(!i)return t.reportError(new ReferenceError(`Unknown message: ${n}`)),new ms(n);if(e){const o=i.attributes[e];return o?F2(t,o):(t.reportError(new ReferenceError(`Unknown attribute: ${e}`)),new ms(`${n}.${e}`))}return i.value?F2(t,i.value):(t.reportError(new ReferenceError(`No value: ${n}`)),new ms(n))}(t,n);case"term":return function Vge(t,{name:n,attr:e,args:i}){const o=`-${n}`,s=t.bundle._terms.get(o);if(!s)return t.reportError(new ReferenceError(`Unknown term: ${o}`)),new ms(o);if(e){const a=s.attributes[e];if(a){t.params=KM(t,i).named;const l=F2(t,a);return t.params=null,l}return t.reportError(new ReferenceError(`Unknown attribute: ${e}`)),new ms(`${o}.${e}`)}t.params=KM(t,i).named;const r=F2(t,s.value);return t.params=null,r}(t,n);case"func":return function Hge(t,{name:n,args:e}){let i=t.bundle._functions[n];if(!i)return t.reportError(new ReferenceError(`Unknown function: ${n}()`)),new ms(`${n}()`);if("function"!=typeof i)return t.reportError(new TypeError(`Function ${n}() is not callable`)),new ms(`${n}()`);try{let o=KM(t,e);return i(o.positional,o.named)}catch(o){return t.reportError(o),new ms(`${n}()`)}}(t,n);case"select":return function Gge(t,{selector:n,variants:e,star:i}){let o=ng(t,n);if(o instanceof ms)return Ak(t,e,i);for(const s of e)if(Fge(t,o,ng(t,s.key)))return F2(t,s.value);return Ak(t,e,i)}(t,n);default:return new ms}}function Nk(t,n){if(t.dirty.has(n))return t.reportError(new RangeError("Cyclic reference")),new ms;t.dirty.add(n);const e=[],i=t.bundle._useIsolating&&n.length>1;for(const o of n)if("string"!=typeof o){if(t.placeables++,t.placeables>100)throw t.dirty.delete(n),new RangeError(`Too many placeables expanded: ${t.placeables}, max allowed is 100`);i&&e.push("\u2068"),e.push(ng(t,o).toString(t)),i&&e.push("\u2069")}else e.push(t.bundle._transform(o));return t.dirty.delete(n),e.join("")}function F2(t,n){return"string"==typeof n?t.bundle._transform(n):Nk(t,n)}class $ge{constructor(n,e,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=n,this.errors=e,this.args=i}reportError(n){if(!(this.errors&&n instanceof Error))throw n;this.errors.push(n)}memoizeIntlObject(n,e){let i=this.bundle._intls.get(n);i||(i={},this.bundle._intls.set(n,i));let o=JSON.stringify(e);return i[o]||(i[o]=new n(this.bundle.locales,e)),i[o]}}function G6(t,n){const e=Object.create(null);for(const[i,o]of Object.entries(t))n.includes(i)&&(e[i]=o.valueOf());return e}const Dk=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Bge(t,n){let e=t[0];if(e instanceof ms)return new ms(`NUMBER(${e.valueOf()})`);if(e instanceof el)return new el(e.valueOf(),{...e.opts,...G6(n,Dk)});if(e instanceof tg)return new el(e.valueOf(),{...G6(n,Dk)});throw new TypeError("Invalid argument to NUMBER")}const yk=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Uge(t,n){let e=t[0];if(e instanceof ms)return new ms(`DATETIME(${e.valueOf()})`);if(e instanceof tg)return new tg(e.valueOf(),{...e.opts,...G6(n,yk)});if(e instanceof el)return new tg(e.valueOf(),{...G6(n,yk)});throw new TypeError("Invalid argument to DATETIME")}const Pk=new Map;class Zge{constructor(n,{functions:e,useIsolating:i=!0,transform:o=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(n)?n:[n],this._functions={NUMBER:Bge,DATETIME:Uge,...e},this._useIsolating=i,this._transform=o,this._intls=function jge(t){const n=Array.isArray(t)?t.join(" "):t;let e=Pk.get(n);return void 0===e&&(e=new Map,Pk.set(n,e)),e}(n)}hasMessage(n){return this._messages.has(n)}getMessage(n){return this._messages.get(n)}addResource(n,{allowOverrides:e=!1}={}){const i=[];for(let o=0;o<n.body.length;o++){let s=n.body[o];if(s.id.startsWith("-")){if(!1===e&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(!1===e&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(n,e=null,i=null){if("string"==typeof n)return this._transform(n);let o=new $ge(this,i,e);try{return Nk(o,n).toString(o)}catch(s){if(o.errors&&s instanceof Error)return o.errors.push(s),(new ms).toString(o);throw s}}}const qM=/^(-?[a-zA-Z][\w-]*) *= */gm,Ik=/\.([a-zA-Z][\w-]*) *= */y,Wge=/\*?\[/y,YM=/(-?[0-9]+(?:\.([0-9]+))?)/y,Xge=/([a-zA-Z][\w-]*)/y,Lk=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,Kge=/^[A-Z][A-Z0-9_-]*$/,$6=/([^{}\n\r]+)/y,qge=/([^\\"\n\r]*)/y,Rk=/\\([\\"])/y,xk=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,Yge=/^\n+/,Fk=/ +$/,Qge=/ *\r?\n/g,Jge=/( *)$/,epe=/{\s*/y,kk=/\s*}/y,tpe=/\[\s*/y,npe=/\s*] */y,ipe=/\s*\(\s*/y,ope=/\s*->\s*/y,spe=/\s*:\s*/y,rpe=/\s*,?\s*/y,ape=/\s+/y;class lpe{constructor(n){this.body=[],qM.lastIndex=0;let e=0;for(;;){let le=qM.exec(n);if(null===le)break;e=qM.lastIndex;try{this.body.push(l(le[1]))}catch(fe){if(fe instanceof SyntaxError)continue;throw fe}}function i(le){return le.lastIndex=e,le.test(n)}function o(le,fe){if(n[e]===le)return e++,!0;if(fe)throw new fe(`Expected ${le}`);return!1}function s(le,fe){if(i(le))return e=le.lastIndex,!0;if(fe)throw new fe(`Expected ${le.toString()}`);return!1}function r(le){le.lastIndex=e;let fe=le.exec(n);if(null===fe)throw new SyntaxError(`Expected ${le.toString()}`);return e=le.lastIndex,fe}function a(le){return r(le)[1]}function l(le){let fe=h(),ke=function c(){let le=Object.create(null);for(;i(Ik);){let fe=a(Ik),ke=h();if(null===ke)throw new SyntaxError("Expected attribute value");le[fe]=ke}return le}();if(null===fe&&0===Object.keys(ke).length)throw new SyntaxError("Expected message value or attributes");return{id:le,value:fe,attributes:ke}}function h(){let le;if(i($6)&&(le=a($6)),"{"===n[e]||"}"===n[e])return g(le?[le]:[],1/0);let fe=se();return fe?le?g([le,fe],fe.length):(fe.value=ve(fe.value,Yge),g([fe],fe.length)):le?ve(le,Fk):null}function g(le=[],fe){for(;;){if(i($6)){le.push(a($6));continue}if("{"===n[e]){le.push(f());continue}if("}"===n[e])throw new SyntaxError("Unbalanced closing brace");let Ft=se();if(!Ft)break;le.push(Ft),fe=Math.min(fe,Ft.length)}let ke=le.length-1,Dt=le[ke];"string"==typeof Dt&&(le[ke]=ve(Dt,Fk));let it=[];for(let Ft of le)Ft instanceof zk&&(Ft=Ft.value.slice(0,Ft.value.length-fe)),Ft&&it.push(Ft);return it}function f(){s(epe,SyntaxError);let le=v();if(s(kk))return le;if(s(ope)){let fe=function D(){let ke,le=[],fe=0;for(;i(Wge);){o("*")&&(ke=fe);let Dt=I(),it=h();if(null===it)throw new SyntaxError("Expected variant value");le[fe++]={key:Dt,value:it}}if(0===fe)return null;if(void 0===ke)throw new SyntaxError("Expected default variant");return{variants:le,star:ke}}();return s(kk,SyntaxError),{type:"select",selector:le,...fe}}throw new SyntaxError("Unclosed placeable")}function v(){if("{"===n[e])return f();if(i(Lk)){let[,le,fe,ke=null]=r(Lk);if("$"===le)return{type:"var",name:fe};if(s(ipe)){let Dt=function C(){let le=[];for(;;){switch(n[e]){case")":return e++,le;case void 0:throw new SyntaxError("Unclosed argument list")}le.push(S()),s(rpe)}}();if("-"===le)return{type:"term",name:fe,attr:ke,args:Dt};if(Kge.test(fe))return{type:"func",name:fe,args:Dt};throw new SyntaxError("Function names must be all upper-case")}return"-"===le?{type:"term",name:fe,attr:ke,args:[]}:{type:"mesg",name:fe,attr:ke}}return L()}function S(){let le=v();return"mesg"!==le.type?le:s(spe)?{type:"narg",name:le.name,value:L()}:le}function I(){let le;return s(tpe,SyntaxError),le=i(YM)?G():{type:"str",value:a(Xge)},s(npe,SyntaxError),le}function L(){if(i(YM))return G();if('"'===n[e])return function R(){o('"',SyntaxError);let le="";for(;;){if(le+=a(qge),"\\"!==n[e]){if(o('"'))return{type:"str",value:le};throw new SyntaxError("Unclosed string literal")}le+=J()}}();throw new SyntaxError("Invalid expression")}function G(){let[,le,fe=""]=r(YM),ke=fe.length;return{type:"num",value:parseFloat(le),precision:ke}}function J(){if(i(Rk))return a(Rk);if(i(xk)){let[,le,fe]=r(xk),ke=parseInt(le||fe,16);return ke<=55295||57344<=ke?String.fromCodePoint(ke):"\ufffd"}throw new SyntaxError("Unknown escape sequence")}function se(){let le=e;switch(s(ape),n[e]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return pe(n.slice(le,e))}return" "===n[e-1]&&pe(n.slice(le,e))}function ve(le,fe){return le.replace(fe,"")}function pe(le){let fe=le.replace(Qge,"\n"),ke=Jge.exec(le)[1].length;return new zk(fe,ke)}}}class zk{constructor(n,e){this.value=n,this.length=e}}const cpe=/<|&#?\w+;/,dpe={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},hpe={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function upe(t,n){const{value:e}=n;if("string"==typeof e)if("title"===t.localName&&"http://www.w3.org/1999/xhtml"===t.namespaceURI)t.textContent=e;else if(cpe.test(e)){const i=t.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=e,function _pe(t,n){for(const e of t.childNodes)if(e.nodeType!==e.TEXT_NODE){if(e.hasAttribute("data-l10n-name")){const i=ppe(n,e);t.replaceChild(i,e);continue}if(mpe(e)){const i=fpe(e);t.replaceChild(i,e);continue}console.warn(`An element of forbidden type "${e.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),t.replaceChild(QM(e),e)}n.textContent="",n.appendChild(t)}(i.content,t)}else t.textContent=e;Vk(n,t)}function gpe(t,n){if(!t)return!1;for(let e of t)if(e.name===n)return!0;return!1}function Vk(t,n){const e=n.hasAttribute("data-l10n-attrs")?n.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(n.attributes))Hk(i.name,n,e)&&!gpe(t.attributes,i.name)&&n.removeAttribute(i.name);if(t.attributes)for(const i of Array.from(t.attributes))Hk(i.name,n,e)&&n.getAttribute(i.name)!==i.value&&n.setAttribute(i.name,i.value)}function ppe(t,n){const e=n.getAttribute("data-l10n-name"),i=t.querySelector(`[data-l10n-name="${e}"]`);return i?i.localName!==n.localName?(console.warn(`An element named "${e}" was found in the translation but its type ${n.localName} didn't match the element found in the source (${i.localName}).`),QM(n)):(t.removeChild(i),Gk(n,i.cloneNode(!1))):(console.warn(`An element named "${e}" wasn't found in the source.`),QM(n))}function fpe(t){const n=t.ownerDocument.createElement(t.localName);return Gk(t,n)}function QM(t){return t.ownerDocument.createTextNode(t.textContent)}function mpe(t){const n=dpe[t.namespaceURI];return n&&n.includes(t.localName)}function Hk(t,n,e=null){if(e&&e.includes(t))return!0;const i=hpe[n.namespaceURI];if(!i)return!1;const o=t.toLowerCase(),s=n.localName;if(i.global.includes(o))return!0;if(!i[s])return!1;if(i[s].includes(o))return!0;if("http://www.w3.org/1999/xhtml"===n.namespaceURI&&"input"===s&&"value"===o){const r=n.type.toLowerCase();if("submit"===r||"button"===r||"reset"===r)return!0}return!1}function Gk(t,n){return n.textContent=t.textContent,Vk(t,n),n}class $k extends Array{static from(n){return n instanceof this?n:new this(n)}}Symbol;class vpe extends $k{constructor(n){if(super(),Symbol.asyncIterator in Object(n))this.iterator=n[Symbol.asyncIterator]();else{if(!(Symbol.iterator in Object(n)))throw new TypeError("Argument must implement the iteration protocol.");this.iterator=n[Symbol.iterator]()}}[Symbol.asyncIterator](){const n=this;let e=0;return{next:()=>je(function*(){return n.length<=e&&n.push(n.iterator.next()),n[e++]})()}}touchNext(){var n=this;return je(function*(e=1){let i=0;for(;i++<e;){const o=n[n.length-1];if(o&&(yield o).done)break;n.push(n.iterator.next())}return n[n.length-1]}).apply(this,arguments)}}class Cpe{constructor(n=[],e){this.resourceIds=n,this.generateBundles=e,this.onChange(!0)}addResourceIds(n,e=!1){return this.resourceIds.push(...n),this.onChange(e),this.resourceIds.length}removeResourceIds(n){return this.resourceIds=this.resourceIds.filter(e=>!n.includes(e)),this.onChange(),this.resourceIds.length}formatWithFallback(n,e){var i=this;return je(function*(){const o=[];let s=!1;var l,r=!1,a=!1;try{for(var h,c=function F_e(t){var n,e,i,o=2;for(typeof Symbol<"u"&&(e=Symbol.asyncIterator,i=Symbol.iterator);o--;){if(e&&null!=(n=t[e]))return n.call(t);if(i&&null!=(n=t[i]))return new I6(n.call(t));e="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}(i.bundles);r=!(h=yield c.next()).done;r=!1){const g=h.value;{s=!0;const f=wpe(e,g,n,o);if(0===f.size)break;if(typeof console<"u"){const v=g.locales[0],C=Array.from(f).join(", ");console.warn(`[fluent] Missing translations in ${v}: ${C}`)}}}}catch(g){a=!0,l=g}finally{try{r&&null!=c.return&&(yield c.return())}finally{if(a)throw l}}return!s&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(n)}.\n  resourceIds: ${JSON.stringify(i.resourceIds)}.`),o})()}formatMessages(n){return this.formatWithFallback(n,Tpe)}formatValues(n){return this.formatWithFallback(n,Mpe)}formatValue(n,e){var i=this;return je(function*(){const[o]=yield i.formatValues([{id:n,args:e}]);return o})()}handleEvent(){this.onChange()}onChange(n=!1){this.bundles=vpe.from(this.generateBundles(this.resourceIds)),n&&this.bundles.touchNext(2)}}function Mpe(t,n,e,i){return e.value?t.formatPattern(e.value,i,n):null}function Tpe(t,n,e,i){const o={value:null,attributes:null};e.value&&(o.value=t.formatPattern(e.value,i,n));let s=Object.keys(e.attributes);if(s.length>0){o.attributes=new Array(s.length);for(let[r,a]of s.entries()){let l=t.formatPattern(e.attributes[a],i,n);o.attributes[r]={name:a,value:l}}}return o}function wpe(t,n,e,i){const o=[],s=new Set;return e.forEach(({id:r,args:a},l)=>{if(void 0!==i[l])return;let c=n.getMessage(r);if(c){if(o.length=0,i[l]=t(n,o,c,a),o.length>0&&typeof console<"u"){const h=n.locales[0],g=o.join(", ");console.warn(`[fluent][resolver] errors in ${h}/${r}: ${g}.`)}}else s.add(r)}),s}const T5="data-l10n-id",ig="data-l10n-args",bpe=`[${T5}]`;class Spe extends Cpe{constructor(n,e){super(n,e),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[T5,ig]}}onChange(n=!1){super.onChange(n),this.roots&&this.translateRoots()}setAttributes(n,e,i){return n.setAttribute(T5,e),i?n.setAttribute(ig,JSON.stringify(i)):n.removeAttribute(ig),n}getAttributes(n){return{id:n.getAttribute(T5),args:JSON.parse(n.getAttribute(ig)||null)}}connectRoot(n){for(const e of this.roots)if(e===n||e.contains(n)||n.contains(e))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==n.ownerDocument.defaultView)throw new Error("Cannot connect a root:\n          DOMLocalization already has a root from a different window.")}else this.windowElement=n.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(e=>this.translateMutations(e));this.roots.add(n),this.mutationObserver.observe(n,this.observerConfig)}disconnectRoot(n){return this.roots.delete(n),this.pauseObserving(),0===this.roots.size?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const n=Array.from(this.roots);return Promise.all(n.map(e=>this.translateFragment(e)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const n of this.roots)this.mutationObserver.observe(n,this.observerConfig)}translateMutations(n){for(const e of n)switch(e.type){case"attributes":e.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(e.target);break;case"childList":for(const i of e.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const o of this.getTranslatables(i))this.pendingElements.add(o);else i.hasAttribute(T5)&&this.pendingElements.add(i)}this.pendingElements.size>0&&null===this.pendingrAF&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(n){return this.translateElements(this.getTranslatables(n))}translateElements(n){var e=this;return je(function*(){if(!n.length)return;const i=n.map(e.getKeysForElement),o=yield e.formatMessages(i);return e.applyTranslations(n,o)})()}applyTranslations(n,e){this.pauseObserving();for(let i=0;i<n.length;i++)void 0!==e[i]&&upe(n[i],e[i]);this.resumeObserving()}getTranslatables(n){const e=Array.from(n.querySelectorAll(bpe));return"function"==typeof n.hasAttribute&&n.hasAttribute(T5)&&e.push(n),e}getKeysForElement(n){return{id:n.getAttribute(T5),args:JSON.parse(n.getAttribute(ig)||null)}}}class B6{#e;#t;#n;#i;constructor({lang:n,isRTL:e},i=null){this.#n=B6.#s(n),this.#i=i,this.#e=e??B6.#o(this.#n)?"rtl":"ltr"}_setL10n(n){this.#i=n}getLanguage(){return this.#n}getDirection(){return this.#e}get(n){var e=this;return je(function*(i,o=null,s){return Array.isArray(i)?(i=i.map(l=>({id:l})),(yield e.#i.formatMessages(i)).map(l=>l.value)):(yield e.#i.formatMessages([{id:i,args:o}]))[0]?.value||s}).apply(this,arguments)}translate(n){var e=this;return je(function*(){(e.#t||=new Set).add(n);try{e.#i.connectRoot(n),yield e.#i.translateRoots()}catch{}})()}translateOnce(n){var e=this;return je(function*(){try{yield e.#i.translateElements([n])}catch(i){console.error(`translateOnce: "${i}".`)}})()}destroy(){var n=this;return je(function*(){if(n.#t){for(const e of n.#t)n.#i.disconnectRoot(e);n.#t.clear(),n.#t=null}n.#i.pauseObserving()})()}pause(){this.#i.pauseObserving()}resume(){this.#i.resumeObserving()}static#s(n){return{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[n=n?.toLowerCase()||"en-us"]||n}static#o(n){const e=n.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(e)}}function Bk(t,n){const e=new lpe(n),i=new Zge(t),o=i.addResource(e);return o.length&&console.error("L10n errors",o),i}class tl extends B6{constructor(n){super({lang:n});const e=n?tl.#e.bind(tl,"en-us",this.getLanguage()):tl.#i.bind(tl,this.getLanguage());this._setL10n(new Spe([],e))}static#e(n,e){var i=this;return sk(function*(){const{baseURL:o,paths:s}=yield ok(i.#n()),r=[e];if(n!==e){const a=e.split("-",1)[0];a!==e&&r.push(a),r.push(n)}for(const a of r){const l=yield ok(i.#t(a,o,s));l?yield l:"en-us"===a&&(yield i.#s(a))}})()}static#t(n,e,i){return je(function*(){const o=i[n];if(!o)return null;const s=new URL(o,e),r=yield Tk(s,"text");return Bk(n,r)})()}static#n(){return je(function*(){try{const{href:n}=document.querySelector('link[type="application/l10n"]'),e=yield Tk(n,"json");return{baseURL:n.replace(/[^/]*$/,"")||"./",paths:e}}catch{}return{baseURL:"./",paths:Object.create(null)}})()}static#i(n){var e=this;return sk(function*(){yield e.#s(n)})()}static#s(n){return je(function*(){return Bk(n,'pdfjs-previous-button =\n    .title = Previous Page\npdfjs-previous-button-label = Previous\npdfjs-next-button =\n    .title = Next Page\npdfjs-next-button-label = Next\npdfjs-page-input =\n    .title = Page\npdfjs-of-pages = of { $pagesCount }\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\npdfjs-zoom-out-button =\n    .title = Zoom Out\npdfjs-zoom-out-button-label = Zoom Out\npdfjs-zoom-in-button =\n    .title = Zoom In\npdfjs-zoom-in-button-label = Zoom In\npdfjs-zoom-select =\n    .title = Zoom\npdfjs-presentation-mode-button =\n    .title = Switch to Presentation Mode\npdfjs-presentation-mode-button-label = Presentation Mode\npdfjs-open-file-button =\n    .title = Open File\npdfjs-open-file-button-label = Open\npdfjs-print-button =\n    .title = Print\npdfjs-print-button-label = Print\npdfjs-save-button =\n    .title = Save\npdfjs-save-button-label = Save\npdfjs-download-button =\n    .title = Download\npdfjs-download-button-label = Download\npdfjs-bookmark-button =\n    .title = Current Page (View URL from Current Page)\npdfjs-bookmark-button-label = Current Page\npdfjs-tools-button =\n    .title = Tools\npdfjs-tools-button-label = Tools\npdfjs-first-page-button =\n    .title = Go to First Page\npdfjs-first-page-button-label = Go to First Page\npdfjs-last-page-button =\n    .title = Go to Last Page\npdfjs-last-page-button-label = Go to Last Page\npdfjs-page-rotate-cw-button =\n    .title = Rotate Clockwise\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\npdfjs-page-rotate-ccw-button =\n    .title = Rotate Counterclockwise\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\npdfjs-cursor-text-select-tool-button =\n    .title = Enable Text Selection Tool\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\npdfjs-cursor-hand-tool-button =\n    .title = Enable Hand Tool\npdfjs-cursor-hand-tool-button-label = Hand Tool\npdfjs-scroll-page-button =\n    .title = Use Page Scrolling\npdfjs-scroll-page-button-label = Page Scrolling\npdfjs-scroll-vertical-button =\n    .title = Use Vertical Scrolling\npdfjs-scroll-vertical-button-label = Vertical Scrolling\npdfjs-scroll-horizontal-button =\n    .title = Use Horizontal Scrolling\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\npdfjs-scroll-wrapped-button =\n    .title = Use Wrapped Scrolling\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\npdfjs-spread-none-button =\n    .title = Do not join page spreads\npdfjs-spread-none-button-label = No Spreads\npdfjs-spread-odd-button =\n    .title = Join page spreads starting with odd-numbered pages\npdfjs-spread-odd-button-label = Odd Spreads\npdfjs-spread-even-button =\n    .title = Join page spreads starting with even-numbered pages\npdfjs-spread-even-button-label = Even Spreads\npdfjs-document-properties-button =\n    .title = Document Properties\u2026\npdfjs-document-properties-button-label = Document Properties\u2026\npdfjs-document-properties-file-name = File name:\npdfjs-document-properties-file-size = File size:\npdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)\npdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)\npdfjs-document-properties-title = Title:\npdfjs-document-properties-author = Author:\npdfjs-document-properties-subject = Subject:\npdfjs-document-properties-keywords = Keywords:\npdfjs-document-properties-creation-date = Creation Date:\npdfjs-document-properties-modification-date = Modification Date:\npdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }\npdfjs-document-properties-creator = Creator:\npdfjs-document-properties-producer = PDF Producer:\npdfjs-document-properties-version = PDF Version:\npdfjs-document-properties-page-count = Page Count:\npdfjs-document-properties-page-size = Page Size:\npdfjs-document-properties-page-size-unit-inches = in\npdfjs-document-properties-page-size-unit-millimeters = mm\npdfjs-document-properties-page-size-orientation-portrait = portrait\npdfjs-document-properties-page-size-orientation-landscape = landscape\npdfjs-document-properties-page-size-name-a-three = A3\npdfjs-document-properties-page-size-name-a-four = A4\npdfjs-document-properties-page-size-name-letter = Letter\npdfjs-document-properties-page-size-name-legal = Legal\npdfjs-document-properties-page-size-dimension-string = { $width } \xd7 { $height } { $unit } ({ $orientation })\npdfjs-document-properties-page-size-dimension-name-string = { $width } \xd7 { $height } { $unit } ({ $name }, { $orientation })\npdfjs-document-properties-linearized = Fast Web View:\npdfjs-document-properties-linearized-yes = Yes\npdfjs-document-properties-linearized-no = No\npdfjs-document-properties-close-button = Close\npdfjs-print-progress-message = Preparing document for printing\u2026\npdfjs-print-progress-percent = { $progress }%\npdfjs-print-progress-close-button = Cancel\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\npdfjs-toggle-sidebar-button =\n    .title = Toggle Sidebar\npdfjs-toggle-sidebar-notification-button =\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\npdfjs-document-outline-button =\n    .title = Show Document Outline (double-click to expand/collapse all items)\npdfjs-document-outline-button-label = Document Outline\npdfjs-attachments-button =\n    .title = Show Attachments\npdfjs-attachments-button-label = Attachments\npdfjs-layers-button =\n    .title = Show Layers (double-click to reset all layers to the default state)\npdfjs-layers-button-label = Layers\npdfjs-thumbs-button =\n    .title = Show Thumbnails\npdfjs-thumbs-button-label = Thumbnails\npdfjs-current-outline-item-button =\n    .title = Find Current Outline Item\npdfjs-current-outline-item-button-label = Current Outline Item\npdfjs-findbar-button =\n    .title = Find in Document\npdfjs-findbar-button-label = Find\npdfjs-additional-layers = Additional Layers\npdfjs-thumb-page-title =\n    .title = Page { $page }\npdfjs-thumb-page-canvas =\n    .aria-label = Thumbnail of Page { $page }\npdfjs-find-input =\n    .title = Find\n    .placeholder = Find in document\u2026\npdfjs-find-previous-button =\n    .title = Find the previous occurrence of the phrase\npdfjs-find-previous-button-label = Previous\npdfjs-find-next-button =\n    .title = Find the next occurrence of the phrase\npdfjs-find-next-button-label = Next\npdfjs-find-highlight-checkbox = Highlight All\npdfjs-find-match-case-checkbox-label = Match Case\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\npdfjs-find-entire-word-checkbox-label = Whole Words\npdfjs-find-reached-top = Reached top of document, continued from bottom\npdfjs-find-reached-bottom = Reached end of document, continued from top\npdfjs-find-match-count =\n    { $total ->\n        [one] { $current } of { $total } match\n       *[other] { $current } of { $total } matches\n    }\npdfjs-find-match-count-limit =\n    { $limit ->\n        [one] More than { $limit } match\n       *[other] More than { $limit } matches\n    }\npdfjs-find-not-found = Phrase not found\npdfjs-page-scale-width = Page Width\npdfjs-page-scale-fit = Page Fit\npdfjs-page-scale-auto = Automatic Zoom\npdfjs-page-scale-actual = Actual Size\npdfjs-page-scale-percent = { $scale }%\npdfjs-page-landmark =\n    .aria-label = Page { $page }\npdfjs-loading-error = An error occurred while loading the PDF.\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\npdfjs-missing-file-error = Missing PDF file.\npdfjs-unexpected-response-error = Unexpected server response.\npdfjs-rendering-error = An error occurred while rendering the page.\npdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }\npdfjs-text-annotation-type =\n    .alt = [{ $type } Annotation]\npdfjs-password-label = Enter the password to open this PDF file.\npdfjs-password-invalid = Invalid password. Please try again.\npdfjs-password-ok-button = OK\npdfjs-password-cancel-button = Cancel\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\npdfjs-editor-free-text-button =\n    .title = Text\npdfjs-editor-free-text-button-label = Text\npdfjs-editor-ink-button =\n    .title = Draw\npdfjs-editor-ink-button-label = Draw\npdfjs-editor-stamp-button =\n    .title = Add or edit images\npdfjs-editor-stamp-button-label = Add or edit images\npdfjs-editor-highlight-button =\n    .title = Highlight\npdfjs-editor-highlight-button-label = Highlight\npdfjs-highlight-floating-button1 =\n    .title = Highlight\n    .aria-label = Highlight\npdfjs-highlight-floating-button-label = Highlight\npdfjs-editor-remove-ink-button =\n    .title = Remove drawing\npdfjs-editor-remove-freetext-button =\n    .title = Remove text\npdfjs-editor-remove-stamp-button =\n    .title = Remove image\npdfjs-editor-remove-highlight-button =\n    .title = Remove highlight\npdfjs-editor-free-text-color-input = Color\npdfjs-editor-free-text-size-input = Size\npdfjs-editor-ink-color-input = Color\npdfjs-editor-ink-thickness-input = Thickness\npdfjs-editor-ink-opacity-input = Opacity\npdfjs-editor-stamp-add-image-button =\n    .title = Add image\npdfjs-editor-stamp-add-image-button-label = Add image\npdfjs-editor-free-highlight-thickness-input = Thickness\npdfjs-editor-free-highlight-thickness-title =\n    .title = Change thickness when highlighting items other than text\npdfjs-free-text2 =\n    .aria-label = Text Editor\n    .default-content = Start typing\u2026\npdfjs-ink =\n    .aria-label = Draw Editor\npdfjs-ink-canvas =\n    .aria-label = User-created image\npdfjs-editor-alt-text-button =\n    .aria-label = Alt text\npdfjs-editor-alt-text-button-label = Alt text\npdfjs-editor-alt-text-edit-button =\n    .aria-label = Edit alt text\npdfjs-editor-alt-text-dialog-label = Choose an option\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.\npdfjs-editor-alt-text-add-description-label = Add a description\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\npdfjs-editor-alt-text-cancel-button = Cancel\npdfjs-editor-alt-text-save-button = Save\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\npdfjs-editor-alt-text-textarea =\n    .placeholder = For example, \u201cA young man sits down at a table to eat a meal\u201d\npdfjs-editor-resizer-top-left =\n    .aria-label = Top left corner \u2014 resize\npdfjs-editor-resizer-top-middle =\n    .aria-label = Top middle \u2014 resize\npdfjs-editor-resizer-top-right =\n    .aria-label = Top right corner \u2014 resize\npdfjs-editor-resizer-middle-right =\n    .aria-label = Middle right \u2014 resize\npdfjs-editor-resizer-bottom-right =\n    .aria-label = Bottom right corner \u2014 resize\npdfjs-editor-resizer-bottom-middle =\n    .aria-label = Bottom middle \u2014 resize\npdfjs-editor-resizer-bottom-left =\n    .aria-label = Bottom left corner \u2014 resize\npdfjs-editor-resizer-middle-left =\n    .aria-label = Middle left \u2014 resize\npdfjs-editor-highlight-colorpicker-label = Highlight color\npdfjs-editor-colorpicker-button =\n    .title = Change color\npdfjs-editor-colorpicker-dropdown =\n    .aria-label = Color choices\npdfjs-editor-colorpicker-yellow =\n    .title = Yellow\npdfjs-editor-colorpicker-green =\n    .title = Green\npdfjs-editor-colorpicker-blue =\n    .title = Blue\npdfjs-editor-colorpicker-pink =\n    .title = Pink\npdfjs-editor-colorpicker-red =\n    .title = Red\npdfjs-editor-highlight-show-all-button-label = Show all\npdfjs-editor-highlight-show-all-button =\n    .title = Show all\npdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)\npdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)\npdfjs-editor-new-alt-text-textarea =\n    .placeholder = Write your description here\u2026\npdfjs-editor-new-alt-text-description = Short description for people who can\u2019t see the image or when the image doesn\u2019t load.\npdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.\npdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more\npdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically\npdfjs-editor-new-alt-text-not-now-button = Not now\npdfjs-editor-new-alt-text-error-title = Couldn\u2019t create alt text automatically\npdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.\npdfjs-editor-new-alt-text-error-close-button = Close\npdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\n    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\npdfjs-editor-new-alt-text-added-button =\n    .aria-label = Alt text added\npdfjs-editor-new-alt-text-added-button-label = Alt text added\npdfjs-editor-new-alt-text-missing-button =\n    .aria-label = Missing alt text\npdfjs-editor-new-alt-text-missing-button-label = Missing alt text\npdfjs-editor-new-alt-text-to-review-button =\n    .aria-label = Review alt text\npdfjs-editor-new-alt-text-to-review-button-label = Review alt text\npdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }\npdfjs-image-alt-text-settings-button =\n    .title = Image alt text settings\npdfjs-image-alt-text-settings-button-label = Image alt text settings\npdfjs-editor-alt-text-settings-dialog-label = Image alt text settings\npdfjs-editor-alt-text-settings-automatic-title = Automatic alt text\npdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically\npdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\u2019t see the image or when the image doesn\u2019t load.\npdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)\npdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.\npdfjs-editor-alt-text-settings-delete-model-button = Delete\npdfjs-editor-alt-text-settings-download-model-button = Download\npdfjs-editor-alt-text-settings-downloading-model-button = Downloading\u2026\npdfjs-editor-alt-text-settings-editor-title = Alt text editor\npdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image\npdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.\npdfjs-editor-alt-text-settings-close-button = Close')})()}}function eT(){return document.location.hash}class Ope{#e=null;constructor({linkService:n,eventBus:e}){this.linkService=n,this.eventBus=e,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:n,resetHistory:e=!1,updateUrl:i=!1}){if(!n||"string"!=typeof n)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const o=""!==this._fingerprint&&this._fingerprint!==n;this._fingerprint=n,this._updateUrl=!0===i,this._initialized=!0,this.#h();const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=eT(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#s(s,!0)||e){const{hash:a,page:l,rotation:c}=this.#l(!0);return!a||o||e?void this.#t(null,!0):void this.#t({hash:a,page:l,rotation:c},!0)}const r=s.destination;this.#o(r,s.uid,!0),void 0!==r.rotation&&(this._initialRotation=r.rotation),r.dest?(this._initialBookmark=JSON.stringify(r.dest),this._destination.page=null):r.hash?this._initialBookmark=r.hash:r.page&&(this._initialBookmark=`page=${r.page}`)}reset(){this._initialized&&(this.#a(),this._initialized=!1,this.#r()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:n=null,explicitDest:e,pageNumber:i}){if(!this._initialized)return;if(n&&"string"!=typeof n)return void console.error(`PDFHistory.push: "${n}" is not a valid namedDest parameter.`);if(!Array.isArray(e))return void console.error(`PDFHistory.push: "${e}" is not a valid explicitDest parameter.`);if(!this.#i(i)&&(null!==i||this._destination))return void console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);const o=n||JSON.stringify(e);if(!o)return;let s=!1;if(this._destination&&(function Ape(t,n){return"string"==typeof t&&"string"==typeof n&&(t===n||L6(t).get("nameddest")===n)}(this._destination.hash,o)||function Npe(t,n){function e(i,o){if(typeof i!=typeof o||Array.isArray(i)||Array.isArray(o))return!1;if(null!==i&&"object"==typeof i&&null!==o){if(Object.keys(i).length!==Object.keys(o).length)return!1;for(const s in i)if(!e(i[s],o[s]))return!1;return!0}return i===o||Number.isNaN(i)&&Number.isNaN(o)}if(!Array.isArray(t)||!Array.isArray(n)||t.length!==n.length)return!1;for(let i=0,o=t.length;i<o;i++)if(!e(t[i],n[i]))return!1;return!0}(this._destination.dest,e))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this.#t({dest:e,hash:o,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(n){if(this._initialized){if(!this.#i(n))return void console.error(`PDFHistory.pushPage: "${n}" is not a valid page number.`);this._destination?.page!==n&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${n}`,page:n,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#n()}back(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this.#s(n)&&n.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this.#s(n)&&n.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(n,e=!1){const i=e||!this._destination,o={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:n};let s;if(this.#o(n,o.uid),this._updateUrl&&n?.hash){const r=document.location.href.split("#",1)[0];r.startsWith("file://")||(s=`${r}#${n.hash}`)}i?window.history.replaceState(o,"",s):window.history.pushState(o,"",s)}#n(n=!1){if(!this._position)return;let e=this._position;if(n&&(e=Object.assign(Object.create(null),this._position),e.temporary=!0),!this._destination)return void this.#t(e);if(this._destination.temporary)return void this.#t(e,!0);if(this._destination.hash===e.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let i=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(void 0!==this._destination.dest||!this._destination.first)return;i=!0}this.#t(e,i)}#i(n){return Number.isInteger(n)&&n>0&&n<=this.linkService.pagesCount}#s(n,e=!1){if(!n)return!1;if(n.fingerprint!==this._fingerprint){if(!e)return!1;{if("string"!=typeof n.fingerprint||n.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if("reload"!==i?.type)return!1}}return!(!Number.isInteger(n.uid)||n.uid<0||null===n.destination||"object"!=typeof n.destination)}#o(n,e,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&n?.temporary&&delete n.temporary,this._destination=n,this._uid=e,this._maxUid=Math.max(this._maxUid,e),this._numPositionUpdates=0}#l(n=!1){const e=unescape(eT()).substring(1),i=L6(e),o=i.get("nameddest")||"";let s=0|i.get("page");return(!this.#i(s)||n&&o.length>0)&&(s=null),{hash:e,page:s,rotation:this.linkService.rotation}}#c({location:n}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#n(!0),this._updateViewareaTimeout=null},1e3))}#d({state:n}){const e=eT(),i=this._currentHash!==e;if(this._currentHash=e,!n){this._uid++;const{hash:s,page:r,rotation:a}=this.#l();return void this.#t({hash:s,page:r,rotation:a},!0)}if(!this.#s(n))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,function Lge(t){return WM.apply(this,arguments)}({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const o=n.destination;this.#o(o,n.uid,!0),_k(o.rotation)&&(this.linkService.rotation=o.rotation),o.dest?this.linkService.goToDestination(o.dest):o.hash?this.linkService.setHash(o.hash):o.page&&(this.linkService.page=o.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#a(){(!this._destination||this._destination.temporary)&&this.#n()}#h(){if(this.#e)return;this.#e=new AbortController;const{signal:n}=this.#e;this.eventBus._on("updateviewarea",this.#c.bind(this),{signal:n}),window.addEventListener("popstate",this.#d.bind(this),{signal:n}),window.addEventListener("pagehide",this.#a.bind(this),{signal:n})}#r(){this.#e?.abort(),this.#e=null}}class Dpe{#e=null;#t=null;#n=null;#i=null;#s=null;#o;constructor(n){this.pdfPage=n.pdfPage,this.accessibilityManager=n.accessibilityManager,this.l10n=n.l10n,this.l10n||=new tl,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#o=n.uiManager,this.#e=n.annotationLayer||null,this.#s=n.textLayer||null,this.#t=n.drawLayer||null,this.#n=n.onAppend||null,this.#i=n.structTreeLayer||null}render(n){var e=this;return je(function*(i,o="display"){if("display"!==o||e._cancelled)return;const s=i.clone({dontFlip:!0});if(e.div)return e.annotationEditorLayer.update({viewport:s}),void e.show();const r=e.div=document.createElement("div");r.className="annotationEditorLayer",r.hidden=!0,r.dir=e.#o.direction,e.#n?.(r),e.annotationEditorLayer=new Tge({uiManager:e.#o,div:r,structTreeLayer:e.#i,accessibilityManager:e.accessibilityManager,pageIndex:e.pdfPage.pageNumber-1,l10n:e.l10n,viewport:s,annotationLayer:e.#e,textLayer:e.#s,drawLayer:e.#t}),e.annotationEditorLayer.render({viewport:s,div:r,annotations:null,intent:o}),e.show()}).apply(this,arguments)}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}}{var tT=new Map;const t=navigator.userAgent||"",n=navigator.platform||"",e=navigator.maxTouchPoints||1,i=/Android/.test(t);(/\b(iPad|iPhone|iPod)(?=;)/.test(t)||"MacIntel"===n&&e>1||i)&&tT.set("maxCanvasPixels",5242880),i&&tT.set("useSystemFonts",!1)}const nT={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},h0={allowedGlobalEvents:{value:null,kind:1},canvasMaxAreaInBytes:{value:-1,kind:5},isInAutomation:{value:!1,kind:1},localeProperties:{value:{lang:navigator.language||"en-US"},kind:1},nimbusDataStr:{value:"",kind:1},supportsCaretBrowsingMode:{value:!1,kind:1},supportsDocumentFonts:{value:!0,kind:1},supportsIntegratedFind:{value:!1,kind:1},supportsMouseWheelZoomCtrlKey:{value:!0,kind:1},supportsMouseWheelZoomMetaKey:{value:!0,kind:1},supportsPinchToZoom:{value:!0,kind:1},toolbarDensity:{value:0,kind:17},altTextLearnMoreUrl:{value:"",kind:130},annotationEditorMode:{value:0,kind:130},annotationMode:{value:2,kind:130},cursorToolOnLoad:{value:0,kind:130},debuggerSrc:{value:"./debugger.mjs",kind:2},defaultZoomDelay:{value:400,kind:130},defaultZoomValue:{value:"",kind:130},disableHistory:{value:!1,kind:2},disablePageLabels:{value:!1,kind:130},enableAltText:{value:!1,kind:130},enableAltTextModelDownload:{value:!0,kind:146},enableGuessAltText:{value:!0,kind:146},enableHighlightFloatingButton:{value:!1,kind:130},enableNewAltTextWhenAddingImage:{value:!0,kind:130},enablePermissions:{value:!1,kind:130},enablePrintAutoRotate:{value:!0,kind:130},enableScripting:{value:!0,kind:130},enableUpdatedAddImage:{value:!1,kind:130},externalLinkRel:{value:"noopener noreferrer nofollow",kind:2},externalLinkTarget:{value:0,kind:130},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:130},historyUpdateUrl:{value:!1,kind:130},ignoreDestinationZoom:{value:!1,kind:130},imageResourcesPath:{value:"./images/",kind:2},maxCanvasPixels:{value:2**25,kind:2},forcePageColors:{value:!1,kind:130},pageColorsBackground:{value:"Canvas",kind:130},pageColorsForeground:{value:"CanvasText",kind:130},pdfBugEnabled:{value:!1,kind:130},printResolution:{value:150,kind:2},sidebarViewOnLoad:{value:-1,kind:130},scrollModeOnLoad:{value:-1,kind:130},spreadModeOnLoad:{value:-1,kind:130},textLayerMode:{value:1,kind:130},viewOnLoad:{value:0,kind:130},cMapPacked:{value:!0,kind:4},cMapUrl:{value:"../web/cmaps/",kind:4},disableAutoFetch:{value:!1,kind:132},disableFontFace:{value:!1,kind:132},disableRange:{value:!1,kind:132},disableStream:{value:!1,kind:132},docBaseUrl:{value:"",kind:4},enableHWA:{value:!0,kind:134},enableXfa:{value:!0,kind:132},fontExtraProperties:{value:!1,kind:4},isEvalSupported:{value:!0,kind:4},isOffscreenCanvasSupported:{value:!0,kind:4},maxImageSize:{value:-1,kind:4},pdfBug:{value:!1,kind:4},standardFontDataUrl:{value:"../web/standard_fonts/",kind:4},useSystemFonts:{value:void 0,kind:4,type:nT.BOOLEAN+nT.UNDEFINED},verbosity:{value:1,kind:4},workerPort:{value:null,kind:8},workerSrc:{value:"../build/pdf.worker.mjs",kind:8},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:2},sandboxBundleSrc:{value:"../build/pdf.sandbox.mjs",kind:2},viewerCssTheme:{value:0,kind:130},enableFakeMLManager:{value:!0,kind:2},disablePreferences:{value:!1,kind:2}};class ype{static eventBus;static#e=new Map;static#t=(()=>{for(const n in h0)this.#e.set(n,h0[n].value);for(const[n,e]of tT)this.#e.set(n,e);this._hasInvokedSet=!1,this._checkDisablePreferences=()=>!!this.get("disablePreferences")||(this._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();static get(n){return this.#e.get(n)}static getAll(n=null,e=!1){const i=Object.create(null);for(const o in h0){const s=h0[o];n&&!(n&s.kind)||(i[o]=e?s.value:this.#e.get(o))}return i}static set(n,e){this.setAll({[n]:e})}static setAll(n,e=!1){let i;this._hasInvokedSet||=!0;for(const o in n){const s=h0[o],r=n[o];if(!s||!(typeof r==typeof s.value||nT[(typeof r).toUpperCase()]&s.type))continue;const{kind:a}=s;e&&!(1&a||128&a)||(this.eventBus&&16&a&&(i||=new Map).set(o,r),this.#e.set(o,r))}if(i)for(const[o,s]of i)this.eventBus.dispatch(o.toLowerCase(),{source:this,value:s})}}class Ppe{#e=null;constructor(n){this.pageIndex=n.pageIndex}render(){var n=this;return je(function*(e="display"){"display"!==e||n.#e||n._cancelled||(n.#e=new Ege({pageIndex:n.pageIndex}))}).apply(this,arguments)}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(n){this.#e?.setParent(n)}getDrawLayer(){return this.#e}}const jk={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Ipe=/^H(\d+)$/;class Zk{#e;#t=null;#n;#i=new Map;#s;#o=null;constructor(n,e){this.#e=n.getStructTree(),this.#s=e}render(){var n=this;return je(function*(){if(n.#n)return n.#n;const{promise:e,resolve:i,reject:o}=Promise.withResolvers();n.#n=e;try{n.#t=n.#d(yield n.#e)}catch(s){o(s)}return n.#e=null,n.#t?.classList.add("structTree"),i(n.#t),e})()}getAriaAttributes(n){var e=this;return je(function*(){try{return yield e.render(),e.#i.get(n)}catch{}return null})()}hide(){this.#t&&!this.#t.hidden&&(this.#t.hidden=!0)}show(){this.#t?.hidden&&(this.#t.hidden=!1)}#l(n,e){const{alt:i,id:o,lang:s}=n;if(void 0!==i){let r=!1;const a=J_(i);for(const l of n.children)if("annotation"===l.type){let c=this.#i.get(l.id);c||(c=new Map,this.#i.set(l.id,c)),c.set("aria-label",a),r=!0}r||e.setAttribute("aria-label",a)}void 0!==o&&e.setAttribute("aria-owns",o),void 0!==s&&e.setAttribute("lang",J_(s,!0))}#c(n,e){const{alt:i,bbox:o,children:s}=n,r=s?.[0];if(!this.#s||!i||!o||"content"!==r?.type)return!1;const{id:a}=r;if(!a)return!1;e.setAttribute("aria-owns",a);const l=document.createElement("span");(this.#o||=new Map).set(a,l),l.setAttribute("role","img"),l.setAttribute("aria-label",J_(i));const{pageHeight:c,pageX:h,pageY:g}=this.#s,f="calc(var(--scale-factor)*",{style:v}=l;return v.width=`${f}${o[2]-o[0]}px)`,v.height=`${f}${o[3]-o[1]}px)`,v.left=`${f}${o[0]-h}px)`,v.top=`${f}${c-o[3]+g}px)`,!0}addElementsToTextLayer(){if(this.#o){for(const[n,e]of this.#o)document.getElementById(n)?.append(e);this.#o.clear(),this.#o=null}}#d(n){if(!n)return null;const e=document.createElement("span");if("role"in n){const{role:i}=n,o=i.match(Ipe);if(o?(e.setAttribute("role","heading"),e.setAttribute("aria-level",o[1])):jk[i]&&e.setAttribute("role",jk[i]),"Figure"===i&&this.#c(n,e))return e}if(this.#l(n,e),n.children)if(1===n.children.length&&"id"in n.children[0])this.#l(n.children[0],e);else for(const i of n.children)e.append(this.#d(i));return e}}class og{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(n){this.#t=n}static#s(n,e){const i=n.getBoundingClientRect(),o=e.getBoundingClientRect();if(0===i.width&&0===i.height)return 1;if(0===o.width&&0===o.height)return-1;const a=i.y+i.height/2,h=o.y+o.height/2;return a<=o.y&&h>=i.y+i.height?-1:h<=i.y&&a>=o.y+o.height?1:i.x+i.width/2-(o.x+o.width/2)}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(og.#s),this.#n.size>0){const n=this.#t;for(const[e,i]of this.#n)document.getElementById(e)?this.#o(e,n[i]):this.#n.delete(e)}for(const[n,e]of this.#i)this.addPointerInTextLayer(n,e);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(n){if(!this.#e)return void this.#i.delete(n);const e=this.#t;if(!e||0===e.length)return;const{id:i}=n,o=this.#n.get(i);if(void 0===o)return;const s=e[o];this.#n.delete(i);let r=s.getAttribute("aria-owns");r?.includes(i)&&(r=r.split(" ").filter(a=>a!==i).join(" "),r?s.setAttribute("aria-owns",r):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}#o(n,e){const i=e.getAttribute("aria-owns");i?.includes(n)||e.setAttribute("aria-owns",i?`${i} ${n}`:n),e.removeAttribute("role")}addPointerInTextLayer(n,e){const{id:i}=n;if(!i)return null;if(!this.#e)return this.#i.set(n,e),null;e&&this.removePointerInTextLayer(n);const o=this.#t;if(!o||0===o.length)return null;const s=eg(o,c=>og.#s(n,c)<0),r=Math.max(0,s-1),a=o[r];this.#o(i,a),this.#n.set(i,r);const l=a.parentNode;return l?.classList.contains("markedContent")?l.id:null}moveElementInDOM(n,e,i,o){const s=this.addPointerInTextLayer(i,o);if(!n.hasChildNodes())return n.append(e),s;const r=Array.from(n.childNodes).filter(c=>c!==e);if(0===r.length)return s;const a=i||e,l=eg(r,c=>og.#s(a,c)<0);return 0===l?r[0].before(e):r[l-1].after(e),s}}class Lpe{#e=null;constructor({findController:n,eventBus:e,pageIndex:i}){this.findController=n,this.matches=[],this.eventBus=e,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(n,e){this.textDivs=n,this.textContentItemsStr=e}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",n=>{(n.pageIndex===this.pageIdx||-1===n.pageIndex)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(n,e){if(!n)return[];const{textContentItemsStr:i}=this;let o=0,s=0;const r=i.length-1,a=[];for(let l=0,c=n.length;l<c;l++){let h=n[l];for(;o!==r&&h>=s+i[o].length;)s+=i[o].length,o++;o===i.length&&console.error("Could not find a matching mapping");const g={begin:{divIdx:o,offset:h-s}};for(h+=e[l];o!==r&&h>s+i[o].length;)s+=i[o].length,o++;g.end={divIdx:o,offset:h-s},a.push(g)}return a}_renderMatches(n){if(0===n.length)return;const{findController:e,pageIdx:i}=this,{textContentItemsStr:o,textDivs:s}=this,r=i===e.selected.pageIdx,a=e.selected.matchIdx;let c=null;function g(I,L){const G=I.divIdx;return s[G].textContent="",f(G,0,I.offset,L)}function f(I,L,G,R){let J=s[I];if(J.nodeType===Node.TEXT_NODE){const pe=document.createElement("span");J.before(pe),pe.append(J),s[I]=pe,J=pe}const se=o[I].substring(L,G),ve=document.createTextNode(se);if(R){const pe=document.createElement("span");return pe.className=`${R} appended`,pe.append(ve),J.append(pe),R.includes("selected")?pe.offsetLeft:0}return J.append(ve),0}let v=a,C=v+1;if(e.state.highlightAll)v=0,C=n.length;else if(!r)return;let S=-1,D=-1;for(let I=v;I<C;I++){const L=n[I],G=L.begin;if(G.divIdx===S&&G.offset===D)continue;S=G.divIdx,D=G.offset;const R=L.end,J=r&&I===a,se=J?" selected":"";let ve=0;if(c&&G.divIdx===c.divIdx?f(c.divIdx,c.offset,G.offset):(null!==c&&f(c.divIdx,c.offset,undefined),g(G)),G.divIdx===R.divIdx)ve=f(G.divIdx,G.offset,R.offset,"highlight"+se);else{ve=f(G.divIdx,G.offset,undefined,"highlight begin"+se);for(let pe=G.divIdx+1,le=R.divIdx;pe<le;pe++)s[pe].className="highlight middle"+se;g(R,"highlight end"+se)}c=R,J&&e.scrollMatchIntoView({element:s[G.divIdx],selectedLeft:ve,pageIndex:i,matchIndex:a})}c&&f(c.divIdx,c.offset,undefined)}_updateMatches(n=!1){if(!this.enabled&&!n)return;const{findController:e,matches:i,pageIdx:o}=this,{textContentItemsStr:s,textDivs:r}=this;let a=-1;for(const h of i){for(let f=Math.max(a,h.begin.divIdx),v=h.end.divIdx;f<=v;f++){const C=r[f];C.textContent=s[f],C.className=""}a=h.end.divIdx+1}e?.highlightMatches&&!n&&(this.matches=this._convertMatches(e.pageMatches[o]||null,e.pageMatchesLength[o]||null),this._renderMatches(this.matches))}}class k2{#e=!1;#t=null;#n=!1;#i=null;static#s=new Map;static#o=null;constructor({pdfPage:n,highlighter:e=null,accessibilityManager:i=null,enablePermissions:o=!1,onAppend:s=null}){this.pdfPage=n,this.highlighter=e,this.accessibilityManager=i,this.#e=!0===o,this.#t=s,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(n){var e=this;return je(function*(i,o=null){if(e.#n&&e.#i)return e.#i.update({viewport:i,onBefore:e.hide.bind(e)}),void e.show();e.cancel(),e.#i=new Pge({textContentSource:e.pdfPage.streamTextContent(o||{includeMarkedContent:!0,disableNormalization:!0}),container:e.div,viewport:i});const{textDivs:s,textContentItemsStr:r}=e.#i;e.highlighter?.setTextMapping(s,r),e.accessibilityManager?.setTextMapping(s),yield e.#i.render(),e.#n=!0;const a=document.createElement("div");a.className="endOfContent",e.div.append(a),e.#l(a),e.#t?.(e.div),e.highlighter?.enable(),e.accessibilityManager?.enable()}).apply(this,arguments)}hide(){!this.div.hidden&&this.#n&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#n&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#i?.cancel(),this.#i=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),k2.#c(this.div)}#l(n){const{div:e}=this;e.addEventListener("mousedown",()=>{e.classList.add("selecting")}),e.addEventListener("copy",i=>{if(!this.#e){const o=document.getSelection();i.clipboardData.setData("text/plain",J_(Nge(o.toString())))}i.preventDefault(),i.stopPropagation()}),k2.#s.set(e,n),k2.#d()}static#c(n){this.#s.delete(n),0===this.#s.size&&(this.#o?.abort(),this.#o=null)}static#d(){if(this.#o)return;this.#o=new AbortController;const{signal:n}=this.#o,e=(r,a)=>{a.append(r),r.style.width="",r.style.height="",a.classList.remove("selecting")};let i=!1;var o,s;document.addEventListener("pointerdown",()=>{i=!0},{signal:n}),document.addEventListener("pointerup",()=>{i=!1,this.#s.forEach(e)},{signal:n}),window.addEventListener("blur",()=>{i=!1,this.#s.forEach(e)},{signal:n}),document.addEventListener("keyup",()=>{i||this.#s.forEach(e)},{signal:n}),document.addEventListener("selectionchange",()=>{const r=document.getSelection();if(0===r.rangeCount)return void this.#s.forEach(e);const a=new Set;for(let v=0;v<r.rangeCount;v++){const C=r.getRangeAt(v);for(const S of this.#s.keys())!a.has(S)&&C.intersectsNode(S)&&a.add(S)}for(const[v,C]of this.#s)a.has(v)?v.classList.add("selecting"):e(C,v);if(o??="none"===getComputedStyle(this.#s.values().next().value).getPropertyValue("-moz-user-select"),o)return;const l=r.getRangeAt(0),c=s&&(0===l.compareBoundaryPoints(Range.END_TO_END,s)||0===l.compareBoundaryPoints(Range.START_TO_END,s));let h=c?l.startContainer:l.endContainer;h.nodeType===Node.TEXT_NODE&&(h=h.parentNode);const g=h.parentElement?.closest(".textLayer"),f=this.#s.get(g);f&&(f.style.width=g.style.width,f.style.height=g.style.height,h.parentElement.insertBefore(f,c?h:h.nextSibling)),s=l.cloneRange()},{signal:n})}}class Wk{constructor({pdfPage:n,annotationStorage:e=null,linkService:i,xfaHtml:o=null}){this.pdfPage=n,this.annotationStorage=e,this.linkService=i,this.xfaHtml=o,this.div=null,this._cancelled=!1}render(n){var e=this;return je(function*(i,o="display"){if("print"===o){const a={viewport:i.clone({dontFlip:!0}),div:e.div,xfaHtml:e.xfaHtml,annotationStorage:e.annotationStorage,linkService:e.linkService,intent:o};return e.div=document.createElement("div"),a.div=e.div,ZM.render(a)}const s=yield e.pdfPage.getXfa();if(e._cancelled||!s)return{textDivs:[]};const r={viewport:i.clone({dontFlip:!0}),div:e.div,xfaHtml:s,annotationStorage:e.annotationStorage,linkService:e.linkService,intent:o};return e.div?ZM.update(r):(e.div=document.createElement("div"),r.div=e.div,ZM.render(r))}).apply(this,arguments)}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const Rpe={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new UM}},xpe=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);class Xk{#e=Q0.ENABLE_FORMS;#t=!1;#n=!1;#i=!1;#s=null;#o=null;#l=null;#c=1;#d=1;#a=null;#h=$o.INITIAL;#r=1;#u={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#g=new WeakMap;#_=[null,null,null,null];constructor(n){const e=n.container,i=n.defaultViewport;this.id=n.id,this.renderingId="page"+this.id,this.#s=n.layerProperties||Rpe,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=n.scale||1,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=n.optionalContentConfigPromise||null,this.#r=n.textLayerMode??1,this.#e=n.annotationMode??Q0.ENABLE_FORMS,this.imageResourcesPath=n.imageResourcesPath||"",this.maxCanvasPixels=n.maxCanvasPixels??ype.get("maxCanvasPixels"),this.pageColors=n.pageColors||null,this.#t=n.enableHWA||!1,this.eventBus=n.eventBus,this.renderingQueue=n.renderingQueue,this.l10n=n.l10n,this.l10n||=new tl,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=e,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;const o=document.createElement("div");if(o.className="page",o.setAttribute("data-page-number",this.id),o.setAttribute("role","region"),o.setAttribute("data-l10n-id","pdfjs-page-landmark"),o.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=o,this.#m(),e?.append(o),this._isStandalone){e?.style.setProperty("--scale-factor",this.scale*J0.PDF_TO_CSS_UNITS),this.pageColors?.background&&e?.style.setProperty("--page-bg-color",this.pageColors.background);const{optionalContentConfigPromise:s}=n;s&&s.then(r=>{s===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=r.hasInitialVisibility)}),n.l10n||this.l10n.translate(this.div)}}#p(n,e){const i=xpe.get(e),o=this.#_[i];if(this.#_[i]=n,o)o.replaceWith(n);else{for(let s=i-1;s>=0;s--){const r=this.#_[s];if(r)return void r.after(n)}this.div.prepend(n)}}get renderingState(){return this.#h}set renderingState(n){if(n!==this.#h)switch(this.#h=n,this.#o&&(clearTimeout(this.#o),this.#o=null),n){case $o.PAUSED:this.div.classList.remove("loading");break;case $o.RUNNING:this.div.classList.add("loadingIcon"),this.#o=setTimeout(()=>{this.div.classList.add("loading"),this.#o=null},0);break;case $o.INITIAL:case $o.FINISHED:this.div.classList.remove("loadingIcon","loading")}}#m(){const{viewport:n}=this;if(this.pdfPage){if(this.#l===n.rotation)return;this.#l=n.rotation}yge(this.div,n,!0,!1)}setPdfPage(n){this._isStandalone&&("CanvasText"===this.pageColors?.foreground||"Canvas"===this.pageColors?.background)&&(this._container?.style.setProperty("--hcm-highlight-filter",n.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",n.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=n,this.pdfPageRotate=n.rotate,this.viewport=n.getViewport({scale:this.scale*J0.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#m(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return V6(this,"_textHighlighter",new Lpe({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#s.findController}))}#f(n,e){this.eventBus.dispatch(n,{source:this,pageNumber:this.id,error:e})}#v(){var n=this;return je(function*(){let e=null;try{yield n.annotationLayer.render(n.viewport,{structTreeLayer:n.structTreeLayer},"display")}catch(i){console.error(`#renderAnnotationLayer: "${i}".`),e=i}finally{n.#f("annotationlayerrendered",e)}})()}#M(){var n=this;return je(function*(){let e=null;try{yield n.annotationEditorLayer.render(n.viewport,"display")}catch(i){console.error(`#renderAnnotationEditorLayer: "${i}".`),e=i}finally{n.#f("annotationeditorlayerrendered",e)}})()}#b(){var n=this;return je(function*(){try{yield n.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}})()}#T(){var n=this;return je(function*(){let e=null;try{const i=yield n.xfaLayer.render(n.viewport,"display");i?.textDivs&&n._textHighlighter&&n.#A(i.textDivs)}catch(i){console.error(`#renderXfaLayer: "${i}".`),e=i}finally{n.xfaLayer?.div&&(n.l10n.pause(),n.#p(n.xfaLayer.div,"xfaLayer"),n.l10n.resume()),n.#f("xfalayerrendered",e)}})()}#w(){var n=this;return je(function*(){if(!n.textLayer)return;let e=null;try{yield n.textLayer.render(n.viewport)}catch(i){if(i instanceof Mge)return;console.error(`#renderTextLayer: "${i}".`),e=i}n.#f("textlayerrendered",e),n.#y()})()}#y(){var n=this;return je(function*(){if(!n.textLayer)return;const e=yield n.structTreeLayer?.render();e&&(n.l10n.pause(),n.structTreeLayer?.addElementsToTextLayer(),n.canvas&&e.parentNode!==n.canvas&&n.canvas.append(e),n.l10n.resume()),n.structTreeLayer?.show()})()}#A(n){var e=this;return je(function*(){const i=yield e.pdfPage.getTextContent(),o=[];for(const s of i.items)o.push(s.str);e._textHighlighter.setTextMapping(n,o),e._textHighlighter.enable()})()}_resetZoomLayer(n=!1){if(!this.zoomLayer)return;const e=this.zoomLayer.firstChild;this.#g.delete(e),e.width=0,e.height=0,n&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:n=!1,keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:o=!1,keepTextLayer:s=!1}={}){this.cancelRendering({keepAnnotationLayer:e,keepAnnotationEditorLayer:i,keepXfaLayer:o,keepTextLayer:s}),this.renderingState=$o.INITIAL;const r=this.div,a=r.childNodes,l=n&&this.zoomLayer||null,c=e&&this.annotationLayer?.div||null,h=i&&this.annotationEditorLayer?.div||null,g=o&&this.xfaLayer?.div||null,f=s&&this.textLayer?.div||null;for(let v=a.length-1;v>=0;v--){const C=a[v];switch(C){case l:case c:case h:case g:case f:continue}C.remove();const S=this.#_.indexOf(C);S>=0&&(this.#_[S]=null)}r.removeAttribute("data-loaded"),c&&this.annotationLayer.hide(),h&&this.annotationEditorLayer.hide(),g&&this.xfaLayer.hide(),f&&this.textLayer.hide(),this.structTreeLayer?.hide(),l||(this.canvas&&(this.#g.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(n){this.hasEditableAnnotations()&&(this.#i=n,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:n=0,rotation:e=null,optionalContentConfigPromise:i=null,drawingDelay:o=-1}){if(this.scale=n||this.scale,"number"==typeof e&&(this.rotation=e),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(r=>{i===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=r.hasInitialVisibility)})),this.#u.directDrawing=!0,this.viewport=this.viewport.clone({scale:this.scale*J0.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#m(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let r=!1;if(this.#n)if(0===this.maxCanvasPixels)r=!0;else if(this.maxCanvasPixels>0){const{width:l,height:c}=this.viewport,{sx:h,sy:g}=this.outputScale;r=(Math.floor(l)*h|0)*(Math.floor(c)*g|0)>this.maxCanvasPixels}const a=o>=0&&o<1e3;if(a||r){if(a&&!r&&this.renderingState!==$o.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:o}),this.renderingState=$o.FINISHED,this.#u.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!a,hideTextLayer:a}),a)return;return void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#a})}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:n=!1,keepAnnotationEditorLayer:e=!1,keepXfaLayer:i=!1,keepTextLayer:o=!1,cancelExtraDelay:s=0}={}){this.renderTask&&(this.renderTask.cancel(s),this.renderTask=null),this.resume=null,this.textLayer&&(!o||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!n||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!e||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:n,redrawAnnotationLayer:e=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:o=!1,redrawTextLayer:s=!1,hideTextLayer:r=!1}){if(!n.hasAttribute("zooming")){n.setAttribute("zooming",!0);const{style:l}=n;l.width=l.height=""}const a=this.#g.get(n);if(this.viewport!==a){const l=this.viewport.rotation-a.rotation,c=Math.abs(l);let h=1,g=1;if(90===c||270===c){const{width:f,height:v}=this.viewport;h=v/f,g=f/v}n.style.transform=`rotate(${l}deg) scale(${h}, ${g})`}e&&this.annotationLayer&&this.#v(),i&&this.annotationEditorLayer&&(this.drawLayer&&this.#b(),this.#M()),o&&this.xfaLayer&&this.#T(),this.textLayer&&(r?(this.textLayer.hide(),this.structTreeLayer?.hide()):s&&this.#w())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(n,e){return this.viewport.convertToPdfPoint(n,e)}#S(n){var e=this;return je(function*(i,o=null){if(i===e.renderTask&&(e.renderTask=null),o instanceof jM)e.#a=null;else if(e.#a=o,e.renderingState=$o.FINISHED,e._resetZoomLayer(!0),e.#u.regularAnnotations=!i.separateAnnots,e.eventBus.dispatch("pagerendered",{source:e,pageNumber:e.id,cssTransform:!1,timestamp:performance.now(),error:e.#a}),o)throw o}).apply(this,arguments)}draw(){var n=this;return je(function*(){n.renderingState!==$o.INITIAL&&(console.error("Must be in new state before drawing"),n.reset());const{div:e,l10n:i,pageColors:o,pdfPage:s,viewport:r}=n;if(!s)throw n.renderingState=$o.FINISHED,new Error("pdfPage is not loaded");n.renderingState=$o.RUNNING;const a=document.createElement("div");if(a.classList.add("canvasWrapper"),n.#p(a,"canvasWrapper"),!n.textLayer&&0!==n.#r&&!s.isPureXfa&&(n._accessibilityManager||=new og,n.textLayer=new k2({pdfPage:s,highlighter:n._textHighlighter,accessibilityManager:n._accessibilityManager,enablePermissions:2===n.#r,onAppend:fe=>{n.l10n.pause(),n.#p(fe,"textLayer"),n.l10n.resume()}})),!n.annotationLayer&&n.#e!==Q0.DISABLE){const{annotationStorage:fe,annotationEditorUIManager:ke,downloadManager:Dt,enableScripting:it,fieldObjectsPromise:Ft,hasJSActionsPromise:Yt,linkService:Qt}=n.#s;n._annotationCanvasMap||=new Map,n.annotationLayer=new bk({pdfPage:s,annotationStorage:fe,imageResourcesPath:n.imageResourcesPath,renderForms:n.#e===Q0.ENABLE_FORMS,linkService:Qt,downloadManager:Dt,enableScripting:it,hasJSActionsPromise:Yt,fieldObjectsPromise:Ft,annotationCanvasMap:n._annotationCanvasMap,accessibilityManager:n._accessibilityManager,annotationEditorUIManager:ke,onAppend:We=>{n.#p(We,"annotationLayer")}})}const{width:c,height:h}=r,g=document.createElement("canvas");g.setAttribute("role","presentation"),g.hidden=!0;const f=!(!o?.background||!o?.foreground);let v=fe=>{(!f||fe)&&(g.hidden=!1,v=null)};a.append(g),n.canvas=g;const C=g.getContext("2d",{alpha:!1,willReadFrequently:!n.#t}),S=n.outputScale=new Dge;if(0===n.maxCanvasPixels){const fe=1/n.scale;S.sx*=fe,S.sy*=fe,n.#n=!0}else if(n.maxCanvasPixels>0){const ke=Math.sqrt(n.maxCanvasPixels/(c*h));S.sx>ke||S.sy>ke?(S.sx=ke,S.sy=ke,n.#n=!0):n.#n=!1}const D=uk(S.sx),I=uk(S.sy),L=g.width=R6(x6(c*S.sx),D[0]),G=g.height=R6(x6(h*S.sy),I[0]),R=R6(x6(c),D[1]),J=R6(x6(h),I[1]);S.sx=L/R,S.sy=G/J,n.#c!==D[1]&&(e.style.setProperty("--scale-round-x",`${D[1]}px`),n.#c=D[1]),n.#d!==I[1]&&(e.style.setProperty("--scale-round-y",`${I[1]}px`),n.#d=I[1]),n.#g.set(g,r);const ve={canvasContext:C,transform:S.scaled?[S.sx,0,0,S.sy,0,0]:null,viewport:r,annotationMode:n.#e,optionalContentConfigPromise:n._optionalContentConfigPromise,annotationCanvasMap:n._annotationCanvasMap,pageColors:o,isEditing:n.#i},pe=n.renderTask=s.render(ve);pe.onContinue=fe=>{if(v?.(!1),n.renderingQueue&&!n.renderingQueue.isHighestPriority(n))return n.renderingState=$o.PAUSED,void(n.resume=()=>{n.renderingState=$o.RUNNING,fe()});fe()};const le=pe.promise.then(je(function*(){v?.(!0),yield n.#S(pe),n.structTreeLayer||=new Zk(s,r.rawDims),n.#w(),n.annotationLayer&&(yield n.#v());const{annotationEditorUIManager:fe}=n.#s;fe&&(n.drawLayer||=new Ppe({pageIndex:n.id}),yield n.#b(),n.drawLayer.setParent(a),n.annotationEditorLayer||=new Dpe({uiManager:fe,pdfPage:s,l10n:i,structTreeLayer:n.structTreeLayer,accessibilityManager:n._accessibilityManager,annotationLayer:n.annotationLayer?.annotationLayer,textLayer:n.textLayer,drawLayer:n.drawLayer.getDrawLayer(),onAppend:ke=>{n.#p(ke,"annotationEditorLayer")}}),n.#M())}),fe=>(fe instanceof jM||v?.(!0),n.#S(pe,fe)));if(s.isPureXfa){if(!n.xfaLayer){const{annotationStorage:fe,linkService:ke}=n.#s;n.xfaLayer=new Wk({pdfPage:s,annotationStorage:fe,linkService:ke})}n.#T()}return e.setAttribute("data-loaded",!0),n.eventBus.dispatch("pagerender",{source:n,pageNumber:n.id}),le})()}setPageLabel(n){this.pageLabel="string"==typeof n?n:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:n,initialOptionalContent:e,regularAnnotations:i}=this.#u;return n&&e&&i?this.canvas:null}}function iT(){return(iT=je(function*(t){const e="".split("#",1)[0];let{info:i,metadata:o,contentDispositionFilename:s,contentLength:r}=yield t.getMetadata();if(!r){const{length:a}=yield t.getDownloadInfo();r=a}return{...i,baseURL:e,filesize:r,filename:s||Oge(""),metadata:o?.getRaw(),authors:o?.get("dc:creator"),numPages:t.numPages,URL:""}})).apply(this,arguments)}class kpe{constructor(n){this._ready=new Promise((e,i)=>{import(n).then(s=>{e(s.QuickJSSandbox())}).catch(i)})}createSandbox(n){var e=this;return je(function*(){(yield e._ready).create(n)})()}dispatchEventInSandbox(n){var e=this;return je(function*(){const i=yield e._ready;setTimeout(()=>i.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return je(function*(){(yield n._ready).nukeSandbox()})()}}class zpe{#e=null;#t=null;#n=null;#i=null;#s=null;#o=null;#l=null;#c=null;#d=!1;#a=null;#h=null;constructor({eventBus:n,externalServices:e=null,docProperties:i=null}){this.#s=n,this.#o=e,this.#n=i}setViewer(n){this.#c=n}setDocument(n){var e=this;return je(function*(){if(e.#l&&(yield e.#p()),e.#l=n,!n)return;const[i,o,s]=yield Promise.all([n.getFieldObjects(),n.getCalculationOrderIds(),n.getJSActions()]);if(!i&&!s)return void(yield e.#p());if(n!==e.#l)return;try{e.#a=e.#_()}catch(l){return console.error(`setDocument: "${l.message}".`),void(yield e.#p())}const r=e.#s;e.#i=new AbortController;const{signal:a}=e.#i;r._on("updatefromsandbox",l=>{l?.source===window&&e.#r(l.detail)},{signal:a}),r._on("dispatcheventinsandbox",l=>{e.#a?.dispatchEventInSandbox(l.detail)},{signal:a}),r._on("pagechanging",({pageNumber:l,previous:c})=>{l!==c&&(e.#g(c),e.#u(l))},{signal:a}),r._on("pagerendered",({pageNumber:l})=>{e._pageOpenPending.has(l)&&l===e.#c.currentPageNumber&&e.#u(l)},{signal:a}),r._on("pagesdestroy",je(function*(){yield e.#g(e.#c.currentPageNumber),yield e.#a?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),e.#e?.resolve()}),{signal:a});try{const l=yield e.#n(n);if(n!==e.#l)return;yield e.#a.createSandbox({objects:i,calculationOrder:o,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:s}}),r.dispatch("sandboxcreated",{source:e})}catch(l){return console.error(`setDocument: "${l.message}".`),void(yield e.#p())}yield e.#a?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield e.#u(e.#c.currentPageNumber,!0),Promise.resolve().then(()=>{n===e.#l&&(e.#d=!0)})})()}dispatchWillSave(){var n=this;return je(function*(){return n.#a?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(){var n=this;return je(function*(){return n.#a?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(){var n=this;return je(function*(){if(n.#a){yield n.#h?.promise,n.#h=Promise.withResolvers();try{yield n.#a.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(e){throw n.#h.resolve(),n.#h=null,e}yield n.#h.promise}})()}dispatchDidPrint(){var n=this;return je(function*(){return n.#a?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#d}get _pageOpenPending(){return V6(this,"_pageOpenPending",new Set)}get _visitedPages(){return V6(this,"_visitedPages",new Map)}#r(n){var e=this;return je(function*(){const i=e.#c,o=i.isInPresentationMode||i.isChangingPresentationMode,{id:s,siblings:r,command:a,value:l}=n;if(!s){switch(a){case"clear":console.clear();break;case"error":console.error(l);break;case"layout":if(!o){const h=function q_e(t){let n=mi.VERTICAL,e=dr.NONE;switch(t){case"SinglePage":n=mi.PAGE;break;case"OneColumn":break;case"TwoPageLeft":n=mi.PAGE;case"TwoColumnLeft":e=dr.ODD;break;case"TwoPageRight":n=mi.PAGE;case"TwoColumnRight":e=dr.EVEN}return{scrollMode:n,spreadMode:e}}(l);i.spreadMode=h.spreadMode}break;case"page-num":i.currentPageNumber=l+1;break;case"print":yield i.pagesPromise,e.#s.dispatch("print",{source:e});break;case"println":console.log(l);break;case"zoom":o||(i.currentScaleValue=l);break;case"SaveAs":e.#s.dispatch("download",{source:e});break;case"FirstPage":i.currentPageNumber=1;break;case"LastPage":i.currentPageNumber=i.pagesCount;break;case"NextPage":i.nextPage();break;case"PrevPage":i.previousPage();break;case"ZoomViewIn":o||i.increaseScale();break;case"ZoomViewOut":o||i.decreaseScale();break;case"WillPrintFinished":e.#h?.resolve(),e.#h=null}return}if(o&&n.focus)return;delete n.id,delete n.siblings;const c=r?[s,...r]:[s];for(const h of c){const g=document.querySelector(`[data-element-id="${h}"]`);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:n})):e.#l?.annotationStorage.setValue(h,n)}})()}#u(n){var e=this;return je(function*(i,o=!1){const s=e.#l,r=e._visitedPages;if(o&&(e.#e=Promise.withResolvers()),!e.#e)return;const a=e.#c.getPageView(i-1);if(a?.renderingState!==$o.FINISHED)return void e._pageOpenPending.add(i);e._pageOpenPending.delete(i);const l=je(function*(){const c=yield r.has(i)?null:a.pdfPage?.getJSActions();s===e.#l&&(yield e.#a?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:c}))})();r.set(i,l)}).apply(this,arguments)}#g(n){var e=this;return je(function*(){const i=e.#l,o=e._visitedPages;if(!e.#e||e._pageOpenPending.has(n))return;const s=o.get(n);s&&(o.set(n,null),yield s,i===e.#l&&(yield e.#a?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:n})))})()}#_(){if(this.#t=Promise.withResolvers(),this.#a)throw new Error("#initScripting: Scripting already exists.");return this.#o.createScripting()}#p(){var n=this;return je(function*(){if(!n.#a)return n.#l=null,void n.#t?.resolve();n.#e&&(yield Promise.race([n.#e.promise,new Promise(e=>{setTimeout(e,1e3)})]).catch(()=>{}),n.#e=null),n.#l=null;try{yield n.#a.destroySandbox()}catch{}n.#h?.reject(new Error("Scripting destroyed.")),n.#h=null,n.#i?.abort(),n.#i=null,n._pageOpenPending.clear(),n._visitedPages.clear(),n.#a=null,n.#d=!1,n.#t?.resolve()})()}}class Vpe extends zpe{constructor(n){n.externalServices||window.addEventListener("updatefromsandbox",e=>{n.eventBus.dispatch("updatefromsandbox",{source:window,detail:e.detail})}),n.externalServices||={createScripting:()=>new kpe(n.sandboxBundleSrc)},n.docProperties||=e=>function Fpe(t){return iT.apply(this,arguments)}(e),super(n)}}class Gpe{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}renderHighestPriority(n){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,e,i,o=!1){const s=n.views,r=s.length;if(0===r)return null;for(let g=0;g<r;g++){const f=s[g].view;if(!this.isViewFinished(f))return f}const a=n.first.id,l=n.last.id;if(l-a+1>r){const g=n.ids;for(let f=1,v=l-a;f<v;f++){const C=i?a+f:l-f;if(g.has(C))continue;const S=e[C-1];if(!this.isViewFinished(S))return S}}let c=i?l:a-2,h=e[c];return h&&!this.isViewFinished(h)||o&&(c+=i?1:-1,h=e[c],h&&!this.isViewFinished(h))?h:null}isViewFinished(n){return n.renderingState===$o.FINISHED}renderView(n){switch(n.renderingState){case $o.FINISHED:return!1;case $o.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case $o.RUNNING:this.highestPriorityPage=n.renderingId;break;case $o.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(e=>{e instanceof jM||console.error(`renderView: "${e}"`)})}return!0}}function qk(t){return Object.values(Pa).includes(t)&&t!==Pa.DISABLE}class $pe{#e=new Set;#t=0;constructor(n){this.#t=n}push(n){const e=this.#e;e.has(n)&&e.delete(n),e.add(n),e.size>this.#t&&this.#n()}resize(n,e=null){this.#t=n;const i=this.#e;if(e){const o=i.size;let s=1;for(const r of i)if(e.has(r.id)&&(i.delete(r),i.add(r)),++s>o)break}for(;i.size>this.#t;)this.#n()}has(n){return this.#e.has(n)}[Symbol.iterator](){return this.#e.keys()}#n(){const n=this.#e.keys().next().value;n?.destroy(),this.#e.delete(n)}}class Yk{#e=null;#t=null;#n=null;#i=Pa.NONE;#s=null;#o=Q0.ENABLE_FORMS;#l=null;#c=!1;#d=!1;#a=!1;#h=!1;#r=!1;#u=null;#g=null;#_=null;#p=null;#m=!1;#f=null;#v=!1;#M=0;#b=new ResizeObserver(this.#z.bind(this));#T=null;#w=null;#y=1;constructor(n){const e="4.8.69";if(wk!==e)throw new Error(`The API version "${wk}" does not match the Viewer version "${e}".`);if(this.container=n.container,this.viewer=n.viewer||n.container.firstElementChild,"DIV"!==this.container?.tagName||"DIV"!==this.viewer?.tagName)throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.#b.observe(this.container),this.eventBus=n.eventBus,this.linkService=n.linkService||new UM,this.downloadManager=n.downloadManager||null,this.findController=n.findController||null,this.#t=n.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=o=>this._getVisiblePages().ids.has(o)),this._scriptingManager=n.scriptingManager||null,this.#y=n.textLayerMode??1,this.#o=n.annotationMode??Q0.ENABLE_FORMS,this.#i=n.annotationEditorMode??Pa.NONE,this.#n=n.annotationEditorHighlightColors||null,this.#d=!0===n.enableHighlightFloatingButton,this.#h=!0===n.enableUpdatedAddImage,this.#r=!0===n.enableNewAltTextWhenAddingImage,this.imageResourcesPath=n.imageResourcesPath||"",this.enablePrintAutoRotate=n.enablePrintAutoRotate||!1,this.removePageBorders=n.removePageBorders||!1,this.maxCanvasPixels=n.maxCanvasPixels,this.l10n=n.l10n,this.l10n||=new tl,this.#a=n.enablePermissions||!1,this.pageColors=n.pageColors||null,this.#g=n.mlManager||null,this.#c=n.enableHWA||!1,this.defaultRenderingQueue=!n.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new Gpe,this.renderingQueue.setViewer(this)):this.renderingQueue=n.renderingQueue;const{abortSignal:i}=n;i?.addEventListener("abort",()=>{this.#b.disconnect(),this.#b=null},{once:!0}),this.scroll=function G_e(t,n,e){const i=function(r){s||(s=window.requestAnimationFrame(function(){s=null;const l=t.scrollLeft,c=o.lastX;l!==c&&(o.right=l>c),o.lastX=l;const h=t.scrollTop,g=o.lastY;h!==g&&(o.down=h>g),o.lastY=h,n(o)}))},o={right:!0,down:!0,lastX:t.scrollLeft,lastY:t.scrollTop,_eventHandler:i};let s=null;return t.addEventListener("scroll",i,{useCapture:!0,signal:e}),e?.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),o}(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=0,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#F(),this.eventBus._on("thumbnailrendered",({pageNumber:o,pdfPage:s})=>{this.#e.has(this._pages[o-1])||s?.cleanup()}),n.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(n){return this._pages[n]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(n=>n?.pdfPage)}get renderForms(){return this.#o===Q0.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(n){if(!Number.isInteger(n))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(n,!0)||console.error(`currentPageNumber: "${n}" is not a valid page.`))}_setCurrentPageNumber(n,e=!1){if(this._currentPageNumber===n)return e&&this.#I(),!0;if(!(0<n&&n<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=n,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:n,pageLabel:this._pageLabels?.[n-1]??null,previous:i}),e&&this.#I(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(n){if(!this.pdfDocument)return;let e=0|n;if(this._pageLabels){const i=this._pageLabels.indexOf(n);i>=0&&(e=i+1)}this._setCurrentPageNumber(e,!0)||console.error(`currentPageLabel: "${n}" is not a valid page.`)}get currentScale(){return 0!==this._currentScale?this._currentScale:1}set currentScale(n){if(isNaN(n))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#D(n,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(n){this.pdfDocument&&this.#D(n,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(n){if(!_k(n))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((n%=360)<0&&(n+=360),this._pagesRotation===n))return;this._pagesRotation=n;const e=this._currentPageNumber;this.refresh(!0,{rotation:n}),this._currentScaleValue&&this.#D(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:n,pageNumber:e}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const n=this;return V6(this,"_layerProperties",{get annotationEditorUIManager(){return n.#s},get annotationStorage(){return n.pdfDocument?.annotationStorage},get downloadManager(){return n.downloadManager},get enableScripting(){return!!n._scriptingManager},get fieldObjectsPromise(){return n.pdfDocument?.getFieldObjects()},get findController(){return n.findController},get hasJSActionsPromise(){return n.pdfDocument?.hasJSActions()},get linkService(){return n.linkService}})}#A(n){const e={annotationEditorMode:this.#i,annotationMode:this.#o,textLayerMode:this.#y};return n&&(!n.includes(z6.COPY)&&1===this.#y&&(e.textLayerMode=2),n.includes(z6.MODIFY_CONTENTS)||(e.annotationEditorMode=Pa.DISABLE),!n.includes(z6.MODIFY_ANNOTATIONS)&&!n.includes(z6.FILL_INTERACTIVE_FORMS)&&this.#o===Q0.ENABLE_FORMS&&(e.annotationMode=Q0.ENABLE)),e}#S(n){var e=this;return je(function*(){if("hidden"===document.visibilityState||!e.container.offsetParent||0===e._getVisiblePages().views.length)return;const i=Promise.withResolvers(),o=new AbortController;document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&i.resolve()},{signal:"function"==typeof AbortSignal.any?AbortSignal.any([n,o.signal]):n}),yield Promise.race([e._onePageRenderedCapability.promise,i.promise]),o.abort()})()}getAllText(){var n=this;return je(function*(){const e=[],i=[];for(let o=1,s=n.pdfDocument.numPages;o<=s;++o){if(n.#v)return null;i.length=0;const r=yield n.pdfDocument.getPage(o),{items:a}=yield r.getTextContent();for(const l of a)l.str&&i.push(l.str),l.hasEOL&&i.push("\n");e.push(J_(i.join("")))}return e.join("\n")})()}#N(n,e){const i=document.getSelection(),{focusNode:o,anchorNode:s}=i;if(s&&o&&i.containsNode(this.#f)){if(this.#m||2===n)return e.preventDefault(),void e.stopPropagation();this.#m=!0;const{classList:r}=this.viewer;r.add("copyAll");const a=new AbortController;window.addEventListener("keydown",l=>this.#v="Escape"===l.key,{signal:a.signal}),this.getAllText().then(function(){var l=je(function*(c){null!==c&&(yield navigator.clipboard.writeText(c))});return function(c){return l.apply(this,arguments)}}()).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{this.#m=!1,this.#v=!1,a.abort(),r.remove("copyAll")}),e.preventDefault(),e.stopPropagation()}}setDocument(n){var e=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#s?.destroy(),this.#s=null),this.pdfDocument=n,!n)return;const i=n.numPages,o=n.getPage(1),s=n.getOptionalContentConfig({intent:"display"}),r=this.#a?n.getPermissions():Promise.resolve(),{eventBus:a,pageColors:l,viewer:c}=this;this.#u=new AbortController;const{signal:h}=this.#u;if(i>1e4){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const v=this._scrollMode=mi.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:v})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:i})},()=>{}),a._on("pagerender",v=>{const C=this._pages[v.pageNumber-1];C&&this.#e.push(C)},{signal:h});const f=v=>{v.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:v.timestamp}),a._off("pagerendered",f))};a._on("pagerendered",f,{signal:h}),Promise.all([o,r]).then(([v,C])=>{if(n!==this.pdfDocument)return;this._firstPageCapability.resolve(v),this._optionalContentConfigPromise=s;const{annotationEditorMode:S,annotationMode:D,textLayerMode:I}=this.#A(C);if(0!==I){const J=this.#f=document.createElement("div");J.id="hiddenCopyElement",c.before(J)}if("function"==typeof AbortSignal.any&&S!==Pa.DISABLE){const J=S;n.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):qk(J)?(this.#s=new wge(this.container,c,this.#t,a,n,l,this.#n,this.#d,this.#h,this.#r,this.#g),a.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#s}),J!==Pa.NONE&&(J===Pa.STAMP&&this.#g?.loadModel("altText"),this.#s.updateMode(J))):console.error(`Invalid AnnotationEditor mode: ${J}`)}const L=this._scrollMode===mi.PAGE?null:c,G=this.currentScale,R=v.getViewport({scale:G*J0.PDF_TO_CSS_UNITS});c.style.setProperty("--scale-factor",R.scale),l?.background&&c.style.setProperty("--page-bg-color",l.background),("CanvasText"===l?.foreground||"Canvas"===l?.background)&&(c.style.setProperty("--hcm-highlight-filter",n.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),c.style.setProperty("--hcm-highlight-selected-filter",n.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let J=1;J<=i;++J){const se=new Xk({container:L,eventBus:a,id:J,scale:G,defaultViewport:R.clone(),optionalContentConfigPromise:s,renderingQueue:this.renderingQueue,textLayerMode:I,annotationMode:D,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:l,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#c});this._pages.push(se)}this._pages[0]?.setPdfPage(v),this._scrollMode===mi.PAGE?this.#O():this._spreadMode!==dr.NONE&&this._updateSpreadMode(),this.#S(h).then(je(function*(){if(n!==e.pdfDocument)return;if(e.findController?.setDocument(n),e._scriptingManager?.setDocument(n),e.#f&&document.addEventListener("copy",e.#N.bind(e,I),{signal:h}),e.#s&&a.dispatch("annotationeditormodechanged",{source:e,mode:e.#i}),n.loadingParams.disableAutoFetch||i>5e3)return void e._pagesCapability.resolve();let J=i-1;if(J<=0)e._pagesCapability.resolve();else for(let se=2;se<=i;++se){const ve=n.getPage(se).then(pe=>{const le=e._pages[se-1];le.pdfPage||le.setPdfPage(pe),0===--J&&e._pagesCapability.resolve()},pe=>{console.error(`Unable to get page ${se} to initialize viewer`,pe),0===--J&&e._pagesCapability.resolve()});se%250==0&&(yield ve)}})),a.dispatch("pagesinit",{source:this}),n.getMetadata().then(({info:J})=>{n===this.pdfDocument&&J.Language&&(c.lang=J.Language)}),this.defaultRenderingQueue&&this.update()}).catch(v=>{console.error("Unable to initialize viewer",v),this._pagesCapability.reject(v)})}setPageLabels(n){if(this.pdfDocument){n?Array.isArray(n)&&this.pdfDocument.numPages===n.length?this._pageLabels=n:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let e=0,i=this._pages.length;e<i;e++)this._pages[e].setPageLabel(this._pageLabels?.[e]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=0,this._currentScaleValue=null,this._pageLabels=null,this.#e=new $pe(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=mi.VERTICAL,this._previousScrollMode=mi.UNKNOWN,this._spreadMode=dr.NONE,this.#T={previousPageNumber:1,scrollDown:!0,pages:[]},this.#u?.abort(),this.#u=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#f?.remove(),this.#f=null,this.#V()}#O(){if(this._scrollMode!==mi.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const n=this._currentPageNumber,e=this.#T,i=this.viewer;if(i.textContent="",e.pages.length=0,this._spreadMode!==dr.NONE||this.isInPresentationMode){const o=new Set,s=this._spreadMode-1;-1===s?o.add(n-1):n%2!==s?(o.add(n-1),o.add(n)):(o.add(n-2),o.add(n-1));const r=document.createElement("div");if(r.className="spread",this.isInPresentationMode){const a=document.createElement("div");a.className="dummyPage",r.append(a)}for(const a of o){const l=this._pages[a];l&&(r.append(l.div),e.pages.push(l))}i.append(r)}else{const o=this._pages[n-1];i.append(o.div),e.pages.push(o)}e.scrollDown=n>=e.previousPageNumber,e.previousPageNumber=n}_scrollUpdate(){0!==this.pagesCount&&this.update()}#P(n,e=null){const{div:i,id:o}=n;if(this._currentPageNumber!==o&&this._setCurrentPageNumber(o),this._scrollMode===mi.PAGE&&(this.#O(),this.update()),!e&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,r=s+i.clientWidth,{scrollLeft:a,clientWidth:l}=this.container;(this._scrollMode===mi.HORIZONTAL||s<a||r>a+l)&&(e={left:0,top:0})}dk(i,e),!this._currentScaleValue&&this._location&&(this._location=null)}#L(n){return n===this._currentScale||Math.abs(n-this._currentScale)<1e-15}#E(n,e,{noScroll:i=!1,preset:o=!1,drawingDelay:s=-1,origin:r=null}){if(this._currentScaleValue=e.toString(),this.#L(n))return void(o&&this.eventBus.dispatch("scalechanging",{source:this,scale:n,presetValue:e}));this.viewer.style.setProperty("--scale-factor",n*J0.PDF_TO_CSS_UNITS);const a=s>=0&&s<1e3;this.refresh(!0,{scale:n,drawingDelay:a?s:-1}),a&&(this.#w=setTimeout(()=>{this.#w=null,this.refresh()},s));const l=this._currentScale;if(this._currentScale=n,!i){let h,c=this._currentPageNumber;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(c=this._location.pageNumber,h=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:h,allowNegativeOffset:!0}),Array.isArray(r)){const g=n/l-1,[f,v]=this.containerTopLeft;this.container.scrollLeft+=(r[0]-v)*g,this.container.scrollTop+=(r[1]-f)*g}}this.eventBus.dispatch("scalechanging",{source:this,scale:n,presetValue:o?e:void 0}),this.defaultRenderingQueue&&this.update()}get#C(){return this._spreadMode!==dr.NONE&&this._scrollMode!==mi.HORIZONTAL?2:1}#D(n,e){let i=parseFloat(n);if(i>0)e.preset=!1,this.#E(i,n,e);else{const o=this._pages[this._currentPageNumber-1];if(!o)return;let s=40,r=5;this.isInPresentationMode?(s=r=4,this._spreadMode!==dr.NONE&&(s*=2)):this.removePageBorders?s=r=0:this._scrollMode===mi.HORIZONTAL&&([s,r]=[r,s]);const a=(this.container.clientWidth-s)/o.width*o.scale/this.#C,l=(this.container.clientHeight-r)/o.height*o.scale;switch(n){case"page-actual":i=1;break;case"page-width":i=a;break;case"page-height":i=l;break;case"page-fit":i=Math.min(a,l);break;case"auto":const c=gk(o)?a:Math.min(l,a);i=Math.min(1.25,c);break;default:return void console.error(`#setScale: "${n}" is an unknown zoom value.`)}e.preset=!0,this.#E(i,n,e)}}#I(){const n=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#D(this._currentScaleValue,{noScroll:!0}),this.#P(n)}pageLabelToPageNumber(n){if(!this._pageLabels)return null;const e=this._pageLabels.indexOf(n);return e<0?null:e+1}scrollPageIntoView({pageNumber:n,destArray:e=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:o=!1}){if(!this.pdfDocument)return;const s=Number.isInteger(n)&&this._pages[n-1];if(!s)return void console.error(`scrollPageIntoView: "${n}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!e)return void this._setCurrentPageNumber(n,!0);let h,g,r=0,a=0,l=0,c=0;const f=s.rotation%180!=0,v=(f?s.height:s.width)/s.scale/J0.PDF_TO_CSS_UNITS,C=(f?s.width:s.height)/s.scale/J0.PDF_TO_CSS_UNITS;let S=0;switch(e[1].name){case"XYZ":r=e[2],a=e[3],S=e[4],r=null!==r?r:0,a=null!==a?a:C;break;case"Fit":case"FitB":S="page-fit";break;case"FitH":case"FitBH":a=e[2],S="page-width",null===a&&this._location?(r=this._location.left,a=this._location.top):("number"!=typeof a||a<0)&&(a=C);break;case"FitV":case"FitBV":r=e[2],l=v,c=C,S="page-height";break;case"FitR":r=e[2],a=e[3],l=e[4]-r,c=e[5]-a;let G=40,R=5;this.removePageBorders&&(G=R=0),h=(this.container.clientWidth-G)/l/J0.PDF_TO_CSS_UNITS,g=(this.container.clientHeight-R)/c/J0.PDF_TO_CSS_UNITS,S=Math.min(Math.abs(h),Math.abs(g));break;default:return void console.error(`scrollPageIntoView: "${e[1].name}" is not a valid destination type.`)}if(o||(S&&S!==this._currentScale?this.currentScaleValue=S:0===this._currentScale&&(this.currentScaleValue="auto")),"page-fit"===S&&!e[4])return void this.#P(s);const D=[s.viewport.convertToViewportPoint(r,a),s.viewport.convertToViewportPoint(r+l,a+c)];let I=Math.min(D[0][0],D[1][0]),L=Math.min(D[0][1],D[1][1]);i||(I=Math.max(I,0),L=Math.max(L,0)),this.#P(s,{left:I,top:L})}_updateLocation(n){const e=this._currentScale,i=this._currentScaleValue,o=parseFloat(i)===e?Math.round(1e4*e)/100:i,s=n.id,a=this.container,l=this._pages[s-1].getPagePoint(a.scrollLeft-n.x,a.scrollTop-n.y),c=Math.round(l[0]),h=Math.round(l[1]);let g=`#page=${s}`;this.isInPresentationMode||(g+=`&zoom=${o},${c},${h}`),this._location={pageNumber:s,scale:o,top:h,left:c,rotation:this._pagesRotation,pdfOpenParams:g}}update(){const n=this._getVisiblePages(),e=n.views,i=e.length;if(0===i)return;const o=Math.max(10,2*i+1);this.#e.resize(o,n.ids),this.renderingQueue.renderHighestPriority(n);const s=this._spreadMode===dr.NONE&&(this._scrollMode===mi.PAGE||this._scrollMode===mi.VERTICAL),r=this._currentPageNumber;let a=!1;for(const l of e){if(l.percent<100)break;if(l.id===r&&s){a=!0;break}}this._setCurrentPageNumber(a?r:e[0].id),this._updateLocation(n.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#k(){const n=this._getVisiblePages(),e=[],{ids:i,views:o}=n;for(const s of o){const{view:r}=s;r.hasEditableAnnotations()?e.push(s):i.delete(r.id)}return 0===e.length?null:(this.renderingQueue.renderHighestPriority({first:e[0],last:e.at(-1),views:e,ids:i}),i)}containsElement(n){return this.container.contains(n)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return 3===this.presentationModeState}get isChangingPresentationMode(){return 2===this.presentationModeState}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const n=this._scrollMode===mi.PAGE?this.#T.pages:this._pages,e=this._scrollMode===mi.HORIZONTAL;return function B_e({scrollEl:t,views:n,sortByVisibility:e=!1,horizontal:i=!1,rtl:o=!1}){const s=t.scrollTop,r=s+t.clientHeight,a=t.scrollLeft,l=a+t.clientWidth,g=[],f=new Set,v=n.length;let C=eg(n,i?function h(L){const G=L.div,R=G.offsetLeft+G.clientLeft;return o?R<l:R+G.clientWidth>a}:function c(L){const G=L.div;return G.offsetTop+G.clientTop+G.clientHeight>s});C>0&&C<v&&!i&&(C=function $_e(t,n,e){if(t<2)return t;let i=n[t].div,o=i.offsetTop+i.clientTop;o>=e&&(i=n[t-1].div,o=i.offsetTop+i.clientTop);for(let s=t-2;s>=0&&(i=n[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=o));--s)t=s;return t}(C,n,s));let S=i?l:-1;for(let L=C;L<v;L++){const G=n[L],R=G.div,J=R.offsetLeft+R.clientLeft,se=R.offsetTop+R.clientTop,ve=R.clientWidth,pe=R.clientHeight,le=J+ve,fe=se+pe;if(-1===S)fe>=r&&(S=fe);else if((i?J:se)>S)break;if(fe<=s||se>=r||le<=a||J>=l)continue;const ke=Math.max(0,s-se)+Math.max(0,fe-r),Ft=(ve-(Math.max(0,a-J)+Math.max(0,le-l)))/ve;g.push({id:G.id,x:J,y:se,view:G,percent:(pe-ke)/pe*Ft*100|0,widthPercent:100*Ft|0}),f.add(G.id)}const D=g[0],I=g.at(-1);return e&&g.sort(function(L,G){const R=L.percent-G.percent;return Math.abs(R)>.001?-R:L.id-G.id}),{first:D,last:I,views:g,ids:f}}({scrollEl:this.container,views:n,sortByVisibility:!0,horizontal:e,rtl:e&&this._isContainerRtl})}cleanup(){for(const n of this._pages)n.renderingState!==$o.FINISHED&&n.reset()}_cancelRendering(){for(const n of this._pages)n.cancelRendering()}#G(n){var e=this;return je(function*(){if(n.pdfPage)return n.pdfPage;try{const i=yield e.pdfDocument.getPage(n.id);return n.pdfPage||n.setPdfPage(i),i}catch(i){return console.error("Unable to get page for page view",i),null}})()}#H(n){if(1===n.first?.id)return!0;if(n.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case mi.PAGE:return this.#T.scrollDown;case mi.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(n){const e=n||this._getVisiblePages(),i=this.#H(e),s=this.renderingQueue.getHighestPriority(e,this._pages,i,this._spreadMode!==dr.NONE&&this._scrollMode!==mi.HORIZONTAL);return!!s&&(this.#G(s).then(()=>{this.renderingQueue.renderView(s)}),!0)}get hasEqualPageSizes(){const n=this._pages[0];for(let e=1,i=this._pages.length;e<i;++e){const o=this._pages[e];if(o.width!==n.width||o.height!==n.height)return!1}return!0}getPagesOverview(){let n;return this._pages.map(e=>{const i=e.pdfPage.getViewport({scale:1}),o=gk(i);if(void 0===n)n=o;else if(this.enablePrintAutoRotate&&o!==n)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(n){if(!(n instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${n}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=n,this.refresh(!1,{optionalContentConfigPromise:n}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:n}))}get scrollMode(){return this._scrollMode}set scrollMode(n){if(this._scrollMode!==n){if(!function j_e(t){return Number.isInteger(t)&&Object.values(mi).includes(t)&&t!==mi.UNKNOWN}(n))throw new Error(`Invalid scroll mode: ${n}`);this.pagesCount>1e4||(this._previousScrollMode=this._scrollMode,this._scrollMode=n,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:n}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(n=null){const e=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",e===mi.HORIZONTAL),i.classList.toggle("scrollWrapped",e===mi.WRAPPED),this.pdfDocument&&n&&(e===mi.PAGE?this.#O():this._previousScrollMode===mi.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#D(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(n,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(n){if(this._spreadMode!==n){if(!function Z_e(t){return Number.isInteger(t)&&Object.values(dr).includes(t)&&t!==dr.UNKNOWN}(n))throw new Error(`Invalid spread mode: ${n}`);this._spreadMode=n,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:n}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(n=null){if(!this.pdfDocument)return;const e=this.viewer,i=this._pages;if(this._scrollMode===mi.PAGE)this.#O();else if(e.textContent="",this._spreadMode===dr.NONE)for(const o of this._pages)e.append(o.div);else{const o=this._spreadMode-1;let s=null;for(let r=0,a=i.length;r<a;++r)null===s?(s=document.createElement("div"),s.className="spread",e.append(s)):r%2===o&&(s=s.cloneNode(!1),e.append(s)),s.append(i[r].div)}n&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#D(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(n,!0),this.update())}_getPageAdvance(n,e=!1){switch(this._scrollMode){case mi.WRAPPED:{const{views:i}=this._getVisiblePages(),o=new Map;for(const{id:s,y:r,percent:a,widthPercent:l}of i){if(0===a||l<100)continue;let c=o.get(r);c||o.set(r,c||=[]),c.push(s)}for(const s of o.values()){const r=s.indexOf(n);if(-1===r)continue;const a=s.length;if(1===a)break;if(e)for(let l=r-1,c=0;l>=c;l--){const g=s[l+1]-1;if(s[l]<g)return n-g}else for(let l=r+1,c=a;l<c;l++){const g=s[l-1]+1;if(s[l]>g)return g-n}if(e){const l=s[0];if(l<n)return n-l+1}else{const l=s[a-1];if(l>n)return l-n+1}break}break}case mi.HORIZONTAL:break;case mi.PAGE:case mi.VERTICAL:{if(this._spreadMode===dr.NONE)break;const i=this._spreadMode-1;if(e&&n%2!==i)break;if(!e&&n%2===i)break;const{views:o}=this._getVisiblePages(),s=e?n-1:n+1;for(const{id:r,percent:a,widthPercent:l}of o)if(r===s){if(a>0&&100===l)return 2;break}break}}return 1}nextPage(){const n=this._currentPageNumber,e=this.pagesCount;if(n>=e)return!1;const i=this._getPageAdvance(n,!1)||1;return this.currentPageNumber=Math.min(n+i,e),!0}previousPage(){const n=this._currentPageNumber;if(n<=1)return!1;const e=this._getPageAdvance(n,!0)||1;return this.currentPageNumber=Math.max(n-e,1),!0}updateScale({drawingDelay:n,scaleFactor:e=null,steps:i=null,origin:o}){if(null===i&&null===e)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(e>0&&1!==e)s=Math.round(s*e*100)/100;else if(i){const r=i>0?1.1:1/1.1,a=i>0?Math.ceil:Math.floor;i=Math.abs(i);do{s=a(10*(s*r).toFixed(2))/10}while(--i>0)}s=Math.max(.1,Math.min(10,s)),this.#D(s,{noScroll:!1,drawingDelay:n,origin:o})}increaseScale(n={}){this.updateScale({...n,steps:n.steps??1})}decreaseScale(n={}){this.updateScale({...n,steps:-(n.steps??1)})}#F(n=this.container.clientHeight){n!==this.#M&&(this.#M=n,W_e.setProperty("--viewer-container-height",`${n}px`))}#z(n){for(const e of n)if(e.target===this.container){this.#F(Math.floor(e.borderBoxSize[0].blockSize)),this.#l=null;break}}get containerTopLeft(){return this.#l||=[this.container.offsetTop,this.container.offsetLeft]}#V(){this.#_?.abort(),this.#_=null,null!==this.#p&&(clearTimeout(this.#p),this.#p=null)}get annotationEditorMode(){return this.#s?this.#i:Pa.DISABLE}set annotationEditorMode({mode:n,editId:e=null,isFromKeyboard:i=!1}){if(!this.#s)throw new Error("The AnnotationEditor is not enabled.");if(this.#i===n)return;if(!qk(n))throw new Error(`Invalid AnnotationEditor mode: ${n}`);if(!this.pdfDocument)return;n===Pa.STAMP&&this.#g?.loadModel("altText");const{eventBus:o}=this,s=()=>{this.#V(),this.#i=n,this.#s.updateMode(n,e,i),o.dispatch("annotationeditormodechanged",{source:this,mode:n})};if(n===Pa.NONE||this.#i===Pa.NONE){const r=n!==Pa.NONE;r||this.pdfDocument.annotationStorage.resetModifiedIds();for(const l of this._pages)l.toggleEditingMode(r);const a=this.#k();if(r&&a){this.#V(),this.#_=new AbortController;const l=AbortSignal.any([this.#u.signal,this.#_.signal]);return void o._on("pagerendered",({pageNumber:c})=>{a.delete(c),0===a.size&&(this.#p=setTimeout(s,0))},{signal:l})}}s()}refresh(n=!1,e=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(e);null!==this.#w&&(clearTimeout(this.#w),this.#w=null),n||this.update()}}}class Bpe extends Yk{_resetView(){super._resetView(),this._scrollMode=mi.PAGE,this._spreadMode=dr.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}var Upe=Po.AnnotationLayerBuilder,jpe=Po.DownloadManager,Zpe=Po.EventBus,Wpe=Po.FindState,Qk=Po.GenericL10n,z2=Po.LinkTarget,Jk=Po.PDFFindController,Xpe=Po.PDFHistory,ez=Po.PDFLinkService,Kpe=Po.PDFPageView,qpe=Po.PDFScriptingManager,tz=Po.PDFSinglePageViewer,nz=Po.PDFViewer,Ype=Po.ProgressBar,Qpe=Po.RenderingStates,Jpe=Po.ScrollMode,efe=Po.SimpleLinkService,tfe=Po.SpreadMode,nfe=Po.StructTreeLayerBuilder,ife=Po.TextLayerBuilder,ofe=Po.XfaLayerBuilder,sfe=Po.parseQueryString;const rfe=["pdfViewerContainer"];function oT(t,n,e){t[n]=e}function sg(){return typeof window>"u"}sg()||oT(Nt,"verbosity",tk.INFOS),typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let t,n;return{promise:new Promise((i,o)=>{t=i,n=o}),resolve:t,reject:n}});var sT=function(t){return t[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED",t[t.ENHANCED=2]="ENHANCED",t}(sT||{});let j6=(()=>{class t{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=`https://unpkg.com/pdfjs-dist@${P6}/cmaps/`;_imageResourcesPath=`https://unpkg.com/pdfjs-dist@${P6}/web/images/`;_renderText=!0;_renderTextMode=sT.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new Be;afterLoadComplete=new Ee;pageRendered=new Ee;pageInitialized=new Ee;textLayerRendered=new Ee;onError=new Ee;onProgress=new Ee;pageChange=new Ee(!0);src;set cMapsUrl(e){this._cMapsUrl=e}set page(e){const i=e=parseInt(e,10)||1;this._pdf&&(e=this.getValidPageNumber(e)),this._page=e,i!==e&&this.pageChange.emit(e)}set renderText(e){this._renderText=e}set renderTextMode(e){this._renderTextMode=e}set originalSize(e){this._originalSize=e}set showAll(e){this._showAll=e}set stickToPage(e){this._stickToPage=e}set zoom(e){e<=0||(this._zoom=e)}get zoom(){return this._zoom}set zoomScale(e){this._zoomScale=e}get zoomScale(){return this._zoomScale}set rotation(e){"number"==typeof e&&e%90==0?this._rotation=e:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(e){this._externalLinkTarget=e}set autoresize(e){this._canAutoResize=!!e}set fitToPage(e){this._fitToPage=!!e}set showBorders(e){this._showBorders=!!e}static getLinkTarget(e){switch(e){case"blank":return z2.BLANK;case"none":return z2.NONE;case"self":return z2.SELF;case"parent":return z2.PARENT;case"top":return z2.TOP}return null}constructor(e,i){if(this.element=e,this.ngZone=i,sg())return;let o;const s=P6;o=window[`pdfWorkerSrc${s}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.mjs`),oT(ek,"workerSrc",o)}ngAfterViewChecked(){if(this.isInitialized)return;const e=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=e?!1===this.isVisible&&null!=e&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(e){if(!sg()&&this.isVisible)if("src"in e)this.loadPDF();else if(this._pdf){if(("renderText"in e||"showAll"in e)&&(this.setupViewer(),this.resetPdfDocument()),"page"in e){const{page:i}=e;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){Oo(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(me(this.destroy$)).subscribe({next:e=>{const i=this._rotation+e.rotate,o=e.getViewport({scale:this._zoom,rotation:i}).width*t.CSS_UNITS;let s=this._zoom,r=!0;if(!this._originalSize||this._fitToPage&&o>this.pdfViewerContainer.nativeElement.clientWidth){const a=e.getViewport({scale:1,rotation:i});s=this.getScale(a.width,a.height),r=!this._stickToPage}this.pdfViewer.currentScale=s,r&&this.pdfViewer.scrollPageIntoView({pageNumber:e.pageNumber,ignoreDestinationZoom:!0})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const e=t.getLinkTarget(this._externalLinkTarget);return e?{externalLinkTarget:e}:{}}initEventBus(){this.eventBus=function afe(t,n){const e=new t.EventBus;return function lfe(t,n){Nn(t,"documentload").pipe(me(n)).subscribe(()=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),Nn(t,"pagerendered").pipe(me(n)).subscribe(({pageNumber:e,cssTransform:i,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:e,cssTransform:i}),o.div.dispatchEvent(s)}),Nn(t,"textlayerrendered").pipe(me(n)).subscribe(({pageNumber:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e}),i.textLayerDiv?.dispatchEvent(o)}),Nn(t,"pagechanging").pipe(me(n)).subscribe(({pageNumber:e,source:i})=>{const o=document.createEvent("UIEvents");o.initEvent("pagechanging",!0,!0),o.pageNumber=e,i.container.dispatchEvent(o)}),Nn(t,"pagesinit").pipe(me(n)).subscribe(({source:e})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),e.container.dispatchEvent(i)}),Nn(t,"pagesloaded").pipe(me(n)).subscribe(({pagesCount:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e}),i.container.dispatchEvent(o)}),Nn(t,"scalechange").pipe(me(n)).subscribe(({scale:e,presetValue:i,source:o})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=e,s.presetValue=i,o.container.dispatchEvent(s)}),Nn(t,"updateviewarea").pipe(me(n)).subscribe(({location:e,source:i})=>{const o=document.createEvent("UIEvents");o.initEvent("updateviewarea",!0,!0),o.location=e,i.container.dispatchEvent(o)}),Nn(t,"find").pipe(me(n)).subscribe(({source:e,type:i,query:o,phraseSearch:s,caseSensitive:r,highlightAll:a,findPrevious:l})=>{if(e===window)return;const c=document.createEvent("CustomEvent");c.initCustomEvent("find"+i,!0,!0,{query:o,phraseSearch:s,caseSensitive:r,highlightAll:a,findPrevious:l}),window.dispatchEvent(c)}),Nn(t,"attachmentsloaded").pipe(me(n)).subscribe(({attachmentsCount:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e}),i.container.dispatchEvent(o)}),Nn(t,"sidebarviewchanged").pipe(me(n)).subscribe(({view:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("sidebarviewchanged",!0,!0,{view:e}),i.outerContainer.dispatchEvent(o)}),Nn(t,"pagemode").pipe(me(n)).subscribe(({mode:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagemode",!0,!0,{mode:e}),i.pdfViewer.container.dispatchEvent(o)}),Nn(t,"namedaction").pipe(me(n)).subscribe(({action:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("namedaction",!0,!0,{action:e}),i.pdfViewer.container.dispatchEvent(o)}),Nn(t,"presentationmodechanged").pipe(me(n)).subscribe(({active:e,switchInProgress:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("presentationmodechanged",!0,!0,{active:e,switchInProgress:i}),window.dispatchEvent(o)}),Nn(t,"outlineloaded").pipe(me(n)).subscribe(({outlineCount:e,source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e}),i.container.dispatchEvent(o)})}(e,n),e}(gt,this.destroy$),Nn(this.eventBus,"pagerendered").pipe(me(this.destroy$)).subscribe(e=>{this.pageRendered.emit(e)}),Nn(this.eventBus,"pagesinit").pipe(me(this.destroy$)).subscribe(e=>{this.pageInitialized.emit(e)}),Nn(this.eventBus,"pagechanging").pipe(me(this.destroy$)).subscribe(({pageNumber:e})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=e,this.pageChange.emit(e)},100)}),Nn(this.eventBus,"textlayerrendered").pipe(me(this.destroy$)).subscribe(e=>{this.textLayerRendered.emit(e)})}initPDFServices(){this.pdfLinkService=new ez({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new Jk({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:sT.DISABLED,findController:this.pdfFindController,l10n:new Qk("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:JF.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),oT(Nt,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new nz(this.getPDFOptions()):new tz(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(e){return e<1?1:e>this._pdf.numPages?this._pdf.numPages:e}getDocumentParams(){const e=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0,isEvalSupported:!1};return"string"===e?i.url=this.src:"object"===e&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=nk(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const e=this.src;Oo(this.loadingTask.promise).pipe(me(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=e,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){if(this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&this.pdfViewer.firstPagePromise?.then(()=>this.pdfViewer.pagesRotation=this._rotation),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.pdfViewer._pages?.length)this.updateSize();else{const e=this.pageInitialized.subscribe(()=>{this.updateSize(),e.unsubscribe()})}}getScale(e,i){const o=this._showBorders?2*t.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-o,r=this.pdfViewerContainer.nativeElement.clientHeight-o;if(0===r||0===i||0===s||0===e)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(r/i,s/e);break;case"page-height":a=r/i;break;default:a=s/e}return this._zoom*a/t.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){sg()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){sg()||this.ngZone.runOutsideAngular(()=>{Nn(window,"resize").pipe(ra(100),ii(()=>this._canAutoResize&&!!this._pdf),me(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(i){return new(i||t)(Ve(fn),Ve(un))};static \u0275cmp=Ge({type:t,selectors:[["pdf-viewer"]],viewQuery:function(i,o){if(1&i&&Tn(rfe,5),2&i){let s;Mt(s=Tt())&&(o.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},standalone:!1,features:[Di],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(i,o){1&i&&(d(0,"div",1,0),O(2,"div",2),u())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none;transform-origin:0 0}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .canvasWrapper canvas{width:100%}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})}return t})(),Z6=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({})}return t})();const cfe=["*"],iz=new Qe("ngx-bootstrap-icons-module-configuration");class oz{constructor(n){this._icons=n}}var Ia=function(t){return t.Width="width",t.Height="height",t}(Ia||{});let en=(()=>{class t{constructor(e,i,o,s){this._elem=e,this._changeDetector=i,this._icons=o,this._config=s,this.resetDefaultDimensions=!1,this._setSize=(r,a=16)=>`${r}="${a}"`,this._setIconMessage=(r,a)=>`${r}: ${a}\n`,this._logMessage=r=>console.warn(r)}ngOnChanges(e){let o=Object.assign({},...this._icons)[function dfe(t,n="-"){if(!t)throw Error("missing argument");const e=t.trim();if(!e.includes(n))return e;let i="",o=0;for(;o<t.length;o+=1){const s=t.charAt(o).trim();0!==o?s!==n?o>0&&!isNaN(+t.charAt(o-1))?i+=s.toUpperCase():o>0&&(i+=s):(i+=t.charAt(o+1).trim().toUpperCase(),o+=1):i+=s.toLowerCase()}return i.trim()}(e.name.currentValue)]||"";o?(this._config&&(this._config.width&&(o=o.replace(this._setSize(Ia.Width),this._setSize(Ia.Width,this._config.width))),this._config.height&&(o=o.replace(this._setSize(Ia.Height),this._setSize(Ia.Height,this._config.height))),this._config.theme&&this._elem.nativeElement.classList.add(this._config.theme)),this.resetDefaultDimensions&&(o=o.replace(this._setSize(Ia.Width),""),o=o.replace(this._setSize(Ia.Height),"")),this.width&&o.includes(Ia.Width)&&(o=o.replace(this._setSize(Ia.Width),this._setSize(Ia.Width,this.width))),this.height&&o.includes(Ia.Height)&&(o=o.replace(this._setSize(Ia.Height),this._setSize(Ia.Height,this.height))),this._elem.nativeElement.innerHTML=o,this._changeDetector.markForCheck()):this._logMessage(this._setIconMessage("Icon not found",e.name.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(Ve(fn),Ve(Yo),Ve(oz),Ve(iz))},t.\u0275cmp=Ge({type:t,selectors:[["i-bs"],["","i-bs",""]],inputs:{name:"name",width:"width",height:"height",resetDefaultDimensions:"resetDefaultDimensions"},standalone:!1,features:[Di],ngContentSelectors:cfe,decls:1,vars:0,template:function(e,i){1&e&&(or(),sr(0))},encapsulation:2}),t})();let Bt=(()=>{class t{static pick(e,i){return{ngModule:t,providers:[{provide:oz,multi:!0,useValue:e},{provide:iz,useValue:i}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Kn({type:t}),t.\u0275inj=Bn({}),t})();function Ws(t,n){(function hUe(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");const e=function uUe(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=360===n?t:Math.min(n,Math.max(0,parseFloat(t))),e&&(t=parseInt(String(t*n),10)/100),Math.abs(t-n)<1e-6?1:t=360===n?(t<0?t%n+n:t%n)/parseFloat(String(n)):t%n/parseFloat(String(n))}function W6(t){return Math.min(1,Math.max(0,t))}function uH(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function X6(t){return Number(t)<=1?100*Number(t)+"%":t}function w5(t){return 1===t.length?"0"+t:String(t)}function _H(t,n,e){t=Ws(t,255),n=Ws(n,255),e=Ws(e,255);const i=Math.max(t,n,e),o=Math.min(t,n,e);let s=0,r=0;const a=(i+o)/2;if(i===o)r=0,s=0;else{const l=i-o;switch(r=a>.5?l/(2-i-o):l/(i+o),i){case t:s=(n-e)/l+(n<e?6:0);break;case n:s=(e-t)/l+2;break;case e:s=(t-n)/l+4}s/=6}return{h:s,s:r,l:a}}function rT(t,n,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*e*(n-t):e<.5?n:e<2/3?t+(n-t)*(2/3-e)*6:t}function gH(t,n,e){t=Ws(t,255),n=Ws(n,255),e=Ws(e,255);const i=Math.max(t,n,e),o=Math.min(t,n,e);let s=0;const r=i,a=i-o,l=0===i?0:a/i;if(i===o)s=0;else{switch(i){case t:s=(n-e)/a+(n<e?6:0);break;case n:s=(e-t)/a+2;break;case e:s=(t-n)/a+4}s/=6}return{h:s,s:l,v:r}}function pH(t,n,e,i){const o=[w5(Math.round(t).toString(16)),w5(Math.round(n).toString(16)),w5(Math.round(e).toString(16))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function fH(t,n,e){let i=1-t/255,o=1-n/255,s=1-e/255,r=Math.min(i,o,s);return 1===r?(i=0,o=0,s=0):(i=(i-r)/(1-r)*100,o=(o-r)/(1-r)*100,s=(s-r)/(1-r)*100),r*=100,{c:Math.round(i),m:Math.round(o),y:Math.round(s),k:Math.round(r)}}function mH(t){return Math.round(255*parseFloat(t)).toString(16)}function vH(t){return La(t)/255}function La(t){return parseInt(t,16)}const aT={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};const Kl="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",lT="[\\s|\\(]+("+Kl+")[,|\\s]+("+Kl+")[,|\\s]+("+Kl+")\\s*\\)?",K6="[\\s|\\(]+("+Kl+")[,|\\s]+("+Kl+")[,|\\s]+("+Kl+")[,|\\s]+("+Kl+")\\s*\\)?",h1={CSS_UNIT:new RegExp(Kl),rgb:new RegExp("rgb"+lT),rgba:new RegExp("rgba"+K6),hsl:new RegExp("hsl"+lT),hsla:new RegExp("hsla"+K6),hsv:new RegExp("hsv"+lT),hsva:new RegExp("hsva"+K6),cmyk:new RegExp("cmyk"+K6),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Ra(t){return"number"==typeof t?!Number.isNaN(t):h1.CSS_UNIT.test(t)}class Bo{constructor(n="",e={}){if(n instanceof Bo)return n;"number"==typeof n&&(n=function vUe(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(n)),this.originalInput=n;const i=function CUe(t){let n={r:0,g:0,b:0},e=1,i=null,o=null,s=null,r=!1,a=!1;return"string"==typeof t&&(t=function MUe(t){if(0===(t=t.trim().toLowerCase()).length)return!1;let n=!1;if(aT[t])t=aT[t],n=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};let e=h1.rgb.exec(t);return e?{r:e[1],g:e[2],b:e[3]}:(e=h1.rgba.exec(t),e?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=h1.hsl.exec(t),e?{h:e[1],s:e[2],l:e[3]}:(e=h1.hsla.exec(t),e?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=h1.hsv.exec(t),e?{h:e[1],s:e[2],v:e[3]}:(e=h1.hsva.exec(t),e?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=h1.cmyk.exec(t),e?{c:e[1],m:e[2],y:e[3],k:e[4]}:(e=h1.hex8.exec(t),e?{r:La(e[1]),g:La(e[2]),b:La(e[3]),a:vH(e[4]),format:n?"name":"hex8"}:(e=h1.hex6.exec(t),e?{r:La(e[1]),g:La(e[2]),b:La(e[3]),format:n?"name":"hex"}:(e=h1.hex4.exec(t),e?{r:La(e[1]+e[1]),g:La(e[2]+e[2]),b:La(e[3]+e[3]),a:vH(e[4]+e[4]),format:n?"name":"hex8"}:(e=h1.hex3.exec(t),!!e&&{r:La(e[1]+e[1]),g:La(e[2]+e[2]),b:La(e[3]+e[3]),format:n?"name":"hex"}))))))))))}(t)),"object"==typeof t&&(Ra(t.r)&&Ra(t.g)&&Ra(t.b)?(n=function _Ue(t,n,e){return{r:255*Ws(t,255),g:255*Ws(n,255),b:255*Ws(e,255)}}(t.r,t.g,t.b),r=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):Ra(t.h)&&Ra(t.s)&&Ra(t.v)?(i=X6(t.s),o=X6(t.v),n=function pUe(t,n,e){t=6*Ws(t,360),n=Ws(n,100),e=Ws(e,100);const i=Math.floor(t),o=t-i,s=e*(1-n),r=e*(1-o*n),a=e*(1-(1-o)*n),l=i%6;return{r:255*[e,r,s,s,a,e][l],g:255*[a,e,e,r,s,s][l],b:255*[s,s,a,e,e,r][l]}}(t.h,i,o),r=!0,a="hsv"):Ra(t.h)&&Ra(t.s)&&Ra(t.l)?(i=X6(t.s),s=X6(t.l),n=function gUe(t,n,e){let i,o,s;if(t=Ws(t,360),n=Ws(n,100),e=Ws(e,100),0===n)o=e,s=e,i=e;else{const r=e<.5?e*(1+n):e+n-e*n,a=2*e-r;i=rT(a,r,t+1/3),o=rT(a,r,t),s=rT(a,r,t-1/3)}return{r:255*i,g:255*o,b:255*s}}(t.h,i,s),r=!0,a="hsl"):Ra(t.c)&&Ra(t.m)&&Ra(t.y)&&Ra(t.k)&&(n=function mUe(t,n,e,i){const a=i/100;return{r:255*(1-t/100)*(1-a),g:255*(1-n/100)*(1-a),b:255*(1-e/100)*(1-a)}}(t.c,t.m,t.y,t.k),r=!0,a="cmyk"),Object.prototype.hasOwnProperty.call(t,"a")&&(e=t.a)),e=uH(e),{ok:r,format:t.format||a,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:e}}(n);this.originalInput=n,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=e.format??i.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const n=this.toRgb();return(299*n.r+587*n.g+114*n.b)/1e3}getLuminance(){const n=this.toRgb();let e,i,o;const s=n.r/255,r=n.g/255,a=n.b/255;return e=s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4),i=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),o=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),.2126*e+.7152*i+.0722*o}getAlpha(){return this.a}setAlpha(n){return this.a=uH(n),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:n}=this.toHsl();return 0===n}toHsv(){const n=gH(this.r,this.g,this.b);return{h:360*n.h,s:n.s,v:n.v,a:this.a}}toHsvString(){const n=gH(this.r,this.g,this.b),e=Math.round(360*n.h),i=Math.round(100*n.s),o=Math.round(100*n.v);return 1===this.a?`hsv(${e}, ${i}%, ${o}%)`:`hsva(${e}, ${i}%, ${o}%, ${this.roundA})`}toHsl(){const n=_H(this.r,this.g,this.b);return{h:360*n.h,s:n.s,l:n.l,a:this.a}}toHslString(){const n=_H(this.r,this.g,this.b),e=Math.round(360*n.h),i=Math.round(100*n.s),o=Math.round(100*n.l);return 1===this.a?`hsl(${e}, ${i}%, ${o}%)`:`hsla(${e}, ${i}%, ${o}%, ${this.roundA})`}toHex(n=!1){return pH(this.r,this.g,this.b,n)}toHexString(n=!1){return"#"+this.toHex(n)}toHex8(n=!1){return function fUe(t,n,e,i,o){const s=[w5(Math.round(t).toString(16)),w5(Math.round(n).toString(16)),w5(Math.round(e).toString(16)),w5(mH(i))];return o&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,n)}toHex8String(n=!1){return"#"+this.toHex8(n)}toHexShortString(n=!1){return 1===this.a?this.toHexString(n):this.toHex8String(n)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const n=Math.round(this.r),e=Math.round(this.g),i=Math.round(this.b);return 1===this.a?`rgb(${n}, ${e}, ${i})`:`rgba(${n}, ${e}, ${i}, ${this.roundA})`}toPercentageRgb(){const n=e=>`${Math.round(100*Ws(e,255))}%`;return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}}toPercentageRgbString(){const n=e=>Math.round(100*Ws(e,255));return 1===this.a?`rgb(${n(this.r)}%, ${n(this.g)}%, ${n(this.b)}%)`:`rgba(${n(this.r)}%, ${n(this.g)}%, ${n(this.b)}%, ${this.roundA})`}toCmyk(){return{...fH(this.r,this.g,this.b)}}toCmykString(){const{c:n,m:e,y:i,k:o}=fH(this.r,this.g,this.b);return`cmyk(${n}, ${e}, ${i}, ${o})`}toName(){if(0===this.a)return"transparent";if(this.a<1)return!1;const n="#"+pH(this.r,this.g,this.b,!1);for(const[e,i]of Object.entries(aT))if(n===i)return e;return!1}toString(n){const e=!!n;n=n??this.format;let i=!1;return e||!(this.a<1&&this.a>=0)||!n.startsWith("hex")&&"name"!==n?("rgb"===n&&(i=this.toRgbString()),"prgb"===n&&(i=this.toPercentageRgbString()),("hex"===n||"hex6"===n)&&(i=this.toHexString()),"hex3"===n&&(i=this.toHexString(!0)),"hex4"===n&&(i=this.toHex8String(!0)),"hex8"===n&&(i=this.toHex8String()),"name"===n&&(i=this.toName()),"hsl"===n&&(i=this.toHslString()),"hsv"===n&&(i=this.toHsvString()),"cmyk"===n&&(i=this.toCmykString()),i||this.toHexString()):"name"===n&&0===this.a?this.toName():this.toRgbString()}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new Bo(this.toString())}lighten(n=10){const e=this.toHsl();return e.l+=n/100,e.l=W6(e.l),new Bo(e)}brighten(n=10){const e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(-n/100*255))),e.g=Math.max(0,Math.min(255,e.g-Math.round(-n/100*255))),e.b=Math.max(0,Math.min(255,e.b-Math.round(-n/100*255))),new Bo(e)}darken(n=10){const e=this.toHsl();return e.l-=n/100,e.l=W6(e.l),new Bo(e)}tint(n=10){return this.mix("white",n)}shade(n=10){return this.mix("black",n)}desaturate(n=10){const e=this.toHsl();return e.s-=n/100,e.s=W6(e.s),new Bo(e)}saturate(n=10){const e=this.toHsl();return e.s+=n/100,e.s=W6(e.s),new Bo(e)}greyscale(){return this.desaturate(100)}spin(n){const e=this.toHsl(),i=(e.h+n)%360;return e.h=i<0?360+i:i,new Bo(e)}mix(n,e=50){const i=this.toRgb(),o=new Bo(n).toRgb(),s=e/100;return new Bo({r:(o.r-i.r)*s+i.r,g:(o.g-i.g)*s+i.g,b:(o.b-i.b)*s+i.b,a:(o.a-i.a)*s+i.a})}analogous(n=6,e=30){const i=this.toHsl(),o=360/e,s=[this];for(i.h=(i.h-(o*n>>1)+720)%360;--n;)i.h=(i.h+o)%360,s.push(new Bo(i));return s}complement(){const n=this.toHsl();return n.h=(n.h+180)%360,new Bo(n)}monochromatic(n=6){const e=this.toHsv(),{h:i}=e,{s:o}=e;let{v:s}=e;const r=[],a=1/n;for(;n--;)r.push(new Bo({h:i,s:o,v:s})),s=(s+a)%1;return r}splitcomplement(){const n=this.toHsl(),{h:e}=n;return[this,new Bo({h:(e+72)%360,s:n.s,l:n.l}),new Bo({h:(e+216)%360,s:n.s,l:n.l})]}onBackground(n){const e=this.toRgb(),i=new Bo(n).toRgb(),o=e.a+i.a*(1-e.a);return new Bo({r:(e.r*e.a+i.r*i.a*(1-e.a))/o,g:(e.g*e.a+i.g*i.a*(1-e.a))/o,b:(e.b*e.a+i.b*i.a*(1-e.a))/o,a:o})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(n){const e=this.toHsl(),{h:i}=e,o=[this],s=360/n;for(let r=1;r<n;r++)o.push(new Bo({h:(i+r*s)%360,s:e.s,l:e.l}));return o}equals(n){const e=new Bo(n);return"cmyk"===this.format||"cmyk"===e.format?this.toCmykString()===e.toCmykString():this.toRgbString()===e.toRgbString()}}function TUe(t,n){if(1&t&&(d(0,"div",2),O(1,"div",3),u()),2&t){const e=p();Qr("left",e.left)("top",e.top),_(),m("ngStyle",e.pointer)}}let bUe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({imports:[e_]})}return t})(),SUe=(()=>{class t{el=M(fn);coordinatesChange=new Be;mousechange=new Be;mouseListening=!1;sub;mousemove(e,i,o,s=!1){this.mouseListening&&(e.preventDefault(),this.mousechange.next({$event:e,x:i,y:o,isTouch:s}))}mouseup(){this.mouseListening=!1}mousedown(e,i,o,s=!1){e.preventDefault(),this.mouseListening=!0,this.mousechange.next({$event:e,x:i,y:o,isTouch:s})}ngOnInit(){this.sub=this.mousechange.pipe(r1((e,i)=>e.x===i.x&&e.y===i.y)).subscribe(e=>this.handleChange(e.x,e.y,e.$event,e.isTouch))}ngOnDestroy(){this.sub?.unsubscribe()}handleChange(e,i,o,s){const r=this.el.nativeElement.clientWidth,a=this.el.nativeElement.clientHeight,l=e-(this.el.nativeElement.getBoundingClientRect().left+window.pageXOffset);let c=i-this.el.nativeElement.getBoundingClientRect().top;s||(c-=window.pageYOffset),this.coordinatesChange.next({x:e,y:i,top:c,left:l,containerWidth:r,containerHeight:a,$event:o})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Je({type:t,selectors:[["","ngx-color-coordinates",""]],hostBindings:function(i,o){1&i&&E("mousemove",function(r){return o.mousemove(r,r.pageX,r.pageY)},K1)("touchmove",function(r){return o.mousemove(r,r.touches[0].clientX,r.touches[0].clientY,!0)},K1)("mouseup",function(){return o.mouseup()},K1)("touchend",function(){return o.mouseup()},K1)("mousedown",function(r){return o.mousedown(r,r.pageX,r.pageY)})("touchstart",function(r){return o.mousedown(r,r.touches[0].clientX,r.touches[0].clientY,!0)})},outputs:{coordinatesChange:"coordinatesChange"},standalone:!1})}return t})(),EUe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({})}return t})();function CH(t){let e=0,i=0;return["r","g","b","a","h","s","l","v"].forEach(o=>{t[o]&&(e+=1,isNaN(t[o])||(i+=1),("s"===o||"l"===o)&&/^\d+%$/.test(t[o])&&(i+=1))}),e===i&&t}function rg(t,n,e){const i=new Bo(t.hex?t.hex:t);e&&i.setAlpha(1);const o=i.toHsl(),s=i.toHsv(),r=i.toRgb(),a=i.toHex();return 0===o.s&&(o.h=n||0,s.h=n||0),{hsl:o,hex:"000000"===a&&0===r.a?"transparent":i.toHexString(),rgb:r,hsv:s,oldHue:t.h||n||o.h,source:t.source}}var V2=function(t){return t.HEX="hex",t.HSL="hsl",t.HSV="hsv",t.RGB="rgb",t}(V2||{});let MH=(()=>{class t{className;mode=V2.HEX;color={h:250,s:.5,l:.2,a:1};colorChange=new Ee;onChange=new Ee;onChangeComplete=new Ee;onSwatchHover=new Ee;oldHue;hsl;hsv;rgb;hex;source;currentColor;changes;disableAlpha;_onChangeCompleteSubscription=new Li;_onSwatchHoverSubscription=new Li;ngOnInit(){this.changes=this.onChange.pipe(ra(100),_n(e=>{switch(this.onChangeComplete.emit(e),this.mode){case V2.HEX:this.colorChange.emit(e.color.hex);break;case V2.HSL:this.colorChange.emit(e.color.hsl);break;case V2.HSV:this.colorChange.emit(e.color.hsv);break;case V2.RGB:this.colorChange.emit(e.color.rgb);break;default:console.warn(`The mode '${this.mode}' is not supported`)}})).subscribe(),this.setState(rg(this.color,0)),this.currentColor=this.hex}ngOnChanges(){this.setState(rg(this.color,this.oldHue))}ngOnDestroy(){this.changes?.unsubscribe(),this._onChangeCompleteSubscription?.unsubscribe(),this._onSwatchHoverSubscription?.unsubscribe()}setState(e){this.oldHue=e.oldHue,this.hsl=e.hsl,this.hsv=e.hsv,this.rgb=e.rgb,this.hex=e.hex,this.source=e.source,this.afterValidChange()}handleChange(e,i){if(CH(e)){const s=rg(e,e.h||this.oldHue,this.disableAlpha);this.setState(s),this.onChange.emit({color:s,$event:i}),this.afterValidChange()}}afterValidChange(){}handleSwatchHover(e,i){if(CH(e)){const s=rg(e,e.h||this.oldHue);this.setState(s),this.onSwatchHover.emit({color:s,$event:i})}}registerOnChange(e){this._onChangeCompleteSubscription.add(this.onChangeComplete.pipe(_n(i=>e(i.color.hex))).subscribe())}registerOnTouched(e){this._onSwatchHoverSubscription.add(this.onSwatchHover.pipe(_n(()=>e())).subscribe())}setDisabledState(e){}writeValue(e){this.color=e}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Ge({type:t,selectors:[["color-wrap"]],inputs:{className:"className",mode:"mode",color:"color"},outputs:{colorChange:"colorChange",onChange:"onChange",onChangeComplete:"onChangeComplete",onSwatchHover:"onSwatchHover"},standalone:!1,features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),Di],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return t})(),OUe=(()=>{class t{hsl;pointer;radius;shadow;hidePointer=!1;direction="horizontal";onChange=new Ee;left="0px";top="";ngOnChanges(){"horizontal"===this.direction?this.left=100*this.hsl.h/360+"%":this.top=-100*this.hsl.h/360+100+"%"}handleChange({top:e,left:i,containerHeight:o,containerWidth:s,$event:r}){let a;if("vertical"===this.direction){let l;l=e<0?359:e>o?0:360*(-100*e/o+100)/100,this.hsl.h!==l&&(a={h:l,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}else{let l;l=i<0?0:i>s?359:100*i/s*360/100,this.hsl.h!==l&&(a={h:l,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}a&&this.onChange.emit({data:a,$event:r})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Ge({type:t,selectors:[["color-hue"]],inputs:{hsl:"hsl",pointer:"pointer",radius:"radius",shadow:"shadow",hidePointer:"hidePointer",direction:"direction"},outputs:{onChange:"onChange"},standalone:!1,features:[Di],decls:3,vars:8,consts:[["ngx-color-coordinates","",1,"color-hue-container",3,"coordinatesChange"],[1,"color-hue-pointer",3,"left","top"],[1,"color-hue-pointer"],[1,"color-hue-slider",3,"ngStyle"]],template:function(i,o){1&i&&(d(0,"div")(1,"div",0),E("coordinatesChange",function(r){return o.handleChange(r)}),y(2,TUe,2,5,"div",1),u()()),2&i&&(Zi(Lt("color-hue color-hue-",o.direction)),Qr("border-radius",o.radius,"px")("box-shadow",o.shadow),_(2),P(o.hidePointer?-1:2))},dependencies:[$9,SUe],styles:[".color-hue[_ngcontent-%COMP%]{position:absolute;inset:0}.color-hue-container[_ngcontent-%COMP%]{margin:0 2px;position:relative;height:100%}.color-hue-pointer[_ngcontent-%COMP%]{position:absolute}.color-hue-slider[_ngcontent-%COMP%]{margin-top:1px;width:4px;border-radius:1px;height:8px;box-shadow:0 0 2px #0009;background:#fff;transform:translate(-2px)}.color-hue-horizontal[_ngcontent-%COMP%]{background:linear-gradient(to right,red,#ff0 17%,#0f0 33%,#0ff,#00f 67%,#f0f 83%,red)}.color-hue-vertical[_ngcontent-%COMP%]{background:linear-gradient(to top,red,#ff0 17%,#0f0 33%,#0ff,#00f 67%,#f0f 83%,red)}"],changeDetection:0})}return t})(),AUe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({imports:[e_,EUe]})}return t})(),NUe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({imports:[e_,bUe]})}return t})(),DUe=(()=>{class t{hsl;active;offset;first=!1;last=!1;onClick=new Ee;background;ngOnChanges(){this.background=`hsl(${this.hsl.h}, 50%, ${100*this.offset}%)`}handleClick(e){this.onClick.emit({data:{h:this.hsl.h,s:.5,l:this.offset,source:"hsl"},$event:e})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Ge({type:t,selectors:[["color-slider-swatch"]],inputs:{hsl:"hsl",active:"active",offset:"offset",first:"first",last:"last"},outputs:{onClick:"onClick"},standalone:!1,features:[Di],decls:1,vars:8,consts:[[1,"slider-swatch",3,"click"]],template:function(i,o){1&i&&(d(0,"div",0),E("click",function(r){return o.handleClick(r)}),u()),2&i&&(Qr("background",o.background),we("first",o.first)("last",o.last)("active",o.active))},styles:[".slider-swatch[_ngcontent-%COMP%]{height:12px;background:#79d3a6;cursor:pointer}.slider-swatch.active[_ngcontent-%COMP%]{transform:scaleY(1.8);border-radius:3.6px/2px}.slider-swatch.first[_ngcontent-%COMP%]{border-radius:2px 0 0 2px}.slider-swatch.last[_ngcontent-%COMP%]{border-radius:0 2px 2px 0}"],changeDetection:0})}return t})(),yUe=(()=>{class t{hsl;onClick=new Ee;onSwatchHover=new Ee;active(e,i){return Math.round(100*this.hsl.l)/100===e&&Math.round(100*this.hsl.s)/100===i}handleClick({data:e,$event:i}){this.onClick.emit({data:e,$event:i})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Ge({type:t,selectors:[["color-slider-swatches"]],inputs:{hsl:"hsl"},outputs:{onClick:"onClick",onSwatchHover:"onSwatchHover"},standalone:!1,decls:11,vars:17,consts:[[1,"slider-swatches"],[1,"slider-swatch-wrap"],[3,"onClick","hsl","offset","active","first"],[3,"onClick","hsl","offset","active"],[3,"onClick","hsl","offset","active","last"]],template:function(i,o){1&i&&(d(0,"div",0)(1,"div",1)(2,"color-slider-swatch",2),E("onClick",function(r){return o.handleClick(r)}),u()(),d(3,"div",1)(4,"color-slider-swatch",3),E("onClick",function(r){return o.handleClick(r)}),u()(),d(5,"div",1)(6,"color-slider-swatch",3),E("onClick",function(r){return o.handleClick(r)}),u()(),d(7,"div",1)(8,"color-slider-swatch",3),E("onClick",function(r){return o.handleClick(r)}),u()(),d(9,"div",1)(10,"color-slider-swatch",4),E("onClick",function(r){return o.handleClick(r)}),u()()()),2&i&&(_(2),m("hsl",o.hsl)("offset",.8)("active",o.active(.8,.5))("first",!0),_(2),m("hsl",o.hsl)("offset",.65)("active",o.active(.65,.5)),_(2),m("hsl",o.hsl)("offset",.5)("active",o.active(.5,.5)),_(2),m("hsl",o.hsl)("offset",.35)("active",o.active(.35,.5)),_(2),m("hsl",o.hsl)("offset",.2)("active",o.active(.2,.5))("last",!0))},dependencies:[DUe],styles:[".slider-swatches[_ngcontent-%COMP%]{margin-top:20px}.slider-swatch-wrap[_ngcontent-%COMP%]{box-sizing:border-box;width:20%;padding-right:1px;float:left}"],changeDetection:0})}return t})(),PUe=(()=>{class t extends MH{pointer={width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -2px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"};radius=2;constructor(){super()}handlePickerChange({data:e,$event:i}){this.handleChange(e,i)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Ge({type:t,selectors:[["color-slider"]],inputs:{pointer:"pointer",radius:"radius"},standalone:!1,features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0},{provide:MH,useExisting:rn(()=>t)}]),at],decls:5,vars:7,consts:[[1,"slider-hue"],[3,"onChange","hsl","radius","pointer"],[1,"slider-swatches"],[3,"onClick","hsl"]],template:function(i,o){1&i&&(d(0,"div")(1,"div",0)(2,"color-hue",1),E("onChange",function(r){return o.handlePickerChange(r)}),u()(),d(3,"div",2)(4,"color-slider-swatches",3),E("onClick",function(r){return o.handlePickerChange(r)}),u()()()),2&i&&(Zi(Lt("slider-picker ",o.className)),_(2),m("hsl",o.hsl)("radius",o.radius)("pointer",o.pointer),_(2),m("hsl",o.hsl))},dependencies:()=>[OUe,yUe],styles:[".slider-hue[_ngcontent-%COMP%]{height:12px;position:relative}"],changeDetection:0})}return t})(),TH=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({imports:[e_,AUe,NUe]})}return t})(),dT=(()=>{class t{constructor(e,i){this.document=e,this.platformId=i,this.documentIsAccessible=G0(this.platformId)}static getCookieRegExp(e){const i=e.replace(/([[\]{}()|=;+?,.*^$\\])/gi,"\\$1");return new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return!!this.documentIsAccessible&&(e=encodeURIComponent(e),t.getCookieRegExp(e).test(this.document.cookie))}get(e){if(this.check(e)){e=encodeURIComponent(e);const o=t.getCookieRegExp(e).exec(this.document.cookie);return o?.[1]?t.safeDecodeURIComponent(o[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const e={},i=this.document;return i.cookie&&""!==i.cookie&&i.cookie.split(";").forEach(o=>{const[s,r]=o.split("=");e[t.safeDecodeURIComponent(s.replace(/^ /,""))]=t.safeDecodeURIComponent(r)}),e}set(e,i,o,s,r,a,l,c){if(!this.documentIsAccessible)return;if("number"==typeof o||o instanceof Date||s||r||a||l)return void this.set(e,i,{expires:o,path:s,domain:r,secure:a,sameSite:l||"Lax",partitioned:c});let h=encodeURIComponent(e)+"="+encodeURIComponent(i)+";";const g=o||{};g.expires&&(h+="number"==typeof g.expires?"expires="+new Date((new Date).getTime()+1e3*g.expires*60*60*24).toUTCString()+";":"expires="+g.expires.toUTCString()+";"),g.path&&(h+="path="+g.path+";"),g.domain&&(h+="domain="+g.domain+";"),!1===g.secure&&"None"===g.sameSite&&(g.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),g.secure&&(h+="secure;"),g.sameSite||(g.sameSite="Lax"),h+="sameSite="+g.sameSite+";",g.partitioned&&(h+="Partitioned;"),this.document.cookie=h}delete(e,i,o,s,r="Lax"){this.documentIsAccessible&&this.set(e,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:i,domain:o,secure:s,sameSite:r})}deleteAll(e,i,o,s="Lax"){if(!this.documentIsAccessible)return;const r=this.getAll();for(const a in r)r.hasOwnProperty(a)&&this.delete(a,e,i,o,s)}static#e=this.\u0275fac=function(i){return new(i||t)(Zt(Un),Zt(x0))};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ag(...t){const n=$u(t),e=u3(t),{args:i,keys:o}=NL(t);if(0===i.length)return Oo([],n);const s=new Jt(function LUe(t,n,e=At){return i=>{wH(n,()=>{const{length:o}=t,s=new Array(o);let r=o,a=o;for(let l=0;l<o;l++)wH(n,()=>{const c=Oo(t[l],n);let h=!1;c.subscribe($i(i,g=>{s[l]=g,h||(h=!0,a--),a||i.next(e(s.slice()))},()=>{--r||i.complete()}))},i)},i)}}(i,n,o?r=>DL(o,r):At));return e?s.pipe(nC(e)):s}function wH(t,n,e){t?Q1(e,t,n):n()}const lg=Ii(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function cg(t){return new Jt(n=>{Vo(t()).subscribe(n)})}function q6(t,n){const e=It(t)?t:()=>t,i=o=>o.error(e());return new Jt(n?o=>n.schedule(i,0,o):i)}function Y6(){return uo((t,n)=>{let e=null;t._refCount++;const i=$i(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,s=e;e=null,o&&(!s||o===s)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class hT extends Jt{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,MS(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Li;const e=this.getSubject();n.add(this.source.subscribe($i(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Li.EMPTY)}return n}refCount(){return Y6()(this)}}function Q6(t){return uo((n,e)=>{let i=!1;n.subscribe($i(e,o=>{i=!0,e.next(o)},()=>{i||e.next(t),e.complete()}))})}function bH(t=RUe){return uo((n,e)=>{let i=!1;n.subscribe($i(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(t())))})}function RUe(){return new lg}function ut(t,n){const e=arguments.length>=2;return i=>i.pipe(t?ii((o,s)=>t(o,s,i)):At,Or(1),e?Q6(n):bH(()=>new lg))}function xa(t){return uo((n,e)=>{let s,i=null,o=!1;i=n.subscribe($i(e,void 0,void 0,r=>{s=Vo(t(r,xa(t)(n))),i?(i.unsubscribe(),i=null,s.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,s.subscribe(e))})}function uT(t){return t<=0?()=>rr:uo((n,e)=>{let i=[];n.subscribe($i(e,o=>{i.push(o),t<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}let SH=(()=>{class t{_doc;_dom;constructor(e){this._doc=e,this._dom=$0()}addTag(e,i=!1){return e?this._getOrCreateElement(e,i):null}addTags(e,i=!1){return e?e.reduce((o,s)=>(s&&o.push(this._getOrCreateElement(s,i)),o),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];const i=this._doc.querySelectorAll(`meta[${e}]`);return i?[].slice.call(i):[]}updateTag(e,i){if(!e)return null;i=i||this._parseSelector(e);const o=this.getTag(i);return o?this._setMetaElementAttributes(e,o):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,i=!1){if(!i){const r=this._parseSelector(e),a=this.getTags(r).filter(l=>this._containsAttributes(e,l))[0];if(void 0!==a)return a}const o=this._dom.createElement("meta");return this._setMetaElementAttributes(e,o),this._doc.getElementsByTagName("head")[0].appendChild(o),o}_setMetaElementAttributes(e,i){return Object.keys(e).forEach(o=>i.setAttribute(this._getMetaKeyMap(o),e[o])),i}_parseSelector(e){const i=e.name?"name":"property";return`${i}="${e[i]}"`}_containsAttributes(e,i){return Object.keys(e).every(o=>i.getAttribute(this._getMetaKeyMap(o))===e[o])}_getMetaKeyMap(e){return zUe[e]||e}static \u0275fac=function(i){return new(i||t)(Zt(Un))};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zUe={httpEquiv:"http-equiv"};let EH=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||t)(Zt(Un))};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_T=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:function(i){let o=null;return o=i?new(i||t):Zt($Ue),o},providedIn:"root"})}return t})(),$Ue=(()=>{class t extends _T{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ya.NONE:return i;case Ya.HTML:return X1(i,"HTML")?Ca(i):JE(this._doc,String(i)).toString();case Ya.STYLE:return X1(i,"Style")?Ca(i):i;case Ya.SCRIPT:if(X1(i,"Script"))return Ca(i);throw new De(5200,!1);case Ya.URL:return X1(i,"URL")?Ca(i):Wp(String(i));case Ya.RESOURCE_URL:if(X1(i,"ResourceURL"))return Ca(i);throw new De(5201,!1);default:throw new De(5202,!1)}}bypassSecurityTrustHtml(e){return function bW(t){return new mW(t)}(e)}bypassSecurityTrustStyle(e){return function SW(t){return new vW(t)}(e)}bypassSecurityTrustScript(e){return function EW(t){return new CW(t)}(e)}bypassSecurityTrustUrl(e){return function OW(t){return new MW(t)}(e)}bypassSecurityTrustResourceUrl(e){return function AW(t){return new TW(t)}(e)}static \u0275fac=function(i){return new(i||t)(Zt(Un))};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Zn="primary",hg=Symbol("RouteTitle");class BUe{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function b5(t){return new BUe(t)}function UUe(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const o={};for(let s=0;s<i.length;s++){const r=i[s],a=t[s];if(":"===r[0])o[r.substring(1)]=a;else if(r!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}function u0(t,n){const e=t?gT(t):void 0,i=n?gT(n):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let s=0;s<e.length;s++)if(o=e[s],!NH(t[o],n[o]))return!1;return!0}function gT(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function NH(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((o,s)=>i[s]===o)}return t===n}function DH(t){return t.length>0?t[t.length-1]:null}function nl(t){return function IUe(t){return!!t&&(t instanceof Jt||It(t.lift)&&It(t.subscribe))}(t)?t:bu(t)?Oo(Promise.resolve(t)):Et(t)}const ZUe={exact:function IH(t,n,e){if(!E5(t.segments,n.segments)||!J6(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!IH(t.children[i],n.children[i],e))return!1;return!0},subset:LH},yH={exact:function WUe(t,n){return u0(t,n)},subset:function XUe(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>NH(t[e],n[e]))},ignored:()=>!0};function PH(t,n,e){return ZUe[e.paths](t.root,n.root,e.matrixParams)&&yH[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function LH(t,n,e){return RH(t,n,n.segments,e)}function RH(t,n,e,i){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!E5(o,e)||n.hasChildren()||!J6(o,e,i))}if(t.segments.length===e.length){if(!E5(t.segments,e)||!J6(t.segments,e,i))return!1;for(const o in n.children)if(!t.children[o]||!LH(t.children[o],n.children[o],i))return!1;return!0}{const o=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(E5(t.segments,o)&&J6(t.segments,o,i)&&t.children[Zn])&&RH(t.children[Zn],n,s,i)}}function J6(t,n,e){return n.every((i,o)=>yH[e](t[o].parameters,i.parameters))}class S5{root;queryParams;fragment;_queryParamMap;constructor(n=new Xi([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=b5(this.queryParams),this._queryParamMap}toString(){return YUe.serialize(this)}}class Xi{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return t4(this)}}class ug{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=b5(this.parameters),this._parameterMap}toString(){return kH(this)}}function E5(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let _g=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:()=>new e4,providedIn:"root"})}return t})();class e4{parse(n){const e=new lje(n);return new S5(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${gg(n.root,!0)}`,i=function eje(t){const n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(o=>`${n4(e)}=${n4(o)}`).join("&"):`${n4(e)}=${n4(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function QUe(t){return encodeURI(t)}(n.fragment)}`:""}`}}const YUe=new e4;function t4(t){return t.segments.map(n=>kH(n)).join("/")}function gg(t,n){if(!t.hasChildren())return t4(t);if(n){const e=t.children[Zn]?gg(t.children[Zn],!1):"",i=[];return Object.entries(t.children).forEach(([o,s])=>{o!==Zn&&i.push(`${o}:${gg(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function qUe(t,n){let e=[];return Object.entries(t.children).forEach(([i,o])=>{i===Zn&&(e=e.concat(n(o,i)))}),Object.entries(t.children).forEach(([i,o])=>{i!==Zn&&(e=e.concat(n(o,i)))}),e}(t,(i,o)=>o===Zn?[gg(t.children[Zn],!1)]:[`${o}:${gg(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Zn]?`${t4(t)}/${e[0]}`:`${t4(t)}/(${e.join("//")})`}}function xH(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function n4(t){return xH(t).replace(/%3B/gi,";")}function pT(t){return xH(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function i4(t){return decodeURIComponent(t)}function FH(t){return i4(t.replace(/\+/g,"%20"))}function kH(t){return`${pT(t.path)}${function JUe(t){return Object.entries(t).map(([n,e])=>`;${pT(n)}=${pT(e)}`).join("")}(t.parameters)}`}const tje=/^[^\/()?;#]+/;function fT(t){const n=t.match(tje);return n?n[0]:""}const nje=/^[^\/()?;=#]+/,oje=/^[^=?&#]+/,rje=/^[^&#]+/;class lje{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xi([],{}):new Xi([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Zn]=new Xi(n,e)),i}parseSegment(){const n=fT(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new De(4009,!1);return this.capture(n),new ug(i4(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function ije(t){const n=t.match(nje);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=fT(this.remaining);o&&(i=o,this.capture(i))}n[i4(e)]=i4(i)}parseQueryParam(n){const e=function sje(t){const n=t.match(oje);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=function aje(t){const n=t.match(rje);return n?n[0]:""}(this.remaining);r&&(i=r,this.capture(i))}const o=FH(e),s=FH(i);if(n.hasOwnProperty(o)){let r=n[o];Array.isArray(r)||(r=[r],n[o]=r),r.push(s)}else n[o]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=fT(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new De(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Zn);const r=this.parseChildren();e[s]=1===Object.keys(r).length?r[Zn]:new Xi([],r),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new De(4011,!1)}}function zH(t){return t.segments.length>0?new Xi([],{[Zn]:t}):t}function VH(t){const n={};for(const[i,o]of Object.entries(t.children)){const s=VH(o);if(i===Zn&&0===s.segments.length&&s.hasChildren())for(const[r,a]of Object.entries(s.children))n[r]=a;else(s.segments.length>0||s.hasChildren())&&(n[i]=s)}return function cje(t){if(1===t.numberOfChildren&&t.children[Zn]){const n=t.children[Zn];return new Xi(t.segments.concat(n.segments),n.children)}return t}(new Xi(t.segments,n))}function O5(t){return t instanceof S5}function HH(t){let n;const o=zH(function e(s){const r={};for(const l of s.children){const c=e(l);r[l.outlet]=c}const a=new Xi(s.url,r);return s===t&&(n=a),a}(t.root));return n??o}function GH(t,n,e,i){let o=t;for(;o.parent;)o=o.parent;if(0===n.length)return mT(o,o,o,e,i);const s=function hje(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new BH(!0,0,t);let n=0,e=!1;const i=t.reduce((o,s,r)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===r?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,s]},[]);return new BH(e,n,i)}(n);if(s.toRoot())return mT(o,o,new Xi([],{}),e,i);const r=function uje(t,n,e){if(t.isAbsolute)return new s4(n,!0,0);if(!e)return new s4(n,!1,NaN);if(null===e.parent)return new s4(e,!0,0);const i=o4(t.commands[0])?0:1;return function _je(t,n,e){let i=t,o=n,s=e;for(;s>o;){if(s-=o,i=i.parent,!i)throw new De(4005,!1);o=i.segments.length}return new s4(i,!1,o-s)}(e,e.segments.length-1+i,t.numberOfDoubleDots)}(s,o,t),a=r.processChildren?fg(r.segmentGroup,r.index,s.commands):UH(r.segmentGroup,r.index,s.commands);return mT(o,r.segmentGroup,a,e,i)}function o4(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function pg(t){return"object"==typeof t&&null!=t&&t.outlets}function mT(t,n,e,i,o){let r,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),r=t===n?e:$H(t,n,e);const a=zH(VH(r));return new S5(a,s,o)}function $H(t,n,e){const i={};return Object.entries(t.children).forEach(([o,s])=>{i[o]=s===n?e:$H(s,n,e)}),new Xi(t.segments,i)}class BH{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&o4(i[0]))throw new De(4003,!1);const o=i.find(pg);if(o&&o!==DH(i))throw new De(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class s4{segmentGroup;processChildren;index;constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function UH(t,n,e){if(t??=new Xi([],{}),0===t.segments.length&&t.hasChildren())return fg(t,n,e);const i=function pje(t,n,e){let i=0,o=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=e.length)return s;const r=t.segments[o],a=e[i];if(pg(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!ZH(l,c,r))return s;i+=2}else{if(!ZH(l,{},r))return s;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,n,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Xi(t.segments.slice(0,i.pathIndex),{});return s.children[Zn]=new Xi(t.segments.slice(i.pathIndex),t.children),fg(s,0,o)}return i.match&&0===o.length?new Xi(t.segments,{}):i.match&&!t.hasChildren()?vT(t,n,e):i.match?fg(t,0,o):vT(t,n,e)}function fg(t,n,e){if(0===e.length)return new Xi(t.segments,{});{const i=function gje(t){return pg(t[0])?t[0].outlets:{[Zn]:t}}(e),o={};if(Object.keys(i).some(s=>s!==Zn)&&t.children[Zn]&&1===t.numberOfChildren&&0===t.children[Zn].segments.length){const s=fg(t.children[Zn],n,e);return new Xi(t.segments,s.children)}return Object.entries(i).forEach(([s,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(o[s]=UH(t.children[s],n,r))}),Object.entries(t.children).forEach(([s,r])=>{void 0===i[s]&&(o[s]=r)}),new Xi(t.segments,o)}}function vT(t,n,e){const i=t.segments.slice(0,n);let o=0;for(;o<e.length;){const s=e[o];if(pg(s)){const l=fje(s.outlets);return new Xi(i,l)}if(0===o&&o4(e[0])){i.push(new ug(t.segments[n].path,jH(e[0]))),o++;continue}const r=pg(s)?s.outlets[Zn]:`${s}`,a=o<e.length-1?e[o+1]:null;r&&a&&o4(a)?(i.push(new ug(r,jH(a))),o+=2):(i.push(new ug(r,{})),o++)}return new Xi(i,{})}function fje(t){const n={};return Object.entries(t).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[e]=vT(new Xi([],{}),0,i))}),n}function jH(t){const n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function ZH(t,n,e){return t==e.path&&u0(n,e.parameters)}const mg="imperative";var fi=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(fi||{});class _0{id;url;constructor(n,e){this.id=n,this.url=e}}class vg extends _0{type=fi.NavigationStart;navigationTrigger;restoredState;constructor(n,e,i="imperative",o=null){super(n,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class il extends _0{urlAfterRedirects;type=fi.NavigationEnd;constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ca=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(ca||{}),r4=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(r4||{});class A5 extends _0{reason;code;type=fi.NavigationCancel;constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class H2 extends _0{reason;code;type=fi.NavigationSkipped;constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o}}class CT extends _0{error;target;type=fi.NavigationError;constructor(n,e,i,o){super(n,e),this.error=i,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WH extends _0{urlAfterRedirects;state;type=fi.RoutesRecognized;constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mje extends _0{urlAfterRedirects;state;type=fi.GuardsCheckStart;constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vje extends _0{urlAfterRedirects;state;shouldActivate;type=fi.GuardsCheckEnd;constructor(n,e,i,o,s){super(n,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cje extends _0{urlAfterRedirects;state;type=fi.ResolveStart;constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mje extends _0{urlAfterRedirects;state;type=fi.ResolveEnd;constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tje{route;type=fi.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wje{route;type=fi.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bje{snapshot;type=fi.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sje{snapshot;type=fi.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XH{snapshot;type=fi.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eje{snapshot;type=fi.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KH{routerEvent;position;anchor;type=fi.Scroll;constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class MT{}class a4{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}}function k1(t){return t.outlet||Zn}function G2(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ije{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return G2(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Cg(this.rootInjector)}}let Cg=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Ije(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||t)(Zt(cs))};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class qH{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=TT(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=TT(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=wT(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return wT(n,this._root).map(e=>e.value)}}function TT(t,n){if(t===n.value)return n;for(const e of n.children){const i=TT(t,e);if(i)return i}return null}function wT(t,n){if(t===n.value)return[n];for(const e of n.children){const i=wT(t,e);if(i.length)return i.unshift(n),i}return[]}class z1{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function $2(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class YH extends qH{snapshot;constructor(n,e){super(n),this.snapshot=e,bT(this,n)}toString(){return this.snapshot.toString()}}function QH(t){const n=function Lje(t){const s=new c4([],{},{},"",{},Zn,t,null,{});return new JH("",new z1(s,[]))}(t),e=new Qn([new ug("",{})]),i=new Qn({}),o=new Qn({}),s=new Qn({}),r=new Qn(""),a=new V1(e,i,s,r,o,Zn,t,n.root);return a.snapshot=n.root,new YH(new z1(a,[]),n)}class V1{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,i,o,s,r,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=s,this.outlet=r,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(bt(c=>c[hg]))??Et(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(bt(n=>b5(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(bt(n=>b5(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function l4(t,n,e="emptyOnly"){let i;const{routeConfig:o}=t;return i=null===n||"always"!==e&&""!==o?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.data,...o?.data,...t._resolvedData}},o&&tG(o)&&(i.resolve[hg]=o.title),i}class c4{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[hg]}constructor(n,e,i,o,s,r,a,l,c){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=s,this.outlet=r,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=b5(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=b5(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class JH extends qH{url;constructor(n,e){super(e),this.url=n,bT(this,e)}toString(){return eG(this._root)}}function bT(t,n){n.value._routerState=t,n.children.forEach(e=>bT(t,e))}function eG(t){const n=t.children.length>0?` { ${t.children.map(eG).join(", ")} } `:"";return`${t.value}${n}`}function ST(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,u0(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),u0(n.params,e.params)||t.paramsSubject.next(e.params),function jUe(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!u0(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),u0(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ET(t,n){const e=u0(t.params,n.params)&&function KUe(t,n){return E5(t,n)&&t.every((e,i)=>u0(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||ET(t.parent,n.parent))}function tG(t){return"string"==typeof t.title||null===t.title}const Rje=new Qe("");let d4=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Zn;activateEvents=new Ee;deactivateEvents=new Ee;attachEvents=new Ee;detachEvents=new Ee;routerOutletData=n3(void 0);parentContexts=M(Cg);location=M(Gs);changeDetector=M(Yo);inputBinder=M(h4,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new De(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new De(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new De(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new De(4013,!1);this._activatedRoute=e;const o=this.location,r=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new xje(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(r,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Je({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Di]})}return t})();class xje{route;childContexts;parent;outletData;constructor(n,e,i,o){this.route=n,this.childContexts=e,this.parent=i,this.outletData=o}get(n,e){return n===V1?this.route:n===Cg?this.childContexts:n===Rje?this.outletData:this.parent.get(n,e)}}const h4=new Qe("");let nG=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=ag([i.queryParams,i.params,i.data]).pipe(_i(([s,r,a],l)=>(a={...s,...r,...a},0===l?Et(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const r=function sie(t){const n=Ai(t);if(!n)return null;const e=new pu(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(i.component);if(r)for(const{templateName:a}of r.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})(),iG=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Ge({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){1&i&&O(0,"router-outlet")},dependencies:[d4],encapsulation:2})}return t})();function OT(t){const n=t.children&&t.children.map(OT),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Zn&&(e.component=iG),e}function Mg(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const o=function kje(t,n,e){return n.children.map(i=>{for(const o of e.children)if(t.shouldReuseRoute(i.value,o.value.snapshot))return Mg(t,i,o);return Mg(t,i)})}(t,n,e);return new z1(i,o)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const r=s.route;return r.value._futureSnapshot=n.value,r.children=n.children.map(a=>Mg(t,a)),r}}const i=function zje(t){return new V1(new Qn(t.url),new Qn(t.params),new Qn(t.queryParams),new Qn(t.fragment),new Qn(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(s=>Mg(t,s));return new z1(i,o)}}class AT{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}}const oG="ngNavigationCancelingError";function u4(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=O5(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=sG(!1,ca.Redirect);return o.url=e,o.navigationBehaviorOptions=i,o}function sG(t,n){const e=new Error(`NavigationCancelingError: ${t||""}`);return e[oG]=!0,e.cancellationCode=n,e}function rG(t){return!!t&&t[oG]}class Gje{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,i,o,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=s}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),ST(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const o=$2(e);n.children.forEach(s=>{const r=s.value.outlet;this.deactivateRoutes(s,o[r],i),delete o[r]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(n,e,i){const o=n.value,s=e?e.value:null;if(o===s)if(o.component){const r=i.getContext(o.outlet);r&&this.deactivateChildRoutes(n,e,r.children)}else this.deactivateChildRoutes(n,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,s=$2(n);for(const r of Object.values(s))this.deactivateRouteAndItsChildren(r,o);if(i&&i.outlet){const r=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:r,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,s=$2(n);for(const r of Object.values(s))this.deactivateRouteAndItsChildren(r,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){const o=$2(e);n.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],i),this.forwardEvent(new Eje(s.value.snapshot))}),n.children.length&&this.forwardEvent(new Sje(n.value.snapshot))}activateRoutes(n,e,i){const o=n.value,s=e?e.value:null;if(ST(o),o===s)if(o.component){const r=i.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,r.children)}else this.activateChildRoutes(n,e,i);else if(o.component){const r=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),r.children.onOutletReAttached(a.contexts),r.attachRef=a.componentRef,r.route=a.route.value,r.outlet&&r.outlet.attach(a.componentRef,a.route.value),ST(a.route.value),this.activateChildRoutes(n,null,r.children)}else r.attachRef=null,r.route=o,r.outlet&&r.outlet.activateWith(o,r.injector),this.activateChildRoutes(n,null,r.children)}else this.activateChildRoutes(n,null,i)}}class aG{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class _4{component;route;constructor(n,e){this.component=n,this.route=e}}function $je(t,n,e){const i=t._root;return Tg(i,n?n._root:null,e,[i.value])}function B2(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||function wU(t){return null!==sp(t)}(t)?n.get(t):t:i}function Tg(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=$2(n);return t.children.forEach(r=>{(function Uje(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,r=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(r&&s.routeConfig===r.routeConfig){const l=function jje(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!E5(t.url,n.url);case"pathParamsOrQueryParamsChange":return!E5(t.url,n.url)||!u0(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ET(t,n)||!u0(t.queryParams,n.queryParams);default:return!ET(t,n)}}(r,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new aG(i)):(s.data=r.data,s._resolvedData=r._resolvedData),Tg(t,n,s.component?a?a.children:null:e,i,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new _4(a.outlet.component,r))}else r&&wg(n,a,o),o.canActivateChecks.push(new aG(i)),Tg(t,null,s.component?a?a.children:null:e,i,o)})(r,s[r.value.outlet],e,i.concat([r.value]),o),delete s[r.value.outlet]}),Object.entries(s).forEach(([r,a])=>wg(a,e.getContext(r),o)),o}function wg(t,n,e){const i=$2(t),o=t.value;Object.entries(i).forEach(([s,r])=>{wg(r,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new _4(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function bg(t){return"function"==typeof t}function lG(t){return t instanceof lg||"EmptyError"===t?.name}const g4=Symbol("INITIAL_VALUE");function U2(){return _i(t=>ag(t.map(n=>n.pipe(Or(1),i2(g4)))).pipe(bt(n=>{for(const e of n)if(!0!==e){if(e===g4)return g4;if(!1===e||Qje(e))return e}return!0}),ii(n=>n!==g4),Or(1)))}function Qje(t){return O5(t)||t instanceof AT}function cG(t){return function li(...t){return Za(t)}(_n(n=>{if("boolean"!=typeof n)throw u4(0,n)}),bt(n=>!0===n))}class NT{segmentGroup;constructor(n){this.segmentGroup=n||null}}class DT extends Error{urlTree;constructor(n){super(),this.urlTree=n}}function j2(t){return q6(new NT(t))}class hZe{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return Et(i);if(o.numberOfChildren>1||!o.children[Zn])return q6(new De(4e3,!1));o=o.children[Zn]}}applyRedirectCommands(n,e,i,o,s){return function uZe(t,n,e){if("string"==typeof t)return Et(t);const i=t,{queryParams:o,fragment:s,routeConfig:r,url:a,outlet:l,params:c,data:h,title:g}=n;return nl($r(e,()=>i({params:c,data:h,queryParams:o,fragment:s,routeConfig:r,url:a,outlet:l,title:g})))}(e,o,s).pipe(bt(r=>{if(r instanceof S5)throw new DT(r);const a=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),n,i);if("/"===r[0])throw new DT(a);return a}))}applyRedirectCreateUrlTree(n,e,i,o){const s=this.createSegmentGroup(n,e.root,i,o);return new S5(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Object.entries(n).forEach(([o,s])=>{if("string"==typeof s&&":"===s[0]){const a=s.substring(1);i[o]=e[a]}else i[o]=s}),i}createSegmentGroup(n,e,i,o){const s=this.createSegments(n,e.segments,i,o);let r={};return Object.entries(e.children).forEach(([a,l])=>{r[a]=this.createSegmentGroup(n,l,i,o)}),new Xi(s,r)}createSegments(n,e,i,o){return e.map(s=>":"===s.path[0]?this.findPosParam(n,s,o):this.findOrReturn(s,i))}findPosParam(n,e,i){const o=i[e.path.substring(1)];if(!o)throw new De(4001,!1);return o}findOrReturn(n,e){let i=0;for(const o of e){if(o.path===n.path)return e.splice(i),o;i++}return n}}const yT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _Ze(t,n,e,i,o){const s=dG(t,n,e);return s.matched?(i=function Aje(t,n){return t.providers&&!t._injector&&(t._injector=Ef(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,i),function lZe(t,n,e,i){const o=n.canMatch;return o&&0!==o.length?Et(o.map(r=>{const a=B2(r,t);return nl(function Yje(t){return t&&bg(t.canMatch)}(a)?a.canMatch(n,e):$r(t,()=>a(n,e)))})).pipe(U2(),cG()):Et(!0)}(i,n,e).pipe(bt(r=>!0===r?s:{...yT}))):Et(s)}function dG(t,n,e){if("**"===n.path)return function gZe(t){return{matched:!0,parameters:t.length>0?DH(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...yT}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||UUe)(e,t,n);if(!o)return{...yT};const s={};Object.entries(o.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const r=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:r,positionalParamSegments:o.posParams??{}}}function hG(t,n,e,i){return e.length>0&&function mZe(t,n,e){return e.some(i=>p4(t,n,i)&&k1(i)!==Zn)}(t,e,i)?{segmentGroup:new Xi(n,fZe(i,new Xi(e,t.children))),slicedSegments:[]}:0===e.length&&function vZe(t,n,e){return e.some(i=>p4(t,n,i))}(t,e,i)?{segmentGroup:new Xi(t.segments,pZe(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new Xi(t.segments,t.children),slicedSegments:e}}function pZe(t,n,e,i){const o={};for(const s of e)if(p4(t,n,s)&&!i[k1(s)]){const r=new Xi([],{});o[k1(s)]=r}return{...i,...o}}function fZe(t,n){const e={};e[Zn]=n;for(const i of t)if(""===i.path&&k1(i)!==Zn){const o=new Xi([],{});e[k1(i)]=o}return e}function p4(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class MZe{}class bZe{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,i,o,s,r,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=r,this.urlSerializer=a,this.applyRedirects=new hZe(this.urlSerializer,this.urlTree)}noMatchError(n){return new De(4002,`'${n.segmentGroup}'`)}recognize(){const n=hG(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(bt(({children:e,rootSnapshot:i})=>{const o=new z1(i,e),s=new JH("",o),r=function dje(t,n,e=null,i=null){return GH(HH(t),n,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return r.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(r),{state:s,tree:r}}))}match(n){const e=new c4([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Zn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Zn,e).pipe(bt(i=>({children:i,rootSnapshot:e})),xa(i=>{if(i instanceof DT)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof NT?this.noMatchError(i):i}))}processSegmentGroup(n,e,i,o,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i,s):this.processSegment(n,e,i,i.segments,o,!0,s).pipe(bt(r=>r instanceof z1?[r]:[]))}processChildren(n,e,i,o){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return Oo(s).pipe(d2(r=>{const a=i.children[r],l=function Pje(t,n){const e=t.filter(i=>k1(i)===n);return e.push(...t.filter(i=>k1(i)!==n)),e}(e,r);return this.processSegmentGroup(n,l,a,r,o)}),function FUe(t,n){return uo(function xUe(t,n,e,i,o){return(s,r)=>{let a=e,l=n,c=0;s.subscribe($i(r,h=>{const g=c++;l=a?t(l,h,g):(a=!0,h),i&&r.next(l)},o&&(()=>{a&&r.next(l),r.complete()})))}}(t,n,arguments.length>=2,!0))}((r,a)=>(r.push(...a),r)),Q6(null),function kUe(t,n){const e=arguments.length>=2;return i=>i.pipe(t?ii((o,s)=>t(o,s,i)):At,uT(1),e?Q6(n):bH(()=>new lg))}(),bs(r=>{if(null===r)return j2(i);const a=uG(r);return function SZe(t){t.sort((n,e)=>n.value.outlet===Zn?-1:e.value.outlet===Zn?1:n.value.outlet.localeCompare(e.value.outlet))}(a),Et(a)}))}processSegment(n,e,i,o,s,r,a){return Oo(e).pipe(d2(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,i,o,s,r,a).pipe(xa(c=>{if(c instanceof NT)return Et(null);throw c}))),ut(l=>!!l),xa(l=>{if(lG(l))return function CZe(t,n,e){return 0===n.length&&!t.children[e]}(i,o,s)?Et(new MZe):j2(i);throw l}))}processSegmentAgainstRoute(n,e,i,o,s,r,a,l){return k1(i)===r||r!==Zn&&p4(o,s,i)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,o,i,s,r,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,i,s,r,l):j2(o):j2(o)}expandSegmentAgainstRouteUsingRedirect(n,e,i,o,s,r,a){const{matched:l,parameters:c,consumedSegments:h,positionalParamSegments:g,remainingSegments:f}=dG(e,o,s);if(!l)return j2(e);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const v=new c4(s,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_G(o),k1(o),o.component??o._loadedComponent??null,o,gG(o)),C=l4(v,a,this.paramsInheritanceStrategy);return v.params=Object.freeze(C.params),v.data=Object.freeze(C.data),this.applyRedirects.applyRedirectCommands(h,o.redirectTo,g,v,n).pipe(_i(D=>this.applyRedirects.lineralizeSegments(o,D)),bs(D=>this.processSegment(n,i,e,D.concat(f),r,!1,a)))}matchSegmentAgainstRoute(n,e,i,o,s,r){const a=_Ze(e,i,o,n);return"**"===i.path&&(e.children={}),a.pipe(_i(l=>l.matched?this.getChildConfig(n=i._injector??n,i,o).pipe(_i(({routes:c})=>{const h=i._loadedInjector??n,{parameters:g,consumedSegments:f,remainingSegments:v}=l,C=new c4(f,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_G(i),k1(i),i.component??i._loadedComponent??null,i,gG(i)),S=l4(C,r,this.paramsInheritanceStrategy);C.params=Object.freeze(S.params),C.data=Object.freeze(S.data);const{segmentGroup:D,slicedSegments:I}=hG(e,f,v,c);if(0===I.length&&D.hasChildren())return this.processChildren(h,c,D,C).pipe(bt(G=>new z1(C,G)));if(0===c.length&&0===I.length)return Et(new z1(C,[]));const L=k1(i)===s;return this.processSegment(h,c,D,I,L?Zn:s,!0,C).pipe(bt(G=>new z1(C,G instanceof z1?[G]:[])))})):j2(e)))}getChildConfig(n,e,i){return e.children?Et({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Et({routes:e._loadedRoutes,injector:e._loadedInjector}):function aZe(t,n,e,i){const o=n.canLoad;return void 0===o||0===o.length?Et(!0):Et(o.map(r=>{const a=B2(r,t);return nl(function Wje(t){return t&&bg(t.canLoad)}(a)?a.canLoad(n,e):$r(t,()=>a(n,e)))})).pipe(U2(),cG())}(n,e,i).pipe(bs(o=>o?this.configLoader.loadChildren(n,e).pipe(_n(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function dZe(){return q6(sG(!1,ca.GuardRejected))}())):Et({routes:[],injector:n})}}function EZe(t){const n=t.value.routeConfig;return n&&""===n.path}function uG(t){const n=[],e=new Set;for(const i of t){if(!EZe(i)){n.push(i);continue}const o=n.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):n.push(i)}for(const i of e){const o=uG(i.children);n.push(new z1(i.value,o))}return n.filter(i=>!e.has(i))}function _G(t){return t.data||{}}function gG(t){return t.resolve||{}}function pG(t){const n=t.children.map(e=>pG(e)).flat();return[t,...n]}function PT(t){return _i(n=>{const e=t(n);return e?Oo(e).pipe(bt(()=>n)):Et(n)})}let fG=(()=>{class t{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Zn);return i}getResolvedTitleForRoute(e){return e.data[hg]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:()=>M(PZe),providedIn:"root"})}return t})(),PZe=(()=>{class t extends fG{title;constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(Zt(EH))};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Z2=new Qe("",{providedIn:"root",factory:()=>({})}),f4=new Qe("");let IT=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(Xte);loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Et(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const o=nl($r(e,()=>i.loadComponent())).pipe(bt(mG),_i(vG),_n(r=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=r}),t_(()=>{this.componentLoaders.delete(i)})),s=new hT(o,()=>new Be).pipe(Y6());return this.componentLoaders.set(i,s),s}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Et({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function IZe(t,n,e,i){return nl($r(e,()=>t.loadChildren())).pipe(bt(mG),_i(vG),bs(o=>o instanceof WA||Array.isArray(o)?Et(o):Oo(n.compileModuleAsync(o))),bt(o=>{i&&i(t);let s,r,a=!1;return Array.isArray(o)?(r=o,!0):(s=o.create(e).injector,r=s.get(f4,[],{optional:!0,self:!0}).flat()),{routes:r.map(OT),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(t_(()=>{this.childrenLoaders.delete(i)})),r=new hT(s,()=>new Be).pipe(Y6());return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mG(t){return function LZe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}function vG(t){return Et(t)}let LT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:()=>M(RZe),providedIn:"root"})}return t})(),RZe=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const CG=new Qe(""),MG=new Qe("");function xZe(t,n,e){const i=t.get(MG),o=t.get(Un);if(!o.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const r=new Promise(c=>{s=c}),a=o.startViewTransition(()=>(s(),function FZe(t){return new Promise(n=>{E1({read:()=>setTimeout(n)},{injector:t})})}(t)));a.ready.catch(c=>{});const{onViewTransitionCreated:l}=i;return l&&$r(t,()=>l({transition:a,from:n,to:e})),r}const TG=new Qe("");let RT=(()=>{class t{currentNavigation=Ur(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Be;transitionAbortWithErrorSubject=new Be;configLoader=M(IT);environmentInjector=M(cs);destroyRef=M(wr);urlSerializer=M(_g);rootContexts=M(Cg);location=M(Qu);inputBindingEnabled=null!==M(h4,{optional:!0});titleStrategy=M(fG);options=M(Z2,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(LT);createViewTransition=M(CG,{optional:!0});navigationErrorHandler=M(TG,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>Et(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=o=>this.events.next(new wje(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Tje(o)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;so(()=>{this.transitions?.next({...e,extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i})})}setupNavigations(e){return this.transitions=new Qn(null),this.transitions.pipe(ii(i=>null!==i),_i(i=>{let o=!1;return Et(i).pipe(_i(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",ca.SupersededByNewNavigation),rr;this.currentTransition=i,this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:"string"==typeof s.extras.browserUrl?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>s.abortController.abort()});const r=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!r&&"reload"!==(s.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const l="";return this.events.next(new H2(s.id,this.urlSerializer.serialize(s.rawUrl),l,r4.IgnoredSameUrlNavigation)),s.resolve(!1),rr}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Et(s).pipe(_i(l=>(this.events.next(new vg(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?rr:Promise.resolve(l))),function OZe(t,n,e,i,o,s){return bs(r=>function TZe(t,n,e,i,o,s,r="emptyOnly"){return new bZe(t,n,e,i,o,r,s).recognize()}(t,n,e,i,r.extractedUrl,o,s).pipe(bt(({state:a,tree:l})=>({...r,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),_n(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=l.urlAfterRedirects,h));const c=new WH(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(r&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){const{id:l,extractedUrl:c,source:h,restoredState:g,extras:f}=s,v=new vg(l,this.urlSerializer.serialize(c),h,g);this.events.next(v);const C=QH(this.rootComponentType).snapshot;return this.currentTransition=i={...s,targetSnapshot:C,urlAfterRedirects:c,extras:{...f,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(S=>(S.finalUrl=c,S)),Et(i)}{const l="";return this.events.next(new H2(s.id,this.urlSerializer.serialize(s.extractedUrl),l,r4.IgnoredByUrlHandlingStrategy)),s.resolve(!1),rr}}),_n(s=>{const r=new mje(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(r)}),bt(s=>(this.currentTransition=i={...s,guards:$je(s.targetSnapshot,s.currentSnapshot,this.rootContexts)},i)),function Jje(t,n){return bs(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:r}}=e;return 0===r.length&&0===s.length?Et({...e,guardsResult:!0}):function eZe(t,n,e,i){return Oo(t).pipe(bs(o=>function rZe(t,n,e,i,o){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?Et(s.map(a=>{const l=G2(n)??o,c=B2(a,l);return nl(function qje(t){return t&&bg(t.canDeactivate)}(c)?c.canDeactivate(t,n,e,i):$r(l,()=>c(t,n,e,i))).pipe(ut())})).pipe(U2()):Et(!0)}(o.component,o.route,e,n,i)),ut(o=>!0!==o,!0))}(r,i,o,t).pipe(bs(a=>a&&function Zje(t){return"boolean"==typeof t}(a)?function tZe(t,n,e,i){return Oo(n).pipe(d2(o=>Kc(function iZe(t,n){return null!==t&&n&&n(new bje(t)),Et(!0)}(o.route.parent,i),function nZe(t,n){return null!==t&&n&&n(new XH(t)),Et(!0)}(o.route,i),function sZe(t,n,e){const i=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(r=>function Bje(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(r)).filter(r=>null!==r).map(r=>cg(()=>Et(r.guards.map(l=>{const c=G2(r.node)??e,h=B2(l,c);return nl(function Kje(t){return t&&bg(t.canActivateChild)}(h)?h.canActivateChild(i,t):$r(c,()=>h(i,t))).pipe(ut())})).pipe(U2())));return Et(s).pipe(U2())}(t,o.path,e),function oZe(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return Et(!0);const o=i.map(s=>cg(()=>{const r=G2(n)??e,a=B2(s,r);return nl(function Xje(t){return t&&bg(t.canActivate)}(a)?a.canActivate(n,t):$r(r,()=>a(n,t))).pipe(ut())}));return Et(o).pipe(U2())}(t,o.route,e))),ut(o=>!0!==o,!0))}(i,s,t,n):Et(a)),bt(a=>({...e,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),_n(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&"boolean"!=typeof s.guardsResult)throw u4(0,s.guardsResult);const r=new vje(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(r)}),ii(s=>!!s.guardsResult||(this.cancelNavigationTransition(s,"",ca.GuardRejected),!1)),PT(s=>{if(0!==s.guards.canActivateChecks.length)return Et(s).pipe(_n(r=>{const a=new Cje(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(a)}),_i(r=>{let a=!1;return Et(r).pipe(function AZe(t,n){return bs(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return Et(e);const s=new Set(o.map(l=>l.route)),r=new Set;for(const l of s)if(!r.has(l))for(const c of pG(l))r.add(c);let a=0;return Oo(r).pipe(d2(l=>s.has(l)?function NZe(t,n,e,i){const o=t.routeConfig,s=t._resolve;return void 0!==o?.title&&!tG(o)&&(s[hg]=o.title),cg(()=>(t.data=l4(t,t.parent,e).resolve,function DZe(t,n,e,i){const o=gT(t);if(0===o.length)return Et({});const s={};return Oo(o).pipe(bs(r=>function yZe(t,n,e,i){const o=G2(n)??i,s=B2(t,o);return nl(s.resolve?s.resolve(n,e):$r(o,()=>s(n,e)))}(t[r],n,e,i).pipe(ut(),_n(a=>{if(a instanceof AT)throw u4(new e4,a);s[r]=a}))),uT(1),bt(()=>s),xa(r=>lG(r)?rr:q6(r)))}(s,t,n,i).pipe(bt(r=>(t._resolvedData=r,t.data={...t.data,...r},null)))))}(l,i,t,n):(l.data=l4(l,l.parent,t).resolve,Et(void 0))),_n(()=>a++),uT(1),bs(l=>a===r.size?Et(e):rr))})}(this.paramsInheritanceStrategy,this.environmentInjector),_n({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(r,"",ca.NoDataFromResolver)}}))}),_n(r=>{const a=new Mje(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(a)}))}),PT(s=>{const r=a=>{const l=[];if(a.routeConfig?.loadComponent){const c=G2(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(_n(h=>{a.component=h}),bt(()=>{})))}for(const c of a.children)l.push(...r(c));return l};return ag(r(s.targetSnapshot.root)).pipe(Q6(null),Or(1))}),PT(()=>this.afterPreactivation()),_i(()=>{const{currentSnapshot:s,targetSnapshot:r}=i,a=this.createViewTransition?.(this.environmentInjector,s.root,r.root);return a?Oo(a).pipe(bt(()=>i)):Et(i)}),bt(s=>{const r=function Fje(t,n,e){const i=Mg(t,n._root,e?e._root:void 0);return new YH(i,n)}(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i={...s,targetRouterState:r},this.currentNavigation.update(a=>(a.targetRouterState=r,a)),i}),_n(()=>{this.events.next(new MT)}),((t,n,e,i)=>bt(o=>(new Gje(n,o.targetRouterState,o.currentRouterState,e,i).activate(t),o)))(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Or(1),me(new Jt(s=>{const r=i.abortController.signal,a=()=>s.next();return r.addEventListener("abort",a),()=>r.removeEventListener("abort",a)}).pipe(ii(()=>!o&&!i.targetRouterState),_n(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",ca.Aborted)}))),_n({next:s=>{o=!0,this.lastSuccessfulNavigation=so(this.currentNavigation),this.events.next(new il(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),me(this.transitionAbortWithErrorSubject.pipe(_n(s=>{throw s}))),t_(()=>{o||this.cancelNavigationTransition(i,"",ca.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),xa(s=>{if(this.destroyed)return i.resolve(!1),rr;if(o=!0,rG(s))this.events.next(new A5(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),function Vje(t){return rG(t)&&O5(t.url)}(s)?this.events.next(new a4(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{const r=new CT(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{const a=$r(this.environmentInjector,()=>this.navigationErrorHandler?.(r));if(!(a instanceof AT))throw this.events.next(r),s;{const{message:l,cancellationCode:c}=u4(0,a);this.events.next(new A5(i.id,this.urlSerializer.serialize(i.extractedUrl),l,c)),this.events.next(new a4(a.redirectTo,a.navigationBehaviorOptions))}}catch(a){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(a)}}return rr}))}))}cancelNavigationTransition(e,i,o){const s=new A5(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=so(this.currentNavigation),o=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==o?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kZe(t){return t!==mg}let zZe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:()=>M(HZe),providedIn:"root"})}return t})();class VZe{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let HZe=(()=>{class t extends VZe{static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wG=(()=>{class t{urlSerializer=M(_g);options=M(Z2,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(Qu);urlHandlingStrategy=M(LT);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new S5;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:o}){const s=void 0!==e?this.urlHandlingStrategy.merge(e,i):i,r=o??s;return r instanceof S5?this.urlSerializer.serialize(r):r}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:o}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,o),this.routerState=e):this.rawUrlTree=o}routerState=QH(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:()=>M(GZe),providedIn:"root"})}return t})(),GZe=(()=>{class t extends wG{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof vg?this.updateStateMemento():e instanceof H2?this.commitTransition(i):e instanceof WH?"eager"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof MT?(this.commitTransition(i),"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof A5&&e.code!==ca.SupersededByNewNavigation&&e.code!==ca.Redirect?this.restoreHistory(i):e instanceof CT?this.restoreHistory(i,!0):e instanceof il&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:o}){const{replaceUrl:s,state:r}=i;if(this.location.isCurrentPathEqualTo(e)||s){const a=this.browserPageId,l={...r,...this.generateNgRouterState(o,a)};this.location.replaceState(e,"",l)}else{const a={...r,...this.generateNgRouterState(o,this.browserPageId+1)};this.location.go(e,"",a)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&0===s&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bG(t,n){t.events.pipe(ii(e=>e instanceof il||e instanceof A5||e instanceof CT||e instanceof H2),bt(e=>e instanceof il||e instanceof H2?0:e instanceof A5&&(e.code===ca.Redirect||e.code===ca.SupersededByNewNavigation)?2:1),ii(e=>2!==e),Or(1)).subscribe(()=>{n()})}const $Ze={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BZe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ts=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(DN);stateManager=M(wG);options=M(Z2,{optional:!0})||{};pendingTasks=M(fl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(RT);urlSerializer=M(_g);location=M(Qu);urlHandlingStrategy=M(LT);injector=M(cs);_events=new Be;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(zZe);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(f4,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(h4,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Li;subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const o=this.navigationTransitions.currentTransition,s=so(this.navigationTransitions.currentNavigation);if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof A5&&i.code!==ca.Redirect&&i.code!==ca.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof il)this.navigated=!0;else if(i instanceof a4){const r=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||kZe(o.source),...r};this.scheduleNavigation(a,mg,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function Oje(t){return!(t instanceof MT||t instanceof a4)})(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,o)=>{this.navigateToSyncWithBrowser(e,o,i)})}navigateToSyncWithBrowser(e,i,o){const s={replaceUrl:!0},r=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,r,s).catch(l=>{this.disposed||this.injector.get(M1)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return so(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(OT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:o,queryParams:s,fragment:r,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:r;let g,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{g=HH(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),g=this.currentUrlTree.root}return GH(g,e,h,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=O5(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,mg,null,i)}navigate(e,i={skipLocationChange:!1}){return function UZe(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new De(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let o;if(o=!0===i?{...$Ze}:!1===i?{...BZe}:i,O5(e))return PH(this.currentUrlTree,e,o);const s=this.parseUrl(e);return PH(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.entries(e).reduce((i,[o,s])=>(null!=s&&(i[o]=s),i),{})}scheduleNavigation(e,i,o,s,r){if(this.disposed)return Promise.resolve(!1);let a,l,c;r?(a=r.resolve,l=r.reject,c=r.promise):c=new Promise((g,f)=>{a=g,l=f});const h=this.pendingTasks.add();return bG(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(g=>Promise.reject(g))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xT(t,n){const e="object"==typeof n;return new Promise((i,o)=>{const s=new ye({next:r=>{i(r),s.unsubscribe()},error:o,complete:()=>{e?i(n.defaultValue):o(new lg)}});t.subscribe(s)})}const jZe=Ii(t=>function(e=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function SG(t,n){const{first:e,each:i,with:o=ZZe,scheduler:s=n??e2,meta:r=null}=AP(t)?{first:t}:"number"==typeof t?{each:t}:t;if(null==e&&null==i)throw new TypeError("No timeout provided.");return uo((a,l)=>{let c,h,g=null,f=0;const v=C=>{h=Q1(l,s,()=>{try{c.unsubscribe(),Vo(o({meta:r,lastValue:g,seen:f})).subscribe(l)}catch(S){l.error(S)}},C)};c=a.subscribe($i(l,C=>{h?.unsubscribe(),f++,l.next(g=C),i>0&&v(i)},void 0,void 0,()=>{h?.closed||h?.unsubscribe(),g=null})),!f&&v(null!=e?"number"==typeof e?e:+e-s.now():i)})}function ZZe(t){throw new jZe(t)}const WZe=["*"];function EG(...t){return t.reduce((n,e)=>{e??={};const i=Object.keys(e);for(const o of i){const s=n[o],r=e[o];n[o]=OG(s)&&OG(r)?EG(s,r):r}return n},{})}function OG(t){return t instanceof Object&&t.constructor===Object}function AG(t,n=2){const e=t.getBoundingClientRect(),i=document.elementFromPoint(e.left,e.top),o=document.elementFromPoint(e.right,e.bottom),s=!!i&&i!==t&&!NG(i,t),r=!!o&&o!==t&&!NG(o,t);return 0===n?s:1===n?r:s||r}function NG(t,n){return t.contains(n)||n.contains(t)}function DG(t,n=2){const e=window.innerWidth,i=window.innerHeight,o=t.getBoundingClientRect(),s=o.left>=0&&o.right<=e,r=o.top>=0,a=o.bottom<=i;return 0===n?r&&s:1===n?a&&s:r&&a&&s}class W2{static getVisibleSection(n,e){return W2._isHeightOverflowing(n,e)?W2._getOverlap(n,e):n}static isHeightOverflowing(n,e){return W2._isHeightOverflowing(n instanceof HTMLElement?n.getBoundingClientRect():n,e instanceof HTMLElement?e.getBoundingClientRect():e)}static _isHeightOverflowing(n,e){return e.height<n.height}static _getOverlap(n,e){const i=Math.max(n.top,e.top),o=Math.max(n.left,e.left),s=Math.min(n.right,e.right),r=Math.min(n.bottom,e.bottom);return new DOMRect(o,i,s-o,r-i)}}function yG(t){if(!(t instanceof HTMLElement||t instanceof ShadowRoot))return null;const n=t instanceof ShadowRoot?t.host:t,e=getComputedStyle(n);return n.scrollHeight>n.clientHeight&&["scroll","auto"].includes(e.overflowY)?n:yG(n.parentNode)}class m4{static getScrollContainer(n,e){return"string"==typeof e?document.documentElement.querySelector(e):e instanceof HTMLElement?e:yG(n)}}let PG=(()=>{class t{constructor(){this.platformId=M(x0),this.isBrowser=G0(this.platformId),this.document=M(Un),this.window=this.document.defaultView}ensureVisible(e,i){this.scrollOptions=i,this.anchorEl=e;const o=i.smoothScroll&&this.isBrowser?"smooth":"auto",r=m4.getScrollContainer(e,this.scrollOptions.scrollContainer)??document.documentElement;if(W2.isHeightOverflowing(e,r))e.scrollIntoView({block:"start",inline:"start",behavior:o});else if(i.center&&!("safari"in this.window))e.scrollIntoView({block:"center",inline:"center",behavior:o});else if(!DG(e,1)||AG(e,1))e.scrollIntoView({block:"end",inline:"nearest",behavior:o});else{if(DG(e,0)&&!AG(e,0))return Promise.resolve();e.scrollIntoView({block:"start",inline:"nearest",behavior:o})}return"smooth"===o?xT(this.waitForScrollFinish$):Promise.resolve()}get waitForScrollFinish$(){return Nn(m4.getScrollContainer(this.anchorEl,this.scrollOptions.scrollContainer)??document,"scroll").pipe(SG({each:75,with:()=>Et(void 0)}),ra(50),bt(()=>{}))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XZe=(()=>{class t{constructor(){this.resizeElSubject=new Be,this.platformId=M(x0),this.isResizeObserverSupported=G0(this.platformId)&&!!ResizeObserver,this.document=M(Un),this.window=this.document.defaultView,this.resize$=J1(this.resizeElSubject,Nn(this.window,"resize")).pipe(ra(10))}observeElement(e){this.isResizeObserverSupported&&!this.resizeObserver&&(this.resizeObserver=new ResizeObserver(()=>this.resizeElSubject.next())),this.resizeObserver?.observe(e)}unobserveElement(e){this.resizeObserver?.unobserve(e)}disconnect(){this.resizeObserver?.disconnect(),this.resizeObserver=void 0}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KZe=(()=>{class t{constructor(){this.isSpotlightClosed=!1,this.rendererFactory=M(b1),this.renderer=this.rendererFactory.createRenderer(null,null),this.resizeObserverService=M(XZe),this.scrollingService=M(PG),this.document=M(Un)}show(e,i){this.targetHtmlElement&&this.resizeObserverService.unobserveElement(this.targetHtmlElement),this.targetHtmlElement=e.nativeElement,this.step=i,this.resizeObserverService.observeElement(this.targetHtmlElement),this.backdropElements||(this.backdropElements=this.createBackdropElements(),this.subscribeToResizeEvents()),this.isSpotlightClosed=!1,this.setBackdropPosition()}closeSpotlight(){if(!this.backdropElements)return;const e=this.targetHtmlElement.getBoundingClientRect(),i=e.left+e.width/2,o=e.top+e.height/2,s={top:o,right:i,bottom:o,left:i,width:0,height:0};this.isSpotlightClosed=!0,this.setBackdropPosition(s)}setBackdropPosition(e=null){const i=this.document.documentElement,o=m4.getScrollContainer(this.targetHtmlElement,this.step.scrollContainer)??i,s=e??this.targetHtmlElement.getBoundingClientRect(),r=o.getBoundingClientRect(),a=W2.getVisibleSection(s,r),l=i.scrollHeight,c=i.scrollWidth,h=this.document.defaultView,g=h.scrollX,f=h.scrollY,v=this.isSpotlightClosed?0:this.step.backdropConfig?.offset??0,L=[{width:a.left+g-v,height:l,top:0,left:0},{width:a.width+2*v,height:a.top+f-v,top:0,left:a.left+g-v},{width:a.width+2*v,height:l-(a.bottom+f)-v,top:a.bottom+f+v,left:a.left+g-v},{width:c-(a.right+g)-v,height:l,top:0,left:a.right+g+v}];for(let G=0;G<L.length;G++){const R=this.createBackdropStyles(L[G]);this.applyStyles(R,this.backdropElements[G])}}subscribeToResizeEvents(){this.resizeSubscription=this.resizeObserverService.resize$.subscribe(()=>{this.setBackdropPosition(),this.step.disableScrollToAnchor||this.scrollingService.ensureVisible(this.targetHtmlElement,{center:this.step.centerAnchorOnScroll,smoothScroll:!1})})}close(){this.backdropElements&&(this.resizeObserverService.unobserveElement(this.targetHtmlElement),this.removeBackdropElement(),this.resizeSubscription.unsubscribe())}disconnectResizeObserver(){this.resizeObserverService.disconnect()}removeBackdropElement(){this.backdropElements.forEach(e=>this.renderer.removeChild(this.parentContainer,e)),this.backdropElements=void 0}applyStyles(e,i){for(const o of Object.keys(e))this.renderer.setStyle(i,o,e[o])}createBackdropStyles(e){const i=this.step.backdropConfig,o={...e,width:Math.max(e.width,0),height:Math.max(e.height,0)};return{position:"absolute",width:`${o.width}px`,height:`${o.height}px`,top:`${o.top}px`,left:`${o.left}px`,backgroundColor:i?.backgroundColor??"rgba(0, 0, 0, 0.7)",zIndex:i?.zIndex??"101"}}createBackdropElement(){const e=this.renderer.createElement("div");return this.renderer.addClass(e,"ngx-ui-tour_backdrop"),this.renderer.appendChild(this.parentContainer,e),e}createBackdropElements(){return Array.from({length:4}).map(()=>this.createBackdropElement())}get parentContainer(){const e=this.step.backdropConfig?.parentContainer;return e instanceof HTMLElement?e:"string"==typeof e?this.document.documentElement.querySelector(e)??this.document.body:this.document.body}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qZe=(()=>{class t{constructor(){this.rendererFactory=M(b1),this.renderer=this.rendererFactory.createRenderer(null,null)}removeListener(){this.unListenToAnchorClickFn&&(this.unListenToAnchorClickFn(),this.unListenToAnchorClickFn=void 0)}addListener(e,i){this.unListenToAnchorClickFn=this.renderer.listen(e,"click",i)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YZe=(()=>{class t{constructor(){this.isEnabled=!1,this.platformId=M(x0),this.isBrowser=G0(this.platformId),this.rendererFactory=M(b1),this.renderer=this.rendererFactory.createRenderer(null,null)}enable(e){!this.isBrowser||this.isEnabled||(this.userScrollContainer=e,this.toggleOverflow(),this.isEnabled=!0)}disable(){this.isEnabled&&(this.toggleOverflow(),this.isEnabled=!1)}toggleOverflow(){const e=m4.getScrollContainer(null,this.userScrollContainer)??document.documentElement;this.isEnabled?this.renderer.removeStyle(e,"overflow"):this.renderer.setStyle(e,"overflow","hidden")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Fa=function(t){return t[t.OFF=0]="OFF",t[t.ON=1]="ON",t[t.PAUSED=2]="PAUSED",t}(Fa||{}),X2=function(t){return t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t}(X2||{});const QZe={disableScrollToAnchor:!1,prevBtnTitle:"Prev",nextBtnTitle:"Next",endBtnTitle:"End",enableBackdrop:!1,isAsync:!1,isOptional:!1,delayAfterNavigation:100,delayBeforeStepShow:0,nextOnAnchorClick:!1,duplicateAnchorHandling:"error",centerAnchorOnScroll:!0,disablePageScrolling:!0,smoothScroll:!0,allowUserInitiatedNavigation:!1,stepDimensions:{minWidth:"250px",maxWidth:"280px",width:"auto"},showProgress:!0};let IG=(()=>{class t{constructor(){this.stepShow$=new Be,this.stepHide$=new Be,this.initialize$=new Be,this.start$=new Be,this.end$=new Be,this.pause$=new Be,this.resume$=new Be,this.anchorRegister$=new Be,this.anchorUnregister$=new Be,this.events$=J1(this.stepShow$.pipe(bt(e=>({name:"stepShow",value:e}))),this.stepHide$.pipe(bt(e=>({name:"stepHide",value:e}))),this.initialize$.pipe(bt(e=>({name:"initialize",value:e}))),this.start$.pipe(bt(e=>({name:"start",value:e}))),this.end$.pipe(bt(e=>({name:"end",value:e}))),this.pause$.pipe(bt(e=>({name:"pause",value:e}))),this.resume$.pipe(bt(e=>({name:"resume",value:e}))),this.anchorRegister$.pipe(bt(e=>({name:"anchorRegister",value:e}))),this.anchorUnregister$.pipe(bt(e=>({name:"anchorUnregister",value:e})))),this.steps=[],this.anchors={},this.status=Fa.OFF,this.isHotKeysEnabled=!0,this.direction=X2.Forwards,this.waitingForScroll=!1,this.navigationStarted=!1,this.router=M(ts),this.backdrop=M(KZe),this.anchorClickService=M(qZe),this.scrollBlockingService=M(YZe),this.scrollingService=M(PG)}initialize(e,i){this.status!==Fa.ON?e&&e.length>0&&(this.status=Fa.OFF,this.steps=e.map(o=>EG(QZe,this.userDefaults,i,o)),this.validateSteps(),this.initialize$.next(this.steps),this.subscribeToNavigationStartEvent()):console.warn("Can not re-initialize the UI tour while it's still active")}setDefaults(e){this.userDefaults=e}getDefaults(){return this.userDefaults}validateSteps(){for(const e of this.steps)if(e.isAsync&&e.isOptional&&!e.asyncStepTimeout)throw new Error(`Tour step with anchor id "${e.anchorId}" can only be both "async" and "optional" when "asyncStepTimeout" is specified!`)}subscribeToNavigationStartEvent(){this.router.events.pipe(ii(e=>e instanceof vg),me(this.end$)).subscribe(e=>{this.currentStep&&!this.navigationStarted&&("popstate"===e.navigationTrigger||!this.currentStep.allowUserInitiatedNavigation)&&this.end()})}disableHotkeys(){this.isHotKeysEnabled=!1}enableHotkeys(){this.isHotKeysEnabled=!0}start(){this.status!==Fa.ON?this.startAt(0):console.warn("tourService.start() called while the tour is already running.")}startAt(e){this.status=Fa.ON,this.goToStep(this.loadStep(e)),this.start$.next()}end(){this.waitingForScroll||this.status!==Fa.OFF&&(this.status=Fa.OFF,this.disableTour(),this.currentStep=void 0,this.direction=X2.Forwards,this.end$.next())}pause(){this.status=Fa.PAUSED,this.disableTour(),this.pause$.next()}disableTour(){this.hideStep(this.currentStep),this.anchorClickService.removeListener(),this.backdrop.close(),this.backdrop.disconnectResizeObserver(),this.scrollBlockingService.disable()}resume(){this.status=Fa.ON,this.showStep(this.currentStep),this.resume$.next()}toggle(e){e?this.currentStep?this.pause():this.resume():this.currentStep?this.end():this.start()}next(){this.waitingForScroll||(this.direction=X2.Forwards,this.hasNext(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.nextStep??this.getStepIndex(this.currentStep)+1)))}getStepIndex(e){const i=this.steps.indexOf(e);return i<0?0:i}hasNext(e){return e?void 0!==e.nextStep||this.getStepIndex(e)<this.steps.length-1&&!this.isNextOptionalAnchorMissing(e):(console.warn("Can't get next step. No currentStep."),!1)}isNextOptionalAnchorMissing(e){for(let o=this.getStepIndex(e)+1;o<this.steps.length;o++){const s=this.steps[o];if(!s.isOptional||this.anchors[s.anchorId])return!1}return!0}prev(){this.waitingForScroll||(this.direction=X2.Backwards,this.hasPrev(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.prevStep??this.getStepIndex(this.currentStep)-1)))}hasPrev(e){return e?void 0!==e.prevStep||this.getStepIndex(e)>0&&!this.isPrevOptionalAnchorMising(e):(console.warn("Can't get previous step. No currentStep."),!1)}isPrevOptionalAnchorMising(e){for(let o=this.getStepIndex(e)-1;o>-1;o--){const s=this.steps[o];if(!s.isOptional||this.anchors[s.anchorId])return!1}return!0}goto(e){this.goToStep(this.loadStep(e))}register(e,i){if(e){if(this.anchors[e])switch(this.findStepByAnchorId(e)?.duplicateAnchorHandling??this.userDefaults?.duplicateAnchorHandling??"error"){case"error":throw new Error(`Tour anchor with id "${e}" already registered!`);case"registerFirst":return}this.anchors[e]=i,this.anchorRegister$.next(e)}}findStepByAnchorId(e){return this.steps.find(i=>i.anchorId===e)}unregister(e){e&&(delete this.anchors[e],this.anchorUnregister$.next(e))}getStatus(){return this.status}isHotkeysEnabled(){return this.isHotKeysEnabled}goToStep(e){if(!e)return console.warn("Can't go to non-existent step"),void this.end();this.currentStep&&(this.backdrop.closeSpotlight(),this.hideStep(this.currentStep)),this.anchorClickService.removeListener(),null!=e.route?this.navigateToRouteAndSetStep(e):this.setCurrentStepAsync(e)}listenToOnAnchorClick(e){e.nextOnAnchorClick&&this.anchorClickService.addListener(this.anchors[e.anchorId].element.nativeElement,()=>this.next())}navigateToRouteAndSetStep(e){var i=this;return je(function*(){const o="string"==typeof e.route?e.route:i.router.createUrlTree(e.route);if(i.router.isActive(o,{paths:"exact",matrixParams:"exact",queryParams:"subset",fragment:"exact"}))return void i.setCurrentStepAsync(e);i.navigationStarted=!0;const a=yield i.router.navigateByUrl(o);i.navigationStarted=!1,a?i.setCurrentStepAsync(e,e.delayAfterNavigation):(console.warn("Navigation to route failed: ",e.route),i.end())})()}loadStep(e){return"number"==typeof e?this.steps[e]:this.steps.find(i=>i.stepId===e)}setCurrentStep(e){this.currentStep=e,this.showStep(this.currentStep)}setCurrentStepAsync(e,i=0){i=i||e.delayBeforeStepShow,setTimeout(()=>this.setCurrentStep(e),i)}showStep(e){var i=this;return je(function*(o,s=!1){const r=i.anchors[o&&o.anchorId];if(!r){if(o.isAsync&&!s){let a=i.anchorRegister$.pipe(ii(l=>l===o.anchorId),ut(),n0(0));return o.asyncStepTimeout&&(a=a.pipe(SG({each:o.asyncStepTimeout,with:()=>Et(null)}))),void a.subscribe(()=>i.showStep(o,!0))}return o.isOptional?void i[i.direction===X2.Forwards?"next":"prev"]():(console.warn(`Can't attach to unregistered anchor with id "${o.anchorId}"`),void i.end())}i.listenToOnAnchorClick(o),i.waitingForScroll=!0,yield i.scrollToAnchor(o),i.waitingForScroll=!1,r.showTourStep(o),i.toggleBackdrop(o),i.togglePageScrolling(o),i.stepShow$.next({step:o,direction:i.direction})}).apply(this,arguments)}hideStep(e){const i=this.anchors[e&&e.anchorId];i&&(i.hideTourStep(),this.stepHide$.next({step:e,direction:this.direction}))}scrollToAnchor(e){return e.disableScrollToAnchor?Promise.resolve():this.scrollingService.ensureVisible(this.anchors[e?.anchorId].element.nativeElement,{center:e.centerAnchorOnScroll,smoothScroll:e.smoothScroll,scrollContainer:e.scrollContainer})}toggleBackdrop(e){e.enableBackdrop?this.backdrop.show(this.anchors[e?.anchorId].element,e):this.backdrop.close()}togglePageScrolling(e){e.disablePageScrolling?this.scrollBlockingService.enable(e.scrollContainer):this.scrollBlockingService.disable()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JZe=(()=>{class t{constructor(){this.tourService=M(IG)}onEscapeKey(){this.tourService.getStatus()===Fa.ON&&this.tourService.isHotkeysEnabled()&&this.tourService.end()}onArrowRightKey(){const e=this.tourService.currentStep;this.tourService.getStatus()===Fa.ON&&this.tourService.hasNext(this.tourService.currentStep)&&this.tourService.isHotkeysEnabled()&&!e?.nextOnAnchorClick&&this.tourService.next()}onArrowLeftKey(){this.tourService.getStatus()===Fa.ON&&this.tourService.hasPrev(this.tourService.currentStep)&&this.tourService.isHotkeysEnabled()&&this.tourService.prev()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["tour-hotkey-listener"]],hostBindings:function(i,o){1&i&&E("keydown.Escape",function(){return o.onEscapeKey()},K1)("keydown.ArrowRight",function(){return o.onArrowRightKey()},K1)("keydown.ArrowLeft",function(){return o.onArrowLeftKey()},K1)},ngContentSelectors:WZe,decls:1,vars:0,template:function(i,o){1&i&&(or(),sr(0))},encapsulation:2,changeDetection:0})}return t})();function tWe(t,n){if(1&t){const e=k();Hn(0,"div",1)(1,"h5"),N(2),Jn(),Hn(3,"button",10),Yr("click",function(){return T(e),w(p().tourService.end())}),Jn()()}if(2&t){p();const e=Iu(0);_(2),oe(null==e?null:e.title)}}function nWe(t,n){if(1&t&&(Hn(0,"div",7),N(1),Jn()),2&t){const e=p(),i=Iu(0);_(),Jr("",e.tourService.steps.indexOf(i)+1," / ",e.tourService.steps.length)}}function iWe(t,n){if(1&t){const e=k();Hn(0,"button",11),Yr("click",function(){return T(e),w(p().tourService.next())}),N(1),xh(),Hn(2,"svg",5),Kr(3,"path",12),Jn()()}if(2&t){p();const e=Iu(0);_(),He(" ",null==e?null:e.nextBtnTitle," ")}}function oWe(t,n){if(1&t){const e=k();Hn(0,"button",13),Yr("click",function(){return T(e),w(p().tourService.end())}),N(1),Jn()}if(2&t){p();const e=Iu(0);_(),He(" ",null==e?null:e.endBtnTitle," ")}}const sWe=["tourStep"];function rWe(t,n){1&t&&O(0,"tour-default-step-template",1),2&t&&m("step",n.step)}let K2=(()=>{class t extends IG{static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),LG=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),q2=(()=>{class t{constructor(){this.isActive=Ur(!1),this.element=M(fn),this.tourService=M(K2),this.tourStepTemplate=M(LG),this.popoverDirective=M(Aa,{host:!0}),this.popoverDirective.autoClose=!1,this.popoverDirective.triggers="",this.popoverDirective.toggle=()=>{}}ngOnInit(){this.tourService.register(this.tourAnchor,this)}ngOnDestroy(){this.tourService.unregister(this.tourAnchor)}showTourStep(e){var i=this;return je(function*(){i.popoverDirective.isOpen()&&(yield xT(i.popoverDirective.hidden)),i.isActive.set(!0),i.popoverDirective.ngbPopover=i.tourStepTemplate.template,e.useLegacyTitle&&(i.popoverDirective.popoverTitle=e.title),i.popoverDirective.container="body",i.popoverDirective.popoverClass=`tour-step ${e.popoverClass??""}`,i.popoverDirective.placement=(e.placement||"auto").replace("before","left").replace("after","right").replace("below","bottom").replace("above","top");const s=e.backdropConfig?.offset;s&&(i.popoverDirective.popperOptions=r=>i.setOffsetModifier(r,s)),i.popoverDirective.positionTarget=i.element.nativeElement,i.popoverDirective.open({step:e})})()}setOffsetModifier(e,i){const o=e.modifiers?.find(r=>"offset"===r.name&&r.options);return o&&(o.options.offset=[0,i+10]),e}hideTourStep(){this.isActive.set(!1),this.popoverDirective.close()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","tourAnchor",""]],hostVars:2,hostBindings:function(i,o){2&i&&we("touranchor--is-active",o.isActive())},inputs:{tourAnchor:"tourAnchor"},features:[mu([Aa])]})}return t})(),aWe=(()=>{class t{constructor(){this.step=n3.required(),this.tourService=M(K2)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["tour-default-step-template"]],inputs:{step:[1,"step"]},decls:12,vars:16,consts:[[1,"main-container"],[1,"title-container"],[1,"card-text",3,"innerHTML"],[1,"buttons"],[1,"btn","btn-sm","btn-outline-secondary","prev",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16"],["d","M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"],[1,"progress"],[1,"btn","btn-sm","btn-outline-primary","next"],[1,"btn","btn-sm","btn-outline-primary"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"btn","btn-sm","btn-outline-primary","next",3,"click"],["d","M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(i,o){if(1&i){const s=k();Pv(0),Hn(1,"div",0),y(2,tWe,4,1,"div",1),Kr(3,"p",2),Hn(4,"div",3)(5,"button",4),Yr("click",function(){return T(s),w(o.tourService.prev())}),xh(),Hn(6,"svg",5),Kr(7,"path",6),Jn(),N(8),Jn(),y(9,nWe,2,2,"div",7),y(10,iWe,4,1,"button",8),y(11,oWe,2,1,"button",9),Jn()()}if(2&i){const s=function py(t){return $s("NgLet"),U8(On(),Ue(),Hs(),t),t}(o.step());_(),Qr("width",null==s.stepDimensions?null:s.stepDimensions.width)("min-width",null==s.stepDimensions?null:s.stepDimensions.minWidth)("max-width",null==s.stepDimensions?null:s.stepDimensions.maxWidth),_(),P(null!=s&&s.useLegacyTitle||null==s||!s.title?-1:2),_(),zi("innerHTML",null==s?null:s.content,Fo),_(),we("no-progress",!s.showProgress),_(),zi("disabled",!o.tourService.hasPrev(s)),_(3),He(" ",null==s?null:s.prevBtnTitle," "),_(),P(s.showProgress?9:-1),_(),P(o.tourService.hasNext(s)&&!s.nextOnAnchorClick?10:-1),_(),P(o.tourService.hasNext(s)?-1:11)}},styles:[".main-container[_ngcontent-%COMP%]{padding:.5rem 1rem .75rem}.title-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem;gap:.25rem}.title-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0;line-height:1.5}.buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:8px}.buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:fit-content}.buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{justify-self:flex-end}.buttons[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00000073;white-space:nowrap}.buttons.no-progress[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.buttons[_ngcontent-%COMP%]   .btn.prev[_ngcontent-%COMP%]{padding-left:.25rem}.buttons[_ngcontent-%COMP%]   .btn.next[_ngcontent-%COMP%]{padding-right:.25rem}"],changeDetection:0})}return t})(),RG=(()=>{class t extends JZe{constructor(){super(...arguments),this.tourStepTemplateService=M(LG),this.tourService=M(K2)}ngAfterContentInit(){this.tourStepTemplateService.template=this.stepTemplate||this.stepTemplateContent||this.defaultTourStepTemplate}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["tour-step-template"]],contentQueries:function(i,o,s){if(1&i&&ui(s,dn,5),2&i){let r;Mt(r=Tt())&&(o.stepTemplateContent=r.first)}},viewQuery:function(i,o){if(1&i&&Tn(sWe,7,dn),2&i){let s;Mt(s=Tt())&&(o.defaultTourStepTemplate=s.first)}},inputs:{stepTemplate:"stepTemplate"},features:[at],decls:2,vars:0,consts:[["tourStep",""],[3,"step"]],template:function(i,o){1&i&&ce(0,rWe,1,1,"ng-template",null,0,xt)},dependencies:[aWe],styles:[".tour-step .popover-body{padding:0}"],changeDetection:0})}return t})(),Y2=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({})}return t})(),u1=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ur(null);get href(){return so(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Be;applicationErrorHandler=M(M1);options=M(Z2,{optional:!0});constructor(e,i,o,s,r,a){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=r,this.locationStrategy=a,this.reactiveHref.set(M(new ane("href"),{optional:!0}));const l=r.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l||!("object"!=typeof customElements||!customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(void 0!==this.subscription||!this.isAnchorElement)return;let e=this.preserveFragment;const i=o=>"merge"===o||"preserve"===o;e||=i(this.queryParamsHandling),e||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(o=>{o instanceof il&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){null==e?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=O5(e)||Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,o,s,r){const a=this.urlTree;if(null===a||this.isAnchorElement&&(0!==e||i||o||s||r||"string"==typeof this.target&&"_self"!=this.target))return!0;const l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.reactiveHref.set(null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,e,i):o.removeAttribute(s,e)}get urlTree(){return null===this.routerLinkInput?null:O5(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||t)(Ve(ts),Ve(V1),T1("tabindex"),Ve(S1),Ve(fn),Ve(Dl))};static \u0275dir=Je({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,o){1&i&&E("click",function(r){return o.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&i&&Vn("href",o.reactiveHref(),eO)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",yi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",yi],replaceUrl:[2,"replaceUrl","replaceUrl",yi],routerLink:"routerLink"},features:[Di]})}return t})(),xG=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ee;constructor(e,i,o,s,r){this.router=e,this.element=i,this.renderer=o,this.cdr=s,this.link=r,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof il&&this.update()})}ngAfterContentInit(){Et(this.links.changes,Et(null)).pipe(n2()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Oo(e).pipe(n2()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function lWe(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{const s=o.urlTree;return!!s&&e.isActive(s,i)}}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||t)(Ve(ts),Ve(fn),Ve(S1),Ve(Yo),Ve(u1,8))};static \u0275dir=Je({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(1&i&&ui(s,u1,5),2&i){let r;Mt(r=Tt())&&(o.links=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Di]})}return t})();class FG{}let cWe=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ii(e=>e instanceof il),d2(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=Ef(s.providers,e,`Route: ${s.path}`));const r=s._injector??e,a=s._loadedInjector??r;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(r,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Oo(o).pipe(n2())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Et(null);const s=o.pipe(bs(r=>null===r?Et(void 0):(i._loadedRoutes=r.routes,i._loadedInjector=r.injector,this.processRoutes(r.injector??e,r.routes))));return i.loadComponent&&!i._loadedComponent?Oo([s,this.loader.loadComponent(e,i)]).pipe(n2()):s})}static \u0275fac=function(i){return new(i||t)(Zt(ts),Zt(cs),Zt(FG),Zt(IT))};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const FT=new Qe("");let kG=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=mg;restoredId=0;store={};constructor(e,i,o,s,r={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=r,r.scrollPositionRestoration||="disabled",r.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof il?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof H2&&e.code===r4.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof KH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){var o=this;this.zone.runOutsideAngular(je(function*(){yield new Promise(s=>{setTimeout(s),typeof requestAnimationFrame<"u"&&requestAnimationFrame(s)}),o.zone.run(()=>{o.transitions.events.next(new KH(e,"popstate"===o.lastSource?o.store[o.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){!function mA(){throw new Error("invalid")}()};static \u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();function g0(t,n){return{\u0275kind:t,\u0275providers:n}}function VG(){const t=M(Fi);return n=>{const e=t.get(Ja);if(n!==e.components[0])return;const i=t.get(ts),o=t.get(HG);1===t.get(kT)&&i.initialNavigation(),t.get(GG,null,{optional:!0})?.setUpPreloading(),t.get(FT,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const HG=new Qe("",{factory:()=>new Be}),kT=new Qe("",{providedIn:"root",factory:()=>1}),GG=new Qe("");function _We(t){return g0(0,[{provide:GG,useExisting:cWe},{provide:FG,useExisting:t}])}function pWe(t){return $s("NgRouterViewTransitions"),g0(9,[{provide:CG,useValue:xZe},{provide:MG,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const fWe=[Qu,{provide:_g,useClass:e4},ts,Cg,{provide:V1,useFactory:function zG(t){return t.routerState.root},deps:[ts]},IT,[]];let _1=(()=>{class t{constructor(){}static forRoot(e,i){return{ngModule:t,providers:[fWe,[],{provide:f4,multi:!0,useValue:e},[],i?.errorHandler?{provide:TG,useValue:i.errorHandler}:[],{provide:Z2,useValue:i||{}},i?.useHash?{provide:Dl,useClass:Use}:{provide:Dl,useClass:$I},{provide:FT,useFactory:()=>{const t=M(KP),n=M(un),e=M(Z2),i=M(RT),o=M(_g);return e.scrollOffset&&t.setOffset(e.scrollOffset),new kG(o,i,t,n,e)}},i?.preloadingStrategy?_We(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?MWe(i):[],i?.bindToComponentInputs?g0(8,[nG,{provide:h4,useExisting:nG}]).\u0275providers:[],i?.enableViewTransitions?pWe().\u0275providers:[],[{provide:$G,useFactory:VG},{provide:XN,multi:!0,useExisting:$G}]]}}static forChild(e){return{ngModule:t,providers:[{provide:f4,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({})}return t})();function MWe(t){return["disabled"===t.initialNavigation?g0(3,[ZN(()=>{M(ts).setUpLocationChangeListener()}),{provide:kT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?g0(2,[{provide:jZ,useValue:!0},{provide:kT,useValue:0},ZN(()=>{const n=M(Fi);return n.get(Vse,Promise.resolve()).then(()=>new Promise(i=>{const o=n.get(ts),s=n.get(HG);bG(o,()=>{i(!0)}),n.get(RT).afterPreactivation=()=>(i(!0),s.closed?Et(void 0):s),o.initialNavigation()}))})]).\u0275providers:[]]}const $G=new Qe("");class BG extends Be{constructor(n=1/0,e=1/0,i=Jv){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:r}=this;e||(i.push(n),!o&&i.push(s.now()+r)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:o}=this,s=o.slice();for(let r=0;r<s.length&&!n.closed;r+=i?1:2)n.next(s[r]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,s=(o?1:2)*n;if(n<1/0&&s<i.length&&i.splice(0,i.length-s),!o){const r=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=r;l+=2)a=l;a&&i.splice(0,a+1)}}}function zT(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new ye({next:()=>{i.unsubscribe(),t()}});return Vo(n(...e)).subscribe(i)}const UG=function SWe(t,n){for(var e=-1,i=null==t?0:t.length,o=Array(i);++e<i;)o[e]=n(t[e],e,t);return o},jG=function AWe(t,n){return t===n||t!=t&&n!=n},v4=function NWe(t,n){for(var e=t.length;e--;)if(jG(t[e][0],n))return e;return-1};var yWe=Array.prototype.splice;function Q2(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}Q2.prototype.clear=function EWe(){this.__data__=[],this.size=0},Q2.prototype.delete=function PWe(t){var n=this.__data__,e=v4(n,t);return!(e<0||(e==n.length-1?n.pop():yWe.call(n,e,1),--this.size,0))},Q2.prototype.get=function LWe(t){var n=this.__data__,e=v4(n,t);return e<0?void 0:n[e][1]},Q2.prototype.has=function xWe(t){return v4(this.__data__,t)>-1},Q2.prototype.set=function kWe(t,n){var e=this.__data__,i=v4(e,t);return i<0?(++this.size,e.push([t,n])):e[i][1]=n,this};const C4=Q2,ZG="object"==typeof global&&global&&global.Object===Object&&global;var XWe="object"==typeof self&&self&&self.Object===Object&&self;const p0=ZG||XWe||Function("return this")(),f0=p0.Symbol;var WG=Object.prototype,YWe=WG.hasOwnProperty,QWe=WG.toString,Sg=f0?f0.toStringTag:void 0;var nXe=Object.prototype.toString;var XG=f0?f0.toStringTag:void 0;const N5=function aXe(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":XG&&XG in Object(t)?function JWe(t){var n=YWe.call(t,Sg),e=t[Sg];try{t[Sg]=void 0;var i=!0}catch{}var o=QWe.call(t);return i&&(n?t[Sg]=e:delete t[Sg]),o}(t):function iXe(t){return nXe.call(t)}(t)},Eg=function lXe(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},KG=function _Xe(t){if(!Eg(t))return!1;var n=N5(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n};var t,gXe=p0["__core-js_shared__"],qG=(t=/[^.]+$/.exec(gXe&&gXe.keys&&gXe.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var vXe=Function.prototype.toString;const D5=function CXe(t){if(null!=t){try{return vXe.call(t)}catch{}try{return t+""}catch{}}return""};var TXe=/^\[object .+?Constructor\]$/,OXe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const NXe=function AXe(t){return!(!Eg(t)||function pXe(t){return!!qG&&qG in t}(t))&&(KG(t)?OXe:TXe).test(D5(t))},y5=function PXe(t,n){var e=function DXe(t,n){return t?.[n]}(t,n);return NXe(e)?e:void 0},Og=y5(p0,"Map"),Ag=y5(Object,"create");var HXe=Object.prototype.hasOwnProperty;var UXe=Object.prototype.hasOwnProperty;function J2(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}J2.prototype.clear=function RXe(){this.__data__=Ag?Ag(null):{},this.size=0},J2.prototype.delete=function FXe(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},J2.prototype.get=function GXe(t){var n=this.__data__;if(Ag){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return HXe.call(n,t)?n[t]:void 0},J2.prototype.has=function jXe(t){var n=this.__data__;return Ag?void 0!==n[t]:UXe.call(n,t)},J2.prototype.set=function XXe(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Ag&&void 0===n?"__lodash_hash_undefined__":n,this};const YG=J2,M4=function eKe(t,n){var e=t.__data__;return function QXe(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?e["string"==typeof n?"string":"hash"]:e.map};function eh(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}eh.prototype.clear=function qXe(){this.size=0,this.__data__={hash:new YG,map:new(Og||C4),string:new YG}},eh.prototype.delete=function tKe(t){var n=M4(this,t).delete(t);return this.size-=n?1:0,n},eh.prototype.get=function iKe(t){return M4(this,t).get(t)},eh.prototype.has=function sKe(t){return M4(this,t).has(t)},eh.prototype.set=function aKe(t,n){var e=M4(this,t),i=e.size;return e.set(t,n),this.size+=e.size==i?0:1,this};const HT=eh;function th(t){var n=this.__data__=new C4(t);this.size=n.size}th.prototype.clear=function VWe(){this.__data__=new C4,this.size=0},th.prototype.delete=function GWe(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},th.prototype.get=function BWe(t){return this.__data__.get(t)},th.prototype.has=function jWe(t){return this.__data__.has(t)},th.prototype.set=function dKe(t,n){var e=this.__data__;if(e instanceof C4){var i=e.__data__;if(!Og||i.length<199)return i.push([t,n]),this.size=++e.size,this;e=this.__data__=new HT(i)}return e.set(t,n),this.size=e.size,this};const uKe=th;var pKe=function(){try{var t=y5(Object,"defineProperty");return t({},"",{}),t}catch{}}();const T4=pKe,QG=function fKe(t,n,e){"__proto__"==n&&T4?T4(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e};var vKe=Object.prototype.hasOwnProperty;const JG=function CKe(t,n,e){var i=t[n];(!vKe.call(t,n)||!jG(i,e)||void 0===e&&!(n in t))&&QG(t,n,e)},Ng=function MKe(t,n,e,i){var o=!e;e||(e={});for(var s=-1,r=n.length;++s<r;){var a=n[s],l=i?i(e[a],t[a],a,e,t):void 0;void 0===l&&(l=t[a]),o?QG(e,a,l):JG(e,a,l)}return e},P5=function bKe(t){return null!=t&&"object"==typeof t},e$=function EKe(t){return P5(t)&&"[object Arguments]"==N5(t)};var t$=Object.prototype,OKe=t$.hasOwnProperty,AKe=t$.propertyIsEnumerable,NKe=e$(function(){return arguments}())?e$:function(t){return P5(t)&&OKe.call(t,"callee")&&!AKe.call(t,"callee")};const n$=NKe,I5=Array.isArray;var i$="object"==typeof exports&&exports&&!exports.nodeType&&exports,o$=i$&&"object"==typeof module&&module&&!module.nodeType&&module,s$=o$&&o$.exports===i$?p0.Buffer:void 0;const r$=(s$?s$.isBuffer:void 0)||function yKe(){return!1};var FKe=/^(?:0|[1-9]\d*)$/;const zKe=function kKe(t,n){var e=typeof t;return!!(n=n??9007199254740991)&&("number"==e||"symbol"!=e&&FKe.test(t))&&t>-1&&t%1==0&&t<n},a$=function HKe(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var fo={};fo["[object Float32Array]"]=fo["[object Float64Array]"]=fo["[object Int8Array]"]=fo["[object Int16Array]"]=fo["[object Int32Array]"]=fo["[object Uint8Array]"]=fo["[object Uint8ClampedArray]"]=fo["[object Uint16Array]"]=fo["[object Uint32Array]"]=!0,fo["[object Arguments]"]=fo["[object Array]"]=fo["[object ArrayBuffer]"]=fo["[object Boolean]"]=fo["[object DataView]"]=fo["[object Date]"]=fo["[object Error]"]=fo["[object Function]"]=fo["[object Map]"]=fo["[object Number]"]=fo["[object Object]"]=fo["[object RegExp]"]=fo["[object Set]"]=fo["[object String]"]=fo["[object WeakMap]"]=!1;const GT=function _qe(t){return function(n){return t(n)}};var l$="object"==typeof exports&&exports&&!exports.nodeType&&exports,Dg=l$&&"object"==typeof module&&module&&!module.nodeType&&module,$T=Dg&&Dg.exports===l$&&ZG.process;const nh=function(){try{return Dg&&Dg.require&&Dg.require("util").types||$T&&$T.binding&&$T.binding("util")}catch{}}();var c$=nh&&nh.isTypedArray;const mqe=c$?GT(c$):function hqe(t){return P5(t)&&a$(t.length)&&!!fo[N5(t)]};var Cqe=Object.prototype.hasOwnProperty;const d$=function Mqe(t,n){var e=I5(t),i=!e&&n$(t),o=!e&&!i&&r$(t),s=!e&&!i&&!o&&mqe(t),r=e||i||o||s,a=r?function TKe(t,n){for(var e=-1,i=Array(t);++e<t;)i[e]=n(e);return i}(t.length,String):[],l=a.length;for(var c in t)(n||Cqe.call(t,c))&&(!r||!("length"==c||o&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zKe(c,l)))&&a.push(c);return a};var Tqe=Object.prototype;const BT=function wqe(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Tqe)},h$=function bqe(t,n){return function(e){return t(n(e))}},Eqe=h$(Object.keys,Object);var Aqe=Object.prototype.hasOwnProperty;const u$=function yqe(t){return null!=t&&a$(t.length)&&!KG(t)},UT=function Pqe(t){return u$(t)?d$(t):function Nqe(t){if(!BT(t))return Eqe(t);var n=[];for(var e in Object(t))Aqe.call(t,e)&&"constructor"!=e&&n.push(e);return n}(t)};var kqe=Object.prototype.hasOwnProperty;const Vqe=function zqe(t){if(!Eg(t))return function Rqe(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}(t);var n=BT(t),e=[];for(var i in t)"constructor"==i&&(n||!kqe.call(t,i))||e.push(i);return e},jT=function Hqe(t){return u$(t)?d$(t,!0):Vqe(t)};var _$="object"==typeof exports&&exports&&!exports.nodeType&&exports,g$=_$&&"object"==typeof module&&module&&!module.nodeType&&module,p$=g$&&g$.exports===_$?p0.Buffer:void 0,f$=p$?p$.allocUnsafe:void 0;const m$=function qqe(){return[]};var Qqe=Object.prototype.propertyIsEnumerable,v$=Object.getOwnPropertySymbols,Jqe=v$?function(t){return null==t?[]:(t=Object(t),function Xqe(t,n){for(var e=-1,i=null==t?0:t.length,o=0,s=[];++e<i;){var r=t[e];n(r,e,t)&&(s[o++]=r)}return s}(v$(t),function(n){return Qqe.call(t,n)}))}:m$;const ZT=Jqe,WT=function nYe(t,n){for(var e=-1,i=n.length,o=t.length;++e<i;)t[o+e]=n[e];return t},XT=h$(Object.getPrototypeOf,Object);var sYe=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)WT(n,ZT(t)),t=XT(t);return n}:m$;const C$=sYe,M$=function lYe(t,n,e){var i=n(t);return I5(t)?i:WT(i,e(t))},dYe=function cYe(t){return M$(t,UT,ZT)},T$=function hYe(t){return M$(t,jT,C$)},KT=y5(p0,"DataView"),qT=y5(p0,"Promise"),YT=y5(p0,"Set"),QT=y5(p0,"WeakMap");var w$="[object Map]",b$="[object Promise]",S$="[object Set]",E$="[object WeakMap]",O$="[object DataView]",mYe=D5(KT),vYe=D5(Og),CYe=D5(qT),MYe=D5(YT),TYe=D5(QT),L5=N5;(KT&&L5(new KT(new ArrayBuffer(1)))!=O$||Og&&L5(new Og)!=w$||qT&&L5(qT.resolve())!=b$||YT&&L5(new YT)!=S$||QT&&L5(new QT)!=E$)&&(L5=function(t){var n=N5(t),e="[object Object]"==n?t.constructor:void 0,i=e?D5(e):"";if(i)switch(i){case mYe:return O$;case vYe:return w$;case CYe:return b$;case MYe:return S$;case TYe:return E$}return n});const JT=L5;var bYe=Object.prototype.hasOwnProperty;const A$=p0.Uint8Array,ew=function AYe(t){var n=new t.constructor(t.byteLength);return new A$(n).set(new A$(t)),n};var yYe=/\w*$/;var N$=f0?f0.prototype:void 0,D$=N$?N$.valueOf:void 0;const iQe=function nQe(t,n,e){var i=t.constructor;switch(n){case"[object ArrayBuffer]":return ew(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function NYe(t,n){var e=n?ew(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function xYe(t,n){var e=n?ew(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function PYe(t){var n=new t.constructor(t.source,yYe.exec(t));return n.lastIndex=t.lastIndex,n}(t);case"[object Symbol]":return function LYe(t){return D$?Object(D$.call(t)):{}}(t)}};var y$=Object.create,oQe=function(){function t(){}return function(n){if(!Eg(n))return{};if(y$)return y$(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();const sQe=oQe;var P$=nh&&nh.isMap;const uQe=P$?GT(P$):function cQe(t){return P5(t)&&"[object Map]"==JT(t)};var I$=nh&&nh.isSet;const mQe=I$?GT(I$):function gQe(t){return P5(t)&&"[object Set]"==JT(t)};var L$="[object Arguments]",R$="[object Function]",x$="[object Object]",lo={};lo[L$]=lo["[object Array]"]=lo["[object ArrayBuffer]"]=lo["[object DataView]"]=lo["[object Boolean]"]=lo["[object Date]"]=lo["[object Float32Array]"]=lo["[object Float64Array]"]=lo["[object Int8Array]"]=lo["[object Int16Array]"]=lo["[object Int32Array]"]=lo["[object Map]"]=lo["[object Number]"]=lo[x$]=lo["[object RegExp]"]=lo["[object Set]"]=lo["[object String]"]=lo["[object Symbol]"]=lo["[object Uint8Array]"]=lo["[object Uint8ClampedArray]"]=lo["[object Uint16Array]"]=lo["[object Uint32Array]"]=!0,lo["[object Error]"]=lo[R$]=lo["[object WeakMap]"]=!1;const UQe=function w4(t,n,e,i,o,s){var r,a=1&n,l=2&n,c=4&n;if(e&&(r=o?e(t,i,o,s):e(t)),void 0!==r)return r;if(!Eg(t))return t;var h=I5(t);if(h){if(r=function SYe(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&bYe.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return function Zqe(t,n){var e=-1,i=t.length;for(n||(n=Array(i));++e<i;)n[e]=t[e];return n}(t,r)}else{var g=JT(t),f=g==R$||"[object GeneratorFunction]"==g;if(r$(t))return function Uqe(t,n){if(n)return t.slice();var e=t.length,i=f$?f$(e):new t.constructor(e);return t.copy(i),i}(t,a);if(g==x$||g==L$||f&&!o){if(r=l||f?{}:function rQe(t){return"function"!=typeof t.constructor||BT(t)?{}:sQe(XT(t))}(t),!a)return l?function rYe(t,n){return Ng(t,C$(t),n)}(t,function Gqe(t,n){return t&&Ng(n,jT(n),t)}(r,t)):function eYe(t,n){return Ng(t,ZT(t),n)}(t,function Iqe(t,n){return t&&Ng(n,UT(n),t)}(r,t))}else{if(!lo[g])return o?t:{};r=iQe(t,g,a)}}s||(s=new uKe);var v=s.get(t);if(v)return v;s.set(t,r),mQe(t)?t.forEach(function(D){r.add(w4(D,n,e,D,t,s))}):uQe(t)&&t.forEach(function(D,I){r.set(I,w4(D,n,e,I,t,s))});var S=h?void 0:(c?l?T$:dYe:l?jT:UT)(t);return function _Ke(t,n){for(var e=-1,i=null==t?0:t.length;++e<i&&!1!==n(t[e],e,t););}(S||t,function(D,I){S&&(D=t[I=D]),JG(r,I,w4(D,n,e,I,t,s))}),r},tw=function ZQe(t){return"symbol"==typeof t||P5(t)&&"[object Symbol]"==N5(t)};var WQe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,XQe=/^\w*$/;function nw(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function(){var i=arguments,o=n?n.apply(this,i):i[0],s=e.cache;if(s.has(o))return s.get(o);var r=t.apply(this,i);return e.cache=s.set(o,r)||s,r};return e.cache=new(nw.Cache||HT),e}nw.Cache=HT;const QQe=nw;var nJe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iJe=/\\(\\)?/g,oJe=function eJe(t){var n=QQe(t,function(i){return 500===e.size&&e.clear(),i}),e=n.cache;return n}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(nJe,function(e,i,o,s){n.push(o?s.replace(iJe,"$1"):i||e)}),n});const sJe=oJe;var F$=f0?f0.prototype:void 0,k$=F$?F$.toString:void 0;const aJe=function z$(t){if("string"==typeof t)return t;if(I5(t))return UG(t,z$)+"";if(tw(t))return k$?k$.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},cJe=function lJe(t){return null==t?"":aJe(t)},iw=function dJe(t,n){return I5(t)?t:function KQe(t,n){if(I5(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!tw(t))||XQe.test(t)||!WQe.test(t)||null!=n&&t in Object(n)}(t,n)?[t]:sJe(cJe(t))},V$=function gJe(t){if("string"==typeof t||tw(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},MJe=function CJe(t,n){return n.length<2?t:function pJe(t,n){for(var e=0,i=(n=iw(n,t)).length;null!=t&&e<i;)t=t[V$(n[e++])];return e&&e==i?t:void 0}(t,function mJe(t,n,e){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=t[i+n];return s}(n,0,-1))},wJe=function TJe(t,n){return n=iw(n,t),null==(t=MJe(t,n))||delete t[V$(function hJe(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}(n))]};var H$=Function.prototype.toString,OJe=Object.prototype.hasOwnProperty,AJe=H$.call(Object);const PJe=function yJe(t){return function NJe(t){if(!P5(t)||"[object Object]"!=N5(t))return!1;var n=XT(t);if(null===n)return!0;var e=OJe.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&H$.call(e)==AJe}(t)?void 0:t};var G$=f0?f0.isConcatSpreadable:void 0;const LJe=function IJe(t){return I5(t)||n$(t)||!!(G$&&t&&t[G$])},RJe=function $$(t,n,e,i,o){var s=-1,r=t.length;for(e||(e=LJe),o||(o=[]);++s<r;){var a=t[s];n>0&&e(a)?n>1?$$(a,n-1,e,i,o):WT(o,a):i||(o[o.length]=a)}return o},FJe=function xJe(t){return null!=t&&t.length?RJe(t,1):[]};var B$=Math.max;const $Je=function GJe(t){return function(){return t}};var UJe=T4?function(t,n){return T4(t,"toString",{configurable:!0,enumerable:!1,value:$Je(n),writable:!0})}:function BJe(t){return t},XJe=Date.now,qJe=function KJe(t){var n=0,e=0;return function(){var i=XJe(),o=16-(i-e);if(e=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}(UJe);const YJe=qJe;var iet=function QJe(t){return YJe(function VJe(t,n,e){return n=B$(void 0===n?t.length-1:n,0),function(){for(var i=arguments,o=-1,s=B$(i.length-n,0),r=Array(s);++o<s;)r[o]=i[n+o];o=-1;for(var a=Array(n+1);++o<n;)a[o]=i[o];return a[n]=e(r),function kJe(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}(t,this,a)}}(t,void 0,FJe),t+"")}(function(t,n){var e={};if(null==t)return e;var i=!1;n=UG(n,function(s){return s=iw(s,t),i||(i=s.length>1),s}),Ng(t,T$(t),e),i&&(e=UQe(e,7,PJe));for(var o=n.length;o--;)wJe(e,n[o]);return e});const U$=iet;function j$(t){return"function"==typeof t}function ow(t){return function oet(t){return t&&j$(t.subscribe)}(t)?t:Et(t)}class set{canDeactivate(n,e){let i;const o=n.isDirty$;return i=j$(o)?cg(()=>ow(o())):ow(o),i.pipe(_i(s=>!1===s?Et(!0):ow(this.confirmChanges(e))),Or(1))}}function b4(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;let e,i;if(Array.isArray(t)){if(e=t.length,e!=n.length)return!1;for(i=e;0!==i--;)if(!b4(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();const o=Object.keys(t);if(e=o.length,e!==Object.keys(n).length)return!1;for(i=e;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=e;0!==i--;){const s=o[i];if(!b4(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}const ret={debounce:300,withDisabled:!0,useBeforeunloadEvent:!0};function S4(t,n,e={}){const{debounce:i,withDisabled:o,useBeforeunloadEvent:s,excludeKeys:r}={...ret,...e},a=()=>function aet(t,n){return n&&(t instanceof ti||t instanceof p2)?t.getRawValue():t.value}(t,o),l=J1(cg(()=>Et(a())),t.valueChanges.pipe(ra(i),r1(),bt(()=>a())));return new Jt(c=>{const h=ag([n,l]).pipe(bt(([g,f])=>r?!b4(U$(g,r),U$(f,r)):!b4(g,f)),i2(!1),function bWe(t,n,e){let i,o=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):i=t??1/0,function wWe(t={}){const{connector:n=()=>new Be,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:o=!0}=t;return s=>{let r,a,l,c=0,h=!1,g=!1;const f=()=>{a?.unsubscribe(),a=void 0},v=()=>{f(),r=l=void 0,h=g=!1},C=()=>{const S=r;v(),S?.unsubscribe()};return uo((S,D)=>{c++,!g&&!h&&f();const I=l=l??n();D.add(()=>{c--,0===c&&!g&&!h&&(a=zT(C,o))}),I.subscribe(D),!r&&c>0&&(r=new ye({next:L=>I.next(L),error:L=>{g=!0,f(),a=zT(v,e,L),I.error(L)},complete:()=>{h=!0,f(),a=zT(v,i),I.complete()}}),Vo(S).subscribe(r))})(s)}}({connector:()=>new BG(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}({bufferSize:1,refCount:!0}));return s&&c.add(Nn(window,"beforeunload").pipe(Y3(h)).subscribe(([g,f])=>{f&&(g.preventDefault(),g.returnValue=!1)})),h.subscribe(c)})}var Z$=function(t){return t.PDF="pdf",t.PDF_A="pdfa",t.PDF_A1="pdfa-1",t.PDF_A2="pdfa-2",t.PDF_A3="pdfa-3",t}(Z$||{}),W$=function(t){return t.SKIP="skip",t.REDO="redo",t.FORCE="force",t.SKIP_NO_ARCHIVE="skip_noarchive",t}(W$||{}),X$=function(t){return t.NEVER="never",t.WITH_TEXT="with_text",t.ALWAYS="always",t}(X$||{}),K$=function(t){return t.CLEAN="clean",t.FINAL="clean-final",t.NONE="none",t}(K$||{}),q$=function(t){return t.UNCHANGED="LeaveColorUnchanged",t.RGB="RGB",t.INDEPENDENT="UseDeviceIndependentColor",t.GRAY="Gray",t.CMYK="CMYK",t}(q$||{}),Ui=function(t){return t.String="string",t.Number="number",t.Select="select",t.Boolean="boolean",t.JSON="json",t.File="file",t}(Ui||{});const Ji={General:"\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0639\u0627\u0645\u0629",OCR:"\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062A\u0645\u064A\u064A\u0632 \u0627\u0644\u0628\u0635\u0631\u064A \u0644\u0644\u0645\u062D\u0627\u0631\u0641 (OCR)",Barcode:"Barcode Settings"};function yg(t){return Object.keys(t).map(n=>({id:t[n],name:t[n]}))}const sw=[{key:"output_type",title:"\u0646\u0648\u0639 \u0627\u0644\u0645\u062E\u0631\u062C\u0627\u062A",type:Ui.Select,choices:yg(Z$),config_key:"PAPERLESS_OCR_OUTPUT_TYPE",category:Ji.OCR},{key:"language",title:"\u0627\u0644\u0644\u063A\u0629",type:Ui.String,config_key:"PAPERLESS_OCR_LANGUAGE",category:Ji.OCR},{key:"pages",title:"\u0627\u0644\u0635\u0641\u062D\u0627\u062A",type:Ui.Number,config_key:"PAPERLESS_OCR_PAGES",category:Ji.OCR},{key:"mode",title:"\u0627\u0644\u0648\u0636\u0639",type:Ui.Select,choices:yg(W$),config_key:"PAPERLESS_OCR_MODE",category:Ji.OCR},{key:"skip_archive_file",title:"\u062A\u062E\u0637\u064A \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0645\u0624\u0631\u0634\u0641 (\u0627\u0644\u0645\u0636\u063A\u0648\u0637)",type:Ui.Select,choices:yg(X$),config_key:"PAPERLESS_OCR_SKIP_ARCHIVE_FILE",category:Ji.OCR},{key:"image_dpi",title:"\u062F\u0642\u0629 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0627\u0644\u0640 DPI",type:Ui.Number,config_key:"PAPERLESS_OCR_IMAGE_DPI",category:Ji.OCR},{key:"unpaper_clean",title:"\u0645\u0633\u062D",type:Ui.Select,choices:yg(K$),config_key:"PAPERLESS_OCR_CLEAN",category:Ji.OCR},{key:"deskew",title:"\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0639\u064A\u0648\u0628 \u0648\u0627\u0644\u0627\u0646\u062D\u0631\u0627\u0641\u0627\u062A",type:Ui.Boolean,config_key:"PAPERLESS_OCR_DESKEW",category:Ji.OCR},{key:"rotate_pages",title:"\u062A\u062F\u0648\u064A\u0631 \u0627\u0644\u0635\u0641\u062D\u0627\u062A",type:Ui.Boolean,config_key:"PAPERLESS_OCR_ROTATE_PAGES",category:Ji.OCR},{key:"rotate_pages_threshold",title:"\u0639\u062A\u0628\u0629 \u062A\u062F\u0648\u064A\u0631 \u0627\u0644\u0635\u0641\u062D\u0627\u062A",type:Ui.Number,config_key:"PAPERLESS_OCR_ROTATE_PAGES_THRESHOLD",category:Ji.OCR},{key:"max_image_pixels",title:"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0648\u062D\u062F\u0627\u062A \u0628\u0643\u0633\u0644 \u0627\u0644\u0635\u0648\u0631\u0629",type:Ui.Number,config_key:"PAPERLESS_OCR_MAX_IMAGE_PIXELS",category:Ji.OCR},{key:"color_conversion_strategy",title:"\u0627\u0633\u062A\u0631\u0627\u062A\u064A\u062C\u064A\u0629 \u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u0644\u0648\u0646",type:Ui.Select,choices:yg(q$),config_key:"PAPERLESS_OCR_COLOR_CONVERSION_STRATEGY",category:Ji.OCR},{key:"user_args",title:"\u0645\u0639\u0644\u0645\u0627\u062A \u0627\u0644\u062A\u0645\u064A\u064A\u0632 \u0627\u0644\u0628\u0635\u0631\u064A \u0644\u0644\u0645\u062D\u0627\u0631\u0641 (OCR)",type:Ui.JSON,config_key:"PAPERLESS_OCR_USER_ARGS",category:Ji.OCR},{key:"app_logo",title:"\u0634\u0639\u0627\u0631 \u0627\u0644\u062A\u0637\u0628\u064A\u0642",type:Ui.File,config_key:"PAPERLESS_APP_LOGO",category:Ji.General},{key:"app_title",title:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062A\u0637\u0628\u064A\u0642",type:Ui.String,config_key:"PAPERLESS_APP_TITLE",category:Ji.General},{key:"barcodes_enabled",title:"Enable Barcodes",type:Ui.Boolean,config_key:"PAPERLESS_CONSUMER_ENABLE_BARCODES",category:Ji.Barcode},{key:"barcode_enable_tiff_support",title:"Enable TIFF Support",type:Ui.Boolean,config_key:"PAPERLESS_CONSUMER_BARCODE_TIFF_SUPPORT",category:Ji.Barcode},{key:"barcode_string",title:"Barcode String",type:Ui.String,config_key:"PAPERLESS_CONSUMER_BARCODE_STRING",category:Ji.Barcode},{key:"barcode_retain_split_pages",title:"Retain Split Pages",type:Ui.Boolean,config_key:"PAPERLESS_CONSUMER_BARCODE_RETAIN_SPLIT_PAGES",category:Ji.Barcode},{key:"barcode_enable_asn",title:"Enable ASN",type:Ui.Boolean,config_key:"PAPERLESS_CONSUMER_ENABLE_ASN_BARCODE",category:Ji.Barcode},{key:"barcode_asn_prefix",title:"ASN Prefix",type:Ui.String,config_key:"PAPERLESS_CONSUMER_ASN_BARCODE_PREFIX",category:Ji.Barcode},{key:"barcode_upscale",title:"Upscale",type:Ui.Number,config_key:"PAPERLESS_CONSUMER_BARCODE_UPSCALE",category:Ji.Barcode},{key:"barcode_dpi",title:"DPI",type:Ui.Number,config_key:"PAPERLESS_CONSUMER_BARCODE_DPI",category:Ji.Barcode},{key:"barcode_max_pages",title:"Max Pages",type:Ui.Number,config_key:"PAPERLESS_CONSUMER_BARCODE_MAX_PAGES",category:Ji.Barcode},{key:"barcode_enable_tag",title:"Enable Tag Detection",type:Ui.Boolean,config_key:"PAPERLESS_CONSUMER_ENABLE_TAG_BARCODE",category:Ji.Barcode},{key:"barcode_tag_mapping",title:"Tag Mapping",type:Ui.JSON,config_key:"PAPERLESS_CONSUMER_TAG_BARCODE_MAPPING",category:Ji.Barcode}],cet=new URL(document.baseURI),di={production:!0,apiBaseUrl:document.baseURI+"api/public/",apiVersion:"9",appTitle:"Paperless-idoine-prod",tag:"prod",version:"2.18.4",webSocketHost:window.location.host,webSocketProtocol:"https:"==window.location.protocol?"wss:":"ws:",webSocketBaseUrl:cet.pathname+"ws/"};let det=(()=>{class t{constructor(){this.http=M(ba),this.baseUrl=di.apiBaseUrl+"config/"}getConfig(){return this.http.get(this.baseUrl).pipe(ut(),bt(e=>e[0]))}saveConfig(e){return"string"==typeof e.app_logo&&delete e.app_logo,this.http.patch(`${this.baseUrl}${e.id}/`,e).pipe(ut())}uploadFile(e,i,o){let s=new FormData;return s.append(o,e,e.name),this.http.patch(`${this.baseUrl}${i}/`,s).pipe(ut())}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aw(t){var n=Math.floor(t).toString(16);return 1==n.length?"0"+n:n}function lw(t,n,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(n-t)*e:e<.5?n:e<2/3?t+(n-t)*(2/3-e)*6:t}function Y$(t){let n=(t=t.replace("#","")).match(/.{1,2}/g);return{r:parseInt(n[0],16),g:parseInt(n[1],16),b:parseInt(n[2],16)}}function Q$(){let t=function het(t,n,e){var i,o,s;if(0==n)i=o=s=e;else{var r=e<.5?e*(1+n):e+n-e*n,a=2*e-r;i=lw(a,r,t+1/3),o=lw(a,r,t),s=lw(a,r,t-1/3)}return[255*i,255*o,255*s]}(Math.random(),.6,.4*Math.random()+.4);return`#${aw(t[0])}${aw(t[1])}${aw(t[2])}`}var ih=function(t){return t.TABLE="table",t.SMALL_CARDS="smallCards",t.LARGE_CARDS="largeCards",t}(ih||{}),Mi=function(t){return t.TITLE="title",t.CREATED="created",t.ADDED="added",t.TAGS="tag",t.CORRESPONDENT="correspondent",t.DOCUMENT_TYPE="documenttype",t.STORAGE_PATH="storagepath",t.CUSTOM_FIELD="custom_field_",t.NOTES="note",t.OWNER="owner",t.SHARED="shared",t.ASN="asn",t.PAGE_COUNT="pagecount",t}(Mi||{});const oh=[{id:Mi.TITLE,name:"\u0639\u0646\u0648\u0627\u0646"},{id:Mi.CREATED,name:"\u0623\u064F\u0646\u0634\u0626"},{id:Mi.ADDED,name:"\u0623\u0636\u064A\u0641"},{id:Mi.TAGS,name:"\u0639\u0644\u0627\u0645\u0627\u062A"},{id:Mi.CORRESPONDENT,name:"\u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644"},{id:Mi.DOCUMENT_TYPE,name:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F"},{id:Mi.STORAGE_PATH,name:"\u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646"},{id:Mi.NOTES,name:"\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A"},{id:Mi.OWNER,name:"\u0627\u0644\u0645\u0627\u0644\u0643"},{id:Mi.SHARED,name:"\u062A\u0645\u062A \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629"},{id:Mi.ASN,name:"ASN"},{id:Mi.PAGE_COUNT,name:"\u0627\u0644\u0635\u0641\u062D\u0627\u062A"}],fet=[{field:"archive_serial_number",name:"ASN"},{field:"correspondent__name",name:"\u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644"},{field:"title",name:"\u0639\u0646\u0648\u0627\u0646"},{field:"document_type__name",name:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F"},{field:"created",name:"\u0623\u064F\u0646\u0634\u0626"},{field:"added",name:"\u0623\u0636\u064A\u0641"},{field:"modified",name:"\u062A\u0639\u062F\u064A\u0644"},{field:"num_notes",name:"\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A"},{field:"owner",name:"\u0627\u0644\u0645\u0627\u0644\u0643"},{field:"page_count",name:"\u0627\u0644\u0635\u0641\u062D\u0627\u062A"}],met=[{field:"score",name:"\u0646\u0642\u0627\u0637 \u0627\u0644\u0628\u062D\u062B"}];var E4=function(t){return t.ADVANCED="advanced",t.TITLE_CONTENT="title-content",t}(E4||{});const Ce={VERSION:"version",LANGUAGE:"language",APP_LOGO:"app_logo",APP_TITLE:"app_title",BULK_EDIT_CONFIRMATION_DIALOGS:"general-settings:bulk-edit:confirmation-dialogs",BULK_EDIT_APPLY_ON_CLOSE:"general-settings:bulk-edit:apply-on-close",DOCUMENT_LIST_SIZE:"general-settings:documentListSize",DARK_MODE_USE_SYSTEM:"general-settings:dark-mode:use-system",DARK_MODE_ENABLED:"general-settings:dark-mode:enabled",DARK_MODE_THUMB_INVERTED:"general-settings:dark-mode:thumb-inverted",THEME_COLOR:"general-settings:theme:color",USE_NATIVE_PDF_VIEWER:"general-settings:document-details:native-pdf-viewer",PDF_VIEWER_ZOOM_SETTING:"general-settings:document-details:pdf-viewer-zoom-setting",DATE_LOCALE:"general-settings:date-display:date-locale",DATE_FORMAT:"general-settings:date-display:date-format",NOTIFICATIONS_CONSUMER_NEW_DOCUMENT:"general-settings:notifications:consumer-new-documents",NOTIFICATIONS_CONSUMER_SUCCESS:"general-settings:notifications:consumer-success",NOTIFICATIONS_CONSUMER_FAILED:"general-settings:notifications:consumer-failed",NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD:"general-settings:notifications:consumer-suppress-on-dashboard",NOTES_ENABLED:"general-settings:notes-enabled",AUDITLOG_ENABLED:"general-settings:auditlog-enabled",SLIM_SIDEBAR:"general-settings:slim-sidebar",UPDATE_CHECKING_ENABLED:"general-settings:update-checking:enabled",UPDATE_CHECKING_BACKEND_SETTING:"general-settings:update-checking:backend-setting",SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE:"general-settings:saved-views:warn-on-unsaved-change",DASHBOARD_VIEWS_SORT_ORDER:"general-settings:saved-views:dashboard-views-sort-order",SIDEBAR_VIEWS_SORT_ORDER:"general-settings:saved-views:sidebar-views-sort-order",SIDEBAR_VIEWS_SHOW_COUNT:"general-settings:saved-views:sidebar-views-show-count",TOUR_COMPLETE:"general-settings:tour-complete",DEFAULT_PERMS_OWNER:"general-settings:permissions:default-owner",DEFAULT_PERMS_VIEW_USERS:"general-settings:permissions:default-view-users",DEFAULT_PERMS_VIEW_GROUPS:"general-settings:permissions:default-view-groups",DEFAULT_PERMS_EDIT_USERS:"general-settings:permissions:default-edit-users",DEFAULT_PERMS_EDIT_GROUPS:"general-settings:permissions:default-edit-groups",DOCUMENT_EDITING_REMOVE_INBOX_TAGS:"general-settings:document-editing:remove-inbox-tags",DOCUMENT_EDITING_OVERLAY_THUMBNAIL:"general-settings:document-editing:overlay-thumbnail",SEARCH_DB_ONLY:"general-settings:search:db-only",SEARCH_FULL_TYPE:"general-settings:search:more-link",EMPTY_TRASH_DELAY:"trash_delay",GMAIL_OAUTH_URL:"gmail_oauth_url",OUTLOOK_OAUTH_URL:"outlook_oauth_url",EMAIL_ENABLED:"email_enabled"},Cet=[{key:Ce.VERSION,type:"string",default:""},{key:Ce.LANGUAGE,type:"string",default:""},{key:Ce.BULK_EDIT_CONFIRMATION_DIALOGS,type:"boolean",default:!0},{key:Ce.BULK_EDIT_APPLY_ON_CLOSE,type:"boolean",default:!1},{key:Ce.SLIM_SIDEBAR,type:"boolean",default:!1},{key:Ce.DOCUMENT_LIST_SIZE,type:"number",default:50},{key:Ce.DARK_MODE_USE_SYSTEM,type:"boolean",default:!0},{key:Ce.DARK_MODE_ENABLED,type:"boolean",default:!1},{key:Ce.DARK_MODE_THUMB_INVERTED,type:"boolean",default:!0},{key:Ce.THEME_COLOR,type:"string",default:""},{key:Ce.USE_NATIVE_PDF_VIEWER,type:"boolean",default:!1},{key:Ce.DATE_LOCALE,type:"string",default:""},{key:Ce.DATE_FORMAT,type:"string",default:"mediumDate"},{key:Ce.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT,type:"boolean",default:!0},{key:Ce.NOTIFICATIONS_CONSUMER_SUCCESS,type:"boolean",default:!0},{key:Ce.NOTIFICATIONS_CONSUMER_FAILED,type:"boolean",default:!0},{key:Ce.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD,type:"boolean",default:!0},{key:Ce.NOTES_ENABLED,type:"boolean",default:!0},{key:Ce.AUDITLOG_ENABLED,type:"boolean",default:!0},{key:Ce.UPDATE_CHECKING_ENABLED,type:"boolean",default:!1},{key:Ce.UPDATE_CHECKING_BACKEND_SETTING,type:"string",default:""},{key:Ce.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE,type:"boolean",default:!0},{key:Ce.TOUR_COMPLETE,type:"boolean",default:!1},{key:Ce.DEFAULT_PERMS_OWNER,type:"number",default:void 0},{key:Ce.DEFAULT_PERMS_VIEW_USERS,type:"array",default:[]},{key:Ce.DEFAULT_PERMS_VIEW_GROUPS,type:"array",default:[]},{key:Ce.DEFAULT_PERMS_EDIT_USERS,type:"array",default:[]},{key:Ce.DEFAULT_PERMS_EDIT_GROUPS,type:"array",default:[]},{key:Ce.DASHBOARD_VIEWS_SORT_ORDER,type:"array",default:[]},{key:Ce.SIDEBAR_VIEWS_SORT_ORDER,type:"array",default:[]},{key:Ce.SIDEBAR_VIEWS_SHOW_COUNT,type:"boolean",default:!0},{key:Ce.APP_LOGO,type:"string",default:""},{key:Ce.APP_TITLE,type:"string",default:""},{key:Ce.DOCUMENT_EDITING_REMOVE_INBOX_TAGS,type:"boolean",default:!1},{key:Ce.DOCUMENT_EDITING_OVERLAY_THUMBNAIL,type:"boolean",default:!0},{key:Ce.SEARCH_DB_ONLY,type:"boolean",default:!1},{key:Ce.SEARCH_FULL_TYPE,type:"string",default:E4.TITLE_CONTENT},{key:Ce.EMPTY_TRASH_DELAY,type:"number",default:30},{key:Ce.GMAIL_OAUTH_URL,type:"string",default:null},{key:Ce.OUTLOOK_OAUTH_URL,type:"string",default:null},{key:Ce.EMAIL_ENABLED,type:"boolean",default:!1},{key:Ce.PDF_VIEWER_ZOOM_SETTING,type:"string",default:"page-width"}];var ft=function(t){return t.Add="add",t.View="view",t.Change="change",t.Delete="delete",t}(ft||{}),vt=function(t){return t.Document="%s_document",t.Tag="%s_tag",t.Correspondent="%s_correspondent",t.DocumentType="%s_documenttype",t.StoragePath="%s_storagepath",t.SavedView="%s_savedview",t.PaperlessTask="%s_paperlesstask",t.AppConfig="%s_applicationconfiguration",t.UISettings="%s_uisettings",t.History="%s_logentry",t.Note="%s_note",t.MailAccount="%s_mailaccount",t.MailRule="%s_mailrule",t.User="%s_user",t.Group="%s_group",t.ShareLink="%s_sharelink",t.CustomField="%s_customfield",t.Workflow="%s_workflow",t.ProcessedMail="%s_processedmail",t}(vt||{});let Ti=(()=>{class t{initialize(e,i){this.permissions=e,this.currentUser=i}currentUserCan(e,i){return this.currentUser?.is_superuser||this.permissions?.includes(this.getPermissionCode(e,i))}isAdmin(){return this.currentUser?.is_staff}isSuperUser(){return this.currentUser?.is_superuser}currentUserOwnsObject(e){return!e||!e.owner||this.currentUser.is_superuser||e.owner===this.currentUser.id}currentUserHasObjectPermissions(e,i){return e===ft.View?this.currentUserOwnsObject(i)||i.permissions?.view.users.includes(this.currentUser.id)||i.permissions?.view.groups.filter(o=>this.currentUser.groups.includes(o)).length>0:e===ft.Change?this.currentUserOwnsObject(i)||i.user_can_change||i.permissions?.change.users.includes(this.currentUser.id)||i.permissions?.change.groups.filter(o=>this.currentUser.groups.includes(o)).length>0:void 0}getPermissionCode(e,i){return i.replace("%s",e)}getPermissionKeys(e){const i=e.match(/(.+)_/);let o,s;if(i?.length>0){const r=i[1],a=Object.values(ft).indexOf(r);a>-1&&(s=Object.keys(ft)[a]);const l=Object.values(vt).indexOf(e.replace(r,"%s"));l>-1&&(o=Object.keys(vt)[l])}return{actionKey:s,typeKey:o}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Tet={connector:()=>new Be};function Eet(t,n,e,i){e&&!It(e)&&(i=e);const o=It(e)?e:void 0;return s=>function bet(t,n){const e=It(t)?t:()=>t;return It(n)?function wet(t,n=Tet){const{connector:e}=n;return uo((i,o)=>{const s=e();Vo(t(function Met(t){return new Jt(n=>t.subscribe(n))}(s))).subscribe(o),o.add(i.subscribe(s))})}(n,{connector:e}):i=>new hT(i,e)}(new BG(t,n,i),o)(s)}let m0=(()=>{class t{constructor(){this.baseUrl=di.apiBaseUrl,this.http=M(ba)}getResourceUrl(e=null,i=null){let o=`${this.baseUrl}${this.resourceName}/`;return null!==e&&(o+=`${e}/`),i&&(o+=`${i}/`),o}getOrderingQueryParam(e,i){return e?(i?"-":"")+e:null}list(e,i,o,s,r){let a=new ta;e&&(a=a.set("page",e.toString())),i&&(a=a.set("page_size",i.toString()));let l=this.getOrderingQueryParam(o,s);l&&(a=a.set("ordering",l));for(let c in r)null!=r[c]&&(a=a.set(c,r[c]));return this.http.get(this.getResourceUrl(),{params:a})}listAll(e,i,o){return this._listAll||(this._listAll=this.list(1,1e5,e,i,o).pipe(Eet(1),Y6())),this._listAll}getCached(e){return this.listAll().pipe(bt(i=>i.results.find(o=>o.id==e)))}getCachedMany(e){return this.listAll().pipe(bt(i=>e.map(o=>i.results.find(s=>s.id==o))))}getFew(e,i){let o=new ta;o=o.set("id__in",e.join(",")),o=o.set("ordering","-id"),o=o.set("page_size",1e3);for(let s in i)null!=i[s]&&(o=o.set(s,i[s]));return this.http.get(this.getResourceUrl(),{params:o})}clearCache(){this._listAll=null}get(e){return this.http.get(this.getResourceUrl(e))}create(e){return this.clearCache(),this.http.post(this.getResourceUrl(),e)}delete(e){return this.clearCache(),this.http.delete(this.getResourceUrl(e.id))}update(e){return this.clearCache(),this.http.put(this.getResourceUrl(e.id),e)}patch(e){return this.clearCache(),this.http.patch(this.getResourceUrl(e.id),e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),g1=(()=>{class t extends m0{constructor(){super(),this.resourceName="custom_fields"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const J$={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let cw;const Oet=new Uint8Array(16),Xs=[];for(let t=0;t<256;++t)Xs.push((t+256).toString(16).slice(1));const dw=function Net(t,n,e){if(J$.randomUUID&&!n&&!t)return J$.randomUUID();const i=(t=t||{}).random??t.rng?.()??function Aet(){if(!cw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cw=crypto.getRandomValues.bind(crypto)}return cw(Oet)}();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){if((e=e||0)<0||e+16>n.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let o=0;o<16;++o)n[e+o]=i[o];return n}return function eB(t,n=0){return(Xs[t[n+0]]+Xs[t[n+1]]+Xs[t[n+2]]+Xs[t[n+3]]+"-"+Xs[t[n+4]]+Xs[t[n+5]]+"-"+Xs[t[n+6]]+Xs[t[n+7]]+"-"+Xs[t[n+8]]+Xs[t[n+9]]+"-"+Xs[t[n+10]]+Xs[t[n+11]]+Xs[t[n+12]]+Xs[t[n+13]]+Xs[t[n+14]]+Xs[t[n+15]]).toLowerCase()}(i)};let eo=(()=>{class t{constructor(){this.toasts=[],this.toastsSubject=new Be,this.showToast=new Be}set suppressPopupToasts(e){this._suppressPopupToasts=e,this.showToast.next(null)}show(e){if(e.id||(e.id=dw()),"string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch{}this.toasts.unshift(e),this._suppressPopupToasts||this.showToast.next(e),this.toastsSubject.next(this.toasts)}showError(e,i=null,o=1e4){this.show({content:e,delay:o,classname:"error",error:i})}showInfo(e,i=5e3){this.show({content:e,delay:i})}closeToast(e){let i=this.toasts.findIndex(o=>o.id==e.id);i>-1&&(this.toasts.splice(i,1),this.toastsSubject.next(this.toasts))}getToasts(){return this.toastsSubject}clearToasts(){this.toasts=[],this.toastsSubject.next(this.toasts),this.showToast.next(null)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Det=[{code:"en-us",name:"\u0627\u0644\u0625\u0646\u062C\u0644\u064A\u0632\u064A\u0629 (\u0627\u0644\u0648\u0644\u0627\u064A\u0627\u062A \u0627\u0644\u0645\u062A\u062D\u062F\u0629)",englishName:"English (US)",dateInputFormat:"mm/dd/yyyy"},{code:"af-za",name:"\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0623\u0641\u0631\u064A\u0642\u0627\u0646\u064A\u0629",englishName:"Afrikaans",dateInputFormat:"yyyy-mm-dd"},{code:"ar-ar",name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",englishName:"Arabic",dateInputFormat:"yyyy-mm-dd"},{code:"be-by",name:"\u0627\u0644\u0628\u064A\u0644\u0627\u0631\u0648\u0633\u064A\u0629",englishName:"Belarusian",dateInputFormat:"dd.mm.yyyy"},{code:"bg-bg",name:"\u0627\u0644\u0628\u0644\u063A\u0627\u0631\u064A\u0629",englishName:"Bulgarian",dateInputFormat:"dd.mm.yyyy"},{code:"ca-es",name:"\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0643\u062A\u0627\u0644\u0648\u0646\u064A\u0629",englishName:"Catalan",dateInputFormat:"dd/mm/yyyy"},{code:"cs-cz",name:"\u0627\u0644\u062A\u0634\u064A\u0643\u064A\u0629",englishName:"Czech",dateInputFormat:"dd.mm.yyyy"},{code:"da-dk",name:"\u0627\u0644\u062F\u0627\u0646\u0645\u0627\u0631\u0643\u064A\u0629",englishName:"Danish",dateInputFormat:"dd.mm.yyyy"},{code:"de-de",name:"\u0627\u0644\u0623\u0644\u0645\u0627\u0646\u064A\u0629",englishName:"German",dateInputFormat:"dd.mm.yyyy"},{code:"el-gr",name:"\u0627\u0644\u064A\u0648\u0646\u0627\u0646\u064A\u0629",englishName:"Greek",dateInputFormat:"dd/mm/yyyy"},{code:"en-gb",name:"\u0627\u0644\u0625\u0646\u062C\u0644\u064A\u0632\u064A\u0629 (\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0645\u062A\u062D\u062F\u0629)",englishName:"English (GB)",dateInputFormat:"dd/mm/yyyy"},{code:"es-es",name:"\u0627\u0644\u0625\u0633\u0628\u0627\u0646\u064A\u0629",englishName:"Spanish",dateInputFormat:"dd/mm/yyyy"},{code:"fi-fi",name:"\u0627\u0644\u0641\u0646\u0644\u0646\u062F\u064A\u0629",englishName:"Finnish",dateInputFormat:"dd.mm.yyyy"},{code:"fr-fr",name:"\u0627\u0644\u0641\u0631\u0646\u0633\u064A\u0629",englishName:"French",dateInputFormat:"dd/mm/yyyy"},{code:"hu-hu",name:"\u0627\u0644\u0647\u0646\u063A\u0627\u0631\u064A\u0629",englishName:"Hungarian",dateInputFormat:"yyyy.mm.dd"},{code:"it-it",name:"\u0627\u0644\u0625\u064A\u0637\u0627\u0644\u064A\u0629",englishName:"Italian",dateInputFormat:"dd/mm/yyyy"},{code:"ja-jp",name:"\u0627\u0644\u064A\u0627\u0628\u0627\u0646\u064A\u0629",englishName:"Japanese",dateInputFormat:"yyyy/mm/dd"},{code:"ko-kr",name:"Korean",englishName:"Korean",dateInputFormat:"yyyy-mm-dd"},{code:"lb-lu",name:"\u0627\u0644\u0644\u0648\u0643\u0633\u0645\u0628\u0631\u062C\u064A\u0629",englishName:"Luxembourgish",dateInputFormat:"dd.mm.yyyy"},{code:"nl-nl",name:"\u0627\u0644\u0647\u0648\u0644\u0646\u062F\u064A\u0629",englishName:"Dutch",dateInputFormat:"dd-mm-yyyy"},{code:"no-no",name:"\u0627\u0644\u0646\u0631\u0648\u064A\u062C\u064A\u0629",englishName:"Norwegian",dateInputFormat:"dd.mm.yyyy"},{code:"fa-ir",name:"Persian",englishName:"Persian",dateInputFormat:"yyyy-mm-dd"},{code:"pl-pl",name:"\u0627\u0644\u0628\u0648\u0644\u0646\u062F\u064A\u0629",englishName:"Polish",dateInputFormat:"dd.mm.yyyy"},{code:"pt-br",name:"\u0627\u0644\u0628\u0631\u062A\u063A\u0627\u0644\u064A\u0629 (\u0627\u0644\u0628\u0631\u0627\u0632\u064A\u0644)",englishName:"Portuguese (Brazil)",dateInputFormat:"dd/mm/yyyy"},{code:"pt-pt",name:"\u0627\u0644\u0628\u0631\u062A\u063A\u0627\u0644\u064A\u0629",englishName:"Portuguese",dateInputFormat:"dd/mm/yyyy"},{code:"ro-ro",name:"\u0627\u0644\u0631\u0648\u0645\u0627\u0646\u064A\u0629",englishName:"Romanian",dateInputFormat:"dd.mm.yyyy"},{code:"ru-ru",name:"\u0627\u0644\u0631\u0648\u0633\u064A\u0629",englishName:"Russian",dateInputFormat:"dd.mm.yyyy"},{code:"sk-sk",name:"\u0627\u0644\u0633\u0644\u0648\u0641\u0627\u0643\u064A\u0629",englishName:"Slovak",dateInputFormat:"dd.mm.yyyy"},{code:"sl-si",name:"\u0627\u0644\u0633\u0644\u0648\u0641\u0627\u0646\u064A\u0629",englishName:"Slovenian",dateInputFormat:"dd.mm.yyyy"},{code:"sr-cs",name:"\u0627\u0644\u0635\u0631\u0628\u064A\u0629",englishName:"Serbian",dateInputFormat:"dd.mm.yyyy"},{code:"sv-se",name:"\u0627\u0644\u0633\u0648\u064A\u062F\u064A\u0629",englishName:"Swedish",dateInputFormat:"yyyy-mm-dd"},{code:"tr-tr",name:"\u0627\u0644\u062A\u0631\u0643\u064A\u0629",englishName:"Turkish",dateInputFormat:"yyyy-mm-dd"},{code:"uk-ua",name:"\u0627\u0644\u0623\u0648\u0643\u0631\u0627\u0646\u064A\u0629",englishName:"Ukrainian",dateInputFormat:"dd.mm.yyyy"},{code:"vi-vn",name:"Vietnamese",englishName:"Vietnamese",dateInputFormat:"dd/mm/yyyy"},{code:"zh-cn",name:"\u0627\u0644\u0635\u064A\u0646\u064A\u0629 \u0627\u0644\u0645\u0628\u0633\u0637\u0629",englishName:"Chinese Simplified",dateInputFormat:"yyyy-mm-dd"},{code:"zh-tw",name:"Chinese Traditional",englishName:"Chinese Traditional",dateInputFormat:"yyyy/mm/dd"}],yet={code:"iso-8601",name:"ISO 8601",dateInputFormat:"yyyy-mm-dd"};let Gn=(()=>{class t{get renderer(){return this._renderer}get allDisplayFields(){return this._allDisplayFields}constructor(){this.document=M(Un),this.cookieService=M(dT),this.meta=M(SH),this.localeId=M(ea),this.http=M(ba),this.toastService=M(eo),this.permissionsService=M(Ti),this.customFieldsService=M(g1),this.baseUrl=di.apiBaseUrl+"ui_settings/",this.settings={},this.settingsSaved=new Ee,this.dashboardIsEmpty=!1,this.globalDropzoneEnabled=!0,this.globalDropzoneActive=!1,this.organizingSidebarSavedViews=!1,this._allDisplayFields=oh,this.displayFieldsInit=new Ee;const e=M(b1);this._renderer=e.createRenderer(null,null)}initializeSettings(){return this.http.get(this.baseUrl).pipe(ut(),xa(e=>(setTimeout(()=>{this.toastService.showError("Error loading settings",e)},500),Et({settings:{documentListSize:10,update_checking:{backend_setting:"default"}},user:{},permissions:[]}))),_n(e=>{Object.assign(this.settings,e.settings),this.get(Ce.APP_TITLE)?.length&&(di.appTitle=this.get(Ce.APP_TITLE)),this.maybeMigrateSettings(),this.settings.language?.length&&this.setLanguage(this.settings.language),this.currentUser=e.user,this.permissionsService.initialize(e.permissions,this.currentUser),this.initializeDisplayFields()}))}initializeDisplayFields(){this._allDisplayFields=oh,this._allDisplayFields=this._allDisplayFields?.map(e=>{if(e.id===Mi.NOTES&&!this.get(Ce.NOTES_ENABLED))return null;if([Mi.TITLE,Mi.CREATED,Mi.ADDED,Mi.ASN,Mi.PAGE_COUNT,Mi.SHARED].includes(e.id))return e;let i=Object.values(vt).find(o=>o.includes(e.id));return e.id===Mi.OWNER&&(i=vt.User),this.permissionsService.currentUserCan(ft.View,i)?e:null}).filter(e=>e),this.permissionsService.currentUserCan(ft.View,vt.CustomField)?this.customFieldsService.listAll().subscribe(e=>{this._allDisplayFields=this._allDisplayFields.concat(e.results.map(i=>({id:`${Mi.CUSTOM_FIELD}${i.id}`,name:i.name}))),this.displayFieldsInit.emit(!0)}):this.displayFieldsInit.emit(!0)}get displayName(){return(this.currentUser.first_name??this.currentUser.username??"").trim()}updateAppearanceSettings(e=null,i=null,o=null){if(e??=this.get(Ce.DARK_MODE_USE_SYSTEM),i??=this.get(Ce.DARK_MODE_ENABLED),o??=this.get(Ce.THEME_COLOR),this._renderer.setAttribute(this.document.documentElement,"data-bs-theme",e?"auto":i?"dark":"light"),o?.length){const s=function _et(t){const n=Y$(t),e=function uet(t,n,e){t/=255,n/=255,e/=255;var s,r,i=Math.max(t,n,e),o=Math.min(t,n,e),a=(i+o)/2;if(i==o)s=r=0;else{var l=i-o;switch(r=a>.5?l/(2-i-o):l/(i+o),i){case t:s=(n-e)/l+(n<e?6:0);break;case n:s=(e-t)/l+2;break;case e:s=(t-n)/l+4}s/=6}return[s,r,a]}(n.r,n.g,n.b);return{h:e[0],s:e[1],l:e[2]}}(o);"dark"==function pet(t){const e=function get(t){const n=Object.keys(t);for(var e=0;e<3;e++){var i=t[n[e]];i=(i/=255)<.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),t[e]=i}return.2126*t[0]+.7152*t[1]+.0722*t[2]}(Y$(t));return(e+.05)*(e+.05)>.15?"light":"dark"}(o)?(this._renderer.addClass(this.document.body,"primary-dark"),this._renderer.removeClass(this.document.body,"primary-light")):(this._renderer.addClass(this.document.body,"primary-light"),this._renderer.removeClass(this.document.body,"primary-dark")),document.documentElement.style.setProperty("--pngx-primary",`${360*+s.h},${100*s.s}%`),document.documentElement.style.setProperty("--pngx-primary-lightness",100*s.l+"%")}else this._renderer.removeClass(this.document.body,"primary-dark"),this._renderer.removeClass(this.document.body,"primary-light"),document.documentElement.style.removeProperty("--pngx-primary"),document.documentElement.style.removeProperty("--pngx-primary-lightness");this.meta.updateTag({name:"theme-color",content:o?.length?o:"#17541f"})}getLanguageOptions(){return Det.sort((e,i)=>e.name<i.name?-1:1)}getDateLocaleOptions(){return[yet].concat(this.getLanguageOptions())}getLanguageCookieName(){let e="";return this.meta.getTag("name=cookie_prefix")&&(e=this.meta.getTag("name=cookie_prefix").content),`${e||""}django_language`}getLanguage(){return this.get(Ce.LANGUAGE)}setLanguage(e){this.set(Ce.LANGUAGE,e),e?.length?this.cookieService.set(this.getLanguageCookieName(),e):this.cookieService.delete(this.getLanguageCookieName())}getLocalizedDateInputFormat(){let e=this.get(Ce.DATE_LOCALE)||this.getLanguage()||this.localeId.toLowerCase();return this.getDateLocaleOptions().find(i=>i.code==e)?.dateInputFormat||"yyyy-mm-dd"}getSettingRawValue(e){let i;const o=e.replace("general-settings:","").split(":");let s=this.settings;return o.forEach((r,a)=>{r=r.replace(/-/g,"_"),s.hasOwnProperty(r)&&(a==o.length-1?i=s[r]:s=s[r])}),i}get(e){let i=Cet.find(s=>s.key==e);if(!i)return;let o=this.getSettingRawValue(e);if(e===Ce.DEFAULT_PERMS_OWNER&&void 0===o)return this.currentUser.id;if(void 0===o)return i.default;if(null===o)return null;switch(i.type){case"boolean":return JSON.parse(o);case"number":return+o;default:return o}}set(e,i){let o=this.settings;const s=e.replace("general-settings:","").split(":");s.forEach((r,a)=>{r=r.replace(/-/g,"_"),o.hasOwnProperty(r)||(o[r]={}),a==s.length-1?o[r]=i:o=o[r]})}settingIsSet(e){return null!=this.getSettingRawValue(e)}storeSettings(){return this.http.post(this.baseUrl,{settings:this.settings}).pipe(_n(e=>{e.success&&this.settingsSaved.emit()}))}maybeMigrateSettings(){if(!this.settings.hasOwnProperty("documentListSize")&&localStorage.getItem(Ce.DOCUMENT_LIST_SIZE)){const e="\u062A\u0645 \u0628\u0646\u062C\u0627\u062D \u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0645\u0631\u0629 \u0648\u0627\u062D\u062F\u0629 \u0625\u0644\u0649 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A!",i="\u063A\u064A\u0631 \u0642\u0627\u062F\u0631 \u0639\u0644\u0649 \u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0625\u0644\u0649 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A\u060C \u0627\u0644\u0631\u062C\u0627\u0621 \u0645\u062D\u0627\u0648\u0644\u0629 \u0627\u0644\u062D\u0641\u0638 \u064A\u062F\u0648\u064A\u0627\u064B.";try{for(const o in Ce){const s=Ce[o],r=localStorage.getItem(s);this.set(s,r)}this.set(Ce.LANGUAGE,this.cookieService.get(this.getLanguageCookieName()))}catch{this.toastService.showError(i)}this.storeSettings().pipe(ut()).subscribe({next:()=>{this.updateAppearanceSettings(),this.toastService.showInfo(e)},error:o=>{this.toastService.showError(i)}})}!this.settingIsSet(Ce.UPDATE_CHECKING_ENABLED)&&"default"!=this.get(Ce.UPDATE_CHECKING_BACKEND_SETTING)&&(this.set(Ce.UPDATE_CHECKING_ENABLED,"true"===this.get(Ce.UPDATE_CHECKING_BACKEND_SETTING).toString()),this.storeSettings().pipe(ut()).subscribe({error:e=>{this.toastService.showError("Error migrating update checking setting")}}))}get updateCheckingIsSet(){return this.settingIsSet(Ce.UPDATE_CHECKING_ENABLED)}offerTour(){return this.dashboardIsEmpty&&!this.get(Ce.TOUR_COMPLETE)}completeTour(){!this.get(Ce.TOUR_COMPLETE)&&this.permissionsService.currentUserCan(ft.Change,vt.UISettings)&&(this.set(Ce.TOUR_COMPLETE,!0),this.storeSettings().pipe(ut()).subscribe(()=>{this.toastService.showInfo("\u064A\u0645\u0643\u0646\u0643 \u0625\u0639\u0627\u062F\u0629 \u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u062C\u0648\u0644\u0629 \u0645\u0646 \u0635\u0641\u062D\u0629 \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A.")}))}updateDashboardViewsSort(e){return this.set(Ce.DASHBOARD_VIEWS_SORT_ORDER,[...new Set(e.map(i=>i.id))]),this.storeSettings()}updateSidebarViewsSort(e){return this.set(Ce.SIDEBAR_VIEWS_SORT_ORDER,[...new Set(e.map(i=>i.id))]),this.storeSettings()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Pet=["inputField"];let Ns=(()=>{class t{constructor(){this.onChange=e=>{},this.onTouched=()=>{},this.disabled=!1,this.horizontal=!1,this.removable=!1,this.removed=new Ee}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}focus(){this.inputField&&this.inputField.nativeElement&&this.inputField.nativeElement.focus()}ngOnInit(){this.inputId=dw()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,viewQuery:function(i,o){if(1&i&&Tn(Pet,5),2&i){let s;Mt(s=Tt())&&(o.inputField=s.first)}},inputs:{title:"title",disabled:"disabled",error:"error",hint:"hint",horizontal:"horizontal",removable:"removable"},outputs:{removed:"removed"}})}return t})();const Iet=["fileInput"];function Let(t,n){if(1&t&&(d(0,"label",17),N(1),u()),2&t){const e=p();we("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function Ret(t,n){if(1&t){const e=k();d(0,"button",18),E("click",function(){T(e);const o=p();return w(o.removed.emit(o))}),O(1,"i-bs",19),N(2,"\xa0"),ge(3),b(4,3),ue(),u()}}function xet(t,n){if(1&t){const e=k();d(0,"div",13)(1,"span",20),N(2),u(),d(3,"button",21),E("click",function(){return T(e),w(p().clear())}),O(4,"i-bs",19),d(5,"small"),b(6,4),u()()()}if(2&t){const e=p();_(2),oe(e.filename)}}function Fet(t,n){1&t&&(O(0,"small",15),Fe(1,"safeHtml")),2&t&&m("innerHTML",lt(1,1,p().hint),Fo)}let ket=(()=>{class t extends Ns{constructor(){super(...arguments),this.upload=new Ee}get filename(){return this.value?this.value.substring(this.value.lastIndexOf("/")+1):null}onFile(e){this.file=e.target.files[0]}uploadClicked(){this.upload.emit(this.file),this.clear()}clear(){this.file=void 0,this.fileInput.nativeElement.value=null,this.writeValue(null),this.onChange(null)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-file"]],viewQuery:function(i,o){if(1&i&&Tn(Iet,5),2&i){let s;Mt(s=Tt())&&(o.fileInput=s.first)}},outputs:{upload:"upload"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:16,vars:18,consts:()=>{let e,i,o;return e="\u0631\u0641\u0639",i="\u0625\u0632\u0627\u0644\u0629",o="\u0625\u0632\u0627\u0644\u0629",[["fileInput",""],["inputField",""],e,i,o,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"input-group"],["type","file",1,"form-control",3,"change","id","disabled"],["type","button",1,"btn","btn-outline-primary","py-0",3,"click","disabled"],[1,"form-text","d-flex","align-items-center"],["type","hidden",1,"form-control","small",3,"ngModelChange","ngModel","disabled"],[1,"form-text","text-muted",3,"innerHTML"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],[1,"text-muted"],["type","button",1,"btn","btn-link","btn-sm","text-danger","ms-2",3,"click"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",5)(1,"div",6)(2,"div",7),y(3,Let,2,4,"label",8),y(4,Ret,5,0,"button",9),u(),d(5,"div",10)(6,"input",11,0),E("change",function(a){return T(s),w(o.onFile(a))}),u(),d(8,"button",12),E("click",function(){return T(s),w(o.uploadClicked())}),b(9,2),u()(),y(10,xet,7,1,"div",13),d(11,"input",14,1),Re("ngModelChange",function(a){return T(s),Pe(o.value,a)||(o.value=a),w(a)}),u(),y(13,Fet,2,3,"small",15),d(14,"div",16),N(15),u()()()}2&i&&(we("pb-3",o.error),_(2),we("col-md-3",o.horizontal),_(),P(o.title?3:-1),_(),P(o.removable?4:-1),_(),we("col-md-9",o.horizontal)("is-invalid",o.error),_(),m("id",o.inputId)("disabled",o.disabled),_(2),m("disabled",o.disabled||!o.file),_(2),P(o.filename?10:-1),_(),Le("ngModel",o.value),m("disabled",!0),_(2),P(o.hint?13:-1),_(2),He(" ",o.error," "))},dependencies:[$t,Ci,Gt,Ln,Wt],encapsulation:2})}return t})();var Pi=function(t){return t.String="string",t.Url="url",t.Date="date",t.Boolean="boolean",t.Integer="integer",t.Float="float",t.Monetary="monetary",t.DocumentLink="documentlink",t.Select="select",t.LongText="longtext",t}(Pi||{});const hw=[{id:Pi.Boolean,name:"\u0628\u0648\u0644\u064A\u0627\u0646\u064A"},{id:Pi.Date,name:"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"},{id:Pi.Integer,name:"\u0639\u062F\u062F \u0635\u062D\u064A\u062D"},{id:Pi.Float,name:"\u0631\u0642\u0645"},{id:Pi.Monetary,name:"\u0627\u0644\u0639\u0645\u0644\u0629"},{id:Pi.String,name:"\u0627\u0644\u0646\u0635"},{id:Pi.Url,name:"\u0627\u0644\u0631\u0627\u0628\u0637"},{id:Pi.DocumentLink,name:"\u0631\u0627\u0628\u0637 \u0645\u0633\u062A\u0646\u062F"},{id:Pi.Select,name:"\u062A\u062D\u062F\u064A\u062F"},{id:Pi.LongText,name:"Long Text"}];var Yl=function(t){return t.And="AND",t.Or="OR",t.Not="NOT",t}(Yl||{}),kn=function(t){return t.Exact="exact",t.In="in",t.IsNull="isnull",t.Exists="exists",t.Contains="contains",t.IContains="icontains",t.GreaterThan="gt",t.GreaterThanOrEqual="gte",t.LessThan="lt",t.LessThanOrEqual="lte",t.Range="range",t}(kn||{});const zet={[kn.Exact]:"Equal to",[kn.In]:"In",[kn.IsNull]:"Is null",[kn.Exists]:"Exists",[kn.Contains]:"Contains",[kn.IContains]:"Contains (case-insensitive)",[kn.GreaterThan]:"Greater than",[kn.GreaterThanOrEqual]:"Greater than or equal to",[kn.LessThan]:"Less than",[kn.LessThanOrEqual]:"Less than or equal to",[kn.Range]:"Range"};var si=function(t){return t.Basic="basic",t.Exact="exact",t.String="string",t.Arithmetic="arithmetic",t.Containment="containment",t.Subset="subset",t.Date="date",t}(si||{});const Vet={[si.Basic]:[kn.Exists,kn.IsNull],[si.Exact]:[kn.Exact],[si.String]:[kn.IContains],[si.Arithmetic]:[kn.GreaterThan,kn.GreaterThanOrEqual,kn.LessThan,kn.LessThanOrEqual],[si.Containment]:[kn.Contains],[si.Subset]:[kn.In],[si.Date]:[kn.GreaterThanOrEqual,kn.LessThanOrEqual]},Het={[Pi.String]:[si.Basic,si.Exact,si.String],[Pi.Url]:[si.Basic,si.Exact,si.String],[Pi.Date]:[si.Basic,si.Exact,si.Date],[Pi.Boolean]:[si.Basic,si.Exact],[Pi.Integer]:[si.Basic,si.Exact,si.Arithmetic],[Pi.Float]:[si.Basic,si.Exact,si.Arithmetic],[Pi.Monetary]:[si.Basic,si.Exact,si.String,si.Arithmetic],[Pi.DocumentLink]:[si.Basic,si.Containment],[Pi.Select]:[si.Basic,si.Exact,si.Subset],[Pi.LongText]:[si.Basic,si.String]},Get={[kn.Exact]:"string|boolean",[kn.IsNull]:"boolean",[kn.Exists]:"boolean",[kn.IContains]:"string",[kn.GreaterThanOrEqual]:"string|number",[kn.LessThanOrEqual]:"string|number",[kn.GreaterThan]:"number",[kn.LessThan]:"number",[kn.Contains]:"array",[kn.In]:"array"};var Ql=function(t){return t.Atom="Atom",t.Expression="Expression",t}(Ql||{}),wn=function(t){return t.Document="document",t.SavedView="saved_view",t.Correspondent="correspondent",t.DocumentType="document_type",t.StoragePath="storage_path",t.Tag="tag",t.User="user",t.Group="group",t.MailAccount="mail_account",t.MailRule="mail_rule",t.CustomField="custom_field",t.Workflow="workflow",t}(wn||{});const P4=[{id:0,filtervar:"title__icontains",datatype:"string",multi:!1,default:""},{id:1,filtervar:"content__icontains",datatype:"string",multi:!1,default:""},{id:2,filtervar:"archive_serial_number",datatype:"number",multi:!1},{id:3,filtervar:"correspondent__id",isnull_filtervar:"correspondent__isnull",datatype:wn.Correspondent,multi:!1},{id:26,filtervar:"correspondent__id__in",datatype:wn.Correspondent,multi:!0},{id:27,filtervar:"correspondent__id__none",datatype:wn.Correspondent,multi:!0},{id:25,filtervar:"storage_path__id",isnull_filtervar:"storage_path__isnull",datatype:wn.StoragePath,multi:!1},{id:30,filtervar:"storage_path__id__in",datatype:wn.StoragePath,multi:!0},{id:31,filtervar:"storage_path__id__none",datatype:wn.StoragePath,multi:!0},{id:4,filtervar:"document_type__id",isnull_filtervar:"document_type__isnull",datatype:wn.DocumentType,multi:!1},{id:28,filtervar:"document_type__id__in",datatype:wn.DocumentType,multi:!0},{id:29,filtervar:"document_type__id__none",datatype:wn.DocumentType,multi:!0},{id:5,filtervar:"is_in_inbox",datatype:"boolean",multi:!1,default:!0},{id:6,filtervar:"tags__id__all",datatype:wn.Tag,multi:!0},{id:22,filtervar:"tags__id__in",datatype:wn.Tag,multi:!0},{id:17,filtervar:"tags__id__none",datatype:wn.Tag,multi:!0},{id:7,filtervar:"is_tagged",datatype:"boolean",multi:!1,default:!0},{id:8,filtervar:"created__date__lt",datatype:"date",multi:!1},{id:9,filtervar:"created__date__gt",datatype:"date",multi:!1},{id:43,filtervar:"created__date__lte",datatype:"date",multi:!1},{id:44,filtervar:"created__date__gte",datatype:"date",multi:!1},{id:10,filtervar:"created__year",datatype:"number",multi:!1},{id:11,filtervar:"created__month",datatype:"number",multi:!1},{id:12,filtervar:"created__day",datatype:"number",multi:!1},{id:13,filtervar:"added__date__lt",datatype:"date",multi:!1},{id:14,filtervar:"added__date__gt",datatype:"date",multi:!1},{id:45,filtervar:"added__date__lte",datatype:"date",multi:!1},{id:46,filtervar:"added__date__gte",datatype:"date",multi:!1},{id:15,filtervar:"modified__date__lt",datatype:"date",multi:!1},{id:16,filtervar:"modified__date__gt",datatype:"date",multi:!1},{id:18,filtervar:"archive_serial_number__isnull",datatype:"boolean",multi:!1},{id:23,filtervar:"archive_serial_number__gt",datatype:"number",multi:!1},{id:24,filtervar:"archive_serial_number__lt",datatype:"number",multi:!1},{id:19,filtervar:"title_content",datatype:"string",multi:!1},{id:20,filtervar:"query",datatype:"string",multi:!1},{id:21,filtervar:"more_like_id",datatype:"number",multi:!1},{id:32,filtervar:"owner__id",datatype:"number",multi:!1},{id:33,filtervar:"owner__id__in",datatype:"number",multi:!0},{id:34,filtervar:"owner__isnull",datatype:"boolean",multi:!1},{id:35,filtervar:"owner__id__none",datatype:"number",multi:!0},{id:37,filtervar:"shared_by__id",datatype:"number",multi:!0},{id:36,filtervar:"custom_fields__icontains",datatype:"string",multi:!1},{id:38,filtervar:"custom_fields__id__all",datatype:"number",multi:!0},{id:39,filtervar:"custom_fields__id__in",datatype:"number",multi:!0},{id:40,filtervar:"custom_fields__id__none",datatype:"number",multi:!0},{id:41,filtervar:"has_custom_fields",datatype:"boolean",multi:!1,default:!0},{id:42,filtervar:"custom_field_query",datatype:"string",multi:!1},{id:47,filtervar:"mime_type",datatype:"string",multi:!1}],yw="sort",Pw="reverse",I4="page";function Iw(t,n=!1){let e=oB(t.filterRules);return e[yw]=t.sortField,e[Pw]=t.sortReverse?1:void 0,n&&(e={}),e[I4]=isNaN(t.currentPage)?1:t.currentPage,n&&1==t.currentPage&&(e[I4]=void 0),e}function iB(t){let n=function ett(t){const n=P4.map(i=>i.filtervar).concat(P4.map(i=>i.isnull_filtervar)).filter(i=>void 0!==i);let e=[];return n.filter(i=>t.has(i)).forEach(i=>{const o=P4.find(c=>c.filtervar==i||c.isnull_filtervar==i),s=o.isnull_filtervar==i,r="1"==t.get(i)?null:(-1).toString(),a=t.get(i),l=o.multi?a.split(","):[a];e=e.concat(l.map(c=>("boolean"==o.datatype&&(c=c.replace("1","true").replace("0","false")),{rule_type:o.id,value:s?r:c})))}),e=function Jet(t){const n=[39,38];if(t.filter(e=>n.includes(e.rule_type)).length){const e=t.filter(a=>39===a.rule_type),i=t.filter(a=>38===a.rule_type),r=[i.length?Yl.And:Yl.Or,[...(i.length?i:e).map(a=>[parseInt(a.value),kn.Exists,!0])]];t.push({rule_type:42,value:JSON.stringify(r)})}return t.filter(e=>!n.includes(e.rule_type))}(e),e}(t),e=t.get(yw),i=t.has(Pw)||!t.has(yw)&&!t.has(Pw);return{currentPage:t.has(I4)?parseInt(t.get(I4)):1,filterRules:n,sortField:e,sortReverse:i}}function oB(t){if(t){let n={};for(let e of t){let i=P4.find(o=>o.id==e.rule_type);i.isnull_filtervar&&null==e.value?n[i.isnull_filtervar]=1:i.isnull_filtervar&&e.value==(-1).toString()?n[i.isnull_filtervar]=0:i.multi?n[i.filtervar]=n[i.filtervar]?n[i.filtervar]+","+e.value:e.value:(n[i.filtervar]=e.value,"boolean"==i.datatype&&(n[i.filtervar]="true"==e.value||"1"==e.value?1:0))}return n}return null}let Io=(()=>{class t extends m0{get sortFields(){return this._sortFields}get sortFieldsFullText(){return this._sortFieldsFullText}constructor(){super(),this.permissionsService=M(Ti),this.settingsService=M(Gn),this.customFieldService=M(g1),this.customFields=[],this.resourceName="documents",this.reload()}reload(){this.permissionsService.currentUserCan(ft.View,vt.CustomField)&&this.customFieldService.listAll().subscribe(e=>{this.customFields=e.results,this.setupSortFields()}),this.setupSortFields()}setupSortFields(){this._sortFields=[...fet],this.permissionsService.currentUserCan(ft.View,vt.CustomField)&&this.customFields.forEach(i=>{this._sortFields.push({field:`custom_field_${i.id}`,name:i.name})});let e=[];this.permissionsService.currentUserCan(ft.View,vt.Correspondent)||e.push("correspondent__name"),this.permissionsService.currentUserCan(ft.View,vt.DocumentType)||e.push("document_type__name"),this.permissionsService.currentUserCan(ft.View,vt.User)||e.push("owner"),this.settingsService.get(Ce.NOTES_ENABLED)||e.push("num_notes"),this._sortFields=this._sortFields.filter(i=>!e.includes(i.field)),this._sortFieldsFullText=[...this._sortFields,...met]}listFiltered(e,i,o,s,r,a={}){return this.list(e,i,o,s,Object.assign(a,oB(r)))}listAllFilteredIds(e){return this.listFiltered(1,1e5,null,null,e,{fields:"id"}).pipe(bt(i=>i.results.map(o=>o.id)))}get(e){return this.http.get(this.getResourceUrl(e),{params:{full_perms:!0}})}getPreviewUrl(e,i=!1){let o=new URL(this.getResourceUrl(e,"preview"));return this._searchQuery&&(o.hash=`#search="${this.searchQuery}"`),i&&o.searchParams.append("original","true"),o.toString()}getThumbUrl(e){return this.getResourceUrl(e,"thumb")}getDownloadUrl(e,i=!1){let o=this.getResourceUrl(e,"download");return i&&(o+="?original=true"),o}getNextAsn(){return this.http.get(this.getResourceUrl(null,"next_asn"))}patch(e){return e.remove_inbox_tags=!!this.settingsService.get(Ce.DOCUMENT_EDITING_REMOVE_INBOX_TAGS),super.patch(e)}uploadDocument(e){return this.http.post(this.getResourceUrl(null,"post_document"),e,{reportProgress:!0,observe:"events"})}getMetadata(e){return this.http.get(this.getResourceUrl(e,"metadata"))}bulkEdit(e,i,o){return this.http.post(this.getResourceUrl(null,"bulk_edit"),{documents:e,method:i,parameters:o})}getSelectionData(e){return this.http.post(this.getResourceUrl(null,"selection_data"),{documents:e})}getSuggestions(e){return this.http.get(this.getResourceUrl(e,"suggestions"))}getHistory(e){return this.http.get(this.getResourceUrl(e,"history"))}bulkDownload(e,i="both",o=!1){return this.http.post(this.getResourceUrl(null,"bulk_download"),{documents:e,content:i,follow_formatting:o},{responseType:"blob"})}set searchQuery(e){this._searchQuery=e.trim()}get searchQuery(){return this._searchQuery}emailDocument(e,i,o,s,r){return this.http.post(this.getResourceUrl(e,"email"),{addresses:i,subject:o,message:s,use_archive_version:r})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ttt(t,n){if(1&t&&(d(0,"label",13),N(1),u()),2&t){const e=p();we("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function ntt(t,n){if(1&t){const e=k();d(0,"button",14),E("click",function(){T(e);const o=p();return w(o.removed.emit(o))}),O(1,"i-bs",15),N(2,"\xa0"),ge(3),b(4,1),ue(),u()}}function itt(t,n){if(1&t){const e=k();d(0,"button",16),E("click",function(){return T(e),w(p().nextAsn())}),N(1,"+1"),u()}2&t&&m("disabled",p().disabled)}function ott(t,n){if(1&t&&(d(0,"small",12),N(1),u()),2&t){const e=p();_(),oe(e.hint)}}let F5=(()=>{class t extends Ns{constructor(){super(...arguments),this.documentService=M(Io),this.showAdd=!0,this.step=1}nextAsn(){this.value||this.documentService.getNextAsn().subscribe(e=>{this.value=e,this.onChange(this.value)})}registerOnChange(e){this.onChange=i=>{1===this.step&&-1===i?.toString().indexOf("e")&&(i=parseInt(i,10)),.01===this.step&&(i=parseFloat(i).toFixed(2)),e(i)}}writeValue(e){.01===this.step&&(e=parseFloat(e).toFixed(2)),super.writeValue(e)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-number"]],inputs:{showAdd:"showAdd",step:"step"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:13,vars:19,consts:()=>{let e;return e="\u0625\u0632\u0627\u0644\u0629",[["inputField",""],e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],[1,"input-group"],["type","number",1,"form-control",3,"ngModelChange","change","step","id","ngModel","disabled"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary",3,"disabled"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary",3,"click","disabled"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",2)(1,"div",3)(2,"div",4),y(3,ttt,2,4,"label",5),y(4,ntt,5,0,"button",6),u(),d(5,"div",7)(6,"div",8)(7,"input",9,0),Re("ngModelChange",function(a){return T(s),Pe(o.value,a)||(o.value=a),w(a)}),E("change",function(){return T(s),w(o.onChange(o.value))}),u(),y(9,itt,2,1,"button",10),u(),d(10,"div",11),N(11),u(),y(12,ott,2,1,"small",12),u()()()}2&i&&(we("pb-3",o.error),_(2),we("col-md-3",o.horizontal),_(),P(o.title?3:-1),_(),P(o.removable?4:-1),_(),we("col-md-9",o.horizontal),_(),we("is-invalid",o.error),_(),we("is-invalid",o.error),m("step",o.step)("id",o.inputId),Le("ngModel",o.value),m("disabled",o.disabled),_(2),P(o.showAdd?9:-1),_(2),He(" ",o.error," "),_(),P(o.hint?12:-1))},dependencies:[$t,Ci,g2,Gt,Ln,Wt,Bt,en],encapsulation:2})}return t})();const stt=()=>[];function rtt(t,n){if(1&t&&(d(0,"label",13),N(1),u()),2&t){const e=p();we("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function att(t,n){if(1&t){const e=k();d(0,"button",14),E("click",function(){T(e);const o=p();return w(o.removed.emit(o))}),O(1,"i-bs",15),N(2,"\xa0"),ge(3),b(4,0),ue(),u()}}function ltt(t,n){if(1&t&&(d(0,"span",16),N(1),u()),2&t){const e=n.item,i=p();m("title",e[i.bindLabel]),_(),oe(e[i.bindLabel])}}function ctt(t,n){if(1&t){const e=k();d(0,"button",17),E("click",function(){return T(e),w(p().addItem())}),O(1,"i-bs",18),u()}2&t&&m("disabled",p().disabled)}function dtt(t,n){if(1&t){const e=k();d(0,"button",19),E("click",function(){return T(e),w(p().onFilterDocuments())}),O(1,"i-bs",20),u()}if(2&t){const e=p();m("title",ni(e.filterButtonTitle))("disabled",e.isPrivate||null===e.value)}}function htt(t,n){if(1&t&&(d(0,"small",12),N(1),u()),2&t){const e=p();_(),oe(e.hint)}}function utt(t,n){if(1&t){const e=k();d(0,"a",21),E("click",function(){const o=T(e).$implicit,s=p(2);return s.value=o.id,w(s.onChange(s.value))}),N(1),u(),N(2,"\xa0 ")}if(2&t){const e=n.$implicit;m("routerLink",Yd(2,stt)),_(),oe(e.name)}}function _tt(t,n){if(1&t&&(d(0,"small")(1,"span"),b(2,1),u(),N(3,"\xa0 "),Ke(4,utt,3,3,null,null,jt),u()),2&t){const e=p();_(4),qe(e.getSuggestions())}}let Rr=(()=>{class t extends Ns{constructor(){super(),this.allowNull=!1,this.multiple=!1,this.bindLabel="name",this.showFilter=!1,this.notFoundText="\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0623\u064A\u0629 \u0639\u0646\u0627\u0635\u0631",this.disableCreateNew=!1,this.hideAddButton=!1,this.createNew=new Ee,this.filterDocuments=new Ee,this.addItemRef=this.addItem.bind(this)}set items(e){this._items=e,e&&this.value&&this.checkForPrivateItems(this.value)}writeValue(e){e&&this._items&&(this.checkForPrivateItems(e),this.items=[...this._items]),super.writeValue(e)}checkForPrivateItems(e){Array.isArray(e)?e.length>0&&e.forEach(i=>this.checkForPrivateItem(i)):this.checkForPrivateItem(e)}checkForPrivateItem(e){void 0===this._items.find(i=>i.id===e)&&this._items.push({id:e,name:"\u0634\u062E\u0635\u064A",private:!0})}get items(){return this._items}get allowCreateNew(){return!this.disableCreateNew&&this.createNew.observers.length>0}get isPrivate(){return this.items?.find(e=>e.id===this.value)?.private}getSuggestions(){return this.suggestions&&this.items?this.suggestions.filter(e=>e!=this.value).map(e=>this.items.find(i=>i.id==e)):[]}addItem(e=null){this.createNew.next(e||this._lastSearchTerm),this.clearLastSearchTerm()}clickNew(){this.createNew.next(this._lastSearchTerm),this.clearLastSearchTerm()}clearLastSearchTerm(){this._lastSearchTerm=null}onSearch(e){this._lastSearchTerm=e.term}onBlur(){setTimeout(()=>{this.clearLastSearchTerm()},3e3)}onFilterDocuments(){this.filterDocuments.emit([this.items.find(e=>e.id===this.value)])}get filterButtonTitle(){return "\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0645\u0639 " + this.title + ""}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-select"]],inputs:{items:"items",textColor:"textColor",backgroundColor:"backgroundColor",allowNull:"allowNull",suggestions:"suggestions",placeholder:"placeholder",multiple:"multiple",bindLabel:"bindLabel",showFilter:"showFilter",notFoundText:"notFoundText",disableCreateNew:"disableCreateNew",hideAddButton:"hideAddButton"},outputs:{createNew:"createNew",filterDocuments:"filterDocuments"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:15,vars:32,consts:()=>{let e,i,o;return e="\u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631",i="\u0625\u0632\u0627\u0644\u0629",o="\u0627\u0644\u0627\u0642\u062A\u0631\u0627\u062D\u0627\u062A:",[i,o,[1,"mb-3","paperless-input-select"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],["name","inputId","addTagText",e,"bindValue","id",3,"ngModelChange","change","search","focus","clear","blur","ngModel","disabled","clearable","items","addTag","placeholder","notFoundText","multiple","bindLabel"],["ng-option-tmp",""],["type","button",1,"btn","btn-outline-secondary",3,"disabled"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","title"],[1,"invalid-feedback"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],[3,"title"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","plus"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled","title"],["width","1.2em","height","1.2em","name","filter"],[3,"click","routerLink"]]},template:function(i,o){1&i&&(d(0,"div",2)(1,"div",3)(2,"div",4),y(3,rtt,2,4,"label",5),y(4,att,5,0,"button",6),u(),d(5,"div")(6,"div")(7,"ng-select",7),Re("ngModelChange",function(r){return Pe(o.value,r)||(o.value=r),r}),E("change",function(){return o.onChange(o.value)})("search",function(r){return o.onSearch(r)})("focus",function(){return o.clearLastSearchTerm()})("clear",function(){return o.clearLastSearchTerm()})("blur",function(){return o.onBlur()}),ce(8,ltt,2,2,"ng-template",8),u(),y(9,ctt,2,1,"button",9),y(10,dtt,2,3,"button",10),u(),d(11,"div",11),N(12),u(),y(13,htt,2,1,"small",12),y(14,_tt,6,0,"small"),u()()()),2&i&&(we("disabled",o.disabled),_(2),we("col-md-3",o.horizontal),_(),P(o.title?3:-1),_(),P(o.removable?4:-1),_(),we("col-md-9",o.horizontal),_(),we("input-group",o.allowCreateNew||o.showFilter)("is-invalid",o.error),_(),Qr("color",o.textColor)("background",o.backgroundColor),we("private",o.isPrivate),Le("ngModel",o.value),m("disabled",o.disabled)("clearable",o.allowNull)("items",o.items)("addTag",o.allowCreateNew&&o.addItemRef)("placeholder",o.placeholder)("notFoundText",o.notFoundText)("multiple",o.multiple)("bindLabel",o.bindLabel),_(2),P(o.allowCreateNew&&!o.hideAddButton?9:-1),_(),P(o.showFilter?10:-1),_(2),He(" ",o.error," "),_(),P(o.hint?13:-1),_(),P(o.getSuggestions().length>0?14:-1))},dependencies:[_5,l0,k_,$t,Gt,Ln,Wt,_1,u1,Bt,en],styles:[".paperless-input-select.disabled[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], .paperless-input-select.disabled[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-disabled)!important}  .private .ng-value-container{font-style:italic;opacity:.75}  .is-invalid ng-select .ng-select-container input{padding-right:calc(1.5em + .75rem)!important;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")!important;background-repeat:no-repeat!important;background-position:right calc(.375em + .1875rem) center!important;background-size:calc(.75em + .375rem) calc(.75em + .375rem)!important}.input-group[_ngcontent-%COMP%]   .ng-select-taggable[_ngcontent-%COMP%]:first-child:nth-last-child(2){max-width:calc(100% - 45px)}.input-group[_ngcontent-%COMP%]   .ng-select-taggable[_ngcontent-%COMP%]:first-child:nth-last-child(3){max-width:calc(100% - 90px)}"]})}return t})();const gtt=(t,n)=>({"align-items-center":t,"d-flex":n});function ptt(t,n){1&t&&O(0,"i-bs",13)}function ftt(t,n){if(1&t){const e=k();d(0,"button",15),E("click",function(){T(e);const o=p(2);return w(o.removed.emit(o))}),O(1,"i-bs",16),N(2,"\xa0"),ge(3),b(4,2),ue(),u()}}function mtt(t,n){if(1&t&&(d(0,"div",6)(1,"label",12),N(2),y(3,ptt,1,0,"i-bs",13),u(),y(4,ftt,5,0,"button",14),u()),2&t){const e=p(),i=xe(10);_(),m("for",e.inputId)("ngbTooltip",e.showUnsetNote&&e.isUnset?i:null),_(),He(" ",e.title," "),_(),P(e.showUnsetNote&&e.isUnset?3:-1),_(),P(e.removable?4:-1)}}function vtt(t,n){1&t&&(N(0," \xa0"),O(1,"i-bs",13))}function Ctt(t,n){if(1&t&&(d(0,"label",17),N(1),y(2,vtt,2,0),u()),2&t){const e=p(),i=xe(10);we("text-muted",e.showUnsetNote&&e.isUnset),m("for",e.inputId)("ngbTooltip",e.showUnsetNote&&e.isUnset?i:null),_(),He(" ",e.title," "),_(),P(e.showUnsetNote&&e.isUnset?2:-1)}}function Mtt(t,n){if(1&t&&(d(0,"div",11),N(1),u()),2&t){const e=p();_(),oe(e.hint)}}function Ttt(t,n){1&t&&(d(0,"span",18),b(1,3),u())}let L4=(()=>{class t extends Ns{constructor(){super(),this.showUnsetNote=!1}get isUnset(){return null==this.value}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-switch"]],inputs:{showUnsetNote:"showUnsetNote"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:11,vars:10,consts:()=>{let e,i;return e="\u0625\u0632\u0627\u0644\u0629",i="\u0645\u0644\u0627\u062D\u0638\u0629: \u0644\u0645 \u064A\u062A\u0645 \u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0642\u064A\u0645\u0629 \u0628\u0639\u062F \u0648\u0644\u0646 \u064A\u062A\u0645 \u062A\u0637\u0628\u064A\u0642\u0647\u0627 \u062D\u062A\u0649 \u064A\u062A\u0645 \u062A\u063A\u064A\u064A\u0631\u0647\u0627 \u0628\u0634\u0643\u0644 \u0635\u0631\u064A\u062D",[["inputField",""],["tipContent",""],e,i,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container","col-md-3"],[3,"ngClass"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","blur","id","ngModel","disabled"],["placement","end",1,"form-check-label",3,"text-muted","for","ngbTooltip"],[1,"form-text","text-muted"],["placement","end",1,"form-label",3,"for","ngbTooltip"],["width","0.9em","height","0.9em","name","exclamation-triangle"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],["placement","end",1,"form-check-label",3,"for","ngbTooltip"],[1,"text-light","fst-italic"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",4)(1,"div",5),y(2,mtt,5,5,"div",6),d(3,"div",7)(4,"div",8)(5,"input",9,0),Re("ngModelChange",function(a){return T(s),Pe(o.value,a)||(o.value=a),w(a)}),E("change",function(){return T(s),w(o.onChange(o.value))})("blur",function(){return T(s),w(o.onTouched())}),u(),y(7,Ctt,3,6,"label",10),y(8,Mtt,2,1,"div",11),u()()()(),ce(9,Ttt,2,0,"ng-template",null,1,xt)}2&i&&(_(2),P(o.horizontal?-1:2),_(),m("ngClass",$e(7,gtt,o.horizontal,o.horizontal)),_(2),m("id",o.inputId),Le("ngModel",o.value),m("disabled",o.disabled),_(2),P(o.horizontal?7:-1),_(),P(o.hint?8:-1))},dependencies:[$t,No,Gt,Ln,Wt,wa,Ul,N2],encapsulation:2})}return t})(),k5=(()=>{class t{constructor(){this.sanitizer=M(_T)}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"safeHtml",type:t,pure:!0})}return t})();function wtt(t,n){if(1&t&&(d(0,"label",11),N(1),u()),2&t){const e=p();we("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function btt(t,n){if(1&t){const e=k();d(0,"button",12),E("click",function(){T(e);const o=p();return w(o.removed.emit(o))}),O(1,"i-bs",13),N(2,"\xa0"),ge(3),b(4,1),ue(),u()}}function Stt(t,n){1&t&&(O(0,"small",9),Fe(1,"safeHtml")),2&t&&m("innerHTML",lt(1,1,p().hint),Fo)}let qs=(()=>{class t extends Ns{constructor(){super(),this.placeholder=""}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-text"]],inputs:{autocomplete:"autocomplete",placeholder:"placeholder"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:11,vars:17,consts:()=>{let e;return e="\u0625\u0632\u0627\u0644\u0629",[["inputField",""],e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],["type","text",1,"form-control",3,"ngModelChange","change","id","ngModel","disabled","autocomplete","placeholder"],[1,"form-text","text-muted",3,"innerHTML"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",2)(1,"div",3)(2,"div",4),y(3,wtt,2,4,"label",5),y(4,btt,5,0,"button",6),u(),d(5,"div",7)(6,"input",8,0),Re("ngModelChange",function(a){return T(s),Pe(o.value,a)||(o.value=a),w(a)}),E("change",function(){return T(s),w(o.onChange(o.value))}),u(),y(8,Stt,2,3,"small",9),d(9,"div",10),N(10),u()()()()}2&i&&(we("pb-3",o.error),_(2),we("col-md-3",o.horizontal),_(),P(o.title?3:-1),_(),P(o.removable?4:-1),_(),we("col-md-9",o.horizontal),_(),we("is-invalid",o.error),m("id",o.inputId),Le("ngModel",o.value),m("disabled",o.disabled)("autocomplete",o.autocomplete)("placeholder",o.placeholder),_(2),P(o.hint?8:-1),_(2),He(" ",o.error," "))},dependencies:[$t,Ci,Gt,Ln,Wt,Bt,en,k5],encapsulation:2})}return t})();const Ett=["*"];function Ott(t,n){if(1&t&&(d(0,"span",5),N(1),u()),2&t){const e=p();_(),oe(e.subTitle)}}function Att(t,n){1&t&&(d(0,"a",10),b(1,1),u(),O(2,"i-bs",11)),2&t&&m("href",Lt("https://docs.paperless-ngx.com/",p(3).infoLink),Ts)}function Ntt(t,n){if(1&t&&(O(0,"p",9),y(1,Att,3,2)),2&t){const e=p(2);we("mb-0",!e.infoLink),m("innerHTML",e.info,Fo),_(),P(e.infoLink?1:-1)}}function Dtt(t,n){1&t&&(d(0,"button",7),O(1,"i-bs",8),u(),ce(2,Ntt,2,4,"ng-template",null,0,xt)),2&t&&m("ngbPopover",xe(3))("autoClose",!0)}let hr=(()=>{class t{constructor(){this.titleService=M(EH),this._title="",this.subTitle=""}set title(e){this._title=e,this.titleService.setTitle(`${this.title} - ${di.appTitle}`)}get title(){return this._title}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-page-header"]],inputs:{title:"title",subTitle:"subTitle",info:"info",infoLink:"infoLink"},ngContentSelectors:Ett,decls:8,vars:3,consts:()=>{let e,i;return e="\u0645\u0627 \u0647\u0630\u0627\u061F",i="\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064A\u062F",[["infoPopover",""],i,[1,"row","pt-3","pb-3","pb-md-2","align-items-center"],[1,"col-md","text-truncate"],[1,"text-truncate",2,"line-height","1.4"],[1,"h6","mb-0","d-block","d-md-inline","fw-normal","ms-md-3","text-truncate",2,"line-height","1.4"],[1,"btn-toolbar","col","col-md-auto","gap-2"],["title",e,"type","button",1,"btn","btn-sm","btn-link","text-muted","me-auto","p-0","p-md-2",3,"ngbPopover","autoClose"],["name","question-circle"],[3,"innerHTML"],["target","_blank","referrerpolicy","noopener noreferrer",3,"href"],["width",".8em","height",".8em","name","box-arrow-up-right",1,"ms-1"]]},template:function(i,o){1&i&&(or(),d(0,"div",2)(1,"div",3)(2,"h3",4),N(3),y(4,Ott,2,1,"span",5),y(5,Dtt,4,2),u()(),d(6,"div",6),sr(7),u()()),2&i&&(_(3),He(" ",o.title," "),_(),P(o.subTitle?4:-1),_(),P(o.info?5:-1))},dependencies:[Na,Aa,Bt,en,Y2],styles:["h3[_ngcontent-%COMP%]{min-height:calc(1.325rem + .9vw)}@media (min-width: 1200px){h3[_ngcontent-%COMP%]{min-height:2.8rem}}"]})}return t})();class H1{constructor(){this.PermissionAction=ft,this.PermissionType=vt}}let Ds=(()=>{class t extends H1{constructor(){super(),this.loading=!0,this.show=!1,this.unsubscribeNotifier=new Be}ngOnDestroy(){this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,features:[at]})}return t})();const ytt=(t,n)=>n.key;function Ptt(t,n){if(1&t&&O(0,"pngx-input-select",24),2&t){const e=p().$implicit,i=p(3);m("formControlName",e.key)("error",i.errors[e.key])("items",e.choices)("allowNull",!0)}}function Itt(t,n){if(1&t&&O(0,"pngx-input-number",25),2&t){const e=p().$implicit,i=p(3);m("formControlName",e.key)("error",i.errors[e.key])("showAdd",!1)}}function Ltt(t,n){if(1&t&&O(0,"pngx-input-switch",26),2&t){const e=p().$implicit,i=p(3);m("formControlName",e.key)("error",i.errors[e.key])("showUnsetNote",!0)("horizontal",!0)}}function Rtt(t,n){if(1&t&&O(0,"pngx-input-text",27),2&t){const e=p().$implicit,i=p(3);m("formControlName",e.key)("error",i.errors[e.key])}}function xtt(t,n){if(1&t&&O(0,"pngx-input-text",27),2&t){const e=p().$implicit,i=p(3);m("formControlName",e.key)("error",i.errors[e.key])}}function Ftt(t,n){if(1&t){const e=k();d(0,"pngx-input-file",28),E("upload",function(o){T(e);const s=p().$implicit;return w(p(3).uploadFile(o,s.key))}),u()}if(2&t){const e=p().$implicit,i=p(3);m("formControlName",e.key)("error",i.errors[e.key])}}function ktt(t,n){if(1&t&&(d(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h6"),N(5),d(6,"a",21),O(7,"i-bs",22),u()()(),d(8,"div",23),y(9,Ptt,1,4,"pngx-input-select",24)(10,Itt,1,3,"pngx-input-number",25)(11,Ltt,1,4,"pngx-input-switch",26)(12,Rtt,1,2,"pngx-input-text",27)(13,xtt,1,2,"pngx-input-text",27)(14,Ftt,1,2,"pngx-input-file",27),u()()()()),2&t){let e;const i=n.$implicit,o=p(3);_(5),He(" ",i.title," "),_(),m("href",o.getDocsUrl(i.config_key),Ts),_(3),P((e=i.type)===o.ConfigOptionType.Select?9:e===o.ConfigOptionType.Number?10:e===o.ConfigOptionType.Boolean?11:e===o.ConfigOptionType.String?12:e===o.ConfigOptionType.JSON?13:e===o.ConfigOptionType.File?14:-1)}}function ztt(t,n){if(1&t&&(d(0,"div",15)(1,"div",16),Ke(2,ktt,15,3,"div",17,ytt),u()()),2&t){const e=p().$implicit,i=p();_(2),qe(i.getCategoryOptions(e))}}function Vtt(t,n){if(1&t&&(d(0,"li",6)(1,"a",13),N(2),u(),ce(3,ztt,4,0,"ng-template",14),u()),2&t){const e=n.$implicit;m("ngbNavItem",e),_(2),oe(e)}}let Htt=(()=>{class t extends Ds{get optionCategories(){return Object.values(Ji)}getCategoryOptions(e){return sw.filter(i=>i.category===e)}constructor(){super(),this.configService=M(det),this.toastService=M(eo),this.settingsService=M(Gn),this.ConfigOptionType=Ui,this.configForm=new ti({}),this.errors={},this.configForm.addControl("id",new re),sw.forEach(e=>{this.configForm.addControl(e.key,new re)})}ngOnInit(){this.configService.getConfig().pipe(me(this.unsubscribeNotifier)).subscribe({next:e=>{this.loading=!1,this.initialize(e)},error:e=>{this.loading=!1,this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0633\u062A\u0631\u062F\u0627\u062F \u0627\u0644\u062A\u0647\u064A\u0626\u0629",e)}}),sw.filter(e=>e.type===Ui.JSON).forEach(e=>{this.configForm.get(e.key).addValidators(i=>{if(!i.value||0===i.value.toString().length)return null;try{JSON.parse(i.value)}catch(o){return[{user_args:o}]}return null}),this.configForm.get(e.key).statusChanges.subscribe(i=>{this.errors[e.key]="INVALID"===i?"\u0645\u0644\u0641 JSON \u063A\u064A\u0631 \u0635\u0627\u0644\u062D":null}),this.configForm.get(e.key).updateValueAndValidity()})}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}initialize(e){this.store||(this.store=new Qn(e),this.store.asObservable().pipe(me(this.unsubscribeNotifier)).subscribe(i=>{this.configForm.patchValue(i,{emitEvent:!1})}),this.isDirty$=S4(this.configForm,this.store.asObservable())),this.configForm.patchValue(e),this.initialConfig=e}getDocsUrl(e){return`https://docs.paperless-ngx.com/configuration/#${e}`}saveConfig(){this.loading=!0,this.configService.saveConfig(this.configForm.value).pipe(me(this.unsubscribeNotifier),ut()).subscribe({next:e=>{this.loading=!1,this.initialize(e),this.store.next(e),this.settingsService.initializeSettings().subscribe(),this.toastService.showInfo("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A")},error:e=>{this.loading=!1,this.toastService.showError("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A",e)}})}discardChanges(){this.configForm.reset(this.initialConfig)}uploadFile(e,i){this.loading=!0,this.configService.uploadFile(e,this.configForm.value.id,i).pipe(me(this.unsubscribeNotifier),ut()).subscribe({next:o=>{this.loading=!1,this.initialize(o),this.store.next(o),this.settingsService.initializeSettings().subscribe(),this.toastService.showInfo("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0644\u0641 \u0628\u0646\u062C\u0627\u062D")},error:o=>{this.loading=!1,this.toastService.showError("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0644\u0641",o)}})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-config"]],features:[at],decls:16,vars:8,consts:()=>{let e,i,o,s,r,a;return e="\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062A\u0637\u0628\u064A\u0642",i="\u062E\u064A\u0627\u0631\u0627\u062A \u062A\u0647\u064A\u0626\u0629 \u0627\u0644\u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0639\u0627\u0645\u0629 \u0627\u0644\u062A\u064A \u062A\u0646\u0637\u0628\u0642 \u0639\u0644\u0649 <strong>\u0643\u0644</strong> \u0645\u0633\u062A\u062E\u062F\u0645 \u0644\u0647\u0630\u0627 \u0627\u0644\u062A\u062B\u0628\u064A\u062A \u0645\u0646 Paperless-ngx. \u064A\u0645\u0643\u0646 \u0623\u064A\u0636\u0627 \u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0645\u062A\u063A\u064A\u0631\u0627\u062A \u0627\u0644\u0628\u064A\u0626\u0629 \u0623\u0648 \u0645\u0644\u0641 \u0627\u0644\u062A\u0647\u064A\u0626\u0629 \u0648\u0644\u0643\u0646 \u0627\u0644\u0642\u064A\u0645\u0629 \u0647\u0646\u0627 \u0633\u062A\u0643\u0648\u0646 \u0644\u0647\u0627 \u0627\u0644\u0623\u0633\u0628\u0642\u064A\u0629 \u062F\u0627\u0626\u0645\u0627.",o="\u062A\u062C\u0627\u0647\u0644",s="\u062D\u0641\u0638",r="\u0642\u0631\u0627\u0621\u0629 \u0627\u0644\u0648\u062B\u0627\u0626\u0642 \u0627\u0644\u0645\u062A\u0639\u0644\u0642\u0629 \u0628\u0647\u0630\u0627 \u0627\u0644\u0625\u0639\u062F\u0627\u062F",a="\u062A\u0645\u0643\u064A\u0646",[["nav","ngbNav"],o,s,["title",e,"info",i,"infoLink","configuration"],[1,"pb-4",3,"ngSubmit","formGroup"],["ngbNav","",1,"nav-tabs"],[3,"ngbNavItem"],[1,"border-start","border-end","border-bottom","p-3","mb-3","shadow-sm",3,"ngbNavOutlet"],["role","toolbar",1,"btn-toolbar"],[1,"btn-group","me-2"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"btn-group"],["type","submit",1,"btn","btn-primary",3,"disabled"],["ngbNavLink",""],["ngbNavContent",""],[1,"p-3"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","g-2"],[1,"col"],[1,"card","bg-light"],[1,"card-body"],[1,"card-title"],["title",r,"target","_blank","referrerpolicy","no-referrer",1,"btn","btn-sm","btn-link",3,"href"],["name","info-circle"],[1,"mb-n3"],[3,"formControlName","error","items","allowNull"],[3,"formControlName","error","showAdd"],["title",a,3,"formControlName","error","showUnsetNote","horizontal"],[3,"formControlName","error"],[3,"upload","formControlName","error"]]},template:function(i,o){if(1&i){const s=k();O(0,"pngx-page-header",3),d(1,"form",4),E("ngSubmit",function(){return T(s),w(o.saveConfig())}),d(2,"ul",5,0),Ke(4,Vtt,4,2,"li",6,jt),u(),O(6,"div",7),d(7,"div",8)(8,"div",9)(9,"button",10),Fe(10,"async"),E("click",function(){return T(s),w(o.discardChanges())}),b(11,1),u()(),d(12,"div",11)(13,"button",12),Fe(14,"async"),b(15,2),u()()()()}if(2&i){const s=xe(3);_(),m("formGroup",o.configForm),_(3),qe(o.optionCategories),_(2),m("ngbNavOutlet",s),_(3),m("disabled",o.loading||!1===lt(10,4,o.isDirty$)),_(4),m("disabled",o.loading||!o.configForm.valid||!1===lt(14,6,o.isDirty$))}},dependencies:[hr,Rr,L4,qs,F5,ket,Bl,S2,Z0,$l,E2,O2,W0,A2,$t,Do,Gt,Co,Wt,ao,Mo,Bt,en,s1],encapsulation:2})}return t})(),Gtt=(()=>{class t{constructor(){this.http=M(ba)}list(){return this.http.get(`${di.apiBaseUrl}logs/`)}get(e){return this.http.get(`${di.apiBaseUrl}logs/${e}/`)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $tt=["logContainer"];function Btt(t,n){if(1&t&&(d(0,"li",10)(1,"a",15),N(2),u()()),2&t){const e=n.$implicit;m("ngbNavItem",e),_(2),He(" ",e,".log ")}}function Utt(t,n){1&t&&(ge(0),b(1,3),ue())}function jtt(t,n){if(1&t&&(d(0,"div",11),O(1,"div",16),y(2,Utt,2,0,"ng-container"),u()),2&t){const e=p();_(2),P(e.logFiles.length?-1:2)}}function Ztt(t,n){1&t&&(d(0,"div"),O(1,"div",16),ge(2),b(3,4),ue(),u())}function Wtt(t,n){if(1&t&&(d(0,"p"),N(1),u()),2&t){const e=n.$implicit;Zi(Lt("m-0 p-0 log-entry-",p().getLogLevel(e))),_(),oe(e)}}let Xtt=(()=>{class t extends Ds{constructor(){super(...arguments),this.logService=M(Gtt),this.changedetectorRef=M(Yo),this.logs=[],this.logFiles=[],this.autoRefreshEnabled=!0}ngOnInit(){this.logService.list().pipe(me(this.unsubscribeNotifier)).subscribe(e=>{this.logFiles=e,this.loading=!1,this.logFiles.length>0&&(this.activeLog=this.logFiles[0],this.reloadLogs()),t2(5e3,5e3).pipe(ii(()=>this.autoRefreshEnabled),me(this.unsubscribeNotifier)).subscribe(()=>{this.reloadLogs()})})}ngOnDestroy(){super.ngOnDestroy()}reloadLogs(){this.loading=!0,this.logService.get(this.activeLog).pipe(me(this.unsubscribeNotifier)).subscribe({next:e=>{this.logs=e,this.loading=!1,this.scrollToBottom()},error:()=>{this.logs=[],this.loading=!1}})}getLogLevel(e){return-1!=e.indexOf("[DEBUG]")?10:-1!=e.indexOf("[WARNING]")?30:-1!=e.indexOf("[ERROR]")?40:-1!=e.indexOf("[CRITICAL]")?50:20}scrollToBottom(){this.changedetectorRef.detectChanges(),this.logContainer?.nativeElement.scroll({top:this.logContainer.nativeElement.scrollHeight,left:0,behavior:"auto"})}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-logs"]],viewQuery:function(i,o){if(1&i&&Tn($tt,5),2&i){let s;Mt(s=Tt())&&(o.logContainer=s.first)}},features:[at],decls:16,vars:5,consts:()=>{let e,i,o,s,r;return e="\u0627\u0644\u0633\u062C\u0644\u0627\u062A",i="\u0631\u0627\u062C\u0639 \u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0633\u062C\u0644\u0627\u062A \u0644\u0644\u062A\u0637\u0628\u064A\u0642 \u0648\u0644\u0641\u062D\u0635 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A.",o="\u062A\u062D\u062F\u064A\u062B \u062A\u0644\u0642\u0627\u0626\u064A",s="\u062A\u062D\u0645\u064A\u0644...",r="\u062A\u062D\u0645\u064A\u0644...",[["nav","ngbNav"],["logContainer",""],o,s,r,["title",e,"info",i],[1,"form-check","form-switch"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModelChange","ngModel"],["for","autoRefreshSwitch",1,"form-check-label"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],[1,"ps-2","d-flex","align-items-center"],[1,"mt-2",3,"ngbNavOutlet"],[1,"bg-dark","p-3","text-light","font-monospace","log-container"],[3,"class"],["ngbNavLink",""],["role","status",1,"spinner-border","spinner-border-sm","me-2"]]},template:function(i,o){if(1&i){const s=k();d(0,"pngx-page-header",5)(1,"div",6)(2,"input",7),Re("ngModelChange",function(a){return T(s),Pe(o.autoRefreshEnabled,a)||(o.autoRefreshEnabled=a),w(a)}),u(),d(3,"label",8),b(4,2),u()()(),d(5,"ul",9,0),Re("activeIdChange",function(a){return T(s),Pe(o.activeLog,a)||(o.activeLog=a),w(a)}),E("activeIdChange",function(){return T(s),w(o.reloadLogs())}),Ke(7,Btt,3,2,"li",10,jt),y(9,jtt,3,1,"div",11),u(),O(10,"div",12),d(11,"div",13,1),y(13,Ztt,4,0,"div"),Ke(14,Wtt,2,4,"p",14,Wd),u()}if(2&i){const s=xe(6);_(2),Le("ngModel",o.autoRefreshEnabled),_(3),Le("activeId",o.activeLog),_(2),qe(o.logFiles),_(2),P(o.loading||!o.logFiles.length?9:-1),_(),m("ngbNavOutlet",s),_(3),P(o.loading&&o.logFiles.length?13:-1),_(),qe(o.logs)}},dependencies:[hr,Bl,Z0,$l,E2,O2,W0,A2,$t,No,Gt,Ln,Wt],styles:[".log-entry-10[_ngcontent-%COMP%]{color:#789!important}.log-entry-30[_ngcontent-%COMP%]{color:#ff0!important}.log-entry-40[_ngcontent-%COMP%]{color:red!important}.log-entry-50[_ngcontent-%COMP%]{color:#f08080!important;font-weight:700}.log-container[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 200px);top:70px}.log-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return t})();var ka=function(t){return t.OK="OK",t.ERROR="ERROR",t.WARNING="WARNING",t}(ka||{});let ys=(()=>{class t{constructor(){this.viewContainerRef=M(Gs),this.templateRef=M(dn),this.permissionsService=M(Ti)}ngOnInit(){[].concat(this.pngxIfPermissions).every(e=>this.permissionsService.currentUserCan(e.action,e.type))?this.viewContainerRef.createEmbeddedView(this.templateRef):this.viewContainerRef.clear()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","pngxIfPermissions",""]],inputs:{pngxIfPermissions:"pngxIfPermissions"}})}return t})();const qtt={longDate:"y-MM-dd",mediumDate:"y-MM-dd",shortDate:"y-MM-dd"},R4={year:{label:"\u0627\u0644\u0639\u0627\u0645 \u0627\u0644\u0645\u0627\u0636\u064A",labelPlural:"%s \u0633\u0646\u0648\u0627\u062A \u0645\u0636\u062A",interval:31536e3},month:{label:"\u0622\u062E\u0631 \u0634\u0647\u0631",labelPlural:"%s \u0634\u0647\u0648\u0631 \u0645\u0636\u062A",interval:2592e3},week:{label:"Last week",labelPlural:"%s \u0623\u0633\u0627\u0628\u064A\u0639 \u0645\u0636\u062A",interval:604800},day:{label:"Yesterday",labelPlural:"%s \u0623\u064A\u0627\u0645 \u0645\u0636\u062A",interval:86400},hour:{label:"%s \u0633\u0627\u0639\u0629 \u0645\u0636\u062A",labelPlural:"%s \u0633\u0627\u0639\u0627\u062A \u0645\u0636\u062A",interval:3600},minute:{label:"%s \u062F\u0642\u064A\u0642\u0629 \u0645\u0636\u062A",labelPlural:"%s \u062F\u0642\u0627\u0626\u0642 \u0645\u0636\u062A",interval:60}};let ur=(()=>{class t{constructor(){this.datePipe=M(B9),this.settings=M(Gn);const e=M(ea);this.defaultLocale=e}transform(e,i,o,s){let r=s||this.settings.get(Ce.DATE_LOCALE)||this.defaultLocale,a=i||this.settings.get(Ce.DATE_FORMAT);if("relative"===i){const l=Math.floor((+new Date-+new Date(e))/1e3);if(l<60)return "\u0641\u064A \u0647\u0630\u0647 \u0627\u0644\u0644\u062D\u0638\u0629";let c;for(const h in R4)if(c=Math.floor(l/R4[h].interval),c>0)return(c>1?R4[h].labelPlural:R4[h].label).replace("%s",c.toString())}return"iso-8601"==r?this.datePipe.transform(e,qtt[a],o):this.datePipe.transform(e,i||this.settings.get(Ce.DATE_FORMAT),o,r)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"customDate",type:t,pure:!0})}return t})();const x4_DOCUMENTS="open-documents-service:openDocuments";function sB(t){return null!=t.find(n=>20==n.rule_type||21==n.rule_type)}function F4(t,n){let e=!1;return e=t.length!=n.length||t.some(i=>null==n.find(o=>o.rule_type==i.rule_type&&o.value==i.value)),e}const Qtt=oh.map(t=>t.id).filter(t=>t!==Mi.ADDED);let z5=(()=>{class t{get activeSavedViewId(){return this._activeSavedViewId}get activeSavedViewTitle(){return this.activeListViewState.title}constructor(){this.documentService=M(Io),this.settings=M(Gn),this.router=M(ts),this.isReloading=!1,this.initialized=!1,this.error=null,this.unsubscribeNotifier=new Be,this.listViewStates=new Map,this._activeSavedViewId=null,this.displayFieldsInitialized=!1;let e=localStorage.getItem("document-list-service:currentViewConfig");if(e)try{let i=JSON.parse(e);Object.keys(i).forEach(s=>{null==i[s]&&delete i[s]});let o=Object.assign(this.defaultListViewState(),i);this.listViewStates.set(null,o)}catch{localStorage.removeItem("document-list-service:currentViewConfig")}this.settings.displayFieldsInit.subscribe(()=>{this.displayFieldsInitialized=!0,this.activeListViewState.displayFields&&(this.activeListViewState.displayFields=this.activeListViewState.displayFields.filter(i=>void 0!==this.settings.allDisplayFields.find(o=>o.id===i)),this.saveDocumentListView())})}defaultListViewState(){return{title:null,documents:[],currentPage:1,collectionSize:null,sortField:"created",sortReverse:!0,filterRules:[],selected:new Set}}get activeListViewState(){return this.listViewStates.has(this._activeSavedViewId)||this.listViewStates.set(this._activeSavedViewId,this.defaultListViewState()),this.listViewStates.get(this._activeSavedViewId)}cancelPending(){this.unsubscribeNotifier.next(!0)}activateSavedView(e){this.rangeSelectionAnchorIndex=this.lastRangeSelectionToIndex=null,e?(this._activeSavedViewId=e.id,this.loadSavedView(e)):this._activeSavedViewId=null}activateSavedViewWithQueryParams(e,i){const o=iB(i);this.activateSavedView(e),this.currentPage=o.currentPage}loadSavedView(e,i=!1){i&&(this._activeSavedViewId=null),this.activeListViewState.filterRules=function Ytt(t){if(t){let n=[];for(let e of t)n.push({rule_type:e.rule_type,value:e.value});return n}return null}(e.filter_rules),this.activeListViewState.sortField=e.sort_field,this.activeListViewState.sortReverse=e.sort_reverse,this._activeSavedViewId&&(this.activeListViewState.title=e.name),this.activeListViewState.displayMode=e.display_mode,this.activeListViewState.pageSize=e.page_size,this.activeListViewState.displayFields=e.display_fields,this.reduceSelectionToFilter(),this.router.routerState.snapshot.url.includes("/view/")||this.router.navigate(["view",e.id])}loadFromQueryParams(e){const i=0==e.keys.length;let o=this.listViewStates.get(this._activeSavedViewId);i||(o=iB(e)),null==o&&(o=this.defaultListViewState()),(!this.initialized||i||this.activeListViewState.sortField!==o.sortField||this.activeListViewState.sortReverse!==o.sortReverse||this.activeListViewState.currentPage!==o.currentPage||F4(this.activeListViewState.filterRules,o.filterRules))&&(this.activeListViewState.filterRules=o.filterRules,this.activeListViewState.sortField=o.sortField,this.activeListViewState.sortReverse=o.sortReverse,this.activeListViewState.currentPage=o.currentPage,this.reload(null,i))}reload(e,i=!0){this.cancelPending(),this.isReloading=!0,this.error=null;let o=this.activeListViewState;this.documentService.listFiltered(o.currentPage,o.pageSize??this.pageSize,o.sortField,o.sortReverse,o.filterRules,{truncate_content:!0}).pipe(me(this.unsubscribeNotifier)).subscribe({next:s=>{this.initialized=!0,this.isReloading=!1,o.collectionSize=s.count,o.documents=s.results,this.documentService.getSelectionData(s.all).pipe(ut()).subscribe({next:r=>{this.selectionData=r},error:()=>{this.selectionData=null}}),i&&!this._activeSavedViewId?this.router.navigate(["/documents"],{queryParams:Iw(o),replaceUrl:!this.router.routerState.snapshot.url.includes("?")}):this._activeSavedViewId&&this.router.navigate([],{queryParams:Iw(o,!0),queryParamsHandling:"merge"}),e&&e(),this.rangeSelectionAnchorIndex=this.lastRangeSelectionToIndex=null},error:s=>{if(this.isReloading=!1,1!=o.currentPage&&404==s.status)o.currentPage=1,this.reload();else if(0===o.sortField.indexOf("custom_field")&&void 0===this.settings.allDisplayFields.find(r=>r.id===o.sortField))this.sortField="created";else{let r;this.selectionData=null,r="object"==typeof s.error&&Object.keys(s.error).length>0?Object.keys(s.error).map(a=>{const l=a.split("__")[0],c=s.error[a];return`${this.sortFields.find(h=>h.field?.split("__")[0]==l)?.name??l}: ${c[0]}`}).join(", "):s.error,this.error=r}}})}set filterRules(e){!sB(e)&&"score"==this.activeListViewState.sortField&&(this.activeListViewState.sortField="created"),this.activeListViewState.filterRules=e,this.reload(),this.reduceSelectionToFilter(),this.saveDocumentListView()}get filterRules(){return this.activeListViewState.filterRules}get sortFields(){return this.documentService.sortFields}get sortFieldsFullText(){return this.documentService.sortFieldsFullText}set sortField(e){this.activeListViewState.sortField=e,this.reload(),this.saveDocumentListView()}get sortField(){return this.activeListViewState.sortField}set sortReverse(e){this.activeListViewState.sortReverse=e,this.reload(),this.saveDocumentListView()}get sortReverse(){return this.activeListViewState.sortReverse}get collectionSize(){return this.activeListViewState.collectionSize}get currentPage(){return this.activeListViewState.currentPage}set currentPage(e){this.activeListViewState.currentPage!=e&&(this.activeListViewState.currentPage=e,this.reload(),this.saveDocumentListView())}get documents(){return this.activeListViewState.documents}get selected(){return this.activeListViewState.selected}setSort(e,i){this.activeListViewState.sortField=e,this.activeListViewState.sortReverse=i,this.reload(),this.saveDocumentListView()}set displayMode(e){this.activeListViewState.displayMode=e,this.saveDocumentListView()}get displayMode(){const e=this.activeListViewState.displayMode??ih.SMALL_CARDS;return"details"===e?ih.TABLE:e}set pageSize(e){this.activeListViewState.pageSize=e,this.reload(),this.saveDocumentListView()}get pageSize(){return this.activeListViewState.pageSize??this.settings.get(Ce.DOCUMENT_LIST_SIZE)}get displayFields(){return this.activeListViewState.displayFields??Qtt}set displayFields(e){this.activeListViewState.displayFields=this.displayFieldsInitialized?e?.filter(i=>void 0!==this.settings.allDisplayFields.find(o=>o.id===i)):e,this.saveDocumentListView()}saveDocumentListView(){null==this._activeSavedViewId&&localStorage.setItem("document-list-service:currentViewConfig",JSON.stringify({collectionSize:this.activeListViewState.collectionSize,currentPage:this.activeListViewState.currentPage,filterRules:this.activeListViewState.filterRules,sortField:this.activeListViewState.sortField,sortReverse:this.activeListViewState.sortReverse,displayMode:this.activeListViewState.displayMode,displayFields:this.activeListViewState.displayFields}))}quickFilter(e){this._activeSavedViewId=null,this.filterRules=e,this.router.navigate(["documents"])}getLastPage(){return Math.ceil(this.collectionSize/this.pageSize)}hasNext(e){if(this.documents){let i=this.documents.findIndex(o=>o.id==e);return-1!=i&&(this.currentPage<this.getLastPage()||i+1<this.documents.length)}}hasPrevious(e){if(this.documents){let i=this.documents.findIndex(o=>o.id==e);return-1!=i&&!(0==i&&1==this.currentPage)}}getNext(e){return new Jt(i=>{if(null!=this.documents){let o=this.documents.findIndex(s=>s.id==e);-1!=o&&o+1<this.documents.length?(i.next(this.documents[o+1].id),i.complete()):-1!=o&&this.currentPage<this.getLastPage()?(this.currentPage+=1,this.reload(()=>{i.next(this.documents[0].id),i.complete()})):i.complete()}else i.complete()})}getPrevious(e){return new Jt(i=>{if(null!=this.documents){let o=this.documents.findIndex(s=>s.id==e);0!=o?(i.next(this.documents[o-1].id),i.complete()):this.currentPage>1?(this.currentPage-=1,this.reload(()=>{i.next(this.documents[this.documents.length-1].id),i.complete()})):i.complete()}else i.complete()})}selectNone(){this.selected.clear(),this.rangeSelectionAnchorIndex=this.lastRangeSelectionToIndex=null}reduceSelectionToFilter(){this.selected.size>0&&this.documentService.listAllFilteredIds(this.filterRules).subscribe(e=>{for(let i of this.selected)e.includes(i)||this.selected.delete(i)})}selectAll(){this.documentService.listAllFilteredIds(this.filterRules).subscribe(e=>e.forEach(i=>this.selected.add(i)))}selectPage(){this.selected.clear(),this.documents.forEach(e=>{this.selected.add(e.id)})}isSelected(e){return this.selected.has(e.id)}toggleSelected(e){this.selected.has(e.id)?this.selected.delete(e.id):this.selected.add(e.id),this.rangeSelectionAnchorIndex=this.documentIndexInCurrentView(e.id),this.lastRangeSelectionToIndex=null}selectRangeTo(e){if(null!==this.rangeSelectionAnchorIndex){const i=this.documentIndexInCurrentView(e.id),o=Math.min(this.rangeSelectionAnchorIndex,i),s=Math.max(this.rangeSelectionAnchorIndex,i);null!==this.lastRangeSelectionToIndex&&this.documents.slice(Math.min(this.rangeSelectionAnchorIndex,this.lastRangeSelectionToIndex),Math.max(this.rangeSelectionAnchorIndex,this.lastRangeSelectionToIndex)+1).forEach(r=>{this.selected.delete(r.id)}),this.documents.slice(o,s+1).forEach(r=>{this.selected.add(r.id)}),this.lastRangeSelectionToIndex=i}else this.toggleSelected(e)}documentIndexInCurrentView(e){return this.documents.map(i=>i.id).indexOf(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var k4=function(t){return t.SetPermissions="set_permissions",t.Delete="delete",t}(k4||{});let ec=(()=>{class t extends m0{listFiltered(e,i,o,s,r,a,l){let c=l??{};return r&&(c.name__icontains=r),a&&(c.full_perms=!0),this.list(e,i,o,s,c)}bulk_edit_objects(e,i,o=null,s=null){const r={objects:e,object_type:this.resourceName,operation:i};return i===k4.SetPermissions&&(r.owner=o?.owner,r.permissions=o?.set_permissions,r.merge=s),this.http.post(`${this.baseUrl}bulk_edit_objects/`,r)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rg=(()=>{class t extends ec{constructor(){super(),this.permissionService=M(Ti),this.resourceName="groups"}update(e){return this.getCached(e.id).pipe(_i(i=>(i.permissions?.forEach(o=>{const{typeKey:s,actionKey:r}=this.permissionService.getPermissionKeys(o);(!s||!r)&&e.permissions.push(o)}),super.update(e))))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),V5=(()=>{class t extends m0{constructor(){super(),this.settingsService=M(Gn),this.documentService=M(Io),this.loading=!0,this.savedViews=[],this.savedViewDocumentCounts=new Map,this.unsubscribeNotifier=new Be,this.resourceName="saved_views"}list(e,i,o,s,r){return super.list(e,i,o,s,r).pipe(_n({next:a=>{this.savedViews=a.results,this.loading=!1,this.settingsService.dashboardIsEmpty=0===this.dashboardViews.length},error:()=>{this.loading=!1,this.settingsService.dashboardIsEmpty=!0}}))}reload(e=null){this.listAll().pipe(_n(i=>{e&&e(i)})).subscribe()}get allViews(){return this.savedViews}get sidebarViews(){const e=this.savedViews.filter(o=>o.show_in_sidebar),i=this.settingsService.get(Ce.SIDEBAR_VIEWS_SORT_ORDER);return i?.length>0?i.map(o=>e.find(s=>s.id===o)).concat(e.filter(o=>!i.includes(o.id))).filter(o=>o):[...e]}get dashboardViews(){const e=this.savedViews.filter(o=>o.show_on_dashboard),i=this.settingsService.get(Ce.DASHBOARD_VIEWS_SORT_ORDER);return i?.length>0?i.map(o=>e.find(s=>s.id===o)).concat(e.filter(o=>!i.includes(o.id))).filter(o=>o):[...e]}create(e){return super.create(e).pipe(_n(()=>this.reload()))}patch(e,i=!1){return 0===e.display_fields?.length&&(e.display_fields=null),super.patch(e).pipe(_n(()=>{i&&this.reload()}))}patchMany(e){return ag(e.map(i=>this.patch(i,!1))).pipe(_n(()=>this.reload()))}delete(e){return super.delete(e).pipe(_n(()=>this.reload()))}maybeRefreshDocumentCounts(e=this.sidebarViews){this.settingsService.get(Ce.SIDEBAR_VIEWS_SHOW_COUNT)&&(this.unsubscribeNotifier.next(),e.forEach(i=>{this.documentService.listFiltered(1,1,i.sort_field,i.sort_reverse,i.filter_rules,{fields:"id",truncate_content:!0}).pipe(me(this.unsubscribeNotifier)).subscribe(o=>{this.setDocumentCount(i,o.count)})}))}setDocumentCount(e,i){this.savedViewDocumentCounts.set(e.id,i)}getDocumentCount(e){return this.savedViewDocumentCounts.get(e.id)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vs=(()=>{class t extends ec{constructor(){super(),this.permissionService=M(Ti),this.resourceName="users"}update(e){return this.getCached(e.id).pipe(_i(i=>(i.user_permissions?.forEach(o=>{const{typeKey:s,actionKey:r}=this.permissionService.getPermissionKeys(o);(!s||!r)&&e.user_permissions.push(o)}),super.update(e))))}deactivateTotp(e){return this.http.post(`${this.getResourceUrl(e.id,"deactivate_totp")}`,null)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rB=(()=>{class t{constructor(){this.http=M(ba),this.endpoint="status"}get(){return this.http.get(`${di.apiBaseUrl}${this.endpoint}/`)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aB(t){window.location.href=t}const tnt=(t,n,e)=>({"col-md-9":t,"align-items-center":n,"d-flex":e});function nnt(t,n){if(1&t){const e=k();d(0,"button",12),E("click",function(){T(e);const o=p(2);return w(o.removed.emit(o))}),O(1,"i-bs",13),N(2,"\xa0"),ge(3),b(4,1),ue(),u()}}function int(t,n){if(1&t&&(d(0,"div",4)(1,"label",10),N(2),u(),y(3,nnt,5,0,"button",11),u()),2&t){const e=p();_(),we("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title),_(),P(e.removable?3:-1)}}function ont(t,n){if(1&t&&(d(0,"label",8),N(1),u()),2&t){const e=p();m("for",e.inputId),_(),oe(e.title)}}function snt(t,n){if(1&t&&(d(0,"div",9),N(1),u()),2&t){const e=p();_(),oe(e.hint)}}let p1=(()=>{class t extends Ns{constructor(){super()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-check"]],features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:9,vars:11,consts:()=>{let e;return e="\u0625\u0632\u0627\u0644\u0629",[["inputField",""],e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container","col-md-3"],[3,"ngClass"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","blur","id","ngModel","disabled"],[1,"form-check-label",3,"for"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",2)(1,"div",3),y(2,int,4,5,"div",4),d(3,"div",5)(4,"div",6)(5,"input",7,0),Re("ngModelChange",function(a){return T(s),Pe(o.value,a)||(o.value=a),w(a)}),E("change",function(){return T(s),w(o.onChange(o.value))})("blur",function(){return T(s),w(o.onTouched())}),u(),y(7,ont,2,2,"label",8),y(8,snt,2,1,"div",9),u()()()()}2&i&&(_(2),P(o.horizontal?2:-1),_(),m("ngClass",Wc(7,tnt,o.horizontal,o.horizontal,o.horizontal)),_(2),m("id",o.inputId),Le("ngModel",o.value),m("disabled",o.disabled),_(2),P(o.horizontal?-1:7),_(),P(o.hint?8:-1))},dependencies:[$t,No,Gt,Ln,Wt,wa,Bt,en],encapsulation:2})}return t})();function rnt(t,n){if(1&t&&(d(0,"label",3),N(1),u()),2&t){const e=p();m("for",e.inputId),_(),oe(e.title)}}function ant(t,n){if(1&t){const e=k();d(0,"div",11)(1,"color-slider",12),E("onChangeComplete",function(o){return T(e),w(p().colorChanged(o.color.hex))}),u()()}if(2&t){const e=p();_(),m("color",e.value)}}function lnt(t,n){if(1&t&&(d(0,"small",9),N(1),u()),2&t){const e=p();_(),oe(e.hint)}}let lB=(()=>{class t extends Ns{constructor(){super()}randomize(){this.colorChanged(Q$())}colorChanged(e){this.value=e,this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-color"]],features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:14,vars:13,consts:[["popContent",""],["inputField",""],[1,"mb-3"],[3,"for"],[1,"input-group"],[1,"input-group-text"],["placement","bottom","popoverClass","shadow",1,"form-control",3,"ngModelChange","change","id","ngModel","autoClose","ngbPopover"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["name","dice5"],[1,"form-text","text-muted"],[1,"invalid-feedback"],[1,"pb-3",2,"min-width","200px"],[3,"onChangeComplete","color"]],template:function(i,o){if(1&i){const s=k();d(0,"div",2),y(1,rnt,2,2,"label",3),d(2,"div",4)(3,"span",5),N(4,"\xa0\xa0\xa0"),u(),ce(5,ant,2,1,"ng-template",null,0,xt),d(7,"input",6,1),Re("ngModelChange",function(a){return T(s),Pe(o.value,a)||(o.value=a),w(a)}),E("change",function(){return T(s),w(o.onChange(o.value))}),u(),d(9,"button",7),E("click",function(){return T(s),w(o.randomize())}),O(10,"i-bs",8),u()(),y(11,lnt,2,1,"small",9),d(12,"div",10),N(13),u()()}if(2&i){const s=xe(6);_(),P(o.title?1:-1),_(),we("is-invalid",o.error),_(),Qr("background-color",o.value),_(4),we("is-invalid",o.error),m("id",o.inputId),Le("ngModel",o.value),m("autoClose","outside")("ngbPopover",s),_(4),P(o.hint?11:-1),_(2),He(" ",o.error," ")}},dependencies:[Bt,en,Na,Aa,$t,Ci,Gt,Ln,Wt,TH,PUe],encapsulation:2})}return t})(),Rw=(()=>{class t extends Ns{constructor(){const e=M(Rg);super(),e.listAll().pipe(ut()).subscribe(i=>this.groups=i.results)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-permissions-group"]],features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:3,vars:5,consts:[[1,"paperless-input-select"],["name","inputId","clearable","true","multiple","true","bindLabel","name","bindValue","id",3,"ngModelChange","change","ngModel","disabled","items"]],template:function(i,o){1&i&&(d(0,"div",0)(1,"div")(2,"ng-select",1),Re("ngModelChange",function(r){return Pe(o.value,r)||(o.value=r),r}),E("change",function(){return o.onChange(o.value)}),u()()()),2&i&&(we("disabled",o.disabled),_(2),Le("ngModel",o.value),m("disabled",o.disabled)("items",o.groups))},dependencies:[l0,$t,Gt,Ln,Wt],styles:[".paperless-input-select.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-disabled)!important}"]})}return t})(),xw=(()=>{class t extends Ns{constructor(){const e=M(vs);super(),e.listAll().pipe(ut()).subscribe(i=>this.users=i.results)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-permissions-user"]],features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:3,vars:5,consts:[[1,"paperless-input-select"],["name","inputId","clearable","true","multiple","true","bindLabel","username","bindValue","id",3,"ngModelChange","change","ngModel","disabled","items"]],template:function(i,o){1&i&&(d(0,"div",0)(1,"div")(2,"ng-select",1),Re("ngModelChange",function(r){return Pe(o.value,r)||(o.value=r),r}),E("change",function(){return o.onChange(o.value)}),u()()()),2&i&&(we("disabled",o.disabled),_(2),Le("ngModel",o.value),m("disabled",o.disabled)("items",o.users))},dependencies:[l0,$t,Gt,Ln,Wt],styles:[".paperless-input-select.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-disabled)!important}"]})}return t})();class cnt{_document;_textarea;constructor(n,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),o=i.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",i.setAttribute("aria-hidden","true"),i.value=n,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){const n=this._textarea;let e=!1;try{if(n){const i=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let z4=(()=>{class t{_document=M(Un);constructor(){}copy(e){const i=this.beginCopy(e),o=i.copy();return i.destroy(),o}beginCopy(e){return new cnt(e,this._document)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dnt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Kn({type:t});static \u0275inj=Bn({})}return t})();var Fw=function(t){return t.ConsumeFile="consume_file",t.TrainClassifier="train_classifier",t.SanityCheck="check_sanity",t.IndexOptimize="index_optimize",t}(Fw||{}),xg=function(t){return t.Pending="PENDING",t.Started="STARTED",t.Complete="SUCCESS",t.Failed="FAILURE",t}(xg||{});const unt={bytes:0,KB:0,MB:1,GB:1,TB:2,PB:2};let cB=(()=>{class t{constructor(){this.units=["bytes","KB","MB","GB","TB","PB"]}transform(e=0,i=unt){if(isNaN(parseFloat(String(e)))||!isFinite(e))return"?";let o=0;for(;e>=1024;)e/=1024,o++;const s=this.units[o];return"number"==typeof i?`${e.toFixed(+i)} ${s}`:`${e.toFixed(i[s])} ${s}`}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"fileSize",type:t,pure:!0})}return t})(),V4=(()=>{class t{constructor(){this.http=M(ba),this.baseUrl=di.apiBaseUrl,this.endpoint="tasks",this.fileTasks=[],this.unsubscribeNotifer=new Be}get total(){return this.fileTasks.length}get allFileTasks(){return this.fileTasks.slice(0)}get queuedFileTasks(){return this.fileTasks.filter(e=>e.status==xg.Pending)}get startedFileTasks(){return this.fileTasks.filter(e=>e.status==xg.Started)}get completedFileTasks(){return this.fileTasks.filter(e=>e.status==xg.Complete)}get failedFileTasks(){return this.fileTasks.filter(e=>e.status==xg.Failed)}reload(){this.loading||(this.loading=!0,this.http.get(`${this.baseUrl}${this.endpoint}/?task_name=consume_file&acknowledged=false`).pipe(me(this.unsubscribeNotifer),ut()).subscribe(e=>{this.fileTasks=e.filter(i=>i.task_name==Fw.ConsumeFile),this.loading=!1}))}dismissTasks(e){this.http.post(`${this.baseUrl}tasks/acknowledge/`,{tasks:[...e]}).pipe(ut()).subscribe(i=>{this.reload()})}cancelPending(){this.unsubscribeNotifer.next(!0)}run(e){return this.http.post(`${di.apiBaseUrl}${this.endpoint}/run/`,{task_name:e})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var kw=function(t){return t.STATUS_UPDATE="status_update",t.DOCUMENTS_DELETED="documents_deleted",t}(kw||{}),Cs=function(t){return t[t.STARTED=0]="STARTED",t[t.UPLOADING=1]="UPLOADING",t[t.WORKING=2]="WORKING",t[t.SUCCESS=3]="SUCCESS",t[t.FAILED=4]="FAILED",t}(Cs||{});const dB={document_already_exists:"\u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0645\u0648\u062C\u0648\u062F \u0645\u0633\u0628\u0642\u0627\u064B.",document_already_exists_in_trash:"\u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0645\u0648\u062C\u0648\u062F \u0645\u0633\u0628\u0642\u0627\u064B. \u0645\u0644\u0627\u062D\u0638\u0629: \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0627\u0644\u0645\u0648\u062C\u0648\u062F \u0647\u0648 \u0641\u064A \u0633\u0644\u0629 \u0627\u0644\u0645\u0647\u0645\u0644\u0627\u062A.",asn_already_exists:"\u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0648\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u062A\u0633\u0644\u0633\u0644\u064A \u0644\u0644\u0623\u0631\u0634\u0641\u0629 \u0645\u0648\u062C\u0648\u062F\u0627\u0646 \u0645\u0633\u0628\u0642\u0627\u064B.",asn_already_exists_in_trash:"\u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0630\u0648 \u0631\u0642\u0645 \u0627\u0644\u0623\u0631\u0634\u064A\u0641 \u0627\u0644\u062A\u0633\u0644\u0633\u0644\u064A (ASN) \u0645\u0648\u062C\u0648\u062F \u0645\u0633\u0628\u0642\u0627\u064B. \u0645\u0644\u0627\u062D\u0638\u0629: \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0627\u0644\u0645\u0648\u062C\u0648\u062F \u0647\u0648 \u0641\u064A \u0633\u0644\u0629 \u0627\u0644\u0645\u0647\u0645\u0644\u0627\u062A.",file_not_found:"\u0644\u0645 \u064A\u0639\u062B\u0631 \u0639\u0644\u0649 \u0627\u0644\u0645\u0644\u0641.",pre_consume_script_not_found:"\u0627\u0644\u0628\u0631\u0646\u0627\u0645\u064E\u062C \u0627\u0644\u0646\u0635\u064A (\u0627\u0644\u0633\u0643\u0631\u0628\u062A) \u0644\u0645\u0631\u062D\u0644\u0629 \u0642\u0628\u0644 \u0627\u0644\u0627\u0633\u062A\u0647\u0644\u0627\u0643 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F.",pre_consume_script_error:"\u062E\u0637\u0623 \u0641\u064A \u0623\u062B\u0646\u0627\u0621 \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u064E\u062C \u0627\u0644\u0646\u0635\u064A (\u0627\u0644\u0633\u0643\u0631\u0628\u062A) \u0642\u0628\u0644 \u0645\u0631\u062D\u0644\u0629 \u0627\u0644\u0627\u0633\u062A\u0647\u0644\u0627\u0643.",post_consume_script_not_found:"\u0627\u0644\u0628\u0631\u0646\u0627\u0645\u064E\u062C \u0627\u0644\u0646\u0635\u064A (\u0627\u0644\u0633\u0643\u0631\u0628\u062A) \u0644\u0645\u0631\u062D\u0644\u0629 \u0628\u0639\u062F \u0627\u0644\u0627\u0633\u062A\u0647\u0644\u0627\u0643 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F.",post_consume_script_error:"\u062E\u0637\u0623 \u0641\u064A \u0623\u062B\u0646\u0627\u0621 \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u064E\u062C \u0627\u0644\u0646\u0635\u064A (\u0627\u0644\u0633\u0643\u0631\u0628\u062A) \u0628\u0639\u062F \u0645\u0631\u062D\u0644\u0629 \u0627\u0644\u0627\u0633\u062A\u0647\u0644\u0627\u0643.",new_file:"\u0627\u0633\u062A\u0644\u0645 \u0645\u0644\u0641 \u062C\u062F\u064A\u062F.",unsupported_type:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0644\u0641 \u063A\u064A\u0631 \u0645\u062F\u0639\u0648\u0645.",parsing_document:"\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0648\u062B\u064A\u0642\u0629...",generating_thumbnail:"\u0625\u0646\u0634\u0627\u0621 \u0645\u0635\u063A\u0631\u0627\u062A...",parse_date:"\u0627\u0633\u062A\u0631\u062F\u0627\u062F \u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0645\u0646 \u0627\u0644\u0645\u0633\u062A\u0646\u062F...",save_document:"\u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u062A\u0646\u062F...",finished:"\u0627\u0646\u062A\u0647\u0649."};class hB{constructor(){this.phase=Cs.STARTED}getProgress(){switch(this.phase){case Cs.STARTED:return 0;case Cs.UPLOADING:return this.currentPhaseProgress/this.currentPhaseMaxProgress*.2;case Cs.WORKING:return this.currentPhaseProgress/this.currentPhaseMaxProgress*.8+.2;case Cs.SUCCESS:case Cs.FAILED:return 1}}updateProgress(n,e,i){n>=this.phase&&(this.phase=n,null!=e&&(this.currentPhaseProgress=e),null!=i&&(this.currentPhaseMaxProgress=i))}}let H4=(()=>{class t{constructor(){this.settingsService=M(Gn),this.consumerStatus=[],this.documentDetectedSubject=new Be,this.documentConsumptionFinishedSubject=new Be,this.documentConsumptionFailedSubject=new Be,this.documentDeletedSubject=new Be,this.connectionStatusSubject=new Be}get(e,i){let o=this.consumerStatus.find(r=>r.taskId==e)||this.consumerStatus.find(r=>r.filename==i&&null==r.taskId),s=!1;return o||(o=new hB,this.consumerStatus.push(o),s=!0),o.taskId=e,o.filename=i,{status:o,created:s}}newFileUpload(e){let i=new hB;return i.filename=e,this.consumerStatus.push(i),i}getConsumerStatus(e){return null!=e?this.consumerStatus.filter(i=>i.phase==e):this.consumerStatus}getConsumerStatusNotCompleted(){return this.consumerStatus.filter(e=>e.phase<Cs.SUCCESS)}getConsumerStatusCompleted(){return this.consumerStatus.filter(e=>e.phase==Cs.FAILED||e.phase==Cs.SUCCESS)}connect(){this.disconnect(),this.statusWebSocket=new WebSocket(`${di.webSocketProtocol}//${di.webSocketHost}${di.webSocketBaseUrl}status/`),this.statusWebSocket.onopen=()=>{this.connectionStatusSubject.next(!0)},this.statusWebSocket.onclose=()=>{this.connectionStatusSubject.next(!1)},this.statusWebSocket.onerror=()=>{this.connectionStatusSubject.next(!1)},this.statusWebSocket.onmessage=e=>{const{type:i,data:o}=JSON.parse(e.data);switch(i){case kw.DOCUMENTS_DELETED:this.documentDeletedSubject.next(!0);break;case kw.STATUS_UPDATE:this.handleProgressUpdate(o)}}}canViewMessage(e){const i=this.settingsService.currentUser;return!e.owner_id||i.is_superuser||e.owner_id&&e.owner_id===i.id||e.users_can_view&&e.users_can_view.includes(i.id)||e.groups_can_view&&e.groups_can_view.some(o=>i.groups?.includes(o))}handleProgressUpdate(e){if(!this.canViewMessage(e))return;let i=this.get(e.task_id,e.filename),o=i.status,s=i.created;switch(o.updateProgress(Cs.WORKING,e.current_progress,e.max_progress),e.message&&e.message in dB?o.message=dB[e.message]:e.message&&(o.message=e.message),o.documentId=e.document_id,e.status in Cs&&(o.phase=Cs[e.status]),o.phase){case Cs.STARTED:s&&this.documentDetectedSubject.next(o);break;case Cs.SUCCESS:this.documentConsumptionFinishedSubject.next(o);break;case Cs.FAILED:this.documentConsumptionFailedSubject.next(o)}}fail(e,i){e.message=i,e.phase=Cs.FAILED,this.documentConsumptionFailedSubject.next(e)}disconnect(){this.statusWebSocket&&(this.statusWebSocket.close(),this.statusWebSocket=null)}dismiss(e){let i;i=this.consumerStatus.findIndex(null!=e.taskId?o=>o.taskId==e.taskId:o=>o.filename==e.filename),i>-1&&this.consumerStatus.splice(i,1)}dismissCompleted(){this.consumerStatus=this.consumerStatus.filter(e=>![Cs.SUCCESS,Cs.FAILED].includes(e.phase))}onDocumentConsumptionFinished(){return this.documentConsumptionFinishedSubject}onDocumentConsumptionFailed(){return this.documentConsumptionFailedSubject}onDocumentDetected(){return this.documentDetectedSubject}onDocumentDeleted(){return this.documentDeletedSubject}onConnectionStatus(){return this.connectionStatusSubject.asObservable()}isConnected(){return this.statusWebSocket?.readyState===WebSocket.OPEN}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _nt(t,n){1&t&&(d(0,"div",48)(1,"div"),O(2,"div",52),ge(3),b(4,10),ue(),u()())}function gnt(t,n){1&t&&(d(0,"button",59),O(1,"i-bs",68),u()),2&t&&(p(),m("ngbPopover",xe(14)))}function pnt(t,n){if(1&t&&(N(0),O(1,"br"),N(2)),2&t){const e=p(2);He(" Frontend version: ",e.frontendVersion),_(2),He(" Backend version: ",e.status.pngx_version," ")}}function fnt(t,n){1&t&&O(0,"i-bs",63)}function mnt(t,n){1&t&&O(0,"i-bs",64)}function vnt(t,n){1&t&&N(0),2&t&&He(" ",p(3).status.database.url," ")}function Cnt(t,n){if(1&t&&N(0),2&t){const e=p(3);Jr(" ",e.status.database.url,": ",e.status.database.error," ")}}function Mnt(t,n){1&t&&y(0,vnt,1,1)(1,Cnt,1,2),2&t&&P("OK"===p(2).status.database.status?0:1)}function Tnt(t,n){1&t&&(ge(0),b(1,30),ue(),O(2,"i-bs",63))}function wnt(t,n){if(1&t&&(ge(0),N(1),ue(),O(2,"i-bs",69)),2&t){const e=p(2);_(),He("",e.status.database.migration_status.unapplied_migrations.length," Pending")}}function bnt(t,n){if(1&t&&(d(0,"li",70),N(1),u()),2&t){const e=n.$implicit;_(),oe(e)}}function Snt(t,n){if(1&t&&(d(0,"h6",71),ge(1),b(2,32),ue(),N(3,":"),u(),d(4,"ul"),Ke(5,bnt,2,1,"li",70,jt),u()),2&t){const e=p(3);_(5),qe(e.status.database.migration_status.unapplied_migrations)}}function Ent(t,n){if(1&t&&(d(0,"h6"),ge(1),b(2,31),ue(),N(3,":"),u(),d(4,"span",70),N(5),u(),y(6,Snt,7,0)),2&t){const e=p(2);_(5),oe(e.status.database.migration_status.latest_migration),_(),P(e.status.database.migration_status.unapplied_migrations.length>0?6:-1)}}function Ont(t,n){1&t&&O(0,"i-bs",63)}function Ant(t,n){1&t&&O(0,"i-bs",64)}function Nnt(t,n){1&t&&N(0),2&t&&He(" ",p(3).status.tasks.redis_url," ")}function Dnt(t,n){if(1&t&&N(0),2&t){const e=p(3);Jr(" ",e.status.tasks.redis_url,": ",e.status.tasks.redis_error," ")}}function ynt(t,n){1&t&&y(0,Nnt,1,1)(1,Dnt,1,2),2&t&&P("OK"===p(2).status.tasks.redis_status?0:1)}function Pnt(t,n){1&t&&O(0,"i-bs",63)}function Int(t,n){1&t&&O(0,"i-bs",64)}function Lnt(t,n){1&t&&N(0),2&t&&He(" ",p(3).status.tasks.celery_url," ")}function Rnt(t,n){1&t&&N(0),2&t&&He(" ",p(3).status.tasks.celery_error," ")}function xnt(t,n){1&t&&y(0,Lnt,1,1)(1,Rnt,1,1),2&t&&P("OK"===p(2).status.tasks.celery_status?0:1)}function Fnt(t,n){1&t&&O(0,"i-bs",69)}function knt(t,n){1&t&&O(0,"i-bs",63)}function znt(t,n){if(1&t&&y(0,Fnt,1,0,"i-bs",69)(1,knt,1,0,"i-bs",63),2&t){const e=p(2);P(e.isStale(e.status.tasks.index_last_modified)?0:1)}}function Vnt(t,n){1&t&&O(0,"i-bs",64)}function Hnt(t,n){1&t&&O(0,"div",72)}function Gnt(t,n){if(1&t){const e=k();d(0,"button",74),E("click",function(){T(e);const o=p(3);return w(o.runTask(o.PaperlessTaskName.IndexOptimize))}),O(1,"i-bs",75),N(2,"\xa0 "),ge(3),b(4,33),ue(),u()}}function $nt(t,n){if(1&t&&y(0,Hnt,1,0,"div",72)(1,Gnt,5,0,"button",73),2&t){const e=p(2);P(e.isRunning(e.PaperlessTaskName.IndexOptimize)?0:1)}}function Bnt(t,n){if(1&t&&(d(0,"h6"),ge(1),b(2,34),ue(),N(3,":"),u(),d(4,"span",70),N(5),Fe(6,"customDate"),u()),2&t){const e=p(3);_(5),oe(zo(6,1,e.status.tasks.index_last_modified,"medium"))}}function Unt(t,n){if(1&t&&(d(0,"h6"),ge(1),b(2,35),ue(),N(3,":"),u(),d(4,"span",70),N(5),u()),2&t){const e=p(3);_(5),oe(e.status.tasks.index_error)}}function jnt(t,n){1&t&&y(0,Bnt,7,4)(1,Unt,6,1),2&t&&P("OK"===p(2).status.tasks.index_status?0:1)}function Znt(t,n){1&t&&O(0,"i-bs",69)}function Wnt(t,n){1&t&&O(0,"i-bs",63)}function Xnt(t,n){if(1&t&&y(0,Znt,1,0,"i-bs",69)(1,Wnt,1,0,"i-bs",63),2&t){const e=p(2);P(e.isStale(e.status.tasks.classifier_last_trained)?0:1)}}function Knt(t,n){if(1&t&&O(0,"i-bs",76),2&t){const e=p(2);we("text-danger",e.status.tasks.classifier_status===e.SystemStatusItemStatus.ERROR)("text-warning",e.status.tasks.classifier_status===e.SystemStatusItemStatus.WARNING)}}function qnt(t,n){1&t&&O(0,"div",72)}function Ynt(t,n){if(1&t){const e=k();d(0,"button",74),E("click",function(){T(e);const o=p(3);return w(o.runTask(o.PaperlessTaskName.TrainClassifier))}),O(1,"i-bs",75),N(2,"\xa0 "),ge(3),b(4,36),ue(),u()}}function Qnt(t,n){if(1&t&&y(0,qnt,1,0,"div",72)(1,Ynt,5,0,"button",73),2&t){const e=p(2);P(e.isRunning(e.PaperlessTaskName.TrainClassifier)?0:1)}}function Jnt(t,n){if(1&t&&(d(0,"h6"),ge(1),b(2,37),ue(),N(3,":"),u(),d(4,"span",70),N(5),Fe(6,"customDate"),u()),2&t){const e=p(3);_(5),oe(zo(6,1,e.status.tasks.classifier_last_trained,"medium"))}}function eit(t,n){if(1&t&&(d(0,"h6"),ge(1),b(2,38),ue(),N(3,":"),u(),d(4,"span",70),N(5),u()),2&t){const e=p(3);_(5),oe(e.status.tasks.classifier_error)}}function tit(t,n){1&t&&y(0,Jnt,7,4)(1,eit,6,1),2&t&&P("OK"===p(2).status.tasks.classifier_status?0:1)}function nit(t,n){1&t&&O(0,"i-bs",69)}function iit(t,n){1&t&&O(0,"i-bs",63)}function oit(t,n){if(1&t&&y(0,nit,1,0,"i-bs",69)(1,iit,1,0,"i-bs",63),2&t){const e=p(2);P(e.isStale(e.status.tasks.sanity_check_last_run)?0:1)}}function sit(t,n){if(1&t&&O(0,"i-bs",76),2&t){const e=p(2);we("text-danger",e.status.tasks.sanity_check_status===e.SystemStatusItemStatus.ERROR)("text-warning",e.status.tasks.sanity_check_status===e.SystemStatusItemStatus.WARNING)}}function rit(t,n){1&t&&O(0,"div",72)}function ait(t,n){if(1&t){const e=k();d(0,"button",74),E("click",function(){T(e);const o=p(3);return w(o.runTask(o.PaperlessTaskName.SanityCheck))}),O(1,"i-bs",75),N(2,"\xa0 "),ge(3),b(4,39),ue(),u()}}function lit(t,n){if(1&t&&y(0,rit,1,0,"div",72)(1,ait,5,0,"button",73),2&t){const e=p(2);P(e.isRunning(e.PaperlessTaskName.SanityCheck)?0:1)}}function cit(t,n){if(1&t&&(d(0,"h6"),ge(1),b(2,40),ue(),N(3,":"),u(),d(4,"span",70),N(5),Fe(6,"customDate"),u()),2&t){const e=p(3);_(5),oe(zo(6,1,e.status.tasks.sanity_check_last_run,"medium"))}}function dit(t,n){if(1&t&&(d(0,"h6"),ge(1),b(2,41),ue(),N(3,":"),u(),d(4,"span",70),N(5),u()),2&t){const e=p(3);_(5),oe(e.status.tasks.sanity_check_error)}}function hit(t,n){1&t&&y(0,cit,7,4)(1,dit,6,1),2&t&&P("OK"===p(2).status.tasks.sanity_check_status?0:1)}function uit(t,n){1&t&&(ge(0),b(1,42),ue(),O(2,"i-bs",63))}function _it(t,n){1&t&&(ge(0),b(1,43),ue(),O(2,"i-bs",64))}function git(t,n){if(1&t&&(d(0,"div",49)(1,"div",53)(2,"div",54)(3,"div",55)(4,"h6",56),b(5,11),u()(),d(6,"div",57)(7,"dl",58)(8,"dt"),b(9,12),u(),d(10,"dd"),N(11),y(12,gnt,2,1,"button",59),ce(13,pnt,3,2,"ng-template",null,0,xt),u(),d(15,"dt"),b(16,13),u(),d(17,"dd"),N(18),u(),d(19,"dt"),b(20,14),u(),d(21,"dd"),N(22),u(),d(23,"dt"),b(24,15),u(),d(25,"dd"),O(26,"ngb-progressbar",60),d(27,"span",61),N(28),Fe(29,"fileSize"),ge(30),b(31,16),ue(),N(32),Fe(33,"fileSize"),ge(34),b(35,17),ue(),N(36,")"),u()()()()()(),d(37,"div",53)(38,"div",54)(39,"div",55)(40,"h6",56),b(41,18),u()(),d(42,"div",57)(43,"dl",58)(44,"dt"),b(45,19),u(),d(46,"dd"),N(47),u(),d(48,"dt"),b(49,20),u(),d(50,"dd")(51,"button",62),N(52),y(53,fnt,1,0,"i-bs",63)(54,mnt,1,0,"i-bs",64),u(),ce(55,Mnt,2,1,"ng-template",null,1,xt),u(),d(57,"dt"),b(58,21),u(),d(59,"dd")(60,"button",62),y(61,Tnt,3,0)(62,wnt,3,1),ce(63,Ent,7,2,"ng-template",null,2,xt),u()()()()()(),d(65,"div",53)(66,"div",54)(67,"div",55)(68,"h6",56),b(69,22),u()(),d(70,"div",57)(71,"dl",58)(72,"dt"),b(73,23),u(),d(74,"dd")(75,"button",62),N(76),y(77,Ont,1,0,"i-bs",63)(78,Ant,1,0,"i-bs",64),u(),ce(79,ynt,2,1,"ng-template",null,3,xt),u(),d(81,"dt"),b(82,24),u(),d(83,"dd")(84,"button",62),N(85),y(86,Pnt,1,0,"i-bs",63)(87,Int,1,0,"i-bs",64),u(),ce(88,xnt,2,1,"ng-template",null,4,xt),u()()()()(),d(90,"div",53)(91,"div",54)(92,"div",55)(93,"h6",56),b(94,25),u()(),d(95,"div",57)(96,"dl",58)(97,"dt"),b(98,26),u(),d(99,"dd",65)(100,"button",62),N(101),y(102,znt,2,1)(103,Vnt,1,0,"i-bs",64),u(),y(104,$nt,2,1),u(),ce(105,jnt,2,1,"ng-template",null,5,xt),d(107,"dt"),b(108,27),u(),d(109,"dd",65)(110,"button",62),N(111),y(112,Xnt,2,1)(113,Knt,1,4,"i-bs",66),u(),y(114,Qnt,2,1),u(),ce(115,tit,2,1,"ng-template",null,6,xt),d(117,"dt"),b(118,28),u(),d(119,"dd",65)(120,"button",62),N(121),y(122,oit,2,1)(123,sit,1,4,"i-bs",66),u(),y(124,lit,2,1),u(),ce(125,hit,2,1,"ng-template",null,7,xt),d(127,"dt"),b(128,29),u(),d(129,"dd")(130,"span",67),y(131,uit,3,0)(132,_it,3,0),u()()()()()()()),2&t){const e=xe(56),i=xe(64),o=xe(80),s=xe(89),r=xe(106),a=xe(116),l=xe(126),c=p();_(11),He(" ",c.status.pngx_version," "),_(),P(c.versionMismatch?12:-1),_(6),oe(c.status.install_type),_(4),oe(c.status.server_os),_(4),m("max",c.status.storage.total)("value",c.status.storage.total-c.status.storage.available),_(2),He("",lt(29,33,c.status.storage.available)," "),_(4),He(" (",lt(33,35,c.status.storage.total)," "),_(15),oe(c.status.database.type),_(4),m("ngbPopover",e),_(),He(" ",c.status.database.status," "),_(),P("OK"===c.status.database.status?53:54),_(7),m("ngbPopover",i),_(),P(0===c.status.database.migration_status.unapplied_migrations.length?61:62),_(14),m("ngbPopover",o),_(),He(" ",c.status.tasks.redis_status," "),_(),P("OK"===c.status.tasks.redis_status?77:78),_(7),m("ngbPopover",s),_(),He(" ",c.status.tasks.celery_status," "),_(),P("OK"===c.status.tasks.celery_status?86:87),_(14),m("ngbPopover",r),_(),He(" ",c.status.tasks.index_status," "),_(),P("OK"===c.status.tasks.index_status?102:103),_(2),P(c.currentUserIsSuperUser?104:-1),_(6),m("ngbPopover",a),_(),He(" ",c.status.tasks.classifier_status," "),_(),P("OK"===c.status.tasks.classifier_status?112:113),_(2),P(c.currentUserIsSuperUser?114:-1),_(6),m("ngbPopover",l),_(),He(" ",c.status.tasks.sanity_check_status," "),_(),P("OK"===c.status.tasks.sanity_check_status?122:123),_(2),P(c.currentUserIsSuperUser?124:-1),_(7),P("OK"===c.status.websocket_connected?131:132)}}function pit(t,n){1&t&&(O(0,"i-bs",77),N(1,"\xa0 "))}function fit(t,n){1&t&&(O(0,"i-bs",78),N(1,"\xa0 "))}let mit=(()=>{class t{constructor(){this.activeModal=M(sa),this.clipboard=M(z4),this.systemStatusService=M(rB),this.tasksService=M(V4),this.toastService=M(eo),this.permissionsService=M(Ti),this.websocketStatusService=M(H4),this.SystemStatusItemStatus=ka,this.PaperlessTaskName=Fw,this.frontendVersion=di.version,this.versionMismatch=!1,this.copied=!1,this.runningTasks=new Set,this.unsubscribeNotifier=new Be}get currentUserIsSuperUser(){return this.permissionsService.isSuperUser()}ngOnInit(){this.versionMismatch=di.production&&this.status.pngx_version&&this.frontendVersion&&this.status.pngx_version!==this.frontendVersion,this.versionMismatch&&(this.status.pngx_version=`${this.status.pngx_version} (frontend: ${this.frontendVersion})`),this.status.websocket_connected=this.websocketStatusService.isConnected()?ka.OK:ka.ERROR,this.websocketStatusService.onConnectionStatus().pipe(me(this.unsubscribeNotifier)).subscribe(e=>{this.status.websocket_connected=e?ka.OK:ka.ERROR})}close(){this.activeModal.close()}copy(){this.clipboard.copy(JSON.stringify(this.status,null,4)),this.copied=!0,setTimeout(()=>{this.copied=!1},3e3)}isStale(e,i=24){const o=new Date(e);return(new Date).getTime()-o.getTime()>60*i*60*1e3}isRunning(e){return this.runningTasks.has(e)}runTask(e){this.runningTasks.add(e),this.toastService.showInfo(`Task ${e} started`),this.tasksService.run(e).subscribe({next:()=>{this.runningTasks.delete(e),this.systemStatusService.get().subscribe({next:i=>{Object.assign(this.status,i)}})},error:i=>{this.runningTasks.delete(e),this.toastService.showError(`Failed to start task ${e}, see the logs for more details`,i)}})}ngOnDestroy(){this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-system-status-dialog"]],decls:13,vars:3,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,pe,le,fe,ke,Dt,it,Ft,Yt,Qt,We,kt,ri,Si,ai;return e="\u062D\u0627\u0644\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",i="\u0646\u0633\u062E",o="\u062A\u062D\u0645\u064A\u0644...",s="\u0627\u0644\u0628\u064A\u0626\u0629",r="\u0625\u0635\u062F\u0627\u0631 Paperless-ngx",a="\u0646\u0648\u0639 \u0627\u0644\u062A\u062B\u0628\u064A\u062A",l="\u0646\u0638\u0627\u0645 \u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u062E\u0627\u062F\u0645",c="\u062A\u062E\u0632\u064A\u0646 \u0627\u0644\u0648\u0633\u0627\u0626\u0637",h="\u0645\u064F\u062A\u0627\u062D",g="\u0645\u062C\u0645\u0648\u0639",f="\u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",v="\u0627\u0643\u062A\u0628",C="\u0627\u0644\u062D\u0627\u0644\u0629",S="\u062D\u0627\u0644\u0629 \u0627\u0644\u062A\u0631\u062D\u064A\u0644",D="Tasks Queue",I="\u062D\u0627\u0644\u0629 \u062E\u0627\u062F\u0645 \u0627\u0644\u0640 Redis",L="\u062D\u0627\u0644\u0629 \u062A\u0642\u0646\u064A\u0629 Celery",G="Health",R="\u0641\u0647\u0631\u0633 \u0627\u0644\u0628\u062D\u062B",J="\u0627\u0644\u0645\u064F\u0635\u0646\u0651\u0650\u0641",se="Sanity Checker",ve="WebSocket Connection",pe="\u0645\u062D\u062F\u062B",le="\u0623\u062D\u062F\u062B \u0639\u0645\u0644\u064A\u0629 \u062A\u0631\u062D\u064A\u0644",fe="\u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0645\u0639\u0644\u0642\u0629",ke="Run Task",Dt="\u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B",it="\u062E\u0637\u0623",Ft="Run Task",Yt="\u0622\u062E\u0631 \u062A\u0645\u0631\u064A\u0646",Qt="\u062E\u0637\u0623",We="Run Task",kt="Last Run",ri="\u062E\u0637\u0623",Si="OK",ai="\u062E\u0637\u0623",[["versionPopover",""],["databaseStatus",""],["migrationStatus",""],["redisStatus",""],["celeryStatus",""],["indexStatus",""],["classifierStatus",""],["sanityCheckerStatus",""],e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,pe,le,fe,ke,Dt,it,Ft,Yt,Qt,We,kt,ri,Si,ai,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"w-100","h-100","d-flex","align-items-center","justify-content-center"],[1,"row","row-cols-1","row-cols-md-4","g-3"],[1,"modal-footer"],[1,"btn","btn-sm","d-flex","align-items-center","btn-dark","btn","btn-sm","d-flex","align-items-center","btn-dark","btn-outline-secondary",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"col"],[1,"card","bg-light","h-100"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[1,"card-text"],["triggers","click mouseenter:mouseleave",1,"btn","btn-sm","d-inline","align-items-center","btn-dark","text-uppercase","small",3,"ngbPopover"],["type","primary",1,"mt-2","mb-1",2,"height","4px",3,"max","value"],[1,"small"],["triggers","click mouseenter:mouseleave",1,"btn","btn-sm","d-flex","align-items-center","btn-dark","text-uppercase","small",3,"ngbPopover"],["name","check-circle-fill",1,"text-primary","ms-2","lh-1"],["name","exclamation-triangle-fill",1,"text-danger","ms-2","lh-1"],[1,"d-flex","align-items-center"],["name","exclamation-triangle-fill",1,"ms-2","lh-1",3,"text-danger","text-warning"],[1,"btn","btn-sm","pe-none","align-items-center","btn-dark","text-uppercase","small"],["name","exclamation-triangle-fill",1,"text-danger","lh-1"],["name","exclamation-triangle-fill",1,"text-warning","ms-2","lh-1"],[1,"font-monospace","small"],[1,"mt-3"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],[1,"btn","btn-sm","d-flex","align-items-center","btn-dark","small","ms-2"],[1,"btn","btn-sm","d-flex","align-items-center","btn-dark","small","ms-2",3,"click"],["name","play-fill"],["name","exclamation-triangle-fill",1,"ms-2","lh-1"],["name","clipboard-fill"],["name","clipboard-check-fill"]]},template:function(i,o){1&i&&(d(0,"div",44)(1,"h6",45),b(2,8),u(),d(3,"button",46),E("click",function(){return o.close()}),u()(),d(4,"div",47),y(5,_nt,5,0,"div",48)(6,git,133,37,"div",49),u(),d(7,"div",50)(8,"button",51),E("click",function(){return o.copy()}),y(9,pit,2,0),y(10,fit,2,0),ge(11),b(12,9),ue(),u()()),2&i&&(_(5),P(o.status?6:5),_(4),P(o.copied?-1:9),_(),P(o.copied?10:-1))},dependencies:[nM,dnt,Na,Aa,u5,oM,Bt,en,ur,cB],styles:[".btn.small[_ngcontent-%COMP%]{font-size:.75rem}"]})}return t})();const H5={UKNOWN:"Unknown"},zw={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:H5.UKNOWN},G4={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},_h={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T515|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09|BAH3-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},G1={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:H5.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},uB=[G1.PS4,G1.CHROME_BOOK,G1.MAC,G1.DELL,G1.ASUS,G1.UNKNOWN],vit={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:H5.UKNOWN},Cit={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:H5.UKNOWN.toLowerCase()},_B={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},gB={...G4,..._h,..._B,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},Vw={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Hw={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},Tit=Object.keys(Vw).reduce((t,n)=>(t[n]=Vw[n],t),{}),pB=Object.keys(Hw).reduce((t,n)=>(t[zw[n]]=Hw[n],t),{});var fB=Object.freeze({__proto__:null,BROWSERS:zw,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},BROWSER_VERSIONS_RE:pB,BROWSER_VERSIONS_RE_MAP:Hw,DESKTOP_DEVICES:uB,DEVICES:G1,DEVICES_RE:gB,GENERAL:H5,MOBILES_RE:G4,OS:vit,OS_RE:_B,OS_VERSIONS:Cit,OS_VERSIONS_RE:Tit,OS_VERSIONS_RE_MAP:Vw,TABLETS_RE:_h});class wit{constructor(){this.regexCache=new Map}getRegex(n){return this.regexCache.has(n)||this.regexCache.set(n,new RegExp(n)),this.regexCache.get(n)}test(n,e){return"string"==typeof e&&(e=this.getRegex(e)),e instanceof RegExp?e.test(n):e&&Array.isArray(e.and)?e.and.every(i=>this.test(n,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(n,i)):!(!e||!e.not||this.test(n,e.not))}exec(n,e){return"string"==typeof e&&(e=this.getRegex(e)),e instanceof RegExp?e.exec(n):e&&Array.isArray(e)?e.reduce((i,o)=>i||this.exec(n,o),null):null}}var tc=function(t){return t.Mobile="mobile",t.Tablet="tablet",t.Desktop="desktop",t.Unknown="unknown",t}(tc||{}),Gw=function(t){return t.Portrait="portrait",t.Landscape="landscape",t}(Gw||{});const $w="iPad";let bit=(()=>{class t{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new wit,this.deviceType="",this.orientation="",this.isDesktopMode=!1,G0(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}detectFromMapping(e,i){const o=fB[i.const],s=fB[`${i.const}_RE`];if(o.device&&"device"===o.device&&G0(this.platformId)&&(this.reTree.test(this.userAgent,_h[$w])||typeof navigator<"u"&&navigator.platform&&navigator.platform.includes("Mac")&&navigator.maxTouchPoints>1))return $w;for(const r of Object.keys(o)){const a=s[r];if(a&&this.reTree.test(e,a))return o[r]}return o.UNKNOWN||H5.UKNOWN}detectDesktopMode(e){if(!G0(this.platformId)||typeof window>"u"||this.deviceType===tc.Mobile||this.deviceType===tc.Tablet||this.deviceType!==tc.Desktop)return!1;const i={hasTouch:"ontouchstart"in window||navigator.maxTouchPoints&&navigator.maxTouchPoints>0,hasMobileScreenSize:this.hasMobileScreenDimensions(),hasMobileBrowserSignatures:this.hasMobileBrowserSignatures(e),hasOrientationSupport:"orientation"in window||"onorientationchange"in window,hasDeviceMotion:"DeviceMotionEvent"in window||"DeviceOrientationEvent"in window};return!!i.hasTouch||Object.values(i).filter(Boolean).length>=2}hasMobileScreenDimensions(){if(typeof window>"u"||!window.screen)return!1;const{width:e,height:i}=window.screen,o=Math.max(e,i),s=Math.min(e,i);return o<=1024&&s<=768}hasMobileBrowserSignatures(e){return[/Mobile.*Safari/,/Chrome.*Mobile/,/Android.*Chrome/,/iPhone.*CriOS/,/iPad.*CriOS/,/Mobile.*Firefox/,/FxiOS/].some(o=>o.test(e))}setDeviceInfo(e=this.userAgent){if(e!==this.userAgent&&(this.userAgent=e),this.os=this.detectFromMapping(e,{const:"OS",prop:"os"}),this.browser=this.detectFromMapping(e,{const:"BROWSERS",prop:"browser"}),this.device=this.detectFromMapping(e,{const:"DEVICES",prop:"device"}),this.device===G1.ANDROID){const i=G1,o=gB;for(const s of Object.keys(i)){const r=o[s];if(r&&this.reTree.test(e,r)&&i[s]!==G1.ANDROID){this.device=i[s];break}}}if(this.os_version=this.detectFromMapping(e,{const:"OS_VERSIONS",prop:"os_version"}),this.browser_version="0",this.browser!==zw.UNKNOWN){const i=pB[this.browser];if(i){const o=this.reTree.exec(e,i);o&&(this.browser_version=o[1])}}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Gw.Landscape:Gw.Portrait:H5.UKNOWN,this.deviceType=this.isTablet()?tc.Tablet:this.isMobile(this.userAgent)?tc.Mobile:this.isDesktop(this.userAgent)?tc.Desktop:tc.Unknown,this.isDesktopMode=this.detectDesktopMode(e)}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation,isDesktopMode:this.isDesktopMode}}isMobile(e=this.userAgent){if(this.isTablet(e))return!1;for(const i of Object.keys(G4))if(this.reTree.test(e,G4[i]))return!0;return!1}isTablet(e=this.userAgent){if(G0(this.platformId)&&(this.reTree.test(this.userAgent,_h[$w])||typeof navigator<"u"&&navigator.platform&&navigator.platform.includes("Mac")&&navigator.maxTouchPoints>1))return!0;for(const i of Object.keys(_h))if(this.reTree.test(e,_h[i]))return!0;return!1}isDesktop(e=this.userAgent){return(this.device!==G1.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&uB.includes(this.device)}isDesktopModeEnabled(){return this.isDesktopMode}static#e=this.\u0275fac=function(i){return new(i||t)(Zt(x0))};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),G5=(()=>{class t{transform(e){return e||"(\u0628\u062F\u0648\u0646 \u0639\u0646\u0648\u0627\u0646)"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"documentTitle",type:t,pure:!0})}return t})(),mB=(()=>{class t{constructor(){this.sanitizer=M(_T)}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(null==e?"":e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"safeUrl",type:t,pure:!0})}return t})();const Sit=["AppFrameComponent"];let vB=(()=>{class t{constructor(){this.router=M(ts),this.history=[],this.componentHistory=[],this.router.events.pipe(ii(e=>e instanceof XH)).subscribe(e=>{this.componentHistory[this.componentHistory.length-1]===e.snapshot.data.componentName||Sit.includes(e.snapshot.data.componentName)?this.history[this.history.length-1]=e.snapshot.url.toString():(this.history.push(e.snapshot.url.toString()),this.componentHistory.push(e.snapshot.data.componentName))})}getComponentURLBefore(){return this.componentHistory.length>1?this.history[this.history.length-2]:null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Eit=(t,n)=>n[0];function Oit(t,n){if(1&t&&(N(0," \xa0(macOS\xa0"),Kr(1,"kbd",7),N(2,") ")),2&t){const e=p().$implicit,i=p();_(),zi("innerHTML",i.formatKey(e[0],!0),Fo)}}function Ait(t,n){if(1&t&&(Hn(0,"tr")(1,"td"),N(2),Jn(),Hn(3,"td",6),Kr(4,"kbd",7),y(5,Oit,3,1),Jn()()),2&t){const e=n.$implicit,i=p();_(2),oe(e[1]),_(2),zi("innerHTML",i.formatKey(e[0]),Fo),_(),P(e[0].includes("control")?5:-1)}}const Nit={meta:"&#8984;",control:"&#8963;",shift:"&#8679;",left:"&#8592;",right:"&#8594;",up:"&#8593;",down:"&#8595;",arrowleft:"&#8592;",arrowright:"&#8594;"};let Dit=(()=>{class t{constructor(){this.activeModal=M(sa),this.title="\u0627\u062E\u062A\u0635\u0627\u0631\u0627\u062A \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0641\u0627\u062A\u064A\u062D",this.hotkeys=new Map}close(){this.activeModal.close()}formatKey(e,i=!1){return i&&(e=e.replace("control","meta")),e.split(".").map(o=>Nit[o]||o).join(" ")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-hotkey-dialog"]],decls:10,vars:1,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table"],[1,"modal-footer"],[1,"d-flex","justify-content-end"],[3,"innerHTML"]],template:function(i,o){1&i&&(Hn(0,"div",0)(1,"h4",1),N(2),Jn(),Hn(3,"button",2),Yr("click",function(){return o.close()}),Jn()(),Hn(4,"div",3)(5,"table",4)(6,"tbody"),Ke(7,Ait,6,3,"tr",null,Eit),Jn()()(),Kr(9,"div",5)),2&i&&(_(2),oe(o.title),_(5),qe(o.hotkeys.entries()))},encapsulation:2})}return t})(),Fg=(()=>{class t{constructor(){this.eventManager=M(SC),this.document=M(Un),this.modalService=M(ps),this.defaults={element:this.document},this.hotkeys=new Map,this.addShortcut({keys:"shift.?"}).subscribe(()=>{this.openHelpModal()})}addShortcut(e){const i={...this.defaults,...e},o=`keydown.${i.keys}`;return i.description&&this.hotkeys.set(i.keys,i.description),new Jt(s=>{const r=c=>{(!(c.altKey||c.metaKey||c.ctrlKey)||c.key.toLowerCase().includes("arrow"))&&(c.target instanceof HTMLInputElement||c.target instanceof HTMLTextAreaElement)||(this.modalService.dismissAll(),("Escape"!==c.key||!(this.modalService.hasOpenModals()||this.document.getElementsByClassName("dropdown-menu show").length>0))&&(c.preventDefault(),s.next(c)))},a=this.eventManager.addEventListener(i.element,o,r);let l;return o.includes("control")&&(l=this.eventManager.addEventListener(i.element,o.replace("control","meta"),r)),()=>{a(),l&&l(),this.hotkeys.delete(i.keys)}})}openHelpModal(){this.modalService.open(Dit).componentInstance.hotkeys=this.hotkeys}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yit(t,n){if(1&t&&(Hn(0,"p")(1,"b"),N(2),Jn()()),2&t){const e=p();_(2),oe(e.messageBold)}}function Pit(t,n){1&t&&(Kr(0,"p",4),Fe(1,"safeHtml")),2&t&&zi("innerHTML",lt(1,1,p().message),Fo)}function Iit(t,n){if(1&t&&Kr(0,"ngb-progressbar",9),2&t){const e=p();zi("max",e.secondsTotal)("value",e.seconds)}}function Lit(t,n){if(1&t){const e=k();Hn(0,"button",6),Yr("click",function(){return T(e),w(p().alternative())}),N(1),Jn()}if(2&t){const e=p();Zi(e.alternativeBtnClass),zi("disabled",!e.alternativeButtonEnabled||!e.buttonsEnabled),_(),He(" ",e.alternativeBtnCaption," ")}}let Ki=(()=>{class t extends Ds{constructor(){super(...arguments),this.activeModal=M(sa),this.confirmClicked=new Ee,this.alternativeClicked=new Ee,this.title="\u062A\u0623\u0643\u064A\u062F",this.btnClass="btn-primary",this.btnCaption="\u0623\u0643\u0651\u062F",this.alternativeBtnClass="btn-secondary",this.cancelBtnClass="btn-outline-secondary",this.cancelBtnCaption="\u0625\u0644\u063A\u0627\u0621",this.buttonsEnabled=!0,this.confirmButtonEnabled=!0,this.alternativeButtonEnabled=!0,this.seconds=0,this.secondsTotal=0}cancel(){this.confirmSubject?.next(!1),this.confirmSubject?.complete(),this.activeModal.close()}confirm(){this.confirmClicked.emit(),this.confirmSubject?.next(!0),this.confirmSubject?.complete()}alternative(){this.alternativeClicked.emit(),this.alternativeSubject?.next(!0),this.alternativeSubject?.complete()}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-confirm-dialog"]],inputs:{title:"title",messageBold:"messageBold",message:"message",btnClass:"btnClass",btnCaption:"btnCaption",alternativeBtnClass:"alternativeBtnClass",alternativeBtnCaption:"alternativeBtnCaption",cancelBtnClass:"cancelBtnClass",cancelBtnCaption:"cancelBtnCaption",buttonsEnabled:"buttonsEnabled"},outputs:{confirmClicked:"confirmClicked",alternativeClicked:"alternativeClicked"},features:[at],decls:19,vars:17,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-0",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],[1,"visually-hidden"],["type","dark",2,"height","1px",3,"max","value"],["type","button",1,"btn",3,"class","disabled"]],template:function(i,o){1&i&&(Hn(0,"div",0)(1,"h4",1),N(2),Jn(),Hn(3,"button",2),Yr("click",function(){return o.cancel()}),Jn()(),Hn(4,"div",3),y(5,yit,3,1,"p"),y(6,Pit,2,3,"p",4),Jn(),Hn(7,"div",5)(8,"button",6),Yr("click",function(){return o.cancel()}),Hn(9,"span",7),N(10),Jn()(),Hn(11,"button",6),Yr("click",function(){return o.confirm()}),Hn(12,"span"),N(13),Hn(14,"span",8),N(15),Fe(16,"number"),Jn()(),y(17,Iit,1,2,"ngb-progressbar",9),Jn(),y(18,Lit,2,4,"button",10),Jn()),2&i&&(_(2),oe(o.title),_(3),P(o.messageBold?5:-1),_(),P(o.message?6:-1),_(2),Zi(o.cancelBtnClass),zi("disabled",!o.buttonsEnabled),_(2),oe(o.cancelBtnCaption),_(),Zi(o.btnClass),zi("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled),_(2),He(" ",o.btnCaption," "),_(2),He("",zo(16,14,o.seconds,"1.0-0")," seconds"),_(2),P(o.confirmButtonEnabled?-1:17),_(),P(o.alternativeBtnCaption?18:-1))},dependencies:[j9,k5],encapsulation:2})}return t})(),$4=(()=>{class t{constructor(){this.documentService=M(Io),this.modalService=M(ps),this.MAX_OPEN_DOCUMENTS=5,this.openDocuments=[],this.dirtyDocuments=new Set,this.load()}load(){if(sessionStorage.getItem(x4_DOCUMENTS))try{this.openDocuments=JSON.parse(sessionStorage.getItem(x4_DOCUMENTS))}catch{sessionStorage.removeItem(x4_DOCUMENTS),this.openDocuments=[]}}refreshDocument(e){let i=this.openDocuments.findIndex(o=>o.id==e);i>-1&&this.documentService.get(e).subscribe({next:o=>{this.openDocuments[i]=o,this.save()},error:()=>{this.openDocuments.splice(i,1),this.save()}})}getOpenDocuments(){return this.openDocuments}getOpenDocument(e){return this.openDocuments.find(i=>i.id==e)}openDocument(e){if(null==this.openDocuments.find(i=>i.id==e.id)){if(this.openDocuments.length==this.MAX_OPEN_DOCUMENTS){const o=this.closeDocument(this.openDocuments[this.MAX_OPEN_DOCUMENTS-1]);return o.pipe(ut()).subscribe(s=>{s&&this.finishOpenDocument(e)}),o}this.finishOpenDocument(e)}return Et(!0)}finishOpenDocument(e){this.openDocuments.unshift(e),this.dirtyDocuments.delete(e.id),this.save()}setDirty(e,i,o={}){const s=this.getOpenDocument(e.id);s&&(i?(this.dirtyDocuments.add(e.id),s.__changedFields=Object.keys(o).filter(r=>"id"!==r)):(this.dirtyDocuments.delete(e.id),s.__changedFields=[]),this.save())}hasDirty(){return this.dirtyDocuments.size>0}isDirty(e){return this.dirtyDocuments.has(e.id)}closeDocument(e){let i=this.openDocuments.findIndex(o=>o.id==e.id);if(-1==i)return Et(!0);if(this.dirtyDocuments.has(e.id)){let o=this.modalService.open(Ki,{backdrop:"static"});o.componentInstance.title="\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u063A\u064A\u0631 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",o.componentInstance.messageBold="\u0644\u062F\u064A\u0643 \u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0641\u064A \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u063A\u064A\u0631 \u0645\u062D\u0641\u0648\u0638\u0629"+' "'+e.title+'".',o.componentInstance.message="\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u0625\u063A\u0644\u0627\u0642 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u061F",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",o.componentInstance.confirmClicked.pipe(ut()).subscribe(()=>{o.componentInstance.buttonsEnabled=!1,o.close(),this.openDocuments.splice(i,1),this.dirtyDocuments.delete(e.id),this.save()});const s=new Be;return o.componentInstance.confirmSubject=s,s.asObservable()}return this.openDocuments.splice(i,1),this.save(),Et(!0)}closeAll(){if(this.dirtyDocuments.size){let e=this.modalService.open(Ki,{backdrop:"static"});e.componentInstance.title="\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u063A\u064A\u0631 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",e.componentInstance.messageBold="\u0644\u062F\u064A\u0643 \u062A\u063A\u064A\u064A\u0631\u0627\u062A \u063A\u064A\u0631 \u0645\u062D\u0641\u0648\u0638\u0629.",e.componentInstance.message="\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u0625\u063A\u0644\u0627\u0642 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A\u061F",e.componentInstance.btnClass="btn-warning",e.componentInstance.btnCaption="\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",e.componentInstance.confirmClicked.pipe(ut()).subscribe(()=>{e.componentInstance.buttonsEnabled=!1,e.close(),this.openDocuments.splice(0,this.openDocuments.length),this.dirtyDocuments.clear(),this.save()});const i=new Be;return e.componentInstance.confirmSubject=i,i.asObservable()}return this.openDocuments.splice(0,this.openDocuments.length),this.dirtyDocuments.clear(),this.save(),Et(!0)}save(){try{sessionStorage.setItem(x4_DOCUMENTS,JSON.stringify(this.openDocuments))}catch(e){console.error("Error saving open documents to session storage",e)}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ol=(()=>{class t extends ec{constructor(){super(),this.resourceName="correspondents"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sl=(()=>{class t extends ec{constructor(){super(),this.resourceName="document_types"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nc=(()=>{class t extends ec{constructor(){super(),this.resourceName="storage_paths"}testPath(e,i){return this.http.post(`${this.getResourceUrl()}test/`,{path:e,document:i})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bw=(()=>{class t extends l5{fromModel(e){if(e){if(e.match(/\d\d\d\d\-\d\d\-\d\d/g)){const i=e.split("-");return{year:parseInt(i[0]),month:parseInt(i[1]),day:parseInt(i[2])}}{let i=new Date(e);return{day:i.getDate(),month:i.getMonth()+1,year:i.getFullYear()}}}return null}toModel(e){return e?e.year.toString().padStart(4,"0")+"-"+e.month.toString().padStart(2,"0")+"-"+e.day.toString().padStart(2,"0"):null}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();var Uw=Xt(221);function B4(t){const n=t.modifiers.find(e=>"preventOverflow"===e.name);return n&&(n.options={padding:10}),t}const jw=[{id:6,shortName:"\u062A\u0644\u0642\u0627\u0626\u064A",name:"\u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B: \u062A\u0639\u0644\u0645 \u0627\u0644\u0645\u0637\u0627\u0628\u0642\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u064B\u0627"},{id:1,shortName:"\u0623\u064A \u0643\u0644\u0645\u0629",name:"\u0623\u064A: \u0645\u0633\u062A\u0646\u062F \u064A\u062D\u0648\u064A \u0623\u064A \u0645\u0646 \u0647\u0630\u0647 \u0627\u0644\u0643\u0644\u0645\u0627\u062A (\u0641\u0631\u0627\u063A \u0641\u0627\u0635\u0644)"},{id:2,shortName:"\u0643\u0644 \u0627\u0644\u0643\u0644\u0645\u0627\u062A",name:"\u0623\u064A: \u0645\u0633\u062A\u0646\u062F \u064A\u062D\u0648\u064A \u0643\u0644 \u0647\u0630\u0647 \u0627\u0644\u0643\u0644\u0645\u0627\u062A (\u0641\u0631\u0627\u063A \u0641\u0627\u0635\u0644)"},{id:3,shortName:"\u0627\u0644\u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u062A\u0627\u0645\u0629",name:"\u0628\u0627\u0644\u0636\u0628\u0637: \u064A\u062D\u062A\u0648\u064A \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0639\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0633\u0644\u0633\u0644\u0629 \u0627\u0644\u062D\u0631\u0641\u064A\u0629"},{id:4,shortName:"\u0627\u0644\u062A\u0639\u0628\u064A\u0631 \u0627\u0644\u0646\u0645\u0637\u064A (RegEx)",name:"\u0627\u0644\u062A\u0639\u0628\u064A\u0631 \u0627\u0644\u0646\u0645\u0637\u064A: \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u064A\u0646\u0637\u0628\u0642 \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u062A\u0639\u0628\u064A\u0631 \u0627\u0644\u0646\u0645\u0637\u064A"},{id:5,shortName:"\u0643\u0644\u0645\u0629 \u0636\u0628\u0627\u0628\u064A\u0629",name:"\u0636\u0628\u0627\u0628\u064A: \u064A\u062D\u062A\u0648\u064A \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0639\u0644\u0649 \u0643\u0644\u0645\u0629 \u0645\u0634\u0627\u0628\u0647\u0629 \u0644\u0647\u0630\u0647 \u0627\u0644\u0643\u0644\u0645\u0629"},{id:0,shortName:"\u0644\u0627 \u0634\u064A\u0621",name:"\u0644\u0627 \u0634\u064A\u0621: \u062A\u0639\u0637\u064A\u0644 \u0627\u0644\u0645\u0637\u0627\u0628\u0642\u0629"}];var wi=function(t){return t[t.CREATE=0]="CREATE",t[t.EDIT=1]="EDIT",t}(wi||{});let v0=(()=>{class t extends Ds{constructor(){super(...arguments),this.service=M(m0),this.activeModal=M(sa),this.userService=M(vs),this.settingsService=M(Gn),this.dialogMode=wi.CREATE,this.succeeded=new Ee,this.failed=new Ee,this.networkActive=!1,this.closeEnabled=!1,this.error=null,this.objectForm=this.getForm()}ngOnInit(){null!=this.object&&this.dialogMode!==wi.CREATE?(this.object.permissions&&(this.object.set_permissions=this.object.permissions),this.object.permissions_form={owner:this.object.owner,set_permissions:this.object.permissions},this.objectForm.patchValue(this.object)):(this.objectForm.patchValue(this.object),this.objectForm.patchValue({permissions_form:{owner:this.settingsService.get(Ce.DEFAULT_PERMS_OWNER),set_permissions:{view:{users:this.settingsService.get(Ce.DEFAULT_PERMS_VIEW_USERS),groups:this.settingsService.get(Ce.DEFAULT_PERMS_VIEW_GROUPS)},change:{users:this.settingsService.get(Ce.DEFAULT_PERMS_EDIT_USERS),groups:this.settingsService.get(Ce.DEFAULT_PERMS_EDIT_GROUPS)}}}})),setTimeout(()=>{this.closeEnabled=!0}),this.userService.listAll().subscribe(e=>{this.users=e.results})}getCreateTitle(){return "\u0625\u0646\u0634\u0627\u0621 \u0639\u0646\u0635\u0631 \u062C\u062F\u064A\u062F"}getEditTitle(){return "\u062A\u0639\u062F\u064A\u0644 \u0639\u0646\u0635\u0631"}getTitle(){switch(this.dialogMode){case wi.CREATE:return this.getCreateTitle();case wi.EDIT:return this.getEditTitle()}}getMatchingAlgorithms(){return jw}get patternRequired(){return 6!==this.objectForm?.value.matching_algorithm&&0!==this.objectForm?.value.matching_algorithm}getFormValues(){return Object.assign({},this.objectForm.value)}save(){this.error=null;const e=this.getFormValues(),i=this.objectForm.get("permissions_form")?.value;i&&(e.owner=i.owner,e.set_permissions=i.set_permissions,delete e.permissions_form);var s,o=Object.assign(Object.assign({},this.object),e);switch(this.dialogMode){case wi.CREATE:s=this.service.create(o);break;case wi.EDIT:s=this.service.update(o)}this.networkActive=!0,s.subscribe({next:r=>{this.activeModal.close(),this.succeeded.emit(r)},error:r=>{this.error=r.error,this.networkActive=!1,this.failed.next(r)}})}cancel(){this.activeModal.close()}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275dir=Je({type:t,inputs:{dialogMode:"dialogMode",object:"object"},outputs:{succeeded:"succeeded",failed:"failed"},features:[at]})}return t})();const Hit=["selectOption"];function Git(t,n){if(1&t&&(d(0,"span",10),N(1),u()),2&t){const e=p();_(),He("ID: ",e.object.id)}}function $it(t,n){1&t&&(d(0,"small",15),b(1,3),u())}function Bit(t,n){if(1&t){const e=k();d(0,"div",24),O(1,"input",27,0)(3,"input",28),d(4,"button",29),E("click",function(){const o=T(e).$index;return w(p(2).removeSelectOption(o))}),b(5,5),u()()}if(2&t){const e=n.$index;m("formGroup",p(2).objectForm.controls.extra_data.controls.select_options.controls[e])}}function Uit(t,n){if(1&t){const e=k();d(0,"ngb-pagination",30),Re("pageChange",function(o){T(e);const s=p(2);return Pe(s.selectOptionsPage,o)||(s.selectOptionsPage=o),w(o)}),u()}if(2&t){const e=p(2);m("pageSize",e.SELECT_OPTION_PAGE_SIZE)("collectionSize",e.allSelectOptions.length),Le("page",e.selectOptionsPage),m("maxSize",5)}}function jit(t,n){1&t&&(d(0,"small",26),b(1,6),u())}function Zit(t,n){if(1&t){const e=k();d(0,"button",21),E("click",function(){return T(e),w(p().addSelectOption())}),d(1,"span"),b(2,4),u(),N(3,"\xa0"),O(4,"i-bs",22),u(),d(5,"div",23),Ke(6,Bit,6,1,"div",24,jt),u(),y(8,Uit,1,4,"ngb-pagination",25),y(9,jit,2,0,"small",26)}if(2&t){const e=p();_(6),qe(e.objectForm.controls.extra_data.controls.select_options.controls),_(2),P(e.allSelectOptions.length>e.SELECT_OPTION_PAGE_SIZE?8:-1),_(),P(null!=e.object&&e.object.id?9:-1)}}function Wit(t,n){1&t&&(d(0,"div",17),O(1,"pngx-input-text",31),u())}let Z4=(()=>{class t extends v0{get allSelectOptions(){return this._allSelectOptions}get selectOptionsPage(){return this._selectOptionsPage}set selectOptionsPage(e){this._selectOptionsPage=e,this.updateSelectOptions()}get selectOptions(){return this.objectForm.controls.extra_data.controls.select_options}constructor(){super(),this.CustomFieldDataType=Pi,this.SELECT_OPTION_PAGE_SIZE=8,this._allSelectOptions=[],this.service=M(g1),this.userService=M(vs),this.settingsService=M(Gn)}ngOnInit(){super.ngOnInit(),this.typeFieldDisabled&&this.objectForm.get("data_type").disable(),this.object?.data_type===Pi.Select&&(this._allSelectOptions=[...this.object.extra_data.select_options??[]],this.selectOptionsPage=1)}ngAfterViewInit(){this.selectOptionInputs.changes.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.selectOptionInputs.last?.nativeElement.focus()}),this.objectForm.valueChanges.pipe(me(this.unsubscribeNotifier)).subscribe(e=>{this.objectForm.get("extra_data.select_options")?.value.forEach((i,o)=>{this._allSelectOptions[o+8*(this.selectOptionsPage-1)]=i})})}getCreateTitle(){return "\u0625\u0646\u0634\u0627\u0621 \u062D\u0642\u0644 \u0645\u062E\u0635\u0635 \u062C\u062F\u064A\u062F"}getEditTitle(){return "\u062A\u062D\u0631\u064A\u0631 \u062D\u0642\u0644 \u0645\u062E\u0635\u0635"}getForm(){return new ti({name:new re(null),data_type:new re(null),extra_data:new ti({select_options:new p2([]),default_currency:new re(null)})})}getFormValues(){const e=super.getFormValues();return this.objectForm.get("data_type")?.value===Pi.Select&&(e.extra_data.select_options=this._allSelectOptions),e}getDataTypes(){return hw}get typeFieldDisabled(){return this.dialogMode===wi.EDIT}updateSelectOptions(){this.selectOptions.clear(),this._allSelectOptions.slice(8*(this.selectOptionsPage-1),8*this.selectOptionsPage).forEach(e=>this.selectOptions.push(new ti({label:new re(e.label),id:new re(e.id)})))}addSelectOption(){this._allSelectOptions.push({label:null,id:null}),this.selectOptionsPage=Math.ceil(this.allSelectOptions.length/8)}removeSelectOption(e){this.selectOptions.removeAt(e),this._allSelectOptions.splice(e+8*(this.selectOptionsPage-1),1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-custom-field-edit-dialog"]],viewQuery:function(i,o){if(1&i&&Tn(Hit,5),2&i){let s;Mt(s=Tt())&&(o.selectOptionInputs=s)}},features:[at],decls:18,vars:11,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f;return e="\u0627\u0633\u0645",i="\u0646\u0648\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",o="\u0625\u0644\u063A\u0627\u0621",s="\u062D\u0641\u0638",r="\u0644\u0627 \u064A\u0645\u0643\u0646 \u062A\u063A\u064A\u064A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0639\u062F \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0642\u0644",a="\u0625\u0636\u0627\u0641\u0629 \u062E\u064A\u0627\u0631",l="\u062D\u0630\u0641",c="Warning: existing instances of this field will retain their current value index (e.g. option #1, #2, #3) after editing the options here",h="\u0627\u0644\u0639\u0645\u0644\u0629 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A\u0629",g="\u0631\u0645\u0632 \u062B\u0644\u0627\u062B\u064A \u0627\u0644\u062D\u0631\u0648\u0641 \u0644\u0644\u0639\u0645\u0644\u0629",f="\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0645\u062D\u0644\u064A\u0629",[["selectOption",""],o,s,r,a,l,c,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","data_type",3,"items"],[1,"d-block","mt-n2"],[3,"formGroup"],[1,"my-3"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-sm","btn-primary","my-2",3,"click"],["name","plus-circle"],["formArrayName","select_options"],[1,"input-group","input-group-sm","my-2",3,"formGroup"],["size","sm",1,"d-flex","justify-content-end",3,"pageSize","collectionSize","page","maxSize"],[1,"d-block","mt-2"],["type","text","formControlName","label","autocomplete","off",1,"form-control"],["type","hidden","formControlName","id"],["type","button",1,"btn","btn-outline-danger",3,"click"],["size","sm",1,"d-flex","justify-content-end",3,"pageChange","pageSize","collectionSize","page","maxSize"],["title",h,"hint",g,"formControlName","default_currency","placeholder",f,"autocomplete","off"]]},template:function(i,o){if(1&i&&(d(0,"form",7),E("ngSubmit",function(){return o.save()}),d(1,"div",8)(2,"h4",9),N(3),u(),y(4,Git,2,1,"span",10),d(5,"button",11),E("click",function(){return o.cancel()}),u()(),d(6,"div",12),O(7,"pngx-input-text",13)(8,"pngx-input-select",14),y(9,$it,2,0,"small",15),d(10,"div",16),y(11,Zit,10,2)(12,Wit,2,0,"div",17),u()(),d(13,"div",18)(14,"button",19),E("click",function(){return o.cancel()}),b(15,1),u(),d(16,"button",20),b(17,2),u()()()),2&i){let s;m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),P(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(2),m("error",null==o.error?null:o.error.name),_(),m("items",o.getDataTypes()),_(),P(o.typeFieldDisabled?9:-1),_(),m("formGroup",o.objectForm.controls.extra_data),_(),P((s=o.objectForm.get("data_type").value)===o.CustomFieldDataType.Select?11:s===o.CustomFieldDataType.Monetary?12:-1),_(3),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive)}},dependencies:[Rr,qs,$t,Do,Ci,Gt,Co,Wt,ao,Mo,h_,R1,r0,Bt,en],encapsulation:2})}return t})();const Xit=["listFilterTextInput"],Kit=["button"],qit=(t,n)=>n.id;function Yit(t,n){if(1&t){const e=k();d(0,"button",16,2),E("click",function(){const o=T(e).$implicit;return w(p().addField(o))}),d(2,"small",17),N(3),d(4,"small",18),N(5),u()()()}if(2&t){const e=n.$implicit,i=p();_(3),He("",e.name," "),_(2),oe(i.getDataTypeLabel(e.data_type))}}function Qit(t,n){if(1&t){const e=k();d(0,"button",19,2),E("click",function(){T(e);const o=p();return w(o.createField(o.filterText))}),d(2,"small"),O(3,"i-bs",20),N(4,"\xa0"),ge(5),b(6,4),ue(),u()()}2&t&&m("disabled",!p().canCreateFields)}let Jit=(()=>{class t extends Ds{get filteredFields(){return this.unusedFields.filter(e=>!this.filterText||e.name.toLowerCase().includes(this.filterText.toLowerCase()))}get canCreateFields(){return this.permissionsService.currentUserCan(ft.Add,vt.CustomField)}constructor(){super(),this.customFieldsService=M(g1),this.modalService=M(ps),this.toastService=M(eo),this.permissionsService=M(Ti),this.popperOptions=B4,this.disabled=!1,this.existingFields=[],this.added=new Ee,this.created=new Ee,this.customFields=[],this.unusedFields=[],this.getFields()}getFields(){this.customFieldsService.listAll().pipe(ut(),me(this.unsubscribeNotifier)).subscribe(e=>{this.customFields=e.results,this.updateUnusedFields()})}updateUnusedFields(){this.unusedFields=this.customFields.filter(e=>!this.existingFields?.find(i=>i.field===e.id))}onOpenClose(e){e?setTimeout(()=>{this.listFilterTextInput.nativeElement.focus()},100):this.filterText=void 0,this.updateUnusedFields()}addField(e){this.added.emit(e),this.updateUnusedFields()}createField(e=null){const i=this.modalService.open(Z4);e&&(i.componentInstance.object={name:e}),i.componentInstance.succeeded.pipe(me(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("\u0627\u0644\u062D\u0642\u0644 \u0627\u0644\u0645\u062D\u0641\u0648\u0638 \"" + o.name + "\"."),this.customFieldsService.clearCache(),this.getFields(),this.created.emit(o),setTimeout(()=>this.addField(o),100)}),i.componentInstance.failed.pipe(me(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u062D\u0642\u0644.",o)})}getDataTypeLabel(e){return hw.find(i=>i.id===e)?.name}listFilterEnter(){1===this.filteredFields.length?this.addField(this.filteredFields[0]):this.filterText&&0===this.filteredFields.length&&this.canCreateFields&&this.createField(this.filterText)}focusNextButtonItem(e=!0){this.keyboardIndex=Math.min(this.buttons.length-1,this.keyboardIndex+1),e&&this.setButtonItemFocus()}focusPreviousButtonItem(e=!0){this.keyboardIndex=Math.max(0,this.keyboardIndex-1),e&&this.setButtonItemFocus()}setButtonItemFocus(){this.buttons.get(this.keyboardIndex)?.nativeElement.focus()}listKeyDown(e){switch(e.key){case"ArrowDown":e.target instanceof HTMLInputElement?(!this.filterText||e.target.selectionStart===this.filterText.length)&&(this.keyboardIndex=-1,this.focusNextButtonItem(),e.preventDefault()):e.target instanceof HTMLButtonElement&&(this.focusNextButtonItem(),e.preventDefault());break;case"ArrowUp":e.target instanceof HTMLButtonElement&&(0===this.keyboardIndex?this.listFilterTextInput.nativeElement.focus():this.focusPreviousButtonItem(),e.preventDefault());break;case"Tab":e.target instanceof HTMLInputElement?this.keyboardIndex=0:e.target instanceof HTMLButtonElement&&(e.shiftKey?this.keyboardIndex>0&&this.focusPreviousButtonItem(!1):this.focusNextButtonItem(!1))}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-custom-fields-dropdown"]],viewQuery:function(i,o){if(1&i&&(Tn(Xit,5),Tn(Kit,5)),2&i){let s;Mt(s=Tt())&&(o.listFilterTextInput=s.first),Mt(s=Tt())&&(o.buttons=s)}},inputs:{documentId:"documentId",disabled:"disabled",existingFields:"existingFields"},outputs:{added:"added",created:"created"},features:[at],decls:17,vars:4,consts:()=>{let e,i,o;return e="\u062D\u0642\u0648\u0644 \u0627\u0644\u0628\u062D\u062B",i="\u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u062E\u0635\u0635\u0629",o="\u0625\u0646\u0634\u0627\u0621 \u062D\u0642\u0644 \u062C\u062F\u064A\u062F",[["fieldDropdown","ngbDropdown"],["listFilterTextInput",""],["button",""],i,o,["ngbDropdown","","placement","bottom-end",3,"openChange","popperOptions"],["id","customFieldsDropdown","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary",3,"disabled"],["name","ui-radios"],[1,"d-none","d-sm-inline"],["ngbDropdownMenu","","aria-labelledby","customFieldsDropdown",1,"shadow","custom-fields-dropdown"],[1,"list-group","list-group-flush",3,"keydown"],[1,"list-group-item"],[1,"input-group","input-group-sm"],["type","text","placeholder",e,1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"list-group-item","list-group-item-action","bg-light"],[1,"list-group-item","list-group-item-action","bg-light",3,"disabled"],[1,"list-group-item","list-group-item-action","bg-light",3,"click"],[1,"d-flex"],[1,"ms-auto","text-muted"],[1,"list-group-item","list-group-item-action","bg-light",3,"click","disabled"],["width",".9em","height",".9em","name","asterisk"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",5,0),E("openChange",function(a){return T(s),w(o.onOpenClose(a))}),d(2,"button",6),O(3,"i-bs",7),d(4,"div",8),N(5,"\xa0"),ge(6),b(7,3),ue(),u()(),d(8,"div",9)(9,"div",10),E("keydown",function(a){return T(s),w(o.listKeyDown(a))}),d(10,"div",11)(11,"div",12)(12,"input",13,1),Re("ngModelChange",function(a){return T(s),Pe(o.filterText,a)||(o.filterText=a),w(a)}),E("keyup.enter",function(){return T(s),w(o.listFilterEnter())}),u()()(),Ke(14,Yit,6,2,"button",14,qit),y(16,Qit,7,1,"button",15),u()()()}2&i&&(m("popperOptions",o.popperOptions),_(2),m("disabled",o.disabled),_(10),Le("ngModel",o.filterText),_(2),qe(o.filteredFields),_(2),P(null!=o.filterText&&o.filterText.length&&0!==o.filteredFields.length?-1:16))},dependencies:[Go,Ho,Ss,Qo,Bt,en,$t,Ci,Gt,Ln,Wt],styles:[".custom-fields-dropdown[_ngcontent-%COMP%]{min-width:300px}@media (max-width: 575.98px){.custom-fields-dropdown.show[_ngcontent-%COMP%]{margin-left:-245px!important}}"]})}return t})(),zg=(()=>{class t{constructor(){this.viewContainerRef=M(Gs),this.templateRef=M(dn),this.permissionsService=M(Ti)}ngOnInit(){this.permissionsService.currentUserOwnsObject(this.pngxIfOwner)?this.createdView||(this.createdView=this.viewContainerRef.createEmbeddedView(this.templateRef)):this.viewContainerRef.clear()}ngOnChanges(){this.ngOnInit()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["","pngxIfOwner",""]],inputs:{pngxIfOwner:"pngxIfOwner"},features:[Di]})}return t})();function eot(t,n){if(1&t&&(d(0,"h5"),b(1,1),u(),Mn(2,13)),2&t){p();const e=xe(3);_(2),m("ngTemplateOutlet",e)}}function tot(t,n){1&t&&Mn(0,13),2&t&&(p(2),m("ngTemplateOutlet",xe(3)))}function not(t,n){1&t&&(d(0,"div",12)(1,"div",14)(2,"h2",15)(3,"button",16),b(4,2),u()(),d(5,"div",17)(6,"div",18),ce(7,tot,1,1,"ng-template"),u()()()())}function iot(t,n){if(1&t&&(d(0,"div",19)(1,"div",20)(2,"div",21)(3,"label",22),b(4,3),u()(),d(5,"div",23),O(6,"pngx-input-select",24),u()(),d(7,"small",25),b(8,4),u(),d(9,"div",26)(10,"h6",27),b(11,5),u(),d(12,"div",28)(13,"div",29)(14,"div",21)(15,"label",22),b(16,6),u()(),d(17,"div",23),O(18,"pngx-permissions-user",30),u()(),d(19,"div",20)(20,"div",21)(21,"label",22),b(22,7),u()(),d(23,"div",23),O(24,"pngx-permissions-group",31),u()()(),d(25,"h6",32),b(26,8),u(),d(27,"div",33)(28,"div",29)(29,"div",21)(30,"label",22),b(31,9),u()(),d(32,"div",23),O(33,"pngx-permissions-user",34),u()(),d(34,"div",20)(35,"div",21)(36,"label",22),b(37,10),u()(),d(38,"div",23),O(39,"pngx-permissions-group",35),u()(),d(40,"small",36),b(41,11),u()()()()),2&t){const e=p();m("formGroup",e.form),_(6),m("items",e.users)("allowNull",!0)}}let ph=(()=>{class t extends Ns{constructor(){super(),this.accordion=!1,this.form=new ti({owner:new re(null),set_permissions:new ti({view:new ti({users:new re([]),groups:new re([])}),change:new ti({users:new re([]),groups:new re([])})})})}ngOnInit(){this.form.valueChanges.subscribe(e=>{this.onChange(e)})}writeValue(e){this.form.patchValue(e,{emitEvent:!1})}setDisabledState(e){e?this.form.disable():this.form.enable()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-permissions-form"]],inputs:{users:"users",accordion:"accordion"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:4,vars:2,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f;return e="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",i="\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",o="\u0627\u0644\u0645\u0627\u0644\u0643:",s="\u0627\u0644\u0643\u0627\u0626\u0646\u0627\u062A \u0628\u062F\u0648\u0646 \u0645\u0627\u0644\u0643 \u064A\u0645\u0643\u0646 \u0645\u0634\u0627\u0647\u062F\u062A\u0647\u0627 \u0648\u062A\u0639\u062F\u064A\u0644\u0647\u0627 \u0645\u0646 \u0642\u0628\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646",r="\u0639\u0631\u0636",a="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646:",l="\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A:",c="\u062A\u062D\u0631\u064A\u0631",h="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646:",g="\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A:",f="\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0643\u0645\u0627 \u064A\u0645\u0646\u062D \u0623\u064A\u0636\u0627 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0639\u0631\u0636",[["permissionsForm",""],e,i,o,s,r,a,l,c,h,g,f,["ngbAccordion","","activeIds",""],[3,"ngTemplateOutlet"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[3,"formGroup"],[1,"row"],[1,"col-lg-3"],[1,"form-label","d-block","my-2"],[1,"col-lg-9"],["bindLabel","username","formControlName","owner",3,"items","allowNull"],[1,"form-text","text-muted","text-end","d-block","mt-n2"],["formGroupName","set_permissions"],[1,"mt-3"],["formGroupName","view",1,"mb-2"],[1,"row","mb-1"],["type","view","formControlName","users"],["type","view","formControlName","groups"],[1,"mt-4"],["formGroupName","change"],["type","change","formControlName","users"],["type","change","formControlName","groups"],[1,"form-text","text-muted","text-end","d-block"]]},template:function(i,o){1&i&&(y(0,eot,3,1),y(1,not,8,0,"div",12),ce(2,iot,42,3,"ng-template",null,0,xt)),2&i&&(P(o.accordion?-1:0),_(),P(o.accordion?1:-1))},dependencies:[Rr,xw,Rw,$t,Gt,Co,Wt,ao,Mo,Ll,Ao,r5,S_,s5,I1,E_,b_,T2],styles:[".accordion[_ngcontent-%COMP%]{--bs-accordion-btn-padding-x: .75rem;--bs-accordion-btn-padding-y: .375rem}"]})}return t})();function oot(t,n){if(1&t&&(d(0,"span",5),N(1),u()),2&t){const e=p();_(),He("ID: ",e.object.id)}}function sot(t,n){if(1&t&&O(0,"pngx-input-text",14)(1,"pngx-input-check",15),2&t){const e=p();m("error",null==e.error?null:e.error.match)}}function rot(t,n){if(1&t&&(d(0,"div"),O(1,"pngx-permissions-form",16),u()),2&t){const e=p();_(),m("users",e.users)}}let W4=(()=>{class t extends v0{constructor(){super(),this.service=M(ol),this.userService=M(vs),this.settingsService=M(Gn)}getCreateTitle(){return "\u0625\u0646\u0634\u0627\u0621 \u062C\u0647\u0629 \u062A\u0631\u0627\u0633\u0644 \u062C\u062F\u064A\u062F\u0629"}getEditTitle(){return "\u062A\u0639\u062F\u064A\u0644 \u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644"}getForm(){return new ti({name:new re(""),matching_algorithm:new re(6),match:new re(""),is_insensitive:new re(!0),permissions_form:new re(null)})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-correspondent-edit-dialog"]],features:[at],decls:16,vars:10,consts:()=>{let e,i,o,s,r,a;return e="\u0627\u0633\u0645",i="\u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u062E\u0648\u0627\u0631\u0632\u0645\u064A\u0629",o="\u0625\u0644\u063A\u0627\u0621",s="\u062D\u0641\u0638",r="\u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u0646\u0645\u0637",a="\u062D\u0627\u0644\u0629 \u063A\u064A\u0631 \u062D\u0633\u0627\u0633\u0629",[o,s,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","matching_algorithm",3,"items"],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["title",r,"formControlName","match",3,"error"],["title",a,"formControlName","is_insensitive","novalidate",""],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(i,o){1&i&&(d(0,"form",2),E("ngSubmit",function(){return o.save()}),d(1,"div",3)(2,"h4",4),N(3),u(),y(4,oot,2,1,"span",5),d(5,"button",6),E("click",function(){return o.cancel()}),u()(),d(6,"div",7),O(7,"pngx-input-text",8)(8,"pngx-input-select",9),y(9,sot,2,1),ce(10,rot,2,1,"div",10),u(),d(11,"div",11)(12,"button",12),E("click",function(){return o.cancel()}),b(13,0),u(),d(14,"button",13),b(15,1),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),P(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(2),m("error",null==o.error?null:o.error.name),_(),m("items",o.getMatchingAlgorithms()),_(),P(o.patternRequired?9:-1),_(),m("pngxIfOwner",o.object),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[p1,Rr,ph,qs,zg,$t,Do,Gt,Co,Wt,ao,Mo],encapsulation:2})}return t})();function aot(t,n){if(1&t&&(d(0,"span",5),N(1),u()),2&t){const e=p();_(),He("ID: ",e.object.id)}}function lot(t,n){if(1&t&&O(0,"pngx-input-text",15)(1,"pngx-input-check",16),2&t){const e=p();m("error",null==e.error?null:e.error.match)}}function cot(t,n){if(1&t&&(d(0,"div"),O(1,"pngx-permissions-form",17),u()),2&t){const e=p();_(),m("users",e.users)}}let X4=(()=>{class t extends v0{constructor(){super(),this.service=M(sl),this.userService=M(vs),this.settingsService=M(Gn)}getCreateTitle(){return "\u0625\u0646\u0634\u0627\u0621 \u0646\u0648\u0639 \u0645\u0633\u062A\u0646\u062F \u062C\u062F\u064A\u062F"}getEditTitle(){return "\u062A\u062D\u0631\u064A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F"}getForm(){return new ti({name:new re(""),matching_algorithm:new re(6),match:new re(""),is_insensitive:new re(!0),permissions_form:new re(null)})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-document-type-edit-dialog"]],features:[at],decls:17,vars:10,consts:()=>{let e,i,o,s,r,a;return e="\u0627\u0633\u0645",i="\u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u062E\u0648\u0627\u0631\u0632\u0645\u064A\u0629",o="\u0625\u0644\u063A\u0627\u0621",s="\u062D\u0641\u0638",r="\u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u0646\u0645\u0637",a="\u062D\u0627\u0644\u0629 \u063A\u064A\u0631 \u062D\u0633\u0627\u0633\u0629",[o,s,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"col"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","matching_algorithm",3,"items"],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["title",r,"formControlName","match",3,"error"],["title",a,"formControlName","is_insensitive"],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(i,o){1&i&&(d(0,"form",2),E("ngSubmit",function(){return o.save()}),d(1,"div",3)(2,"h4",4),N(3),u(),y(4,aot,2,1,"span",5),d(5,"button",6),E("click",function(){return o.cancel()}),u()(),d(6,"div",7)(7,"div",8),O(8,"pngx-input-text",9)(9,"pngx-input-select",10),y(10,lot,2,1),u(),ce(11,cot,2,1,"div",11),u(),d(12,"div",12)(13,"button",13),E("click",function(){return o.cancel()}),b(14,0),u(),d(15,"button",14),b(16,1),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),P(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(3),m("error",null==o.error?null:o.error.name),_(),m("items",o.getMatchingAlgorithms()),_(),P(o.patternRequired?10:-1),_(),m("pngxIfOwner",o.object),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[p1,Rr,ph,qs,zg,$t,Do,Gt,Co,Wt,ao,Mo],encapsulation:2})}return t})();function dot(t,n){if(1&t&&(d(0,"label",11),N(1),u()),2&t){const e=p();we("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function hot(t,n){if(1&t){const e=k();d(0,"button",12),E("click",function(){T(e);const o=p();return w(o.removed.emit(o))}),O(1,"i-bs",13),N(2,"\xa0"),ge(3),b(4,1),ue(),u()}}function uot(t,n){1&t&&(O(0,"small",9),Fe(1,"safeHtml")),2&t&&m("innerHTML",lt(1,1,p().hint),Fo)}let Vg=(()=>{class t extends Ns{constructor(){super(),this.placeholder="",this.monospace=!1}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-textarea"]],inputs:{placeholder:"placeholder",monospace:"monospace"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:12,vars:18,consts:()=>{let e;return e="\u0625\u0632\u0627\u0644\u0629",[["inputField",""],e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],["rows","4",1,"form-control",3,"ngModelChange","change","id","ngModel","disabled","placeholder"],[1,"form-text","text-muted",3,"innerHTML"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",2)(1,"div",3)(2,"div",4),y(3,dot,2,4,"label",5),y(4,hot,5,0,"button",6),u(),d(5,"div",7)(6,"textarea",8,0),Re("ngModelChange",function(a){return T(s),Pe(o.value,a)||(o.value=a),w(a)}),E("change",function(){return T(s),w(o.onChange(o.value))}),N(8,"        "),u(),y(9,uot,2,3,"small",9),d(10,"div",10),N(11),u()()()()}2&i&&(we("pb-3",o.error),_(2),we("col-md-3",o.horizontal),_(),P(o.title?3:-1),_(),P(o.removable?4:-1),_(),we("col-md-9",o.horizontal),_(),we("is-invalid",o.error)("font-monospace",o.monospace),m("id",o.inputId),Le("ngModel",o.value),m("disabled",o.disabled)("placeholder",o.placeholder),_(3),P(o.hint?9:-1),_(2),He(" ",o.error," "))},dependencies:[$t,Ci,Gt,Ln,Wt,Bt,en,k5],encapsulation:2})}return t})();function _ot(t,n){if(1&t&&(d(0,"span",10),N(1),u()),2&t){const e=p();_(),He("ID: ",e.object.id)}}function got(t,n){1&t&&Mn(0,28),2&t&&(p(),m("ngTemplateOutlet",xe(9)))}function pot(t,n){if(1&t&&(d(0,"code"),N(1),u()),2&t){const e=p(2);_(),oe(e.testResult)}}function fot(t,n){1&t&&(d(0,"div",29),b(1,4),u())}function mot(t,n){1&t&&(d(0,"div",30),b(1,5),u())}function vot(t,n){1&t&&(O(0,"div",34),d(1,"div",35),b(2,6),u())}function Cot(t,n){if(1&t&&(d(0,"div"),N(1),d(2,"small",36),N(3),Fe(4,"customDate"),u()()),2&t){const e=n.item;_(),He("",e.title," "),_(2),He("(",zo(4,2,e.created,"shortDate"),")")}}function Mot(t,n){if(1&t){const e=k();d(0,"div",26)(1,"div",27),y(2,got,1,1,"ng-container",28)(3,pot,2,1,"code")(4,fot,2,0,"div",29)(5,mot,2,0,"div",30),u()(),d(6,"ng-select",31),Fe(7,"async"),E("change",function(o){return T(e),w(p().testPath(o))}),ce(8,vot,3,0,"ng-template",32,0,xt)(10,Cot,5,5,"ng-template",33),u()}if(2&t){const e=p();_(2),P(e.testLoading?2:e.testResult?3:e.testFailed?4:5),_(4),m("items",lt(7,7,e.foundDocuments$))("compareWith",e.compareDocuments)("trackByFn",e.trackByFn)("minTermLength",2)("loading",e.loading)("typeahead",e.documentsInput$)}}function Tot(t,n){if(1&t&&O(0,"pngx-input-text",37)(1,"pngx-input-check",38),2&t){const e=p();m("error",null==e.error?null:e.error.match)}}function wot(t,n){if(1&t&&(d(0,"div"),O(1,"pngx-permissions-form",39),u()),2&t){const e=p();_(),m("users",e.users)}}let K4=(()=>{class t extends v0{constructor(){super(),this.documentsService=M(Io),this.documentsInput$=new Be,this.testFailed=!1,this.loading=!1,this.testLoading=!1,this.service=M(nc),this.userService=M(vs),this.settingsService=M(Gn),this.initPathObservables()}getCreateTitle(){return "\u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u0627\u0631 \u062A\u062E\u0632\u064A\u0646 \u062C\u062F\u064A\u062F"}getEditTitle(){return "\u062A\u0639\u062F\u064A\u0644 \u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646"}getForm(){return new ti({name:new re(""),path:new re(""),matching_algorithm:new re(6),match:new re(""),is_insensitive:new re(!0),permissions_form:new re(null)})}testPath(e){e?(this.testDocument=e,this.testLoading=!0,this.service.testPath(this.objectForm.get("path").value,e.id).subscribe(i=>{i?.length?(this.testResult=i,this.testFailed=!1):(this.testResult=null,this.testFailed=!0),this.testLoading=!1})):this.testResult=null}compareDocuments(e,i){return e.id===i.id}initPathObservables(){this.objectForm.get("path").valueChanges.pipe(me(this.unsubscribeNotifier),ii(e=>e&&!!this.testDocument)).subscribe(()=>{this.testPath(this.testDocument)}),this.foundDocuments$=Kc(Et([]),this.documentsInput$.pipe(r1(),me(this.unsubscribeNotifier),_n(()=>this.loading=!0),_i(e=>this.documentsService.listFiltered(1,null,"created",!0,[{rule_type:0,value:e}],{truncate_content:!0}).pipe(bt(i=>i.results),xa(()=>Et([])),_n(()=>this.loading=!1)))))}trackByFn(e){return e.id}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-storage-path-edit-dialog"]],features:[at],decls:26,vars:12,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S;return e="\u0627\u0633\u0645",i="\u0645\u0633\u0627\u0631",o="\u0627\u0646\u0638\u0631 <a target='_blank' href='https://docs.paperless-ngx.com/advanced_usage/#file-name-handling'>the documentation</a>.",s="\u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u062E\u0648\u0627\u0631\u0632\u0645\u064A\u0629",r="\u0645\u0639\u0627\u064A\u0646\u0629",a="\u0625\u0644\u063A\u0627\u0621",l="\u062D\u0641\u0638",c="Search for a document",h="\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0645\u0633\u062A\u0646\u062F\u0627\u062A",g="Path test failed",f="No document selected",v="\u062A\u062D\u0645\u064A\u0644...",C="\u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u0646\u0645\u0637",S="\u062D\u0627\u0644\u0629 \u063A\u064A\u0631 \u062D\u0633\u0627\u0633\u0629",[["loadingTemplate",""],r,a,l,g,f,v,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","path","hint",o,3,"error","monospace"],["ngbAccordion",""],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["title",s,"formControlName","matching_algorithm",3,"items"],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"card","mb-2"],[1,"card-body","p-2"],[3,"ngTemplateOutlet"],[1,"text-danger"],[1,"text-muted","small"],["name","testDocument","placeholder",c,"notFoundText",h,"bindValue","id","bindLabel","title",3,"change","items","compareWith","trackByFn","minTermLength","loading","typeahead"],["ng-loadingspinner-tmp",""],["ng-option-tmp",""],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"],[1,"text-muted"],["title",C,"formControlName","match",3,"error"],["title",S,"formControlName","is_insensitive"],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(i,o){1&i&&(d(0,"form",7),E("ngSubmit",function(){return o.save()}),d(1,"div",8)(2,"h4",9),N(3),u(),y(4,_ot,2,1,"span",10),d(5,"button",11),E("click",function(){return o.cancel()}),u()(),d(6,"div",12),O(7,"pngx-input-text",13)(8,"pngx-input-textarea",14),d(9,"div",15)(10,"div",16)(11,"h2",17)(12,"button",18),b(13,1),u()(),d(14,"div",19)(15,"div",20),ce(16,Mot,11,9,"ng-template"),u()()()(),O(17,"hr")(18,"pngx-input-select",21),y(19,Tot,2,1),ce(20,wot,2,1,"div",22),u(),d(21,"div",23)(22,"button",24),E("click",function(){return o.cancel()}),b(23,2),u(),d(24,"button",25),b(25,3),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),P(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(2),m("error",null==o.error?null:o.error.name),_(),m("error",null==o.error?null:o.error.path)("monospace",!0),_(10),m("items",o.getMatchingAlgorithms()),_(),P(o.patternRequired?19:-1),_(),m("pngxIfOwner",o.object),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[Rr,Vg,qs,p1,ph,zg,Ao,$t,Do,Gt,Co,Wt,ao,Mo,r5,S_,s5,I1,E_,b_,T2,l0,s1],styles:[".accordion[_ngcontent-%COMP%]{--bs-accordion-btn-padding-x: .75rem;--bs-accordion-btn-padding-y: .375rem}"]})}return t})();function bot(t,n){1&t&&O(0,"div",21)}let Sot=(()=>{class t extends Ds{set hasArchiveVersion(e){this._hasArchiveVersion=e,this.useArchiveVersion=e}get hasArchiveVersion(){return this._hasArchiveVersion}constructor(){super(),this.activeModal=M(sa),this.documentService=M(Io),this.toastService=M(eo),this.title="Email Document",this._hasArchiveVersion=!0,this.useArchiveVersion=!0,this.emailAddress="",this.emailSubject="",this.emailMessage="",this.loading=!1}emailDocument(){this.loading=!0,this.documentService.emailDocument(this.documentId,this.emailAddress,this.emailSubject,this.emailMessage,this.useArchiveVersion).subscribe({next:()=>{this.loading=!1,this.emailAddress="",this.emailSubject="",this.emailMessage="",this.close(),this.toastService.showInfo("Email sent")},error:e=>{this.loading=!1,this.toastService.showError("Error emailing document",e)}})}close(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-email-document-dialog"]],inputs:{title:"title",documentId:"documentId",hasArchiveVersion:"hasArchiveVersion"},features:[at],decls:27,vars:8,consts:()=>{let e,i,o,s,r;return e="Email address(es)",i="Subject",o="Message",s="Use archive version",r="Send email",[e,i,o,s,r,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-1"],["for","email",1,"form-label"],["type","email","id","email",1,"form-control",3,"ngModelChange","ngModel"],["type","email","id","subject",1,"form-control",3,"ngModelChange","ngModel"],["for","message",1,"form-label"],["id","message","rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"input-group"],[1,"input-group-text","flex-grow-1"],["type","checkbox","role","switch","id","useArchiveVersion",1,"form-check-input","mt-0","me-2",3,"ngModelChange","disabled","ngModel"],["for","useArchiveVersion",1,"form-check-label","w-100","text-start"],["type","submit",1,"btn","btn-outline-primary",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]]},template:function(i,o){1&i&&(d(0,"div",5)(1,"h4",6),N(2),u(),d(3,"button",7),E("click",function(){return o.close()}),u()(),d(4,"div",8)(5,"div",9)(6,"label",10),b(7,0),u(),d(8,"input",11),Re("ngModelChange",function(r){return Pe(o.emailAddress,r)||(o.emailAddress=r),r}),u()(),d(9,"div",9)(10,"label",10),b(11,1),u(),d(12,"input",12),Re("ngModelChange",function(r){return Pe(o.emailSubject,r)||(o.emailSubject=r),r}),u()(),d(13,"div")(14,"label",13),b(15,2),u(),d(16,"textarea",14),Re("ngModelChange",function(r){return Pe(o.emailMessage,r)||(o.emailMessage=r),r}),u()()(),d(17,"div",15)(18,"div",16)(19,"div",17)(20,"input",18),Re("ngModelChange",function(r){return Pe(o.useArchiveVersion,r)||(o.useArchiveVersion=r),r}),u(),d(21,"label",19),b(22,3),u()(),d(23,"button",20),E("click",function(){return o.emailDocument()}),y(24,bot,1,0,"div",21),ge(25),b(26,4),ue(),u()()()),2&i&&(_(2),oe(o.title),_(6),Le("ngModel",o.emailAddress),_(4),Le("ngModel",o.emailSubject),_(4),Le("ngModel",o.emailMessage),_(4),m("disabled",!o.hasArchiveVersion),Le("ngModel",o.useArchiveVersion),_(3),m("disabled",o.loading||0===o.emailAddress.length||0===o.emailMessage.length||0===o.emailSubject.length),_(),P(o.loading?24:-1))},dependencies:[$t,Ci,No,Gt,Ln,Bt],encapsulation:2})}return t})();const Eot=()=>[];function Oot(t,n){if(1&t){const e=k();d(0,"button",20),E("click",function(){T(e);const o=p();return w(o.removed.emit(o))}),O(1,"i-bs",21),N(2,"\xa0"),ge(3),b(4,3),ue(),u()}}function Aot(t,n){if(1&t){const e=k();d(0,"div",22)(1,"button",23),E("click",function(){T(e);const o=p(),s=xe(10);return o.value=o.today,o.onChange(o.value),w(s.close())}),b(2,4),u(),d(3,"button",24),E("click",function(){return T(e),p(),w(xe(10).close())}),b(4,5),u()()}}function Not(t,n){if(1&t){const e=k();d(0,"button",25),E("click",function(){return T(e),w(p().onFilterDocuments())}),O(1,"i-bs",26),u()}if(2&t){const e=p();m("title",ni(e.filterButtonTitle))("disabled",null===e.value)}}function Dot(t,n){if(1&t&&(d(0,"small",19),N(1),u()),2&t){const e=p();_(),oe(e.hint)}}function yot(t,n){if(1&t){const e=k();d(0,"a",27),E("click",function(){const o=T(e).$implicit;return w(p(2).onSuggestionClick(o))}),N(1),u(),N(2,"\xa0 ")}if(2&t){const e=n.$implicit;m("routerLink",Yd(2,Eot)),_(),oe(e)}}function Pot(t,n){if(1&t&&(d(0,"small")(1,"span"),b(2,6),u(),N(3,"\xa0 "),Ke(4,yot,3,3,null,null,jt),u()),2&t){const e=p();_(4),qe(e.getSuggestions())}}let Zw=(()=>{class t extends Ns{constructor(){super(...arguments),this.settings=M(Gn),this.ngbDateParserFormatter=M(D_),this.isoDateAdapter=M(l5),this.showFilter=!1,this.filterDocuments=new Ee,this.today=(new Date).toLocaleDateString("en-CA")}getSuggestions(){return null==this.suggestions?[]:this.suggestions.map(e=>this.ngbDateParserFormatter.parse(e)).filter(e=>null===this.value||this.value!=this.isoDateAdapter.toModel(e)).map(e=>this.ngbDateParserFormatter.format(e))}onSuggestionClick(e){const i=this.ngbDateParserFormatter.parse(e);this.writeValue(this.isoDateAdapter.toModel(i)),this.onChange(this.value)}ngOnInit(){super.ngOnInit(),this.placeholder=this.settings.getLocalizedDateInputFormat()}onPaste(e){const i=e.clipboardData||window.clipboardData;if(i){e.preventDefault();let o=i.getData("text");o=o.replace(/[\sa-z#!$%\^&\*;:{}=\-_`~()]+/g,"");const s=this.ngbDateParserFormatter.parse(o);s&&(this.writeValue(this.isoDateAdapter.toModel(s)),this.onChange(this.value))}}onKeyPress(e){"Enter"!==e.key&&!(e.altKey||e.metaKey||e.ctrlKey)&&!/[0-9,\.\/-]+/.test(e.key)&&e.preventDefault()}onFilterDocuments(){this.filterDocuments.emit([this.ngbDateParserFormatter.parse(this.value)])}get filterButtonTitle(){return "\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0645\u0639 " + this.title + ""}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-date"]],inputs:{suggestions:"suggestions",showFilter:"showFilter"},outputs:{filterDocuments:"filterDocuments"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:21,vars:24,consts:()=>{let e,i,o,s,r;return e="\u062A\u0627\u0631\u064A\u062E \u063A\u064A\u0631 \u0635\u0627\u0644\u062D.",i="\u0625\u0632\u0627\u0644\u0629",o="Today",s="\u0625\u063A\u0644\u0627\u0642",r="\u0627\u0644\u0627\u0642\u062A\u0631\u0627\u062D\u0627\u062A:",[["inputField","","datePicker","ngbDatepicker","datePickerContent","ngModel"],["datePickerFooterTemplate",""],e,i,o,s,r,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],[1,"input-group"],["maxlength","10","name","dp","ngbDatepicker","",1,"form-control",3,"dateSelect","change","keypress","paste","ngModelChange","placeholder","id","ngModel","disabled","footerTemplate"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"click","disabled"],["width","1.2em","height","1.2em","name","calendar"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","title"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],[1,"btn-group-xs","border-top","p-2","d-flex"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary","ms-auto",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled","title"],["width","1.2em","height","1.2em","name","filter"],[3,"click","routerLink"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",7)(1,"div",8)(2,"div",9)(3,"label",10),N(4),u(),y(5,Oot,5,0,"button",11),u(),d(6,"div",12)(7,"div",13)(8,"input",14,0),E("dateSelect",function(){return T(s),w(o.onChange(o.value))})("change",function(){return T(s),w(o.onChange(o.value))})("keypress",function(a){return T(s),w(o.onKeyPress(a))})("paste",function(a){return T(s),w(o.onPaste(a))}),Re("ngModelChange",function(a){return T(s),Pe(o.value,a)||(o.value=a),w(a)}),u(),d(12,"button",15),E("click",function(){return T(s),w(xe(10).toggle())}),O(13,"i-bs",16),u(),ce(14,Aot,5,0,"ng-template",null,1,xt),y(16,Not,2,3,"button",17),u(),d(17,"div",18),b(18,2),u(),y(19,Dot,2,1,"small",19),y(20,Pot,6,0,"small"),u()()()}if(2&i){const s=xe(15);we("pb-3",o.error),_(2),we("col-md-3",o.horizontal),_(),we("mb-md-0",o.horizontal),m("for",o.inputId),_(),oe(o.title),_(),P(o.removable?5:-1),_(),we("col-md-9",o.horizontal),_(),we("is-invalid",o.error),_(),we("is-invalid",o.error),m("placeholder",o.placeholder)("id",o.inputId),Le("ngModel",o.value),m("disabled",o.disabled)("footerTemplate",s),_(4),m("disabled",o.disabled),_(4),P(o.showFilter?16:-1),_(3),P(o.hint?19:-1),_(),P(o.getSuggestions().length>0?20:-1)}},dependencies:[L_,c6,$t,Ci,Gt,u_,Ln,Wt,_1,u1,Bt,en],styles:[".btn-group-xs[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:.15rem}"]})}return t})();function Iot(t,n){1&t&&Mn(0)}function Lot(t,n){1&t&&ce(0,Iot,1,0,"ng-container",5),2&t&&(p(),m("ngTemplateOutlet",xe(3)))}function Rot(t,n){if(1&t&&(d(0,"label",12),N(1),u()),2&t){const e=p(2);we("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function xot(t,n){if(1&t){const e=k();d(0,"button",13),E("click",function(){T(e);const o=p(2);return w(o.removed.emit(o))}),O(1,"i-bs",14),N(2,"\xa0"),ge(3),b(4,1),ue(),u()}}function Fot(t,n){1&t&&Mn(0)}function kot(t,n){if(1&t&&(d(0,"small",11),N(1),u()),2&t){const e=p(2);_(),oe(e.hint)}}function zot(t,n){if(1&t&&(d(0,"div",6)(1,"div",7)(2,"div",8),y(3,Rot,2,4,"label",9),y(4,xot,5,0,"button",10),u(),d(5,"div"),ce(6,Fot,1,0,"ng-container",5),y(7,kot,2,1,"small",11),u()()()),2&t){const e=p(),i=xe(3);we("disabled",e.disabled),_(2),we("col-md-3",e.horizontal),_(),P(e.title?3:-1),_(),P(e.removable?4:-1),_(),we("col-md-9",e.horizontal),_(),m("ngTemplateOutlet",i),_(),P(e.hint?7:-1)}}function Vot(t,n){if(1&t){const e=k();d(0,"button",23),E("click",function(){T(e);const o=p().item;return w(p(2).unselect(o))})("mousedown",function(o){return T(e),w(o.stopImmediatePropagation())}),O(1,"i-bs",14),u()}}function Hot(t,n){if(1&t){const e=k();d(0,"a",24),E("mousedown",function(o){return T(e),w(o.stopImmediatePropagation())}),O(1,"i-bs",25),N(2,"\xa0"),d(3,"span"),N(4),u()()}if(2&t){const e=p().item;m("routerLink",Lt("/documents/",e.id)),_(4),oe(e.title)}}function Got(t,n){if(1&t){const e=k();d(0,"span",26),E("click",function(){T(e);const o=p().item;return w(p(2).unselect(o))})("mousedown",function(o){return T(e),w(o.stopImmediatePropagation())}),O(1,"i-bs",27),N(2,"\xa0"),d(3,"span"),b(4,2),u()()}}function $ot(t,n){if(1&t&&(d(0,"div",19),y(1,Vot,2,0,"button",20),y(2,Hot,5,3,"a",21)(3,Got,5,0,"span",22),u()),2&t){const e=n.item,i=p(2);_(),P(i.disabled?-1:1),_(),P(e.title?2:3)}}function Bot(t,n){1&t&&(O(0,"div",28),d(1,"div",29),b(2,3),u())}function Uot(t,n){if(1&t&&(d(0,"div"),N(1),d(2,"small",30),N(3),Fe(4,"customDate"),u()()),2&t){const e=n.item;_(),He("",e.title," "),_(2),He("(",zo(4,2,e.created,"shortDate"),")")}}function jot(t,n){if(1&t){const e=k();d(0,"ng-select",15),Fe(1,"async"),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.selectedDocuments,o)||(s.selectedDocuments=o),w(o)}),E("mousedown",function(o){return T(e),w(o.stopImmediatePropagation())})("change",function(){T(e);const o=p();return w(o.onChange(o.selectedDocumentIDs))}),ce(2,$ot,4,2,"ng-template",16)(3,Bot,3,0,"ng-template",17)(4,Uot,5,5,"ng-template",18),u()}if(2&t){const e=p();Le("ngModel",e.selectedDocuments),m("disabled",e.disabled)("items",lt(1,11,e.foundDocuments$))("placeholder",e.placeholder)("notFoundText",e.notFoundText)("multiple",!0)("compareWith",e.compareDocuments)("trackByFn",e.trackByFn)("minTermLength",2)("loading",e.loading)("typeahead",e.documentsInput$)}}let q4=(()=>{class t extends Ns{constructor(){super(...arguments),this.documentsService=M(Io),this.documentsInput$=new Be,this.loading=!1,this.selectedDocuments=[],this.unsubscribeNotifier=new Be,this.notFoundText="\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0645\u0633\u062A\u0646\u062F\u0627\u062A",this.minimal=!1,this.placeholder="Search for documents"}get selectedDocumentIDs(){return this.selectedDocuments.map(e=>e.id)}ngOnInit(){this.loadDocs()}writeValue(e){e&&0!==e.length?(this.loading=!0,this.documentsService.getFew(e,{fields:"id,title"}).pipe(me(this.unsubscribeNotifier)).subscribe(i=>{this.loading=!1,this.selectedDocuments=e.map(o=>i.results.find(s=>s.id===o)??{}),super.writeValue(e)})):(this.selectedDocuments=[],super.writeValue([]))}loadDocs(){this.foundDocuments$=Kc(Et([]),this.documentsInput$.pipe(r1(),me(this.unsubscribeNotifier),_n(()=>this.loading=!0),_i(e=>this.documentsService.listFiltered(1,null,"created",!0,[{rule_type:0,value:e}],{truncate_content:!0}).pipe(bt(i=>i.results.filter(o=>o.id!==this.parentDocumentID&&!this.selectedDocuments.find(s=>s.id===o.id))),xa(()=>Et([])),_n(()=>this.loading=!1)))))}unselect(e){this.selectedDocuments=this.selectedDocuments.filter(i=>i&&i.id!==e.id),this.onChange(this.selectedDocuments.map(i=>i.id))}compareDocuments(e,i){return e.id===i.id}trackByFn(e){return e.id}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-document-link"]],inputs:{notFoundText:"notFoundText",parentDocumentID:"parentDocumentID",minimal:"minimal",placeholder:"placeholder"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:4,vars:1,consts:()=>{let e,i,o,s,r,a;return e="\u0625\u0632\u0627\u0644\u0629",i="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0631\u0627\u0628\u0637",o="\u0641\u062A\u062D \u0627\u0644\u0631\u0627\u0628\u0637",s="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0631\u0627\u0628\u0637",r="\u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F",a="\u062A\u062D\u0645\u064A\u0644...",[["select",""],e,r,a,[1,"mb-3","paperless-input-select",3,"disabled"],[4,"ngTemplateOutlet"],[1,"mb-3","paperless-input-select"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],["name","inputId",3,"ngModelChange","mousedown","change","ngModel","disabled","items","placeholder","notFoundText","multiple","compareWith","trackByFn","minTermLength","loading","typeahead"],["ng-label-tmp",""],["ng-loadingspinner-tmp",""],["ng-option-tmp",""],[1,"d-flex","align-items-center"],["type","button","title",i,1,"btn","p-0","lh-1"],["title",o,1,"badge","bg-light","text-primary",3,"routerLink"],["type","button","title",s,1,"badge","bg-light","text-muted"],["type","button","title",i,1,"btn","p-0","lh-1",3,"click","mousedown"],["title",o,1,"badge","bg-light","text-primary",3,"mousedown","routerLink"],["width","0.9em","height","0.9em","name","file-text"],["type","button","title",s,1,"badge","bg-light","text-muted",3,"click","mousedown"],["width","0.9em","height","0.9em","name","exclamation-triangle-fill"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"],[1,"text-muted"]]},template:function(i,o){1&i&&(y(0,Lot,1,1,"ng-container")(1,zot,8,10,"div",4),ce(2,jot,5,13,"ng-template",null,0,xt)),2&i&&P(o.minimal?0:1)},dependencies:[$t,Gt,Ln,Wt,_1,u1,Ao,_5,l0,k_,aM,Kx,Bt,en,ur,s1],styles:[".ng-select-container .ng-value-container{overflow:hidden}  .ng-select-container .ng-value-container .ng-value{background-color:transparent!important;border-color:transparent!important}.paperless-input-select.disabled[_ngcontent-%COMP%]{--bs-btn-disabled-border-color: transparent}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-disabled)!important}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container div, .paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container .ng-arrow-wrapper, .paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container input{cursor:not-allowed}i-bs[_ngcontent-%COMP%]{cursor:pointer}.badge[_ngcontent-%COMP%]{font-size:.75rem}"]})}return t})();function Zot(t,n){if(1&t&&(d(0,"label",15),N(1),u()),2&t){const e=p();we("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function Wot(t,n){if(1&t){const e=k();d(0,"button",16),E("click",function(){T(e);const o=p();return w(o.removed.emit(o))}),O(1,"i-bs",17),N(2,"\xa0"),ge(3),b(4,2),ue(),u()}}function Xot(t,n){if(1&t&&(d(0,"small",14),N(1),u()),2&t){const e=p();_(),oe(e.hint)}}let Ww=(()=>{class t extends Ns{get monetaryValue(){return this._monetaryValue}set monetaryValue(e){(e||"0"===e?.toString())&&(this._monetaryValue=e.toString())}set defaultCurrency(e){e&&(this.defaultCurrencyCode=e)}constructor(){super(),this.currentLocale=M(ea),this.currency="",this._monetaryValue="",this.currency=this.defaultCurrencyCode=this.defaultCurrency??jI(this.currentLocale)}writeValue(e){this.currency=this.parseCurrencyCode(e),this.monetaryValue=this.parseMonetaryValue(e,!0),this.value=this.currency+this.monetaryValue}monetaryValueChange(e=!1){this.monetaryValue=this.parseMonetaryValue(this.monetaryValue,e),"0"===this.monetaryValue&&(this.monetaryValue="0.00"),this.onChange(this.currency+this.monetaryValue)}currencyChange(){this.currency.length&&(this.currency=this.parseCurrencyCode(this.currency),this.onChange(this.currency+this.monetaryValue?.toString()))}parseCurrencyCode(e){return e?.toString().toUpperCase().match(/^([A-Z]{1,3})/)?.[0]??this.defaultCurrencyCode}parseMonetaryValue(e,i=!1){if(!e)return"";const o=parseFloat(e.toString().replace(/[^0-9.,-]+/g,""));return i?o.toFixed(2):o.toString()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-monetary"]],inputs:{defaultCurrency:"defaultCurrency"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:17,vars:24,consts:()=>{let e;return e="\u0625\u0632\u0627\u0644\u0629",[["currencyField",""],["monetaryValueField",""],e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],[1,"input-group"],[1,"input-group-text","fw-bold","bg-light"],["maxlength","3",1,"form-control","text-muted","mw-60",3,"ngModelChange","input","ngModel","disabled"],["type","number","step",".01",1,"form-control","text-muted",3,"ngModelChange","input","change","ngModel","disabled"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",3)(1,"div",4)(2,"div",5),y(3,Zot,2,4,"label",6),y(4,Wot,5,0,"button",7),u(),d(5,"div",8)(6,"div",9)(7,"span",10),N(8),Fe(9,"currency"),u(),d(10,"input",11,0),Re("ngModelChange",function(a){return T(s),Pe(o.currency,a)||(o.currency=a),w(a)}),E("input",function(){return T(s),w(o.currencyChange())}),u(),d(12,"input",12,1),Re("ngModelChange",function(a){return T(s),Pe(o.monetaryValue,a)||(o.monetaryValue=a),w(a)}),E("input",function(){return T(s),w(o.monetaryValueChange())})("change",function(){return T(s),w(o.monetaryValueChange(!0))}),u()(),d(14,"div",13),N(15),u(),y(16,Xot,2,1,"small",14),u()()()}2&i&&(we("pb-3",o.error),_(2),we("col-md-3",o.horizontal),_(),P(o.title?3:-1),_(),P(o.removable?4:-1),_(),we("col-md-9",o.horizontal),_(),we("is-invalid",o.error),_(2),oe(zo(9,21,o.monetaryValue,o.currency)),_(2),we("is-invalid",o.error),Le("ngModel",o.currency),m("disabled",o.disabled),_(2),we("is-invalid",o.error),Le("ngModel",o.monetaryValue),m("disabled",o.disabled),_(3),He(" ",o.error," "),_(),P(o.hint?16:-1))},dependencies:[$t,Ci,g2,Gt,u_,Ln,Wt,Bt,en,Z9],styles:[".input-group-text[_ngcontent-%COMP%]{font-size:inherit}.text-muted[_ngcontent-%COMP%]:focus-within{color:var(--bs-body-color)!important}.mw-60[_ngcontent-%COMP%]{max-width:60px}"]})}return t})(),fh=(()=>{class t extends ec{constructor(){super(),this.resourceName="tags"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kot(t,n){if(1&t&&(d(0,"span",5),N(1),u()),2&t){const e=p();_(),He("ID: ",e.object.id)}}function qot(t,n){if(1&t&&O(0,"pngx-input-text",17)(1,"pngx-input-check",18),2&t){const e=p();m("error",null==e.error?null:e.error.match)}}function Yot(t,n){if(1&t&&(d(0,"div"),O(1,"pngx-permissions-form",19),u()),2&t){const e=p();_(),m("users",e.users)}}let Y4=(()=>{class t extends v0{constructor(){super(),this.service=M(fh),this.userService=M(vs),this.settingsService=M(Gn),this.service.listAll().subscribe(e=>{this.tags=e.results})}getCreateTitle(){return "\u0625\u0646\u0634\u0627\u0621 \u0648\u0633\u0645 \u062C\u062F\u064A\u062F"}getEditTitle(){return "\u062A\u062D\u0631\u064A\u0631 \u0627\u0644\u0648\u0633\u0645"}getForm(){return new ti({name:new re(""),color:new re(Q$()),is_inbox_tag:new re(!1),parent:new re(null),matching_algorithm:new re(6),match:new re(""),is_insensitive:new re(!0),permissions_form:new re(null)})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-tag-edit-dialog"]],features:[at],decls:19,vars:14,consts:()=>{let e,i,o,s,r,a,l,c,h,g;return e="\u0627\u0633\u0645",i="\u0644\u0648\u0646",o="Parent",s="\u0648\u0633\u0645 \u0635\u0646\u062F\u0648\u0642 \u0627\u0644\u0648\u0627\u0631\u062F",r="\u062A\u064F\u0639\u064A\u0651\u064E\u0646 \u0648\u0633\u0645 \u0635\u0646\u062F\u0648\u0642 \u0627\u0644\u0648\u0627\u0631\u062F \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B \u0644\u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u0647\u0644\u0643\u0629.",a="\u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u062E\u0648\u0627\u0631\u0632\u0645\u064A\u0629",l="\u0625\u0644\u063A\u0627\u0621",c="\u062D\u0641\u0638",h="\u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u0646\u0645\u0637",g="\u062D\u0627\u0644\u0629 \u063A\u064A\u0631 \u062D\u0633\u0627\u0633\u0629",[l,c,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","color",3,"error"],["title",o,"formControlName","parent",3,"items","allowNull","error"],["title",s,"formControlName","is_inbox_tag","hint",r],["title",a,"formControlName","matching_algorithm",3,"items"],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["title",h,"formControlName","match",3,"error"],["title",g,"formControlName","is_insensitive"],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(i,o){1&i&&(d(0,"form",2),E("ngSubmit",function(){return o.save()}),d(1,"div",3)(2,"h4",4),N(3),u(),y(4,Kot,2,1,"span",5),d(5,"button",6),E("click",function(){return o.cancel()}),u()(),d(6,"div",7),O(7,"pngx-input-text",8)(8,"pngx-input-color",9)(9,"pngx-input-select",10)(10,"pngx-input-check",11)(11,"pngx-input-select",12),y(12,qot,2,1),ce(13,Yot,2,1,"div",13),u(),d(14,"div",14)(15,"button",15),E("click",function(){return o.cancel()}),b(16,0),u(),d(17,"button",16),b(18,1),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),P(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(2),m("error",null==o.error?null:o.error.name),_(),m("error",null==o.error?null:o.error.color),_(),m("items",o.tags)("allowNull",!0)("error",null==o.error?null:o.error.parent),_(2),m("items",o.getMatchingAlgorithms()),_(),P(o.patternRequired?12:-1),_(),m("pngxIfOwner",o.object),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[Rr,p1,lB,qs,zg,ph,$t,Do,Gt,Co,Wt,ao,Mo],encapsulation:2})}return t})();function Qot(t,n){if(1&t&&(O(0,"pngx-tag",4),N(1," \xa0>\xa0 ")),2&t){const e=p(2);m("tagID",e.tag.parent)("clickable",e.clickable)("linkTitle",e.linkTitle)}}function Jot(t,n){if(1&t&&(d(0,"span",5),N(1),u()),2&t){const e=p(2);Qr("background",e.tag.color)("color",e.tag.text_color),_(),oe(e.tag.name)}}function est(t,n){if(1&t&&(d(0,"a",6),N(1),u()),2&t){const e=p(2);Qr("background",e.tag.color)("color",e.tag.text_color),m("title",e.linkTitle),_(),oe(e.tag.name)}}function tst(t,n){if(1&t&&(y(0,Qot,2,3),y(1,Jot,2,5,"span",2),y(2,est,2,6,"a",3)),2&t){const e=p();P(e.showParents&&e.tag.parent?0:-1),_(),P(e.clickable?-1:1),_(),P(e.clickable?2:-1)}}function nst(t,n){1&t&&(d(0,"span",7),b(1,0),u())}function ist(t,n){1&t&&(d(0,"a",8),b(1,1),u()),2&t&&m("title",p(2).linkTitle)}function ost(t,n){if(1&t&&(y(0,nst,2,0,"span",7),y(1,ist,2,1,"a",8)),2&t){const e=p();P(e.clickable?-1:0),_(),P(e.clickable?1:-1)}}let Hg=(()=>{class t{constructor(){this.permissionsService=M(Ti),this.tagService=M(fh),this.linkTitle="",this.clickable=!1,this.showParents=!1}set tag(e){this._tag=e}get tag(){return this._tag}set tagID(e){e!==this._tagID&&(this._tagID=e,this.permissionsService.currentUserCan(ft.View,vt.Tag)&&this.tagService.getCached(this._tagID).subscribe(i=>{this.tag=i}))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-tag"]],inputs:{tag:"tag",tagID:"tagID",linkTitle:"linkTitle",clickable:"clickable",showParents:"showParents"},decls:2,vars:1,consts:()=>{let e,i;return e="\u0634\u062E\u0635\u064A",i="\u0634\u062E\u0635\u064A",[e,i,[1,"badge",3,"background","color"],[1,"badge",3,"title","background","color"],[3,"tagID","clickable","linkTitle"],[1,"badge"],[1,"badge",3,"title"],[1,"badge","private"],[1,"badge","private",3,"title"]]},template:function(i,o){1&i&&y(0,tst,3,3)(1,ost,2,2),2&i&&P(o.tag?0:1)},dependencies:[t],styles:["a[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{cursor:pointer;white-space:normal;word-break:break-word;text-align:start}.private[_ngcontent-%COMP%]{background-color:#000;color:#fff;opacity:.5;font-style:italic}"]})}return t})();const sst=["tagSelect"],rst=()=>[],CB=(t,n)=>n.id;function ast(t,n){if(1&t&&O(0,"pngx-tag",17),2&t){const e=p().item;m("tag",p().getTag(e.id))}}function lst(t,n){if(1&t){const e=k();d(0,"button",15),E("click",function(){const o=T(e).item;return w(p().removeTag(o.id))})("mousedown",function(o){return T(e),w(o.stopImmediatePropagation())}),O(1,"i-bs",16),y(2,ast,1,1,"pngx-tag",17),u()}if(2&t){const e=n.item,i=p();_(2),P(e.id&&i.tags?2:-1)}}function cst(t,n){if(1&t&&(d(0,"span",23),N(1),u(),O(2,"i-bs",24)),2&t){const e=n.$implicit;Qr("background",e.color)("color",e.text_color),_(),oe(e.name)}}function dst(t,n){if(1&t&&(O(0,"i-bs",20),d(1,"span",21)(2,"span",22),Ke(3,cst,3,5,null,null,CB),u()()),2&t){const e=p(2).item,i=p();_(3),qe(i.getParentChain(e.id))}}function hst(t,n){if(1&t&&(y(0,dst,5,0),O(1,"pngx-tag",19)),2&t){let e;const i=p().item,o=p();P(null!=(e=o.getTag(i.id))&&e.parent?0:-1),_(),m("tag",o.getTag(i.id))}}function ust(t,n){if(1&t&&(d(0,"div",18),y(1,hst,2,2),u()),2&t){const e=n.item,i=p();_(),P(e.id&&i.tags?1:-1)}}function _st(t,n){if(1&t){const e=k();d(0,"button",25),E("click",function(){return T(e),w(p().createTag(null,!0))}),O(1,"i-bs",26),u()}2&t&&m("disabled",p().disabled)}function gst(t,n){if(1&t){const e=k();d(0,"button",27),E("click",function(){return T(e),w(p().onFilterDocuments())}),O(1,"i-bs",28),u()}if(2&t){const e=p();m("disabled",e.hasPrivate||null===e.value)}}function pst(t,n){if(1&t&&(d(0,"small",13),N(1),u()),2&t){const e=p();_(),oe(e.hint)}}function fst(t,n){if(1&t){const e=k();d(0,"a",29),E("click",function(){const o=T(e).$implicit;return w(p(2).addTag(o.id))}),N(1),u(),N(2,"\xa0 ")}if(2&t){const e=n.$implicit;m("routerLink",Yd(2,rst)),_(),oe(null==e?null:e.name)}}function mst(t,n){if(1&t&&(d(0,"small",14)(1,"span"),b(2,1),u(),N(3,"\xa0 "),Ke(4,fst,3,3,null,null,CB),u()),2&t){const e=p();_(4),qe(e.getSuggestions())}}let Xw=(()=>{class t{constructor(){this.tagService=M(fh),this.modalService=M(ps),this.onChange=e=>{},this.onTouched=()=>{},this.title="\u0639\u0644\u0627\u0645\u0627\u062A",this.disabled=!1,this.allowCreate=!0,this.hideAddButton=!1,this.showFilter=!1,this.horizontal=!1,this.multiple=!0,this.filterDocuments=new Ee,this.value=[],this.tags=[],this.createTagRef=this.createTag.bind(this)}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}ngOnInit(){this.tagService.listAll().subscribe(e=>{this.tags=e.results})}getTag(e){return this.tags?this.tags.find(i=>i.id==e):null}removeTag(e){if(this.disabled)return;let i=this.value.indexOf(e);if(i>-1){const o=this.getTag(e);let s=this.value;s.splice(i,1),s=this.removeChildren(s,o),this.value=[...s],this.onChange(this.value)}}removeChildren(e,i){if(i.children?.length){const o=i.children.map(s=>s.id);e=e.filter(s=>!o.includes(s));for(const s of i.children)e=this.removeChildren(e,s)}return e}onAdd(e){if(e.parent){const i=this.getTag(e.parent);this.value=[...this.value,i.id],this.onAdd(i)}}createTag(e=null,i=!1){var o=this.modalService.open(Y4,{backdrop:"static"});return o.componentInstance.dialogMode=wi.CREATE,e?o.componentInstance.object={name:e}:this.select.searchTerm&&(o.componentInstance.object={name:this.select.searchTerm}),this.select.searchTerm=null,this.select.detectChanges(),xT(o.componentInstance.succeeded.pipe(ut(),_n(s=>{this.tagService.listAll().subscribe(r=>{this.tags=r.results,i&&this.addTag(s.id)})})))}getSuggestions(){return this.suggestions&&this.tags?this.suggestions.filter(e=>!this.value.includes(e)).map(e=>this.tags.find(i=>i.id==e)):[]}addTag(e){this.value=[...this.value,e],this.onAdd(this.getTag(e)),this.onChange(this.value)}get hasPrivate(){return this.value.some(e=>void 0===this.tags?.find(i=>i.id===e))}onFilterDocuments(){this.filterDocuments.emit(this.tags.filter(e=>this.value.includes(e.id)))}getParentChain(e){const i=[];let o=this.getTag(e);const s=new Set;for(;o?.parent&&!s.has(o.parent);){s.add(o.parent);const r=this.getTag(o.parent);if(!r)break;i.unshift(r),o=r}return i}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-tags"]],viewQuery:function(i,o){if(1&i&&Tn(sst,5),2&i){let s;Mt(s=Tt())&&(o.select=s.first)}},inputs:{title:"title",disabled:"disabled",hint:"hint",suggestions:"suggestions",allowCreate:"allowCreate",hideAddButton:"hideAddButton",showFilter:"showFilter",horizontal:"horizontal",multiple:"multiple"},outputs:{filterDocuments:"filterDocuments"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}])],decls:15,vars:23,consts:()=>{let e,i,o,s;return e="\u0625\u0636\u0627\u0641\u0629 \u0648\u0633\u0645",i="\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0647\u0630\u0647 \u0627\u0644\u0648\u0633\u0648\u0645",o="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0648\u0633\u0645",s="\u0627\u0644\u0627\u0642\u062A\u0631\u0627\u062D\u0627\u062A:",[["tagSelect",""],s,[1,"mb-3","paperless-input-select","paperless-input-tags"],[1,"row"],[1,"d-flex","align-items-center"],["for","tags",1,"form-label"],[1,"position-relative"],[1,"input-group","flex-nowrap"],["name","tags","bindLabel","name","bindValue","id","addTagText",e,3,"ngModelChange","add","change","items","ngModel","disabled","multiple","closeOnSelect","clearSearchOnAdd","hideSelected","addTag"],["ng-label-tmp",""],["ng-option-tmp",""],["type","button",1,"btn","btn-outline-secondary",3,"disabled"],["type","button","title",i,1,"btn","btn-outline-secondary",3,"disabled"],[1,"form-text","text-muted"],[1,"position-absolute","top-100"],["type","button","title",o,1,"tag-wrap","btn","p-0","d-flex","align-items-center",3,"click","mousedown"],["name","x",2,"margin-inline-end","1px"],[2,"background-color","none",3,"tag"],[1,"tag-option-row","d-flex","align-items-center"],[1,"current-tag","d-flex",3,"tag"],["name","list-nested",1,"me-1"],[1,"hierarchy-reveal","d-flex","align-items-center"],[1,"parents","d-flex","align-items-center"],[1,"badge","me-1"],["name","chevron-right","width",".8em","height",".8em",1,"me-1"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","plus"],["type","button","title",i,1,"btn","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","filter"],[3,"click","routerLink"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),N(4),u()(),d(5,"div",6)(6,"div",7)(7,"ng-select",8,0),Re("ngModelChange",function(a){return T(s),Pe(o.value,a)||(o.value=a),w(a)}),E("add",function(a){return T(s),w(o.onAdd(a))})("change",function(){return T(s),w(o.onChange(o.value))}),ce(9,lst,3,1,"ng-template",9)(10,ust,2,1,"ng-template",10),u(),y(11,_st,2,1,"button",11),y(12,gst,2,1,"button",12),u(),y(13,pst,2,1,"small",13),y(14,mst,6,0,"small",14),u()()()}2&i&&(we("disabled",o.disabled)("pb-3",o.getSuggestions().length>0),_(2),we("col-md-3",o.horizontal),_(),we("mb-md-0",o.horizontal),_(),oe(o.title),_(),we("col-md-9",o.horizontal),_(2),m("items",o.tags),Le("ngModel",o.value),m("disabled",o.disabled)("multiple",o.multiple)("closeOnSelect",!1)("clearSearchOnAdd",!0)("hideSelected",o.tags.length>0)("addTag",!!o.allowCreate&&o.createTagRef),_(4),P(o.allowCreate&&!o.hideAddButton?11:-1),_(),P(o.showFilter?12:-1),_(),P(o.hint?13:-1),_(),P(o.getSuggestions().length>0?14:-1))},dependencies:[Hg,_5,l0,k_,aM,$t,Gt,Ln,Wt,_1,u1,Bt,en],styles:[".selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}.tag-wrap[_ngcontent-%COMP%]{font-size:1rem}.paperless-input-select.disabled[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-disabled)!important}  .ng-dropdown-panel .ng-option{overflow-x:scroll}  .ng-dropdown-panel .ng-option .tag-option-row{font-size:1rem;width:max-content}  .ng-dropdown-panel .ng-option .hierarchy-reveal{overflow:hidden;max-width:0;transition:max-width .2s ease}  .ng-dropdown-panel .ng-option .parents .badge{white-space:nowrap}  .ng-dropdown-panel .ng-option:hover .hierarchy-reveal,   .ng-dropdown-panel .ng-option.ng-option-marked .hierarchy-reveal{max-width:1000px}  .ng-dropdown-panel .ng-option:hover .hierarchy-indicator,   .ng-dropdown-panel .ng-option.ng-option-marked .hierarchy-indicator{background:transparent}"]})}return t})();function vst(t,n){if(1&t){const e=k();d(0,"button",13),E("click",function(){T(e);const o=p();return w(o.removed.emit(o))}),O(1,"i-bs",14),N(2,"\xa0"),ge(3),b(4,1),ue(),u()}}function Cst(t,n){1&t&&(O(0,"small",12),Fe(1,"safeHtml")),2&t&&m("innerHTML",lt(1,1,p().hint),Fo)}let Kw=(()=>{class t extends Ns{constructor(){super()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-url"]],features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:15,vars:21,consts:()=>{let e,i;return e="\u0641\u062A\u062D \u0627\u0644\u0631\u0627\u0628\u0637",i="\u0625\u0632\u0627\u0644\u0629",[["inputField",""],i,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"input-group"],["type","url","placeholder","https://",1,"form-control",3,"ngModelChange","change","id","ngModel","disabled"],["title",e,"target","_blank",1,"btn","btn-outline-secondary","rounded-end",3,"href"],["width","1.2em","height","1.2em","name","box-arrow-up-right"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted",3,"innerHTML"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),N(4),u(),y(5,vst,5,0,"button",6),u(),d(6,"div")(7,"div",7)(8,"input",8,0),Re("ngModelChange",function(a){return T(s),Pe(o.value,a)||(o.value=a),w(a)}),E("change",function(){return T(s),w(o.onChange(o.value))}),u(),d(10,"a",9),O(11,"i-bs",10),u(),d(12,"div",11),N(13),u()(),y(14,Cst,2,3,"small",12),u()()()}2&i&&(we("pb-3",o.error),_(2),we("col-md-3",o.horizontal),_(),we("mb-md-0",o.horizontal),m("for",o.inputId),_(),oe(o.title),_(),P(o.removable?5:-1),_(),we("col-md-9",o.horizontal),_(),we("is-invalid",o.error),_(),we("is-invalid",o.error),m("id",o.inputId),Le("ngModel",o.value),m("disabled",o.disabled),_(2),m("href",o.value,Ts),_(3),He(" ",o.error," "),_(),P(o.hint?14:-1))},dependencies:[Bt,en,$t,Ci,Gt,Ln,Wt],encapsulation:2})}return t})();const Mst=()=>[j6],Tst=(t,n)=>n.page;function wst(t,n){1&t&&(d(0,"div",54),O(1,"span",56),u())}function bst(t,n){if(1&t){const e=k();y(0,wst,2,0,"div",54),d(1,"pdf-viewer",55),E("page-rendered",function(){return T(e),w(p().$implicit.loaded=!0)}),u()}if(2&t){const e=p().$implicit,i=p();P(e.loaded?-1:0),_(),we("show",e.loaded),m("src",i.pdfSrc)("page",e.page)("rotation",e.rotate)("original-size",!1)("show-all",!1)("render-text",!1)}}function Sst(t,n){1&t&&(d(0,"div",54),O(1,"span",56),u())}function Est(t,n){1&t&&(d(0,"div",53),N(1,"\u2014 "),d(2,"span"),b(3,2),u(),N(4," \u2014"),u())}function Ost(t,n){if(1&t){const e=k();d(0,"div",40),E("click",function(){const o=T(e).$index;return w(p().toggleSelection(o))}),d(1,"div",41)(2,"div",42)(3,"button",43),E("click",function(o){const s=T(e).$index;return p().rotate(s,!0),w(o.stopPropagation())}),O(4,"i-bs",18),u(),d(5,"button",44),E("click",function(o){const s=T(e).$index;return p().rotate(s),w(o.stopPropagation())}),O(6,"i-bs",20),u()(),d(7,"div",16)(8,"button",45),E("click",function(o){const s=T(e).$index;return p().remove(s),w(o.stopPropagation())}),O(9,"i-bs",22),u(),d(10,"button",46),E("click",function(o){const s=T(e).$index;return p().toggleSplit(s),w(o.stopPropagation())}),O(11,"i-bs",47),u()()(),d(12,"div",48)(13,"div",49)(14,"input",50),E("click",function(o){const s=T(e).$index;return p().toggleSelection(s),w(o.stopPropagation())}),u(),O(15,"label",51),u()(),d(16,"div",52),G7(17,bst,2,9)(18,Sst,2,0),function oD(t,n,e,i,o,s,r,a,l,c){const h=Ue(),g=On(),f=t+26,v=Vc(h,g,t,null,0,0),C=h[9];if(g.firstCreatePass){$s("NgDefer");const J={primaryTmplIndex:n,loadingTmplIndex:i??null,placeholderTmplIndex:o??null,errorTmplIndex:s??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:e??null,loadingState:qo.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:c??0};l?.(g,J,a,r),function NY(t,n,e){const i=Tu(n);t.data[i]=e}(g,f,J)}const S=h[f];let D=null,I=null;if(S[6]?.length>0){const J=S[6][0].data;I=J.di??null,D=J.s}const L=[null,kd.Initial,null,null,null,null,I,D,null,null];!function AY(t,n,e){t[Tu(n)]=e}(h,f,L);let G=null;null!==I&&(G=C.get(Cl),G.add(I,{lView:h,tNode:v,lContainer:S}));const R=()=>{cN(L),null!==I&&G?.cleanup([I])};Cu(0,L,()=>W8(h,R)),Tp(h,R)}(19,17,Mst,null,18),sD(0,-1),u(),y(21,Est,5,0,"div",53),u()}if(2&t){const e=n.$implicit,i=n.$index;we("selected",e.selected),_(14),m("id",Lt("page",i))("checked",e.selected),_(),m("for",Lt("page",i)),_(),we("selected",e.selected),_(5),P(e.splitAfter?21:-1)}}function Ast(t,n){if(1&t){const e=k();d(0,"div",36)(1,"div",49)(2,"input",57),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.includeMetadata,o)||(s.includeMetadata=o),w(o)}),u(),d(3,"label",58),b(4,3),u()(),d(5,"div",59)(6,"input",60),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.deleteOriginal,o)||(s.deleteOriginal=o),w(o)}),u(),d(7,"label",61),b(8,4),u()()()}if(2&t){const e=p();_(2),Le("ngModel",e.includeMetadata),_(4),Le("ngModel",e.deleteOriginal)}}var Gg=function(t){return t.Update="update",t.Create="create",t}(Gg||{});let Nst=(()=>{class t extends Ki{constructor(){super(...arguments),this.PdfEditorEditMode=Gg,this.documentService=M(Io),this.activeModal=M(sa),this.pages=[],this.totalPages=0,this.editMode=Gg.Create,this.deleteOriginal=!1,this.includeMetadata=!0}get pdfSrc(){return this.documentService.getPreviewUrl(this.documentID)}pdfLoaded(e){this.totalPages=e.numPages,this.pages=Array.from({length:this.totalPages},(i,o)=>({page:o+1,rotate:0,splitAfter:!1,selected:!1,loaded:!1}))}toggleSelection(e){this.pages[e].selected=!this.pages[e].selected}rotate(e,i=!1){this.pages[e].rotate=(this.pages[e].rotate+(i?-90:90)+360)%360}rotateSelected(e){for(let i of this.pages)i.selected&&(i.rotate=(i.rotate+e+360)%360)}remove(e){this.pages.splice(e,1)}toggleSplit(e){this.pages[e].splitAfter=!this.pages[e].splitAfter,this.pages[e].splitAfter&&(this.editMode=Gg.Create)}selectAll(){this.pages.forEach(e=>e.selected=!0)}deselectAll(){this.pages.forEach(e=>e.selected=!1)}deleteSelected(){this.pages=this.pages.filter(e=>!e.selected)}hasSelection(){return this.pages.some(e=>e.selected)}hasSplit(){return this.pages.some(e=>e.splitAfter)}drop(e){qc(this.pages,e.previousIndex,e.currentIndex)}getOperations(){return this.pages.map((e,i)=>({page:e.page,rotate:e.rotate,doc:this.computeDocIndex(i)}))}computeDocIndex(e){let i=0;for(let o=0;o<=e;o++)this.pages[o].splitAfter&&o<e&&i++;return i}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-pdf-editor"]],features:[at],decls:41,vars:21,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S;return e="Select all pages",i="Deselect all pages",o="Rotate selected pages counter-clockwise",s="Rotate selected pages clockwise",r="Delete selected pages",a="Create new document(s)",l="Update existing document",c="Rotate page counter-clockwise",h="Rotate page clockwise",g="Delete page",f="Add / remove document split here",v="Split here",C="Copy metadata",S="Delete original",[a,l,v,C,S,["zoom","0.4",3,"after-load-complete","src","render-text"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"btn-toolbar","mb-2"],[1,"btn-group","me-3"],["title",e,1,"btn","btn-sm","btn-secondary",3,"click"],["name","check-all"],["title",i,1,"btn","btn-sm","btn-secondary",3,"click","disabled"],["name","x"],[1,"btn-group"],["title",o,1,"btn","btn-sm","btn-secondary",3,"click","disabled"],["name","arrow-counterclockwise"],["title",s,1,"btn","btn-sm","btn-secondary",3,"click","disabled"],["name","arrow-clockwise"],["title",r,1,"btn","btn-sm","btn-danger",3,"click","disabled"],["name","trash"],["cdkDropList","","cdkDropListOrientation","mixed",1,"d-flex","flex-wrap","row-cols-2","row-cols-md-5",3,"cdkDropListDropped"],["cdkDrag","",1,"page-item","rounded","p-2",3,"selected"],[1,"modal-footer"],[1,"d-flex","flex-column","flex-md-row","w-100","gap-3","align-items-center"],["role","group",1,"btn-group"],["type","radio","id","editModeCreate","name","editmode",1,"btn-check",3,"ngModelChange","ngModel","value"],["for","editModeCreate",1,"btn","btn-outline-primary","btn-sm"],["name","plus"],[1,"form-check-label","ms-1"],["type","radio","id","editModeUpdate","name","editmode",1,"btn-check",3,"ngModelChange","ngModel","value","disabled"],["for","editModeUpdate",1,"btn","btn-outline-primary","btn-sm"],["name","pencil"],[1,"form-check-label","ms-2"],[1,"form-group","d-flex"],[1,"form-group","ms-md-auto"],["type","button",1,"btn","me-2",3,"click","disabled"],["type","button",1,"btn",3,"click","disabled"],["cdkDrag","",1,"page-item","rounded","p-2",3,"click"],[1,"btn-toolbar","hover-actions","z-10"],[1,"btn-group","me-2"],["title",c,1,"btn","btn-sm","btn-dark",3,"click"],["title",h,1,"btn","btn-sm","btn-dark",3,"click"],["title",g,1,"btn","btn-sm","btn-dark","text-danger",3,"click"],["title",f,1,"btn","btn-sm","btn-dark",3,"click"],["name","scissors"],[1,"border-end","border-bottom","bg-light","py-1","px-2","document-check","z-10"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],[1,"pdf-viewer-container","w-100"],[1,"split-after","rounded","position-absolute","top-0","end-0","bg-dark","text-uppercase","text-center","h-100","px-1","small","fw-bold"],[1,"placeholder-glow","w-100","h-100","z-10"],[1,"fade",3,"page-rendered","src","page","rotation","original-size","show-all","render-text"],[1,"placeholder","w-100","h-100"],["type","checkbox","id","copyMeta",1,"form-check-input",3,"ngModelChange","ngModel"],["for","copyMeta",1,"form-check-label"],[1,"form-check","ms-3"],["type","checkbox","id","deleteOriginal",1,"form-check-input",3,"ngModelChange","ngModel"],["for","deleteOriginal",1,"form-check-label"]]},template:function(i,o){1&i&&(d(0,"pdf-viewer",5),E("after-load-complete",function(r){return o.pdfLoaded(r)}),u(),d(1,"div",6)(2,"h4",7),N(3),u(),d(4,"button",8),E("click",function(){return o.cancel()}),u()(),d(5,"div",9)(6,"div",10)(7,"div",11)(8,"button",12),E("click",function(){return o.selectAll()}),O(9,"i-bs",13),u(),d(10,"button",14),E("click",function(){return o.deselectAll()}),O(11,"i-bs",15),u()(),d(12,"div",16)(13,"button",17),E("click",function(){return o.rotateSelected(-90)}),O(14,"i-bs",18),u(),d(15,"button",19),E("click",function(){return o.rotateSelected(90)}),O(16,"i-bs",20),u(),d(17,"button",21),E("click",function(){return o.deleteSelected()}),O(18,"i-bs",22),u()()(),d(19,"div",23),E("cdkDropListDropped",function(r){return o.drop(r)}),Ke(20,Ost,22,10,"div",24,Tst),u()(),d(22,"div",25)(23,"div",26)(24,"div",27)(25,"input",28),Re("ngModelChange",function(r){return Pe(o.editMode,r)||(o.editMode=r),r}),u(),d(26,"label",29),O(27,"i-bs",30),d(28,"span",31),b(29,0),u()(),d(30,"input",32),Re("ngModelChange",function(r){return Pe(o.editMode,r)||(o.editMode=r),r}),u(),d(31,"label",33),O(32,"i-bs",34),d(33,"span",35),b(34,1),u()()(),y(35,Ast,9,2,"div",36),d(36,"div",37)(37,"button",38),E("click",function(){return o.cancel()}),N(38),u(),d(39,"button",39),E("click",function(){return o.confirm()}),N(40),u()()()()),2&i&&(m("src",o.pdfSrc)("render-text",!1),_(3),oe(o.title),_(7),m("disabled",!o.hasSelection()),_(3),m("disabled",!o.hasSelection()),_(2),m("disabled",!o.hasSelection()),_(2),m("disabled",!o.hasSelection()),_(3),qe(o.pages),_(5),Le("ngModel",o.editMode),m("value",o.PdfEditorEditMode.Create),_(5),Le("ngModel",o.editMode),m("value",o.PdfEditorEditMode.Update)("disabled",o.hasSplit()),_(5),P(o.editMode===o.PdfEditorEditMode.Create?35:-1),_(2),Zi(o.cancelBtnClass),m("disabled",!o.buttonsEnabled),_(),oe(o.cancelBtnCaption),_(),Zi(o.btnClass),m("disabled",0===o.pages.length),_(),oe(o.btnCaption))},dependencies:[a2,r2,s2,$t,Ci,No,t5,Gt,Ln,Z6,j6,Bt,en],styles:[".page-item[_ngcontent-%COMP%]{position:relative;cursor:pointer;border:1px solid transparent;background-origin:border-box}.page-item.selected[_ngcontent-%COMP%]{background-color:var(--pngx-primary-darken-5)}.pdf-viewer-container[_ngcontent-%COMP%]{background-color:gray;height:240px}.pdf-viewer-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}  .ng2-pdf-viewer-container{overflow:hidden}.hover-actions[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:none}.page-item[_ngcontent-%COMP%]:hover   .hover-actions[_ngcontent-%COMP%]{display:block}.document-check[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;padding:.5rem;border-top-left-radius:.25rem;border-bottom-right-radius:.25rem;pointer-events:none}.document-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:0;min-height:0;margin-bottom:0}.document-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-left:0}.page-item[_ngcontent-%COMP%]:hover   .document-check[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .document-check[_ngcontent-%COMP%]{display:block}.z-10[_ngcontent-%COMP%]{z-index:10}.split-after[_ngcontent-%COMP%]{writing-mode:vertical-rl}"]})}return t})();var Q4=function(t){return t.Archive="archive",t.Original="original",t}(Q4||{});let Dst=(()=>{class t extends ec{constructor(){super(),this.resourceName="share_links"}getLinksForDocument(e){return this.http.get(`${this.baseUrl}documents/${e}/${this.resourceName}/`)}createLinkForDocument(e,i=Q4.Archive,o=null){return this.clearCache(),this.http.post(this.getResourceUrl(),{document:e,file_version:i,expiration:o?.toISOString()})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yst(t,n){1&t&&(d(0,"li",13),b(1,3),u())}function Pst(t,n){if(1&t&&(d(0,"span",28),N(1),u()),2&t){const e=p().$implicit,i=p();_(),He(" ",i.getDaysRemaining(e)," ")}}function Ist(t,n){1&t&&O(0,"i-bs",30)}function Lst(t,n){1&t&&O(0,"i-bs",31)}function Rst(t,n){if(1&t){const e=k();d(0,"button",29),E("click",function(){T(e);const o=p().$implicit;return w(p().share(o))}),O(1,"i-bs",37),d(2,"span",32),b(3,7),u()()}}function xst(t,n){if(1&t){const e=k();d(0,"li",14)(1,"div",16),O(2,"input",27),y(3,Pst,2,1,"span",28),d(4,"button",29),E("click",function(){const o=T(e).$implicit;return w(p().copy(o))}),y(5,Ist,1,0,"i-bs",30),y(6,Lst,1,0,"i-bs",31),d(7,"span",32),b(8,4),u()(),y(9,Rst,4,0,"button",33),d(10,"button",34),E("click",function(){const o=T(e).$implicit;return w(p().delete(o))}),O(11,"i-bs",35),d(12,"span",32),b(13,5),u()()(),d(14,"span",36),b(15,6),u()()}if(2&t){const e=n.$implicit,i=p();_(2),m("value",i.getShareUrl(e)),_(),P(e.expiration?3:-1),_(2),P(i.copied!==e.id?5:-1),_(),P(i.copied===e.id?6:-1),_(3),P(i.canShare(e)?9:-1),_(5),we("show",i.copied===e.id)}}function Fst(t,n){if(1&t&&(d(0,"option",23),N(1),u()),2&t){const e=n.$implicit;m("ngValue",e.value),_(),oe(e.label)}}function kst(t,n){1&t&&O(0,"div",25)}function zst(t,n){1&t&&O(0,"i-bs",26)}let Vst=(()=>{class t{constructor(){this.activeModal=M(sa),this.shareLinkService=M(Dst),this.toastService=M(eo),this.clipboard=M(z4),this.EXPIRATION_OPTIONS=[{label:"\u064A\u0648\u0645 1",value:1},{label:"7 \u0623\u064A\u0627\u0645",value:7},{label:"30 \u064A\u0648\u0645",value:30},{label:"\u0627\u0637\u0644\u0627\u0642\u0627\u064B",value:null}],this.title="\u0631\u0648\u0627\u0628\u0637 \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629",this._hasArchiveVersion=!0,this.loading=!1,this.expirationDays=7,this.useArchiveVersion=!0}set documentId(e){void 0!==e&&(this._documentId=e,this.refresh())}set hasArchiveVersion(e){this._hasArchiveVersion=e,this.useArchiveVersion=e}get hasArchiveVersion(){return this._hasArchiveVersion}ngOnInit(){void 0!==this._documentId&&this.refresh()}refresh(){void 0!==this._documentId&&(this.loading=!0,this.shareLinkService.getLinksForDocument(this._documentId).pipe(ut()).subscribe({next:e=>{this.loading=!1,this.shareLinks=e},error:e=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0633\u062A\u0631\u062F\u0627\u062F \u0627\u0644\u0631\u0648\u0627\u0628\u0637",1e4,e)}}))}getShareUrl(e){const i=new URL(di.apiBaseUrl);return`${i.origin}${i.pathname.replace(/\/api\/$/,"/share/")}${e.slug}`}getDaysRemaining(e){const i=Math.round((Date.parse(e.expiration)-Date.now())/864e5);return 1===i?"\u064A\u0648\u0645 1":"" + i + " \u0623\u064A\u0627\u0645"}copy(e){this.clipboard.copy(this.getShareUrl(e))&&(this.copied=e.id,setTimeout(()=>{this.copied=null},3e3))}canShare(e){return navigator?.canShare&&navigator.canShare({url:this.getShareUrl(e)})}share(e){navigator.share({url:this.getShareUrl(e)})}delete(e){this.shareLinkService.delete(e).subscribe({next:()=>{this.refresh()},error:i=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0631\u0627\u0628\u0637",1e4,i)}})}createLink(){let e;this.expirationDays&&(e=new Date,e.setDate(e.getDate()+this.expirationDays)),this.loading=!0,this.shareLinkService.createLinkForDocument(this._documentId,this.useArchiveVersion?Q4.Archive:Q4.Original,e).subscribe({next:i=>{this.loading=!1,setTimeout(()=>{this.copy(i)},10),this.refresh()},error:i=>{this.loading=!1,this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0631\u0627\u0628\u0637",1e4,i)}})}close(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-share-links-dialog"]],inputs:{title:"title",documentId:"documentId",hasArchiveVersion:"hasArchiveVersion"},decls:28,vars:8,consts:()=>{let e,i,o,s,r,a,l,c;return e="\u0645\u0634\u0627\u0631\u0643\u0629 \u0646\u0633\u062E\u0629 \u0627\u0644\u0623\u0631\u0634\u064A\u0641",i="\u0645\u0646\u062A\u0647\u064A \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0629",o="\u0625\u0646\u0634\u0627\u0621",s=" \u0644\u0627 \u062A\u0648\u062C\u062F \u0631\u0648\u0627\u0628\u0637 ",r="\u0646\u0633\u062E",a="\u062D\u0630\u0641",l="\u062A\u0645 \u0627\u0644\u0646\u0633\u062E !",c="\u0645\u0634\u0627\u0631\u0643\u0629",[e,i,o,s,r,a,l,c,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-0"],[1,"list-group","list-group-flush"],[1,"list-group-item","fst-italic","small","text-center","text-secondary"],[1,"list-group-item"],[1,"modal-footer"],[1,"input-group","w-100"],[1,"form-check","form-switch","ms-auto"],["type","checkbox","role","switch","id","versionSwitch",1,"form-check-input",3,"ngModelChange","disabled","ngModel"],["for","versionSwitch",1,"form-check-label"],[1,"input-group","w-100","mt-2"],["for","addLink",1,"input-group-text"],[1,"form-select","fs-6",3,"ngModelChange","ngModel"],[3,"ngValue"],["type","button",1,"btn","btn-outline-primary","ms-auto",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["name","plus"],["type","text","aria-label","Share link","readonly","",1,"form-control",3,"value"],[1,"input-group-text"],["type","button",1,"btn","btn-outline-primary",3,"click"],["width","1.2em","height","1.2em","name","clipboard-fill"],["width","1.2em","height","1.2em","name","clipboard-check-fill"],[1,"visually-hidden"],["type","button",1,"btn","btn-outline-primary"],["type","button",1,"btn","btn-outline-danger",3,"click"],["width","1.2em","height","1.2em","name","trash"],[1,"badge","copied-badge","bg-primary","small","fade","ms-4","position-absolute","top-50","translate-middle-y","pe-none","z-3"],["width","1.2em","height","1.2em","name","box-arrow-up"]]},template:function(i,o){1&i&&(d(0,"div",8)(1,"h4",9),N(2),u(),d(3,"button",10),E("click",function(){return o.close()}),u()(),d(4,"div",11)(5,"ul",12),y(6,yst,2,0,"li",13),Ke(7,xst,16,7,"li",14,jt),u()(),d(9,"div",15)(10,"div",16)(11,"div",17)(12,"input",18),Re("ngModelChange",function(r){return Pe(o.useArchiveVersion,r)||(o.useArchiveVersion=r),r}),u(),d(13,"label",19),b(14,0),u()()(),d(15,"div",20)(16,"label",21),ge(17),b(18,1),ue(),N(19,":"),u(),d(20,"select",22),Re("ngModelChange",function(r){return Pe(o.expirationDays,r)||(o.expirationDays=r),r}),Ke(21,Fst,2,2,"option",23,jt),u(),d(23,"button",24),E("click",function(){return o.createLink()}),y(24,kst,1,0,"div",25),y(25,zst,1,0,"i-bs",26),ge(26),b(27,2),ue(),u()()()),2&i&&(_(2),oe(o.title),_(4),P(o.shareLinks&&0!==o.shareLinks.length?-1:6),_(),qe(o.shareLinks),_(5),m("disabled",!o.hasArchiveVersion),Le("ngModel",o.useArchiveVersion),_(8),Le("ngModel",o.expirationDays),_(),qe(o.EXPIRATION_OPTIONS),_(2),m("disabled",o.loading),_(),P(o.loading?24:-1),_(),P(o.loading?-1:25))},dependencies:[$t,Rl,xl,No,t0,Gt,Ln,Wt,Bt,en],styles:[".copied-badge[_ngcontent-%COMP%]{right:15em}"]})}return t})();var MB=function(t){return t.Create="create",t.Update="update",t.Delete="delete",t}(MB||{});const Hst=(t,n)=>n.id,Gst=(t,n)=>n.key;function $st(t,n){1&t&&(d(0,"div",2),O(1,"div",4),u())}function Bst(t,n){1&t&&(d(0,"li",5)(1,"div",6)(2,"span",7),b(3,1),u()()())}function Ust(t,n){if(1&t&&(d(0,"div",13),N(1),Fe(2,"customDate"),Fe(3,"date"),u()),2&t){const e=p().$implicit;_(),Jr(" ",zo(2,2,e.timestamp,"longDate")," ",zo(3,5,e.timestamp,"shortTime")," ")}}function jst(t,n){if(1&t&&(d(0,"span",10),N(1),u()),2&t){const e=p().$implicit;_(),oe(e.actor.username)}}function Zst(t,n){1&t&&(d(0,"span",10),N(1,"System"),u())}function Wst(t,n){if(1&t&&(d(0,"li")(1,"span",7),N(2),Fe(3,"titlecase"),u(),N(4,"\xa0 "),d(5,"span"),N(6),Fe(7,"titlecase"),u(),N(8,":\xa0 "),d(9,"code",14),N(10),u()()),2&t){const e=p().$implicit;_(2),oe(lt(3,3,e.value.operation)),_(4),oe(lt(7,5,e.key)),_(4),oe(e.value.objects.join(", "))}}function Xst(t,n){if(1&t&&(d(0,"li")(1,"span"),N(2),u(),N(3,":\xa0 "),d(4,"code",14),N(5),u()()),2&t){const e=p().$implicit;_(2),oe(e.value.field),_(3),oe(e.value.value)}}function Kst(t,n){if(1&t&&(d(0,"code",14),N(1),u()),2&t){const e=p(2).$implicit;_(),He("",null==e.value[1]?null:e.value[1].substring(0,100),"...")}}function qst(t,n){if(1&t&&(d(0,"code",14),N(1),Fe(2,"async"),u()),2&t){const e=p(2).$implicit,i=p(4);_(),oe(lt(2,1,i.getPrettyName(e.key,e.value[1])))}}function Yst(t,n){if(1&t&&(d(0,"li")(1,"span"),N(2),Fe(3,"titlecase"),u(),N(4,":\xa0 "),y(5,Kst,2,1,"code",14)(6,qst,3,3,"code",14),u()),2&t){const e=p().$implicit;_(2),oe(lt(3,2,e.key)),_(3),P("content"===e.key?5:6)}}function Qst(t,n){if(1&t&&y(0,Wst,11,7,"li")(1,Xst,6,2,"li")(2,Yst,7,4,"li"),2&t){const e=n.$implicit;P("m2m"===e.value.type?0:"custom_field"===e.value.type?1:2)}}function Jst(t,n){if(1&t&&(d(0,"li",5)(1,"div",8),ce(2,Ust,4,8,"ng-template",null,0,xt),d(4,"span",9),N(5),Fe(6,"customDate"),u(),y(7,jst,2,1,"span",10)(8,Zst,2,0,"span",10),d(9,"span",11),N(10),Fe(11,"titlecase"),u()(),d(12,"ul",12),Ke(13,Qst,3,1,null,null,Gst),Fe(15,"keyvalue"),u()()),2&t){const e=n.$implicit,i=xe(3),o=p(3);_(4),m("ngbTooltip",i),_(),oe(zo(6,6,e.timestamp,"relative")),_(2),P(e.actor?7:8),_(2),we("bg-primary",e.action===o.AuditLogAction.Create),_(),oe(lt(11,9,e.action)),_(3),qe(lt(15,11,e.changes))}}function ert(t,n){1&t&&Ke(0,Jst,16,13,"li",5,Hst),2&t&&qe(p(2).entries)}function trt(t,n){if(1&t&&(d(0,"ul",3),y(1,Bst,4,0,"li",5)(2,ert,2,0),u()),2&t){const e=p();_(),P(0===e.entries.length?1:2)}}let nrt=(()=>{class t{constructor(){this.documentService=M(Io),this.correspondentService=M(ol),this.storagePathService=M(nc),this.documentTypeService=M(sl),this.userService=M(vs),this.AuditLogAction=MB,this.loading=!0,this.entries=[]}set documentId(e){this._documentId=e,this.ngOnInit()}ngOnInit(){this._documentId&&(this.loading=!0,this.documentService.getHistory(this._documentId).subscribe(e=>{this.entries=e,this.loading=!1}))}getPrettyName(e,i){switch(e){case wn.Correspondent:return this.correspondentService.getCached(parseInt(i,10)).pipe(ut(),bt(o=>o?.name??i));case wn.DocumentType:return this.documentTypeService.getCached(parseInt(i,10)).pipe(ut(),bt(o=>o?.name??i));case wn.StoragePath:return this.storagePathService.getCached(parseInt(i,10)).pipe(ut(),bt(o=>o?.path??i));case"owner":return this.userService.getCached(parseInt(i,10)).pipe(ut(),bt(o=>o?.username??i));default:return Et(i)}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-document-history"]],inputs:{documentId:"documentId"},decls:2,vars:1,consts:()=>{let e;return e="\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0623\u064A\u0651 \u0645\u062F\u062E\u0644\u0627\u062A.",[["timestamp",""],e,[1,"d-flex"],[1,"list-group"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal"],[1,"list-group-item"],[1,"d-flex","justify-content-center"],[1,"fst-italic"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted",3,"ngbTooltip"],[1,"ms-3","fst-italic"],[1,"badge","bg-secondary","ms-auto"],[1,"mt-2"],[1,"text-light"],[1,"text-primary"]]},template:function(i,o){1&i&&y(0,$st,2,0,"div",2)(1,trt,3,1,"ul",3),2&i&&P(o.loading?0:1)},dependencies:[Ul,N2,Bt,ur,s1,U9,c2],encapsulation:2})}return t})(),irt=(()=>{class t extends m0{constructor(){super(),this.resourceName="documents"}getNotes(e){return this.http.get(this.getResourceUrl(e,"notes"))}addNote(e,i){return this.http.post(this.getResourceUrl(e,"notes"),{note:i})}deleteNote(e,i){return this.http.delete(this.getResourceUrl(e,"notes"),{params:new ta({fromString:`id=${i}`})})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const TB=(t,n)=>({action:t,type:n});function ort(t,n){1&t&&O(0,"div",10)}function srt(t,n){if(1&t){const e=k();d(0,"form",5)(1,"div",6)(2,"textarea",7),E("keydown",function(o){return T(e),w(p(2).noteFormKeydown(o))}),u(),d(3,"div",8),b(4,0),u()(),d(5,"div",9),y(6,ort,1,0,"div",10),d(7,"button",11),E("click",function(){return T(e),w(p(2).addNote())}),b(8,1),u()()()}if(2&t){const e=p(2);m("formGroup",e.noteForm),_(2),we("is-invalid",e.newNoteError),_(4),P(e.networkActive?6:-1),_(),m("disabled",e.networkActive||e.addDisabled)}}function rrt(t,n){if(1&t){const e=k();d(0,"button",16),E("click",function(){T(e);const o=p().$implicit;return w(p(2).deleteNote(o.id))}),O(1,"i-bs",17),d(2,"span",18),b(3,2),u()()}}function art(t,n){if(1&t&&(d(0,"div",4)(1,"div",12)(2,"p",13),N(3),u()(),d(4,"div",14)(5,"span"),N(6),Fe(7,"customDate"),u(),ce(8,rrt,4,0,"button",15),u()()),2&t){const e=n.$implicit,i=p(2);_(3),oe(e.note),_(3),Jr("",i.displayName(e)," - ",lt(7,4,e.created)),_(2),m("pngxIfPermissions",$e(6,TB,i.PermissionAction.Delete,i.PermissionType.Note))}}function lrt(t,n){if(1&t&&(d(0,"div"),ce(1,srt,9,5,"form",3),O(2,"hr"),Ke(3,art,9,9,"div",4,jt),u()),2&t){const e=p();_(),m("pngxIfPermissions",$e(1,TB,e.PermissionAction.Add,e.PermissionType.Note)),_(2),qe(e.notes)}}let crt=(()=>{class t extends H1{constructor(){super(),this.notesService=M(irt),this.toastService=M(eo),this.usersService=M(vs),this.noteForm=new ti({newNote:new re("")}),this.networkActive=!1,this.newNoteError=!1,this.notes=[],this.addDisabled=!1,this.updated=new Ee,this.usersService.listAll().subscribe({next:e=>{this.users=e.results}})}addNote(){const e=this.noteForm.get("newNote").value.toString().trim();0!=e.length?(this.newNoteError=!1,this.networkActive=!0,this.notesService.addNote(this.documentId,e).subscribe({next:i=>{this.notes=i,this.noteForm.get("newNote").reset(),this.networkActive=!1,this.updated.emit(this.notes)},error:i=>{this.networkActive=!1,this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u062D\u0641\u0638 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629",i)}})):this.newNoteError=!0}deleteNote(e){this.notesService.deleteNote(this.documentId,e).subscribe({next:i=>{this.notes=i,this.networkActive=!1,this.updated.emit(this.notes)},error:i=>{this.networkActive=!1,this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629",i)}})}displayName(e){if(!e.user)return"";const i="number"==typeof e.user?e.user:e.user.id,o=this.users?.find(r=>r.id===i);if(!o)return"";const s=[];return o.first_name&&s.push(o.first_name),o.last_name&&s.push(o.last_name),o.username&&s.push(s.length>0?`(${o.username})`:o.username),s.join(" ")}noteFormKeydown(e){(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&this.addNote()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-document-notes"]],inputs:{documentId:"documentId",notes:"notes",addDisabled:"addDisabled"},outputs:{updated:"updated"},features:[at],decls:1,vars:1,consts:()=>{let e,i,o,s,r;return e="\u0623\u062F\u062E\u0644 \u0645\u0644\u0627\u062D\u0638\u0629",i=" \u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0645\u0644\u062D\u0648\u0638\u0629. ",o="\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629",s="\u062D\u0630\u0641 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629",r="\u062D\u0630\u0641 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629",[i,o,r,["class","needs-validation mt-3","novalidate","",3,"formGroup",4,"pngxIfPermissions"],[1,"card","border","mb-3"],["novalidate","",1,"needs-validation","mt-3",3,"formGroup"],[1,"form-group"],["rows","3","formControlName","newNote","placeholder",e,"required","",1,"form-control","form-control-sm",3,"keydown"],[1,"invalid-feedback"],[1,"form-group","mt-2","d-flex","justify-content-end","align-items-center"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","me-auto"],["type","button",1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"card-body","text-dark"],[1,"card-text"],[1,"d-flex","card-footer","small","bg-light","text-primary","justify-content-between","align-items-center"],["type","button","class","btn btn-link btn-sm p-0 fade","title",s,3,"click",4,"pngxIfPermissions"],["type","button","title",s,1,"btn","btn-link","btn-sm","p-0","fade",3,"click"],["name","trash"],[1,"visually-hidden"]]},template:function(i,o){1&i&&y(0,lrt,5,4,"div"),2&i&&P(o.notes?0:-1)},dependencies:[ys,$t,Do,Ci,Gt,Co,q3,Wt,ao,Mo,Bt,en,ur],styles:[".card-body[_ngcontent-%COMP%]{white-space:pre-wrap}.card[_ngcontent-%COMP%]:hover   .fade[_ngcontent-%COMP%]{opacity:1}"]})}return t})();function drt(t,n){1&t&&O(0,"i-bs",2)}function hrt(t,n){1&t&&O(0,"i-bs",3)}function urt(t,n){if(1&t&&(d(0,"tr")(1,"td"),N(2),u(),d(3,"td",6),N(4),u()()),2&t){const e=n.$implicit;_(2),Jr("",e.prefix,":",e.key),_(2),oe(e.value)}}let _rt=(()=>{class t{constructor(){this.expand=!1,this.title="\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0635\u0641\u064A\u0629"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-metadata-collapse"]],inputs:{metadata:"metadata",title:"title"},decls:11,vars:4,consts:[["collapse","ngbCollapse"],["type","button",1,"btn","btn-outline-secondary","btn-sm","me-2",3,"click"],["width","1.2em","height","1.2em","name","caret-down"],["width","1.2em","height","1.2em","name","caret-up"],[3,"ngbCollapseChange","ngbCollapse"],[1,"table","table-borderless"],[1,"metadata-column"]],template:function(i,o){if(1&i){const s=k();d(0,"h6")(1,"button",1),E("click",function(){return T(s),w(o.expand=!o.expand)}),y(2,drt,1,0,"i-bs",2),y(3,hrt,1,0,"i-bs",3),u(),N(4),u(),d(5,"div",4,0),E("ngbCollapseChange",function(a){return T(s),w(o.expand=a)}),d(7,"table",5)(8,"tbody"),Ke(9,urt,5,3,"tr",null,jt),u()()()}2&i&&(_(2),P(o.expand?-1:2),_(),P(o.expand?3:-1),_(),He(" ",o.title,"\n"),_(),m("ngbCollapse",!o.expand),_(4),qe(o.metadata))},dependencies:[O_,w_,Bt,en],styles:[".metadata-column[_ngcontent-%COMP%]{overflow-wrap:anywhere}"]})}return t})();const grt=["inputTitle"],prt=["nav"],frt=["pdfPreview"],ic=(t,n)=>({action:t,type:n}),mrt=(t,n)=>({url:t,password:n}),vrt=(t,n)=>n.field;function Crt(t,n){if(1&t){const e=k();d(0,"div",85)(1,"div",90),b(2,18),u(),d(3,"input",91),Re("ngModelChange",function(o){T(e);const s=p(2);return Pe(s.previewCurrentPage,o)||(s.previewCurrentPage=o),w(o)}),u(),d(4,"div",90),b(5,19),u()()}if(2&t){const e=p(2);_(3),m("max",e.previewNumPages),Le("ngModel",e.previewCurrentPage),_(2),An(e.previewNumPages),In(5)}}function Mrt(t,n){if(1&t&&(d(0,"option",89),N(1),u()),2&t){const e=n.$implicit,i=p(2);m("value",e),_(),He(" ",i.getZoomSettingTitle(e)," ")}}function Trt(t,n){if(1&t){const e=k();y(0,Crt,6,3,"div",85),d(1,"div",86)(2,"button",87),E("click",function(){return T(e),w(p().decreaseZoom())}),b(3,16),u(),d(4,"select",88),E("change",function(o){return T(e),w(p().setZoom(o.target.value))}),Ke(5,Mrt,2,2,"option",89,jt),u(),d(7,"button",87),E("click",function(){return T(e),w(p().increaseZoom())}),b(8,17),u()()}if(2&t){const e=p();P(e.previewNumPages?0:-1),_(4),m("ngModel",e.currentZoom),_(),qe(e.zoomSettings)}}function wrt(t,n){if(1&t){const e=k();d(0,"button",92),E("click",function(){return T(e),w(p().delete())}),O(1,"i-bs",93),d(2,"span",47),b(3,20),u()()}2&t&&m("disabled",!p().userIsOwner)}function brt(t,n){1&t&&O(0,"div",45)}function Srt(t,n){1&t&&O(0,"i-bs",46)}function Ert(t,n){if(1&t){const e=k();d(0,"div",48),O(1,"button",94),d(2,"div",95)(3,"button",54),E("click",function(){return T(e),w(p().download(!0))}),b(4,21),u()()()}if(2&t){const e=p();_(),m("disabled",e.downloading),_(2),m("disabled",e.downloading)}}function Ort(t,n){if(1&t){const e=k();d(0,"pngx-custom-fields-dropdown",96),E("created",function(){return T(e),w(p().refreshCustomFields())})("added",function(o){return T(e),w(p().addField(o))}),u()}if(2&t){const e=p();m("documentId",e.documentId)("disabled",!e.userCanEdit)("existingFields",null==e.document?null:e.document.custom_fields)}}function Art(t,n){if(1&t){const e=k();d(0,"button",58),E("click",function(){return T(e),w(p().openShareLinks())}),O(1,"i-bs",97),N(2,"\xa0"),d(3,"span"),b(4,22),u()()}}function Nrt(t,n){if(1&t){const e=k();d(0,"button",58),E("click",function(){return T(e),w(p().openEmailDocument())}),O(1,"i-bs",98),N(2,"\xa0"),d(3,"span"),b(4,23),u()()}}function Drt(t,n){1&t&&Mn(0)}function yrt(t,n){if(1&t){const e=k();d(0,"pngx-input-select",108),E("filterDocuments",function(o){T(e);const s=p(2);return w(s.filterDocuments(o,s.DataType.Correspondent))})("createNew",function(o){return T(e),w(p(2).createCorrespondent(o))}),u()}if(2&t){const e=p(2);m("items",e.correspondents)("allowNull",!0)("showFilter",!0)("horizontal",!0)("hideAddButton",e.createDisabled(e.DataType.Correspondent))("suggestions",null==e.suggestions?null:e.suggestions.correspondents)}}function Prt(t,n){if(1&t){const e=k();d(0,"pngx-input-select",109),E("filterDocuments",function(o){T(e);const s=p(2);return w(s.filterDocuments(o,s.DataType.DocumentType))})("createNew",function(o){return T(e),w(p(2).createDocumentType(o))}),u()}if(2&t){const e=p(2);m("items",e.documentTypes)("allowNull",!0)("showFilter",!0)("horizontal",!0)("hideAddButton",e.createDisabled(e.DataType.DocumentType))("suggestions",null==e.suggestions?null:e.suggestions.document_types)}}function Irt(t,n){if(1&t){const e=k();d(0,"pngx-input-select",110),E("filterDocuments",function(o){T(e);const s=p(2);return w(s.filterDocuments(o,s.DataType.StoragePath))})("createNew",function(o){return T(e),w(p(2).createStoragePath(o))}),u()}if(2&t){const e=p(2);m("items",e.storagePaths)("allowNull",!0)("showFilter",!0)("horizontal",!0)("hideAddButton",e.createDisabled(e.DataType.StoragePath))("suggestions",null==e.suggestions?null:e.suggestions.storage_paths)}}function Lrt(t,n){if(1&t){const e=k();d(0,"pngx-input-tags",111),E("filterDocuments",function(o){T(e);const s=p(2);return w(s.filterDocuments(o,s.DataType.Tag))}),u()}if(2&t){const e=p(2);m("suggestions",null==e.suggestions?null:e.suggestions.tags)("showFilter",!0)("horizontal",!0)("hideAddButton",e.createDisabled(e.DataType.Tag))}}function Rrt(t,n){if(1&t){const e=k();d(0,"pngx-input-text",119),E("removed",function(){T(e);const o=p().$implicit;return w(p(2).removeField(o))}),u()}if(2&t){let e;const i=p(),o=i.$implicit,s=i.$index,r=p(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("removable",r.userCanEdit)("horizontal",!0)("error",r.getCustomFieldError(s))}}function xrt(t,n){if(1&t){const e=k();d(0,"pngx-input-date",119),E("removed",function(){T(e);const o=p().$implicit;return w(p(2).removeField(o))}),u()}if(2&t){let e;const i=p(),o=i.$implicit,s=i.$index,r=p(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("removable",r.userCanEdit)("horizontal",!0)("error",r.getCustomFieldError(s))}}function Frt(t,n){if(1&t){const e=k();d(0,"pngx-input-number",120),E("removed",function(){T(e);const o=p().$implicit;return w(p(2).removeField(o))}),u()}if(2&t){let e;const i=p(),o=i.$implicit,s=i.$index,r=p(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("removable",r.userCanEdit)("horizontal",!0)("showAdd",!1)("error",r.getCustomFieldError(s))}}function krt(t,n){if(1&t){const e=k();d(0,"pngx-input-number",121),E("removed",function(){T(e);const o=p().$implicit;return w(p(2).removeField(o))}),u()}if(2&t){let e;const i=p(),o=i.$implicit,s=i.$index,r=p(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("removable",r.userCanEdit)("horizontal",!0)("showAdd",!1)("step",.1)("error",r.getCustomFieldError(s))}}function zrt(t,n){if(1&t){const e=k();d(0,"pngx-input-monetary",122),E("removed",function(){T(e);const o=p().$implicit;return w(p(2).removeField(o))}),u()}if(2&t){let e,i;const o=p(),s=o.$implicit,r=o.$index,a=p(2);m("title",null==(e=a.getCustomFieldFromInstance(s))?null:e.name)("defaultCurrency",null==(i=a.getCustomFieldFromInstance(s))||null==i.extra_data?null:i.extra_data.default_currency)("removable",a.userCanEdit)("horizontal",!0)("error",a.getCustomFieldError(r))}}function Vrt(t,n){if(1&t){const e=k();d(0,"pngx-input-check",123),E("removed",function(){T(e);const o=p().$implicit;return w(p(2).removeField(o))}),u()}if(2&t){let e;const i=p().$implicit,o=p(2);m("title",null==(e=o.getCustomFieldFromInstance(i))?null:e.name)("removable",o.userCanEdit)("horizontal",!0)}}function Hrt(t,n){if(1&t){const e=k();d(0,"pngx-input-url",119),E("removed",function(){T(e);const o=p().$implicit;return w(p(2).removeField(o))}),u()}if(2&t){let e;const i=p(),o=i.$implicit,s=i.$index,r=p(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("removable",r.userCanEdit)("horizontal",!0)("error",r.getCustomFieldError(s))}}function Grt(t,n){if(1&t){const e=k();d(0,"pngx-input-document-link",124),E("removed",function(){T(e);const o=p().$implicit;return w(p(2).removeField(o))}),u()}if(2&t){let e;const i=p(),o=i.$implicit,s=i.$index,r=p(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("parentDocumentID",r.documentId)("removable",r.userCanEdit)("horizontal",!0)("error",r.getCustomFieldError(s))}}function $rt(t,n){if(1&t){const e=k();d(0,"pngx-input-select",125),E("removed",function(){T(e);const o=p().$implicit;return w(p(2).removeField(o))}),u()}if(2&t){let e,i;const o=p(),s=o.$implicit,r=o.$index,a=p(2);m("title",null==(e=a.getCustomFieldFromInstance(s))?null:e.name)("items",null==(i=a.getCustomFieldFromInstance(s))?null:i.extra_data.select_options)("allowNull",!0)("horizontal",!0)("removable",a.userCanEdit)("error",a.getCustomFieldError(r))}}function Brt(t,n){if(1&t){const e=k();d(0,"pngx-input-textarea",119),E("removed",function(){T(e);const o=p().$implicit;return w(p(2).removeField(o))}),u()}if(2&t){let e;const i=p(),o=i.$implicit,s=i.$index,r=p(2);m("title",null==(e=r.getCustomFieldFromInstance(o))?null:e.name)("removable",r.userCanEdit)("horizontal",!0)("error",r.getCustomFieldError(s))}}function Urt(t,n){if(1&t&&(d(0,"div",106),y(1,Rrt,1,4,"pngx-input-text",112)(2,xrt,1,4,"pngx-input-date",112)(3,Frt,1,5,"pngx-input-number",113)(4,krt,1,6,"pngx-input-number",114)(5,zrt,1,5,"pngx-input-monetary",115)(6,Vrt,1,3,"pngx-input-check",116)(7,Hrt,1,4,"pngx-input-url",112)(8,Grt,1,5,"pngx-input-document-link",117)(9,$rt,1,6,"pngx-input-select",118)(10,Brt,1,4,"pngx-input-textarea",112),u()),2&t){let e;const i=n.$implicit,o=n.$index,s=p(2);m("formGroup",s.customFieldFormFields.controls[o]),_(),P((e=null==(e=s.getCustomFieldFromInstance(i))?null:e.data_type)===s.CustomFieldDataType.String?1:e===s.CustomFieldDataType.Date?2:e===s.CustomFieldDataType.Integer?3:e===s.CustomFieldDataType.Float?4:e===s.CustomFieldDataType.Monetary?5:e===s.CustomFieldDataType.Boolean?6:e===s.CustomFieldDataType.Url?7:e===s.CustomFieldDataType.DocumentLink?8:e===s.CustomFieldDataType.Select?9:e===s.CustomFieldDataType.LongText?10:-1)}}function jrt(t,n){1&t&&Mn(0)}function Zrt(t,n){if(1&t){const e=k();d(0,"div")(1,"pngx-input-text",99,4),E("keyup",function(o){return T(e),w(p().titleKeyUp(o))}),u(),O(3,"pngx-input-number",100),d(4,"pngx-input-date",101),E("filterDocuments",function(o){return T(e),w(p().filterDocuments(o))}),u(),ce(5,yrt,1,6,"pngx-input-select",102)(6,Prt,1,6,"pngx-input-select",103)(7,Irt,1,6,"pngx-input-select",104)(8,Lrt,1,4,"pngx-input-tags",105),Ke(9,Urt,11,2,"div",106,vrt),u(),d(11,"div",107),ce(12,jrt,1,0,"ng-container",77),u()}if(2&t){const e=p(),i=xe(87);_(),m("horizontal",!0)("error",null==e.error?null:e.error.title),_(2),m("error",null==e.error?null:e.error.archive_serial_number)("horizontal",!0),_(),m("suggestions",null==e.suggestions?null:e.suggestions.dates)("showFilter",!0)("horizontal",!0)("error",null==e.error?null:e.error.created),_(),m("pngxIfPermissions",$e(13,ic,e.PermissionAction.View,e.PermissionType.Correspondent)),_(),m("pngxIfPermissions",$e(16,ic,e.PermissionAction.View,e.PermissionType.DocumentType)),_(),m("pngxIfPermissions",$e(19,ic,e.PermissionAction.View,e.PermissionType.StoragePath)),_(),m("pngxIfPermissions",$e(22,ic,e.PermissionAction.View,e.PermissionType.Tag)),_(),qe(null==e.document?null:e.document.custom_fields),_(3),m("ngTemplateOutlet",i)}}function Wrt(t,n){if(1&t&&(d(0,"div"),O(1,"textarea",126),u()),2&t){const e=p();_(),we("rtl",e.isRTL)}}function Xrt(t,n){if(1&t&&(d(0,"tr")(1,"td"),b(2,31),u(),d(3,"td"),N(4),u()()),2&t){const e=p(3);_(4),oe(null==e.metadata?null:e.metadata.archive_checksum)}}function Krt(t,n){if(1&t&&(d(0,"tr")(1,"td"),b(2,32),u(),d(3,"td"),N(4),Fe(5,"fileSize"),u()()),2&t){const e=p(3);_(4),oe(lt(5,1,null==e.metadata?null:e.metadata.archive_size))}}function qrt(t,n){if(1&t&&(d(0,"table",127)(1,"tbody")(2,"tr")(3,"td"),b(4,24),u(),d(5,"td"),N(6),Fe(7,"customDate"),u()(),d(8,"tr")(9,"td"),b(10,25),u(),d(11,"td"),N(12),Fe(13,"customDate"),u()(),d(14,"tr")(15,"td"),b(16,26),u(),d(17,"td"),N(18),u()(),d(19,"tr")(20,"td"),b(21,27),u(),d(22,"td"),N(23),u()(),d(24,"tr")(25,"td"),b(26,28),u(),d(27,"td"),N(28),u()(),d(29,"tr")(30,"td"),b(31,29),u(),d(32,"td"),N(33),Fe(34,"fileSize"),u()(),d(35,"tr")(36,"td"),b(37,30),u(),d(38,"td"),N(39),u()(),y(40,Xrt,5,1,"tr"),y(41,Krt,6,3,"tr"),u()()),2&t){const e=p(2);_(6),oe(lt(7,9,e.document.modified)),_(6),oe(lt(13,11,e.document.added)),_(6),oe(null==e.metadata?null:e.metadata.media_filename),_(5),oe(null==e.metadata?null:e.metadata.original_filename),_(5),oe(null==e.metadata?null:e.metadata.original_checksum),_(5),oe(lt(34,13,null==e.metadata?null:e.metadata.original_size)),_(6),oe(null==e.metadata?null:e.metadata.original_mime_type),_(),P(null!=e.metadata&&e.metadata.has_archive_version?40:-1),_(),P(null!=e.metadata&&e.metadata.has_archive_version?41:-1)}}function Yrt(t,n){1&t&&O(0,"pngx-metadata-collapse",128),2&t&&m("metadata",p(2).metadata.original_metadata)}function Qrt(t,n){1&t&&O(0,"pngx-metadata-collapse",129),2&t&&m("metadata",p(2).metadata.archive_metadata)}function Jrt(t,n){if(1&t&&(y(0,qrt,42,15,"table",127),y(1,Yrt,1,1,"pngx-metadata-collapse",128),y(2,Qrt,1,1,"pngx-metadata-collapse",129)),2&t){const e=p();P(e.document?0:-1),_(),P((null==e.metadata||null==e.metadata.original_metadata?null:e.metadata.original_metadata.length)>0?1:-1),_(),P((null==e.metadata||null==e.metadata.archive_metadata?null:e.metadata.archive_metadata.length)>0?2:-1)}}function eat(t,n){1&t&&Mn(0)}function tat(t,n){if(1&t&&(d(0,"div",130),ce(1,eat,1,0,"ng-container",77),u()),2&t){p(2);const e=xe(89);_(),m("ngTemplateOutlet",e)}}function nat(t,n){1&t&&ce(0,tat,2,1,"ng-template",81)}function iat(t,n){if(1&t&&(Sr(0,33,1),O(1,"span",132),Er()),2&t){const e=p(2);_(),An(e.document.notes.length),In(0)}}function oat(t,n){if(1&t){const e=k();d(0,"pngx-document-notes",133),E("updated",function(o){return T(e),w(p(2).notesUpdated(o))}),u()}if(2&t){const e=p(2);m("documentId",e.documentId)("notes",null==e.document?null:e.document.notes)("addDisabled",!e.userCanEdit)}}function sat(t,n){if(1&t&&(d(0,"li",79)(1,"a",131),Sr(2,33),y(3,iat,2,1,"span",132),Er(),u(),ce(4,oat,1,3,"ng-template",81),u()),2&t){const e=p();m("ngbNavItem",e.DocumentDetailNavIDs.Notes),_(3),P(null!=e.document&&e.document.notes.length?3:-1)}}function rat(t,n){if(1&t&&(d(0,"div",134),O(1,"pngx-document-history",135),u()),2&t){const e=p(2);_(),m("documentId",e.documentId)}}function aat(t,n){1&t&&(d(0,"li",79)(1,"a",80),b(2,34),u(),ce(3,rat,2,1,"ng-template",81),u()),2&t&&m("ngbNavItem",p().DocumentDetailNavIDs.History)}function lat(t,n){if(1&t&&(d(0,"div",134),O(1,"pngx-permissions-form",136),u()),2&t){const e=p(2);_(),m("users",e.users)}}function cat(t,n){1&t&&(d(0,"li",79)(1,"a",80),b(2,35),u(),ce(3,lat,2,1,"ng-template",81),u()),2&t&&m("ngbNavItem",p().DocumentDetailNavIDs.Permissions)}function dat(t,n){1&t&&Mn(0)}function hat(t,n){if(1&t){const e=k();d(0,"button",143),Fe(1,"async"),E("click",function(){return T(e),w(p(3).saveEditNext())}),b(2,38),u()}if(2&t){const e=p(3);m("disabled",!e.userCanEdit||e.networkActive||!0!==lt(1,1,e.isDirty$))}}function uat(t,n){if(1&t){const e=k();d(0,"button",144),Fe(1,"async"),E("click",function(){return T(e),w(p(3).save(!0))}),b(2,39),u()}if(2&t){const e=p(3);m("disabled",!e.userCanEdit||e.networkActive||!0!==lt(1,1,e.isDirty$))}}function _at(t,n){if(1&t){const e=k();ge(0),d(1,"button",139),Fe(2,"async"),b(3,36),u(),y(4,hat,3,3,"button",140),y(5,uat,3,3,"button",141),d(6,"button",142),Fe(7,"async"),E("click",function(){return T(e),w(p(2).discard())}),b(8,37),u(),ue()}if(2&t){const e=p(2);_(),m("disabled",!e.userCanEdit||e.networkActive||!0!==lt(2,4,e.isDirty$)),_(3),P(e.hasNext()?4:-1),_(),P(e.hasNext()?-1:5),_(),m("disabled",!e.userCanEdit||e.networkActive||!0!==lt(7,6,e.isDirty$))}}function gat(t,n){if(1&t&&(d(0,"div",137),ce(1,_at,9,8,"ng-container",138),u()),2&t){const e=p();_(),m("pngxIfPermissions",$e(1,ic,e.PermissionAction.Change,e.PermissionType.Document))}}function pat(t,n){if(1&t&&(O(0,"img",146),Fe(1,"safeUrl")),2&t){const e=p(2);m("src",lt(1,3,e.thumbUrl),Ts),Vn("width","page-fit"===e.previewZoomScale?"auto":"100%")("height","page-fit"===e.previewZoomScale?"100%":"auto")}}function fat(t,n){if(1&t){const e=k();d(0,"div",153)(1,"pdf-viewer",154),Re("pageChange",function(o){T(e);const s=p(4);return Pe(s.previewCurrentPage,o)||(s.previewCurrentPage=o),w(o)}),E("error",function(o){return T(e),w(p(4).onError(o))})("after-load-complete",function(o){return T(e),w(p(4).pdfPreviewLoaded(o))}),u()()}if(2&t){const e=p(4);_(),m("src",$e(7,mrt,e.previewUrl,e.password))("original-size",!1)("show-borders",!0)("show-all",!0),Le("page",e.previewCurrentPage),m("zoom-scale",e.previewZoomScale)("zoom",e.previewZoomSetting)}}function mat(t,n){1&t&&(O(0,"object",151),Fe(1,"safeUrl")),2&t&&m("data",lt(1,1,p(4).previewUrl),Xh)}function vat(t,n){1&t&&y(0,fat,2,10,"div",153)(1,mat,2,3,"object",151),2&t&&P(p(3).useNativePdfViewer?1:0)}function Cat(t,n){if(1&t&&(d(0,"div",149),N(1),u()),2&t){const e=p(3);_(),oe(e.previewText)}}function Mat(t,n){if(1&t&&(d(0,"div",150),O(1,"img",155),Fe(2,"safeUrl"),u()),2&t){const e=p(3);_(),m("alt",ni(e.title))("src",lt(2,3,e.previewUrl),Ts)}}function Tat(t,n){if(1&t&&(d(0,"div",150),O(1,"img",155),u()),2&t){const e=p(4);_(),m("alt",ni(e.title))("src",e.tiffURL,Ts)}}function wat(t,n){if(1&t&&(d(0,"div",149),N(1),u()),2&t){const e=p(4);_(),oe(e.tiffError)}}function bat(t,n){1&t&&y(0,Tat,2,3,"div",150)(1,wat,2,1,"div",149),2&t&&P(p(3).tiffError?1:0)}function Sat(t,n){1&t&&(O(0,"object",151),Fe(1,"safeUrl")),2&t&&m("data",lt(1,1,p(3).previewUrl),Xh)}function Eat(t,n){if(1&t){const e=k();d(0,"div",152)(1,"form")(2,"input",156),E("keyup",function(o){return T(e),w(p(3).onPasswordKeyUp(o))}),u()()()}}function Oat(t,n){if(1&t&&(y(0,vat,2,1)(1,Cat,2,1,"div",149)(2,Mat,3,5,"div",150)(3,bat,2,1)(4,Sat,2,3,"object",151),y(5,Eat,3,0,"div",152)),2&t){let e;const i=p(2);P((e=i.archiveContentRenderType)===i.ContentRenderType.PDF?0:e===i.ContentRenderType.Text?1:e===i.ContentRenderType.Image?2:e===i.ContentRenderType.TIFF?3:e===i.ContentRenderType.Other?4:-1),_(5),P(i.requiresPassword?5:-1)}}function Aat(t,n){if(1&t&&(d(0,"div",145),y(1,pat,2,5,"img",146),d(2,"div",147)(3,"div"),O(4,"div",148),ge(5),b(6,40),ue(),u()()(),y(7,Oat,6,2)),2&t){const e=p();we("fade",e.previewLoaded),_(),P(e.showThumbnailOverlay?1:-1),_(6),P(e.document?7:-1)}}var $g=function(t){return t[t.Details=1]="Details",t[t.Content=2]="Content",t[t.Metadata=3]="Metadata",t[t.Preview=4]="Preview",t[t.Notes=5]="Notes",t[t.Permissions=6]="Permissions",t[t.History=7]="History",t}($g||{}),C0=function(t){return t.PDF="pdf",t.Image="image",t.Text="text",t.Other="other",t.Unknown="unknown",t.TIFF="tiff",t}(C0||{}),Uo=function(t){return t.PageFit="page-fit",t.PageWidth="page-width",t.Quarter=".25",t.Half=".5",t.ThreeQuarters=".75",t.One="1",t.OneAndHalf="1.5",t.Two="2",t.Three="3",t}(Uo||{});let J4=(()=>{class t extends H1{constructor(){super(...arguments),this.documentsService=M(Io),this.route=M(V1),this.correspondentService=M(ol),this.documentTypeService=M(sl),this.router=M(ts),this.modalService=M(ps),this.openDocumentService=M($4),this.documentListViewService=M(z5),this.documentTitlePipe=M(G5),this.toastService=M(eo),this.settings=M(Gn),this.storagePathService=M(nc),this.permissionsService=M(Ti),this.userService=M(vs),this.customFieldsService=M(g1),this.http=M(ba),this.hotKeyService=M(Fg),this.componentRouterService=M(vB),this.deviceDetectorService=M(bit),this.savedViewService=M(V5),this.expandOriginalMetadata=!1,this.expandArchivedMetadata=!1,this.networkActive=!1,this.titleSubject=new Be,this.previewLoaded=!1,this.documentForm=new ti({title:new re(""),content:new re(""),created:new re,correspondent:new re,document_type:new re,storage_path:new re,archive_serial_number:new re,tags:new re([]),permissions_form:new re(null),custom_fields:new p2([])}),this.previewCurrentPage=1,this.previewZoomSetting=Uo.One,this.previewZoomScale=Uo.PageWidth,this.unsubscribeNotifier=new Be,this.docChangeNotifier=new Be,this.requiresPassword=!1,this.downloading=!1,this.CustomFieldDataType=Pi,this.ContentRenderType=C0,this.DataType=wn,this.DocumentDetailNavIDs=$g}set pdfPreview(e){e&&null!==e.nativeElement.offsetParent&&4==this.nav?.activeId&&setTimeout(()=>this.nav?.select(1))}titleKeyUp(e){this.titleSubject.next(e.target?.value)}get useNativePdfViewer(){return this.settings.get(Ce.USE_NATIVE_PDF_VIEWER)}get isMobile(){return this.deviceDetectorService.isMobile()}get archiveContentRenderType(){return this.getRenderType(this.document?.archived_file_name?"application/pdf":this.document?.mime_type)}get originalContentRenderType(){return this.getRenderType(this.document?.mime_type)}get showThumbnailOverlay(){return this.settings.get(Ce.DOCUMENT_EDITING_OVERLAY_THUMBNAIL)}getRenderType(e){return e?"application/pdf"===e?C0.PDF:["text/plain","application/csv","text/csv"].includes(e)?C0.Text:e.indexOf("tiff")>=0?C0.TIFF:0===e?.indexOf("image/")?C0.Image:C0.Other:C0.Unknown}get isRTL(){return!(!this.metadata||!this.metadata.lang)&&["ar","he","fe"].includes(this.metadata.lang)}mapDocToForm(e){return{...e,permissions_form:{owner:e.owner,set_permissions:e.permissions}}}mapFormToDoc(e){const i={...e};return i.owner=e.permissions_form?.owner,i.set_permissions=e.permissions_form?.set_permissions,delete i.permissions_form,i}prepareForm(e){this.documentForm.reset(this.mapDocToForm(e),{emitEvent:!1}),this.userCanEditDoc(e)?this.documentForm.enable({emitEvent:!1}):this.documentForm.disable({emitEvent:!1}),e.__changedFields&&e.__changedFields.forEach(i=>{"owner"===i||"set_permissions"===i?this.documentForm.get("permissions_form")?.markAsDirty():this.documentForm.get(i)?.markAsDirty()})}setupDirtyTracking(e,i){this.store=new Qn({title:i.title,content:i.content,created:i.created,correspondent:i.correspondent,document_type:i.document_type,storage_path:i.storage_path,archive_serial_number:i.archive_serial_number,tags:[...i.tags],permissions_form:{owner:i.owner,set_permissions:i.permissions},custom_fields:[...i.custom_fields]}),this.isDirty$=S4(this.documentForm,this.store.asObservable()),this.isDirty$.pipe(me(this.unsubscribeNotifier),me(this.docChangeNotifier)).subscribe(o=>this.openDocumentService.setDirty(e,o,this.getChangedFields()))}loadDocument(e){this.previewUrl=this.documentsService.getPreviewUrl(e),this.http.get(this.previewUrl,{responseType:"text"}).pipe(ut(),me(this.unsubscribeNotifier),me(this.docChangeNotifier)).subscribe({next:i=>this.previewText=i.toString(),error:i=>this.previewText="\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u062D\u062A\u0648\u0649" + (i.message ?? i.toString()) + ""}),this.thumbUrl=this.documentsService.getThumbUrl(e),this.documentsService.get(e).pipe(xa(()=>Et(null)),ut(),me(this.unsubscribeNotifier),me(this.docChangeNotifier)).subscribe({next:i=>{if(!i)return void this.router.navigate(["404"],{replaceUrl:!0});this.documentId=i.id,this.suggestions=null;const o=this.openDocumentService.getOpenDocument(this.documentId),s=o||i;if(o){if(new Date(i.modified)>new Date(o.modified)&&!this.modalService.hasOpenModals()){const r=this.modalService.open(Ki);r.componentInstance.title="\u062A\u0645 \u0627\u0643\u062A\u0634\u0627\u0641 \u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0641\u064A \u0627\u0644\u0645\u0633\u062A\u0646\u062F",r.componentInstance.messageBold="\u0625\u0635\u062F\u0627\u0631 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0641\u064A \u062C\u0644\u0633\u0629 \u0627\u0644\u0645\u062A\u0635\u0641\u062D \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0643 \u064A\u0628\u062F\u0648 \u0623\u0642\u062F\u0645 \u0645\u0646 \u0627\u0644\u0625\u0635\u062F\u0627\u0631 \u0627\u0644\u062D\u0627\u0644\u064A.",r.componentInstance.message="\u0642\u062F \u064A\u0624\u062F\u064A \u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0647\u0646\u0627 \u0625\u0644\u0649 \u0627\u0644\u0643\u062A\u0627\u0628\u0629 \u0641\u0648\u0642 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0627\u0644\u0623\u062E\u0631\u0649 \u0627\u0644\u062A\u064A \u062A\u0645 \u0625\u062C\u0631\u0627\u0624\u0647\u0627. \u0644\u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0625\u0635\u062F\u0627\u0631 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u060C \u062A\u062C\u0627\u0647\u0644 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0623\u0648 \u0623\u063A\u0644\u0642 \u0627\u0644\u0645\u0633\u062A\u0646\u062F.",r.componentInstance.cancelBtnClass="visually-hidden",r.componentInstance.btnCaption="\u0645\u0648\u0627\u0641\u0642",r.componentInstance.confirmClicked.subscribe(()=>r.close())}}else this.openDocumentService.openDocument(i).pipe(ut(),me(this.unsubscribeNotifier),me(this.docChangeNotifier)).subscribe();this.updateComponent(s),this.titleSubject.pipe(ra(1e3),r1(),me(this.docChangeNotifier),me(this.unsubscribeNotifier)).subscribe(r=>{r===this.titleInput.value&&(this.title=r,this.documentForm.patchValue({title:r}),this.documentForm.get("title").markAsDirty())}),this.setupDirtyTracking(s,i)}})}ngOnInit(){this.setZoom(this.settings.get(Ce.PDF_VIEWER_ZOOM_SETTING)),this.documentForm.valueChanges.pipe(me(this.unsubscribeNotifier)).subscribe(e=>{this.error=null,Object.assign(this.document,this.mapFormToDoc(e))}),this.permissionsService.currentUserCan(ft.View,vt.Correspondent)&&this.correspondentService.listAll().pipe(ut(),me(this.unsubscribeNotifier)).subscribe(e=>this.correspondents=e.results),this.permissionsService.currentUserCan(ft.View,vt.DocumentType)&&this.documentTypeService.listAll().pipe(ut(),me(this.unsubscribeNotifier)).subscribe(e=>this.documentTypes=e.results),this.permissionsService.currentUserCan(ft.View,vt.StoragePath)&&this.storagePathService.listAll().pipe(ut(),me(this.unsubscribeNotifier)).subscribe(e=>this.storagePaths=e.results),this.permissionsService.currentUserCan(ft.View,vt.User)&&this.userService.listAll().pipe(ut(),me(this.unsubscribeNotifier)).subscribe(e=>this.users=e.results),this.getCustomFields(),this.route.paramMap.pipe(ii(e=>+e.get("id")!==this.documentId&&e.get("section")?.length>0),me(this.unsubscribeNotifier)).subscribe(e=>{const i=+e.get("id");this.docChangeNotifier.next(i),this.loadDocument(i)}),this.route.paramMap.pipe(me(this.unsubscribeNotifier)).subscribe(e=>{const i=e.get("section");if(i){const o=Object.keys($g).find(s=>s.toLowerCase()==i);o&&(this.activeNavID=$g[o])}else e.get("id")&&this.router.navigate(["documents",+e.get("id"),"details"],{replaceUrl:!0})}),this.hotKeyService.addShortcut({keys:"control.arrowright",description:"\u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0627\u0644\u062A\u0627\u0644\u064A"}).pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.hasNext()&&this.nextDoc()}),this.hotKeyService.addShortcut({keys:"control.arrowleft",description:"\u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0627\u0644\u0633\u0627\u0628\u0642"}).pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.hasPrevious()&&this.previousDoc()}),this.hotKeyService.addShortcut({keys:"escape",description:"\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0645\u0633\u062A\u0646\u062F"}).pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.close()}),this.hotKeyService.addShortcut({keys:"control.s",description:"\u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u062A\u0646\u062F"}).pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.openDocumentService.isDirty(this.document)&&this.save()}),this.hotKeyService.addShortcut({keys:"control.shift.s",description:"Save and close / next"}).pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.openDocumentService.isDirty(this.document)&&this.saveEditNext()})}ngOnDestroy(){this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}onNavChange(e){const[i]=Object.entries($g).find(([,o])=>o==e.nextId);i&&this.router.navigate(["documents",this.documentId,i.toLowerCase()])}updateComponent(e){this.document=e,this.requiresPassword=!1,this.updateFormForCustomFields(),this.archiveContentRenderType===C0.TIFF&&this.tryRenderTiff(),this.documentsService.getMetadata(e.id).pipe(ut(),me(this.unsubscribeNotifier),me(this.docChangeNotifier)).subscribe({next:i=>{this.metadata=i,(this.archiveContentRenderType!==C0.PDF||this.useNativePdfViewer)&&(this.previewLoaded=!0)},error:i=>{this.metadata={},this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0633\u062A\u0631\u062C\u0627\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0635\u0641\u064A\u0629",i)}}),this.permissionsService.currentUserHasObjectPermissions(ft.Change,e)&&this.permissionsService.currentUserCan(ft.Change,vt.Document)&&this.documentsService.getSuggestions(e.id).pipe(ut(),me(this.unsubscribeNotifier),me(this.docChangeNotifier)).subscribe({next:i=>{this.suggestions=i},error:i=>{this.suggestions=null,this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0633\u062A\u0631\u062F\u0627\u062F \u0627\u0644\u0627\u0642\u062A\u0631\u0627\u062D\u0627\u062A.",i)}}),this.title=this.documentTitlePipe.transform(e.title),this.prepareForm(e)}get customFieldFormFields(){return this.documentForm.get("custom_fields")}createDocumentType(e){var i=this.modalService.open(X4,{backdrop:"static"});i.componentInstance.dialogMode=wi.CREATE,e&&(i.componentInstance.object={name:e}),i.componentInstance.succeeded.pipe(_i(o=>this.documentTypeService.listAll().pipe(bt(s=>({newDocumentType:o,documentTypes:s}))))).pipe(me(this.unsubscribeNotifier)).subscribe(({newDocumentType:o,documentTypes:s})=>{this.documentTypes=s.results,this.documentForm.get("document_type").setValue(o.id),this.documentForm.get("document_type").markAsDirty()})}createCorrespondent(e){var i=this.modalService.open(W4,{backdrop:"static"});i.componentInstance.dialogMode=wi.CREATE,e&&(i.componentInstance.object={name:e}),i.componentInstance.succeeded.pipe(_i(o=>this.correspondentService.listAll().pipe(bt(s=>({newCorrespondent:o,correspondents:s}))))).pipe(me(this.unsubscribeNotifier)).subscribe(({newCorrespondent:o,correspondents:s})=>{this.correspondents=s.results,this.documentForm.get("correspondent").setValue(o.id),this.documentForm.get("correspondent").markAsDirty()})}createStoragePath(e){var i=this.modalService.open(K4,{backdrop:"static"});i.componentInstance.dialogMode=wi.CREATE,e&&(i.componentInstance.object={name:e}),i.componentInstance.succeeded.pipe(_i(o=>this.storagePathService.listAll().pipe(bt(s=>({newStoragePath:o,storagePaths:s}))))).pipe(me(this.unsubscribeNotifier)).subscribe(({newStoragePath:o,storagePaths:s})=>{this.storagePaths=s.results,this.documentForm.get("storage_path").setValue(o.id),this.documentForm.get("storage_path").markAsDirty()})}createDisabled(e){switch(e){case wn.Correspondent:return!this.permissionsService.currentUserCan(ft.Add,vt.Correspondent);case wn.DocumentType:return!this.permissionsService.currentUserCan(ft.Add,vt.DocumentType);case wn.StoragePath:return!this.permissionsService.currentUserCan(ft.Add,vt.StoragePath);case wn.Tag:return!this.permissionsService.currentUserCan(ft.Add,vt.Tag)}}discard(){this.documentsService.get(this.documentId).pipe(ut(),me(this.unsubscribeNotifier),me(this.docChangeNotifier)).subscribe({next:e=>{Object.assign(this.document,e),e.permissions_form={owner:e.owner,set_permissions:e.permissions},this.title=e.title,this.updateFormForCustomFields(),this.documentForm.patchValue(e),this.documentForm.markAsPristine(),this.openDocumentService.setDirty(e,!1)},error:()=>{this.router.navigate(["404"],{replaceUrl:!0})}})}getChangedFields(){const e={id:this.document.id};return Object.keys(this.documentForm.controls).forEach(i=>{this.documentForm.get(i).dirty&&("permissions_form"===i?(e.owner=this.documentForm.get("permissions_form").value.owner,e.set_permissions=this.documentForm.get("permissions_form").value.set_permissions):e[i]=this.documentForm.get(i).value)}),e}save(e=!1){this.networkActive=!0,document.activeElement?.dispatchEvent(new Event("change")),this.documentsService.patch(this.getChangedFields()).pipe(ut()).subscribe({next:i=>{this.documentForm.patchValue(i);const o=Object.assign({},this.documentForm.value);o.tags=[...i.tags],o.custom_fields=[...i.custom_fields],this.store.next(o),this.openDocumentService.setDirty(this.document,!1),this.openDocumentService.save(),this.toastService.showInfo("\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \"" + o.title + "\u0628\u0646\u062C\u0627\u062D."),this.networkActive=!1,this.error=null,e?this.close(()=>this.openDocumentService.refreshDocument(this.documentId)):this.openDocumentService.refreshDocument(this.documentId),this.savedViewService.maybeRefreshDocumentCounts()},error:i=>{this.networkActive=!1,this.permissionsService.currentUserHasObjectPermissions(ft.Change,this.document)?(this.error=i.error,this.toastService.showError("Error saving document \"" + this.document.title + "\"",i)):(this.openDocumentService.setDirty(this.document,!1),this.toastService.showInfo("\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \"" + this.document.title + "\u0628\u0646\u062C\u0627\u062D."),this.close())}})}saveEditNext(){this.networkActive=!0,this.store.next(this.documentForm.value),this.documentsService.patch(this.getChangedFields()).pipe(_i(e=>(this.savedViewService.maybeRefreshDocumentCounts(),this.documentListViewService.getNext(this.documentId).pipe(bt(i=>({nextDocId:i,updateResult:e})),me(this.unsubscribeNotifier))))).pipe(_i(({nextDocId:e,updateResult:i})=>{if(e&&i)return this.openDocumentService.setDirty(this.document,!1),this.openDocumentService.closeDocument(this.document).pipe(bt(o=>({updateResult:i,nextDocId:e,closeResult:o}),me(this.unsubscribeNotifier)))})).pipe(ut()).subscribe({next:({updateResult:e,nextDocId:i,closeResult:o})=>{this.error=null,this.networkActive=!1,o&&e&&i&&(this.router.navigate(["documents",i]),this.titleInput?.focus())},error:e=>{this.networkActive=!1,this.error=e.error,this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",e)}})}close(e=null){this.openDocumentService.closeDocument(this.document).pipe(ut()).subscribe(i=>{i&&(e&&e(),this.documentListViewService.activeSavedViewId?this.router.navigate(["view",this.documentListViewService.activeSavedViewId]):this.componentRouterService.getComponentURLBefore()?this.router.navigate([this.componentRouterService.getComponentURLBefore()]):this.router.navigate(["documents"]))})}delete(){let e=this.modalService.open(Ki,{backdrop:"static"});e.componentInstance.title="\u0623\u0643\u0651\u062F",e.componentInstance.messageBold="\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0642\u0627\u064B \u0646\u0642\u0644 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \"" + this.document.title + "\" \u0625\u0644\u0649 \u0633\u0644\u0629 \u0627\u0644\u0645\u0647\u0645\u0644\u0627\u062A\u061F",e.componentInstance.message="\u064A\u0645\u0643\u0646 \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0642\u0628\u0644 \u062D\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064A\u0627\u064B.",e.componentInstance.btnClass="btn-danger",e.componentInstance.btnCaption="\u0646\u0642\u0644 \u0644\u0633\u0644\u0629 \u0627\u0644\u0645\u0647\u0645\u0644\u0627\u062A",this.subscribeModalDelete(e)}subscribeModalDelete(e){e.componentInstance.confirmClicked.pipe(_i(()=>(e.componentInstance.buttonsEnabled=!1,this.documentsService.delete(this.document)))).pipe(me(this.unsubscribeNotifier)).subscribe({next:()=>{e.close(),this.close()},error:i=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",i),e.componentInstance.buttonsEnabled=!0,this.subscribeModalDelete(e)}})}moreLike(){this.documentListViewService.quickFilter([{rule_type:21,value:this.documentId.toString()}])}reprocess(){let e=this.modalService.open(Ki,{backdrop:"static"});e.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629",e.componentInstance.messageBold="\u0633\u062A\u0624\u062F\u064A \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0625\u0644\u0649 \u0625\u0639\u0627\u062F\u0629 \u0625\u0646\u0634\u0627\u0621 \u0645\u0644\u0641 \u0627\u0644\u0623\u0631\u0634\u064A\u0641 \u0644\u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0628\u0634\u0643\u0644 \u062F\u0627\u0626\u0645.",e.componentInstance.message="\u0633\u064A\u062A\u0645 \u0625\u0639\u0627\u062F\u0629 \u0625\u0646\u0634\u0627\u0621 \u0645\u0644\u0641 \u0627\u0644\u0623\u0631\u0634\u064A\u0641 \u0628\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629.",e.componentInstance.btnClass="btn-danger",e.componentInstance.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",e.componentInstance.confirmClicked.subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.documentsService.bulkEdit([this.document.id],"reprocess",{}).subscribe({next:()=>{this.toastService.showInfo("Reprocess operation for \"" + this.document.title + "\" will begin in the background. Close and re-open or reload this document after the operation has completed to see new content."),e&&e.close()},error:i=>{e&&(e.componentInstance.buttonsEnabled=!0),this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0639\u0645\u0644\u064A\u0629",i)}})})}download(e=!1){this.downloading=!0;const i=this.documentsService.getDownloadUrl(this.documentId,e);this.http.get(i,{observe:"response",responseType:"blob"}).subscribe({next:o=>{const r=function Rit(t){if(!t)return null;const n=t.match(/filename\*=(?:UTF-\d['']*)?([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{}const e=t.match(/filename="?([^"]+)"?/);return e?.[1]?e[1]:null}(o.headers.get("Content-Disposition"))||this.document.title,a=new Blob([o.body],{type:o.body.type});this.downloading=!1;const l=new File([a],r,{type:o.body.type});if(!this.deviceDetectorService.isDesktop()&&navigator.canShare&&navigator.canShare({files:[l]}))navigator.share({files:[l]});else{const c=URL.createObjectURL(a),h=document.createElement("a");h.href=c,h.download=r,h.click(),URL.revokeObjectURL(c)}},error:o=>{this.downloading=!1,this.toastService.showError("Error downloading document",o)}})}hasNext(){return this.documentListViewService.hasNext(this.documentId)}hasPrevious(){return this.documentListViewService.hasPrevious(this.documentId)}nextDoc(){this.documentListViewService.getNext(this.document.id).subscribe(e=>{this.router.navigate(["documents",e])})}previousDoc(){this.documentListViewService.getPrevious(this.document.id).subscribe(e=>{this.router.navigate(["documents",e])})}pdfPreviewLoaded(e){this.previewNumPages=e.numPages,this.password&&(this.requiresPassword=!1),setTimeout(()=>{this.previewLoaded=!0},300)}onError(e){"PasswordException"==e.name&&(this.requiresPassword=!0,this.previewLoaded=!0)}onPasswordKeyUp(e){"Enter"==e.key&&(this.password=e.target.value)}setZoom(e){Uo.PageFit===e||Uo.PageWidth===e?(this.previewZoomScale=e,this.previewZoomSetting=Uo.One):(this.previewZoomSetting=e,this.previewZoomScale=Uo.PageWidth)}get zoomSettings(){return Object.values(Uo).filter(e=>e!==Uo.PageWidth)}get currentZoom(){return this.previewZoomScale===Uo.PageFit?Uo.PageFit:this.previewZoomSetting}getZoomSettingTitle(e){return e===Uo.PageFit?"\u0627\u062D\u062A\u0648\u0627\u0621 \u0627\u0644\u0635\u0641\u062D\u0629":100*parseFloat(e)+"%"}increaseZoom(){let e=Object.values(Uo).indexOf(this.previewZoomSetting);this.previewZoomScale===Uo.PageFit&&(e=5),this.previewZoomScale=Uo.PageWidth,this.previewZoomSetting=Object.values(Uo)[Math.min(Object.values(Uo).length-1,e+1)]}decreaseZoom(){let e=Object.values(Uo).indexOf(this.previewZoomSetting);this.previewZoomScale===Uo.PageFit&&(e=4),this.previewZoomScale=Uo.PageWidth,this.previewZoomSetting=Object.values(Uo)[Math.max(2,e-1)]}get showPermissions(){return this.permissionsService.currentUserCan(ft.View,vt.User)&&this.userIsOwner}get notesEnabled(){return this.settings.get(Ce.NOTES_ENABLED)&&this.permissionsService.currentUserCan(ft.View,vt.Note)}get historyEnabled(){return this.settings.get(Ce.AUDITLOG_ENABLED)&&this.userIsOwner&&this.permissionsService.currentUserCan(ft.View,vt.History)}notesUpdated(e){this.document.notes=e,this.openDocumentService.refreshDocument(this.documentId),this.savedViewService.maybeRefreshDocumentCounts()}get userIsOwner(){let e=Object.assign({},this.document);return this.document&&this.store?.value.permissions_form?.hasOwnProperty("owner")&&(e.owner=this.store.value.permissions_form.owner),!this.document||this.permissionsService.currentUserOwnsObject(e)}get userCanEdit(){let e=Object.assign({},this.document);return this.document&&this.store?.value.permissions_form?.hasOwnProperty("owner")&&(e.owner=this.store.value.permissions_form.owner),!this.document||this.userCanEditDoc(e)}userCanEditDoc(e){return this.permissionsService.currentUserCan(ft.Change,vt.Document)&&this.permissionsService.currentUserHasObjectPermissions(ft.Change,e)}get userCanAdd(){return this.permissionsService.currentUserCan(ft.Add,vt.Document)}filterDocuments(e,i){const o=e.flatMap(s=>{if(s.hasOwnProperty("year")){const r=new Bw,a=new Date(r.toModel(s));a.setDate(a.getDate()-1);const l=new Date(r.toModel(s));return l.setDate(l.getDate()+1),[{rule_type:9,value:a.toISOString().substring(0,10)},{rule_type:8,value:l.toISOString().substring(0,10)}]}switch(i){case wn.Correspondent:return{rule_type:3,value:s.id.toString()};case wn.DocumentType:return{rule_type:4,value:s.id.toString()};case wn.StoragePath:return{rule_type:25,value:s.id.toString()};case wn.Tag:return{rule_type:6,value:s.id.toString()}}});this.documentListViewService.quickFilter(o)}getCustomFields(){this.customFieldsService.listAll().pipe(ut(),me(this.unsubscribeNotifier)).subscribe(e=>this.customFields=e.results)}refreshCustomFields(){this.customFieldsService.clearCache(),this.getCustomFields()}getCustomFieldFromInstance(e){return this.customFields?.find(i=>i.id===e.field)}getCustomFieldError(e){const i=this.error?.custom_fields?.[e];return i?.non_field_errors??i?.value}updateFormForCustomFields(e=!1){this.customFieldFormFields.clear({emitEvent:!1}),this.document.custom_fields?.forEach(i=>{this.customFieldFormFields.push(new ti({field:new re(i.field),value:new re(i.value)}),{emitEvent:e})})}addField(e){this.document.custom_fields.push({field:e.id,value:null,document:this.documentId,created:new Date}),this.updateFormForCustomFields(!0),this.documentForm.get("custom_fields").markAsDirty(),this.documentForm.updateValueAndValidity()}removeField(e){this.document.custom_fields.splice(this.document.custom_fields.indexOf(e),1),this.updateFormForCustomFields(!0),this.documentForm.get("custom_fields").markAsDirty(),this.documentForm.updateValueAndValidity()}editPdf(){let e=this.modalService.open(Nst,{backdrop:"static",size:"xl",scrollable:!0});e.componentInstance.title="PDF Editor",e.componentInstance.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",e.componentInstance.documentID=this.document.id,e.componentInstance.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.documentsService.bulkEdit([this.document.id],"edit_pdf",{operations:e.componentInstance.getOperations(),delete_original:e.componentInstance.deleteOriginal,update_document:e.componentInstance.editMode==Gg.Update,include_metadata:e.componentInstance.includeMetadata}).pipe(ut(),me(this.unsubscribeNotifier)).subscribe({next:()=>{this.toastService.showInfo("PDF edit operation for \"" + this.document.title + "\" will begin in the background."),e.close(),e.componentInstance.deleteOriginal&&this.openDocumentService.closeDocument(this.document)},error:i=>{e&&(e.componentInstance.buttonsEnabled=!0),this.toastService.showError("Error executing PDF edit operation",i)}})})}printDocument(){const e=this.documentsService.getDownloadUrl(this.document.id,!1);this.http.get(e,{responseType:"blob"}).pipe(me(this.unsubscribeNotifier)).subscribe({next:i=>{const o=URL.createObjectURL(i),s=document.createElement("iframe");s.style.display="none",s.src=o,document.body.appendChild(s),s.onload=()=>{try{s.contentWindow.focus(),s.contentWindow.print(),s.contentWindow.onafterprint=()=>{document.body.removeChild(s),URL.revokeObjectURL(o)}}catch(r){this.toastService.showError("Print failed.",r),document.body.removeChild(s),URL.revokeObjectURL(o)}}},error:()=>{this.toastService.showError("Error loading document for printing.")}})}openShareLinks(){const e=this.modalService.open(Vst);e.componentInstance.documentId=this.document.id,e.componentInstance.hasArchiveVersion=!!this.document?.archived_file_name}get emailEnabled(){return this.settings.get(Ce.EMAIL_ENABLED)}openEmailDocument(){const e=this.modalService.open(Sot,{backdrop:"static"});e.componentInstance.documentId=this.document.id,e.componentInstance.hasArchiveVersion=!!this.document?.archived_file_name}tryRenderTiff(){this.http.get(this.previewUrl,{responseType:"arraybuffer"}).pipe(ut(),me(this.unsubscribeNotifier),me(this.docChangeNotifier)).subscribe({next:e=>{try{const f=Uw.decode(e);var i=f,o=0,s=i[0];f[0].subIFD&&(i=i.concat(f[0].subIFD));for(var r=0;r<i.length;r++){var a=i[r];if(!(null==a.t258||a.t258.length<3)){var l=a.t256*a.t257;l>o&&(o=l,s=a)}}Uw.decodeImage(e,s,f);const v=Uw.toRGBA8(s),{width:C,height:S}=s;var c=document.createElement("canvas");c.width=C,c.height=S;var h=c.getContext("2d"),g=h.createImageData(C,S);for(r=0;r<v.length;r++)g.data[r]=v[r];h.putImageData(g,0,0),this.tiffURL=c.toDataURL()}catch(f){this.tiffError="An error occurred loading tiff: " + f.toString() + ""}},error:e=>{this.tiffError="An error occurred loading tiff: " + e.toString() + ""}})}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-document-detail"]],viewQuery:function(i,o){if(1&i&&(Tn(grt,5),Tn(prt,5),Tn(frt,5)),2&i){let s;Mt(s=Tt())&&(o.titleInput=s.first),Mt(s=Tt())&&(o.nav=s.first),Mt(s=Tt())&&(o.pdfPreview=s.first)}},features:[at],decls:90,vars:36,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,pe,le,fe,ke,Dt,it,Ft,Yt,Qt,We,kt,ri,Si,ai,et,Yn,Yi,Hi,Ei,wt,Gi,Ms,pr,zr,Ba,nn,T0,w0;return e="\u0625\u063A\u0644\u0627\u0642",i="\u0627\u0644\u0633\u0627\u0628\u0642",o="\u0627\u0644\u062A\u0627\u0644\u064A",s="\u062A\u062D\u0645\u064A\u0644",r="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",a="\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629",l="Print",c="\u0645\u0632\u064A\u062F\u0627 \u0645\u0646 \u0647\u0630\u0627",h="PDF Editor",g="Send",f="\u062A\u0641\u0627\u0635\u064A\u0644",v="\u0645\u062D\u062A\u0648\u0649",C="\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0635\u0641\u064A\u0629",S="\u0645\u0639\u0627\u064A\u0646\u0629",D="-",I="+",L="\u0635\u0641\u062D\u0629",G="of " + "\ufffd0\ufffd" + "",R="\u062D\u0630\u0641",J="\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0623\u0635\u0644\u064A\u0629",se="\u0631\u0648\u0627\u0628\u0637 \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629",ve="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",pe="\u0639\u0646\u0648\u0627\u0646",le="\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u062A\u0633\u0644\u0633\u0644\u064A \u0644\u0644\u0623\u0631\u0634\u064A\u0641",fe="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621",ke="\u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644",Dt="\u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",it="\u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",Ft="\u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A",Yt="\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u0639\u0631\u064A\u0641 \u0644\u0644\u0645\u0633\u062A\u0646\u062F \u0627\u0644\u0623\u0635\u0644\u064A",Qt="\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u0639\u0631\u064A\u0641 \u0644\u0644\u0645\u0633\u062A\u0646\u062F \u0627\u0644\u0623\u0635\u0644\u064A",We="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u0639\u062F\u064A\u0644",kt="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0636\u0627\u0641\u0629",ri="\u0627\u0633\u0645 \u0645\u0644\u0641 \u0627\u0644\u0648\u0633\u0627\u0626\u0637",Si="\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0623\u0635\u0644\u064A",ai="\u0645\u062C\u0645\u0648\u0639 MD5 \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u064A \u0644\u0644\u0623\u0635\u0644",et="\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0623\u0635\u0644\u064A",Yn="\u0646\u0648\u0639 mime \u0627\u0644\u0623\u0635\u0644\u064A",Yi="\u0645\u062C\u0645\u0648\u0639 MD5 \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u064A \u0644\u0644\u0623\u0631\u0634\u064A\u0641",Hi="\u062D\u062C\u0645 \u0645\u0644\u0641 \u0627\u0644\u0623\u0631\u0634\u064A\u0641",Ei="\u0645\u0644\u0627\u062D\u0638\u0627\u062A " + "\ufffd*3:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*3:1\ufffd" + "",wt="\u0627\u0644\u0633\u062C\u0644 \u0627\u0644\u062A\u0627\u0631\u064A\u062E\u064A",Gi="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",Ms="\u062D\u0641\u0638",pr="\u062A\u062C\u0627\u0647\u0644",zr="\u062D\u0641\u0638 & \u0627\u0644\u062A\u0627\u0644\u064A",Ba="\u062D\u0641\u0638 \u0648\u0625\u063A\u0644\u0627\u0642",nn="Document loading...",T0="\u062A\u062D\u0645\u064A\u0644...",w0="\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",[["nav","ngbNav"],["pdfPreview",""],["saveButtons",""],["previewContent",""],["inputTitle",""],s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,We,kt,ri,Si,ai,et,Yn,Yi,Hi,Ei,wt,Gi,Ms,pr,zr,Ba,T0,[3,"titleChange","title"],["type","button","class","btn btn-sm btn-outline-danger me-md-4",3,"disabled","click",4,"pngxIfPermissions"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm"],["width","1.2em","height","1.2em","name","download"],[1,"d-none","d-lg-inline","ps-1"],["ngbDropdown","","role","group",1,"btn-group"],["ngbDropdown","",1,"ms-auto"],["id","actionsDropdown","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","three-dots"],[1,"d-none","d-sm-inline"],["ngbDropdownMenu","","aria-labelledby","actionsDropdown",1,"shadow"],["ngbDropdownItem","",3,"click","disabled"],["width","1em","height","1em","name","arrow-counterclockwise"],["ngbDropdownItem","",3,"click","hidden"],["width","1em","height","1em","name","printer"],["ngbDropdownItem","",3,"click"],["width","1em","height","1em","name","diagram-3"],["name","pencil"],[3,"documentId","disabled","existingFields","created","added",4,"pngxIfPermissions"],["id","sendDropdown","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","send"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"row"],[1,"col-md-6","col-xl-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"btn-toolbar","mb-1","border-bottom"],[1,"btn-group","pb-3"],["type","button","title",e,1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1.2em","height","1.2em","name","x"],["type","button","title",i,1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","arrow-left"],["type","button","title",o,1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","arrow-right"],[4,"ngTemplateOutlet"],["ngbNav","",1,"nav-underline","flex-nowrap","flex-md-wrap","overflow-auto",3,"navChange","activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"d-md-none",3,"ngbNavItem"],[1,"mt-3",3,"ngbNavOutlet"],[1,"col-md-6","col-xl-8","mb-3","d-none","d-md-block","position-relative"],[1,"input-group","input-group-sm","d-none","d-md-flex"],[1,"input-group","input-group-sm","me-md-5","d-none","d-md-flex"],[1,"btn","btn-outline-secondary",3,"click"],[1,"form-select",3,"change","ngModel"],[3,"value"],[1,"input-group-text"],["type","number","min","1",1,"form-control","flex-grow-0","w-auto",3,"ngModelChange","max","ngModel"],["type","button",1,"btn","btn-sm","btn-outline-danger","me-md-4",3,"click","disabled"],["width","1.2em","height","1.2em","name","trash"],["ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary","dropdown-toggle",3,"disabled"],["ngbDropdownMenu","",1,"dropdown-menu","shadow"],[3,"created","added","documentId","disabled","existingFields"],["name","link"],["name","envelope"],["title",pe,"formControlName","title",3,"keyup","horizontal","error"],["title",le,"formControlName","archive_serial_number",3,"error","horizontal"],["title",fe,"formControlName","created",3,"filterDocuments","suggestions","showFilter","horizontal","error"],["title",ke,"formControlName","correspondent",3,"items","allowNull","showFilter","horizontal","hideAddButton","suggestions","filterDocuments","createNew",4,"pngxIfPermissions"],["title",Dt,"formControlName","document_type",3,"items","allowNull","showFilter","horizontal","hideAddButton","suggestions","filterDocuments","createNew",4,"pngxIfPermissions"],["title",it,"formControlName","storage_path","placeholder",Ft,3,"items","allowNull","showFilter","horizontal","hideAddButton","suggestions","filterDocuments","createNew",4,"pngxIfPermissions"],["formControlName","tags",3,"suggestions","showFilter","horizontal","hideAddButton","filterDocuments",4,"pngxIfPermissions"],[3,"formGroup"],[1,"d-flex","border-top","pt-3"],["title",ke,"formControlName","correspondent",3,"filterDocuments","createNew","items","allowNull","showFilter","horizontal","hideAddButton","suggestions"],["title",Dt,"formControlName","document_type",3,"filterDocuments","createNew","items","allowNull","showFilter","horizontal","hideAddButton","suggestions"],["title",it,"formControlName","storage_path","placeholder",Ft,3,"filterDocuments","createNew","items","allowNull","showFilter","horizontal","hideAddButton","suggestions"],["formControlName","tags",3,"filterDocuments","suggestions","showFilter","horizontal","hideAddButton"],["formControlName","value",3,"title","removable","horizontal","error"],["formControlName","value",3,"title","removable","horizontal","showAdd","error"],["formControlName","value",3,"title","removable","horizontal","showAdd","step","error"],["formControlName","value",3,"title","defaultCurrency","removable","horizontal","error"],["formControlName","value",3,"title","removable","horizontal"],["formControlName","value",3,"title","parentDocumentID","removable","horizontal","error"],["formControlName","value","bindLabel","label",3,"title","items","allowNull","horizontal","removable","error"],["formControlName","value",3,"removed","title","removable","horizontal","error"],["formControlName","value",3,"removed","title","removable","horizontal","showAdd","error"],["formControlName","value",3,"removed","title","removable","horizontal","showAdd","step","error"],["formControlName","value",3,"removed","title","defaultCurrency","removable","horizontal","error"],["formControlName","value",3,"removed","title","removable","horizontal"],["formControlName","value",3,"removed","title","parentDocumentID","removable","horizontal","error"],["formControlName","value","bindLabel","label",3,"removed","title","items","allowNull","horizontal","removable","error"],["id","content","rows","20","formControlName","content",1,"form-control"],[1,"table","table-borderless"],["title",Yt,3,"metadata"],["title",Qt,3,"metadata"],[1,"position-relative"],["ngbNavLink","",1,"text-nowrap"],[1,"badge","text-bg-secondary","ms-1"],[3,"updated","documentId","notes","addDisabled"],[1,"mb-3"],[3,"documentId"],["formControlName","permissions_form",3,"users"],[1,"btn-group","pb-3","ms-auto"],[4,"pngxIfPermissions"],["type","submit",1,"order-3","btn","btn-sm","btn-primary",3,"disabled"],["type","button",1,"order-1","btn","btn-sm","btn-outline-primary",3,"disabled"],["type","button",1,"order-2","btn","btn-sm","btn-outline-primary",3,"disabled"],["type","button",1,"order-0","btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["type","button",1,"order-1","btn","btn-sm","btn-outline-primary",3,"click","disabled"],["type","button",1,"order-2","btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"thumb-preview","position-absolute","pe-none","text-center"],["alt",nn,1,"mx-auto",3,"src"],[1,"position-absolute","top-0","start-0","m-2","p-2","d-flex","align-items-center","justify-content-center"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["width","100%",1,"preview-sticky","bg-light","p-3","overflow-auto","whitespace-preserve"],[1,"preview-sticky"],["width","100%",1,"preview-sticky",3,"data"],[1,"password-prompt"],[1,"preview-sticky","pdf-viewer-container"],[3,"pageChange","error","after-load-complete","src","original-size","show-borders","show-all","page","zoom-scale","zoom"],["width","100%","height","100%",3,"src","alt"],["autocomplete","","autofocus","true","placeholder",w0,"type","password",1,"form-control",3,"keyup"]]},template:function(i,o){if(1&i){const s=k();d(0,"pngx-page-header",41),Re("titleChange",function(a){return T(s),Pe(o.title,a)||(o.title=a),w(a)}),y(1,Trt,9,2),ce(2,wrt,4,1,"button",42),d(3,"div",43)(4,"button",44),E("click",function(){return T(s),w(o.download())}),y(5,brt,1,0,"div",45)(6,Srt,1,0,"i-bs",46),d(7,"span",47),b(8,5),u()(),y(9,Ert,5,2,"div",48),u(),d(10,"div",49)(11,"button",50),O(12,"i-bs",51),d(13,"div",52),N(14,"\xa0"),ge(15),b(16,6),ue(),u()(),d(17,"div",53)(18,"button",54),E("click",function(){return T(s),w(o.reprocess())}),O(19,"i-bs",55),N(20,"\xa0"),d(21,"span"),b(22,7),u()(),d(23,"button",56),E("click",function(){return T(s),w(o.printDocument())}),O(24,"i-bs",57),N(25,"\xa0"),d(26,"span"),b(27,8),u()(),d(28,"button",58),E("click",function(){return T(s),w(o.moreLike())}),O(29,"i-bs",59),N(30,"\xa0"),d(31,"span"),b(32,9),u()(),d(33,"button",54),E("click",function(){return T(s),w(o.editPdf())}),O(34,"i-bs",60),N(35,"\xa0"),ge(36),b(37,10),ue(),u()()(),ce(38,Ort,1,3,"pngx-custom-fields-dropdown",61),d(39,"div",49)(40,"button",62),O(41,"i-bs",63),d(42,"div",52),N(43,"\xa0"),ge(44),b(45,11),ue(),u()(),d(46,"div",53),ce(47,Art,5,0,"button",64),y(48,Nrt,5,0,"button",65),u()()(),d(49,"div",66)(50,"div",67)(51,"form",68),E("ngSubmit",function(){return T(s),w(o.save())}),d(52,"div",69)(53,"div",70)(54,"button",71),E("click",function(){return T(s),w(o.close())}),O(55,"i-bs",72),u(),d(56,"button",73),E("click",function(){return T(s),w(o.previousDoc())}),O(57,"i-bs",74),u(),d(58,"button",75),E("click",function(){return T(s),w(o.nextDoc())}),O(59,"i-bs",76),u()(),ce(60,Drt,1,0,"ng-container",77),u(),d(61,"ul",78,0),E("navChange",function(a){return T(s),w(o.onNavChange(a))}),Re("activeIdChange",function(a){return T(s),Pe(o.activeNavID,a)||(o.activeNavID=a),w(a)}),d(63,"li",79)(64,"a",80),b(65,12),u(),ce(66,Zrt,13,25,"ng-template",81),u(),d(67,"li",79)(68,"a",80),b(69,13),u(),ce(70,Wrt,2,2,"ng-template",81),u(),d(71,"li",79)(72,"a",80),b(73,14),u(),ce(74,Jrt,3,3,"ng-template",81),u(),d(75,"li",82)(76,"a",80),b(77,15),u(),y(78,nat,1,0,null,81),u(),y(79,sat,5,2,"li",79),y(80,aat,4,1,"li",79),y(81,cat,4,1,"li",79),u(),O(82,"div",83),u()(),d(83,"div",84,1),ce(85,dat,1,0,"ng-container",77),u()(),ce(86,gat,2,4,"ng-template",null,2,xt)(88,Aat,8,4,"ng-template",null,3,xt)}if(2&i){const s=xe(62),r=xe(84),a=xe(87),l=xe(89);Le("title",o.title),_(),P(o.archiveContentRenderType!==o.ContentRenderType.PDF||o.useNativePdfViewer?-1:1),_(),m("pngxIfPermissions",$e(27,ic,o.PermissionAction.Delete,o.PermissionType.Document)),_(2),m("disabled",o.downloading),_(),P(o.downloading?5:6),_(4),P(null!=o.metadata&&o.metadata.has_archive_version?9:-1),_(9),m("disabled",!o.userCanEdit||!o.userIsOwner),_(5),m("hidden",o.useNativePdfViewer||o.isMobile),_(10),m("disabled",!o.userIsOwner||!o.userCanEdit||o.originalContentRenderType!==o.ContentRenderType.PDF),_(5),m("pngxIfPermissions",$e(30,ic,o.PermissionAction.View,o.PermissionType.CustomField)),_(9),m("pngxIfPermissions",$e(33,ic,o.PermissionAction.Add,o.PermissionType.ShareLink)),_(),P(o.emailEnabled?48:-1),_(3),m("formGroup",o.documentForm),_(5),m("disabled",!o.hasPrevious()),_(2),m("disabled",!o.hasNext()),_(2),m("ngTemplateOutlet",a),_(),Le("activeId",o.activeNavID),_(2),m("ngbNavItem",o.DocumentDetailNavIDs.Details),_(4),m("ngbNavItem",o.DocumentDetailNavIDs.Content),_(4),m("ngbNavItem",o.DocumentDetailNavIDs.Metadata),_(4),m("ngbNavItem",o.DocumentDetailNavIDs.Preview),_(3),P(r.offsetParent?-1:78),_(),P(o.notesEnabled?79:-1),_(),P(o.historyEnabled?80:-1),_(),P(o.showPermissions?81:-1),_(),m("ngbNavOutlet",s),_(3),m("ngTemplateOutlet",l)}},dependencies:[hr,Jit,crt,nrt,p1,Zw,q4,_rt,ph,Rr,Xw,qs,F5,Ww,Kw,ys,$t,Do,Rl,xl,Ci,g2,t0,Gt,Co,wC,TC,Ln,_2,Wt,ao,Mo,Ao,Bl,S2,Z0,$l,E2,O2,W0,A2,Go,Ho,Ss,Qo,js,oa,Bt,en,Z6,j6,Vg,ur,cB,s1,mB],styles:[".preview-sticky[_ngcontent-%COMP%]{height:calc(100vh - 160px);top:70px;position:sticky}.pdf-viewer-container[_ngcontent-%COMP%]{padding-top:10px;background-color:gray}.pdf-viewer-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}  .ng2-pdf-viewer-container .page{--page-margin: 0 auto 10px;--page-border: 0}.btn-group[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]{border-top-right-radius:inherit;border-bottom-right-radius:inherit}.password-prompt[_ngcontent-%COMP%]{position:absolute;top:30%;left:30%;right:30%}textarea.rtl[_ngcontent-%COMP%]{direction:rtl}.form-select[_ngcontent-%COMP%]{padding-right:2.5em}.input-group[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border-color:var(--bs-border-color)}.btn-group[_ngcontent-%COMP%]   .btn.order-0[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--bs-border-radius-sm);border-bottom-left-radius:var(--bs-border-radius-sm)}.btn-group[_ngcontent-%COMP%]   .btn.order-3[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--bs-border-radius-sm);border-bottom-right-radius:var(--bs-border-radius-sm)}.preview-sticky[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;object-position:top}.thumb-preview[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:calc(100vh - 160px);overflow:hidden;background-color:gray;padding:10px 8px;z-index:1000}@media screen and (min-width: 768px){.thumb-preview[_ngcontent-%COMP%]{left:calc(.5 * var(--bs-gutter-x));width:calc(100% - var(--bs-gutter-x))}}.thumb-preview[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{mix-blend-mode:difference}.thumb-preview[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{filter:blur(1px);max-width:100%;object-fit:contain;object-position:top}"]})}return t})();const e8=(t,n)=>({action:t,type:n});function Nat(t,n){1&t&&O(0,"div",62)}function Dat(t,n){1&t&&(d(0,"span",66),O(1,"i-bs",67),u())}function yat(t,n){1&t&&(d(0,"span",66),O(1,"i-bs",68),u())}function Pat(t,n){if(1&t&&(O(0,"i-bs",65),y(1,Dat,2,0,"span",66)(2,yat,2,0,"span",66)),2&t){const e=p(2);_(),P(e.systemStatusHasErrors?1:2)}}function Iat(t,n){if(1&t){const e=k();d(0,"button",61),E("click",function(){return T(e),w(p().showSystemStatus())}),y(1,Nat,1,0,"div",62)(2,Pat,3,1),ge(3),b(4,8),ue(),u(),d(5,"a",63),ge(6),b(7,9),ue(),N(8," \xa0"),O(9,"i-bs",64),u()}if(2&t){const e=p();m("disabled",!e.systemStatus),_(),P(e.systemStatus?2:1)}}function Lat(t,n){if(1&t&&(d(0,"span"),N(1),u()),2&t){const e=p().$implicit;_(),He(" - ",e.englishName)}}function Rat(t,n){if(1&t&&(d(0,"option",75),N(1),y(2,Lat,2,1,"span"),u()),2&t){const e=n.$implicit,i=p(2);m("ngValue",e.code),_(),oe(e.name),_(),P(e.code&&"en-US"!==i.currentLocale?2:-1)}}function xat(t,n){1&t&&(d(0,"small",76),b(1,35),u())}function Fat(t,n){if(1&t&&(d(0,"span"),N(1),Fe(2,"customDate"),u()),2&t){const e=p().$implicit,i=p(2);_(),He(" - ",Ru(2,1,i.today,"shortDate",null,e.code))}}function kat(t,n){if(1&t&&(d(0,"option",75),N(1),y(2,Fat,3,6,"span"),u()),2&t){const e=n.$implicit;m("ngValue",e.code),_(),oe(e.name),_(),P(e.code?2:-1)}}function zat(t,n){1&t&&(d(0,"p"),b(1,36),u(),d(2,"p",116)(3,"em"),b(4,37),u()())}function Vat(t,n){if(1&t){const e=k();d(0,"div",69)(1,"div",70)(2,"h5"),b(3,10),u(),d(4,"div",71)(5,"div",72)(6,"span"),b(7,11),u()(),d(8,"div",73)(9,"select",74),Ke(10,Rat,3,3,"option",75,jt),u(),y(12,xat,2,0,"small",76),u()(),d(13,"div",71)(14,"div",72)(15,"span"),b(16,12),u()(),d(17,"div",73)(18,"select",77),Ke(19,kat,3,3,"option",75,jt),u()()(),d(21,"div",71)(22,"div",72)(23,"span"),b(24,13),u()(),d(25,"div",73)(26,"div",78),O(27,"input",79),d(28,"label",80),b(29,14),Fe(30,"customDate"),u()(),d(31,"div",78),O(32,"input",81),d(33,"label",82),b(34,15),Fe(35,"customDate"),u()(),d(36,"div",78),O(37,"input",83),d(38,"label",84),b(39,16),Fe(40,"customDate"),u()()()(),d(41,"div",71)(42,"div",72)(43,"span"),b(44,17),u()(),d(45,"div",73)(46,"select",85)(47,"option",75),N(48,"10"),u(),d(49,"option",75),N(50,"25"),u(),d(51,"option",75),N(52,"50"),u(),d(53,"option",75),N(54,"100"),u()()()(),d(55,"div",69)(56,"div",72)(57,"span"),b(58,18),u()(),d(59,"div",73),O(60,"pngx-input-check",86),u()(),d(61,"div",69)(62,"div",72)(63,"span"),b(64,19),u()(),d(65,"div",73),O(66,"pngx-input-check",87)(67,"pngx-input-check",88)(68,"pngx-input-check",89),u()(),d(69,"div",71)(70,"div",72)(71,"span"),b(72,20),u()(),d(73,"div",90),O(74,"pngx-input-color",91),u(),d(75,"div",92)(76,"button",93),E("click",function(){return T(e),w(p().clearThemeColor())}),O(77,"i-bs",94),ge(78),b(79,21),ue(),u()()(),d(80,"h5",95),b(81,22),u(),d(82,"div",71)(83,"div",96),O(84,"pngx-input-check",97),d(85,"button",98),O(86,"i-bs",99),u(),ce(87,zat,5,0,"ng-template",null,1,xt),u()(),d(89,"h5",100),b(90,23),u(),d(91,"div",69)(92,"div",73),O(93,"pngx-input-check",101)(94,"pngx-input-check",102),u()()(),d(95,"div",103)(96,"h5",104),b(97,24),u(),d(98,"div",69)(99,"div",73),O(100,"pngx-input-check",105),u()(),d(101,"div",69)(102,"div",72)(103,"span"),b(104,25),u()(),d(105,"div",73)(106,"select",106)(107,"option",75),b(108,26),u(),d(109,"option",75),b(110,27),u()(),d(111,"p",107),b(112,28),u()()(),d(113,"div",69)(114,"div",73),O(115,"pngx-input-check",108),u()(),d(116,"div",71)(117,"div",73),O(118,"pngx-input-check",109),u()(),d(119,"h5",100),b(120,29),u(),d(121,"div",69)(122,"div",73),O(123,"pngx-input-check",110),u()(),d(124,"div",71)(125,"div",72)(126,"span"),b(127,30),u()(),d(128,"div",111)(129,"select",112)(130,"option",75),b(131,31),u(),d(132,"option",75),b(133,32),u()()()(),d(134,"h5",100),b(135,33),u(),d(136,"div",71)(137,"div",73),O(138,"pngx-input-check",113)(139,"pngx-input-check",114),u()(),d(140,"h5",100),b(141,34),u(),d(142,"div",71)(143,"div",73),O(144,"pngx-input-check",115),u()()()()}if(2&t){const e=xe(88),i=p();_(10),qe(i.displayLanguageOptions),_(2),P(i.displayLanguageIsDirty?12:-1),_(7),qe(i.dateLocaleOptions),_(11),An(Ru(30,17,i.today,"shortDate",null,i.computedDateLocale)),In(29),_(5),An(Ru(35,22,i.today,"mediumDate",null,i.computedDateLocale)),In(34),_(5),An(Ru(40,27,i.today,"longDate",null,i.computedDateLocale)),In(39),_(7),m("ngValue",10),_(2),m("ngValue",25),_(2),m("ngValue",50),_(2),m("ngValue",100),_(14),m("hidden",i.settingsForm.value.darkModeUseSystem),_(7),m("error",null==i.error?null:i.error.color),_(2),m("disabled",!i.settingsForm.get("themeColor").value),_(9),m("ngbPopover",e)("autoClose",!0),_(22),m("ngValue",i.ZoomSetting.PageWidth),_(2),m("ngValue",i.ZoomSetting.PageFit),_(21),m("ngValue",i.GlobalSearchType.TITLE_CONTENT),_(2),m("ngValue",i.GlobalSearchType.ADVANCED)}}function Hat(t,n){1&t&&(ge(0),O(1,"pngx-permissions-user",124),ue())}function Gat(t,n){1&t&&(ge(0),O(1,"pngx-permissions-group",125),ue())}function $at(t,n){1&t&&(ge(0),O(1,"pngx-permissions-user",126),ue())}function Bat(t,n){1&t&&(ge(0),O(1,"pngx-permissions-group",127),ue())}function Uat(t,n){if(1&t&&(d(0,"h5"),b(1,38),u(),d(2,"div",71)(3,"div",73)(4,"p"),b(5,39),u()()(),d(6,"div",71)(7,"div",72)(8,"span"),b(9,40),u()(),d(10,"div",117),O(11,"pngx-input-select",118),d(12,"small",119),b(13,41),u()()(),d(14,"div",71)(15,"div",72)(16,"span"),b(17,42),u()(),d(18,"div",117)(19,"div",69)(20,"div",120)(21,"span",121),b(22,43),u()(),d(23,"div",73),ce(24,Hat,2,0,"ng-container",122),u()(),d(25,"div",69)(26,"div",120)(27,"span",121),b(28,44),u()(),d(29,"div",73),ce(30,Gat,2,0,"ng-container",122),u()()()(),d(31,"div",69)(32,"div",72)(33,"span"),b(34,45),u()(),d(35,"div",117)(36,"div",69)(37,"div",120)(38,"span",121),b(39,46),u()(),d(40,"div",73),ce(41,$at,2,0,"ng-container",122),u()(),d(42,"div",69)(43,"div",120)(44,"span",121),b(45,47),u()(),d(46,"div",73),ce(47,Bat,2,0,"ng-container",122),u()(),d(48,"div",69)(49,"small",123),b(50,48),u()()()()),2&t){const e=p();_(11),m("items",e.users)("allowNull",!0),_(13),m("pngxIfPermissions",$e(6,e8,e.PermissionAction.View,e.PermissionType.User)),_(6),m("pngxIfPermissions",$e(9,e8,e.PermissionAction.View,e.PermissionType.Group)),_(11),m("pngxIfPermissions",$e(12,e8,e.PermissionAction.View,e.PermissionType.User)),_(6),m("pngxIfPermissions",$e(15,e8,e.PermissionAction.View,e.PermissionType.Group))}}function jat(t,n){1&t&&(d(0,"h5"),b(1,49),u(),d(2,"div",69)(3,"div",73),O(4,"pngx-input-check",128)(5,"pngx-input-check",129)(6,"pngx-input-check",130)(7,"pngx-input-check",131),u()())}var Bg=function(t){return t[t.General=1]="General",t[t.Permissions=2]="Permissions",t[t.Notifications=3]="Notifications",t[t.SavedViews=4]="SavedViews",t}(Bg||{});const Zat={code:"",name:"\u0627\u0633\u062A\u062E\u062F\u0645 \u0644\u063A\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"},Wat={code:"",name:"\u0627\u0633\u062A\u062E\u062F\u0645 \u062A\u0646\u0633\u064A\u0642 \u062A\u0627\u0631\u064A\u062E \u0644\u063A\u0629 \u0627\u0644\u0639\u0631\u0636"};let wB=(()=>{class t extends H1{get systemStatusHasErrors(){return this.systemStatus.database.status===ka.ERROR||this.systemStatus.tasks.redis_status===ka.ERROR||this.systemStatus.tasks.celery_status===ka.ERROR||this.systemStatus.tasks.index_status===ka.ERROR||this.systemStatus.tasks.classifier_status===ka.ERROR||this.systemStatus.tasks.sanity_check_status===ka.ERROR||this.systemStatus.websocket_connected===ka.ERROR}get computedDateLocale(){return this.settingsForm.value.dateLocale||this.settingsForm.value.displayLanguage||this.currentLocale}constructor(){super(),this.documentListViewService=M(z5),this.toastService=M(eo),this.settings=M(Gn),this.currentLocale=M(ea),this.viewportScroller=M(KP),this.activatedRoute=M(V1),this.tourService=M(K2),this.usersService=M(vs),this.groupsService=M(Rg),this.router=M(ts),this.permissionsService=M(Ti),this.modalService=M(ps),this.systemStatusService=M(rB),this.savedViewsService=M(V5),this.settingsForm=new ti({bulkEditConfirmationDialogs:new re(null),bulkEditApplyOnClose:new re(null),documentListItemPerPage:new re(null),slimSidebarEnabled:new re(null),darkModeUseSystem:new re(null),darkModeEnabled:new re(null),darkModeInvertThumbs:new re(null),themeColor:new re(null),displayLanguage:new re(null),dateLocale:new re(null),dateFormat:new re(null),notesEnabled:new re(null),updateCheckingEnabled:new re(null),defaultPermsOwner:new re(null),defaultPermsViewUsers:new re(null),defaultPermsViewGroups:new re(null),defaultPermsEditUsers:new re(null),defaultPermsEditGroups:new re(null),useNativePdfViewer:new re(null),pdfViewerDefaultZoom:new re(null),documentEditingRemoveInboxTags:new re(null),documentEditingOverlayThumbnail:new re(null),searchDbOnly:new re(null),searchLink:new re(null),notificationsConsumerNewDocument:new re(null),notificationsConsumerSuccess:new re(null),notificationsConsumerFailed:new re(null),notificationsConsumerSuppressOnDashboard:new re(null),savedViewsWarnOnUnsavedChange:new re(null),sidebarViewsShowCount:new re(null)}),this.SettingsNavIDs=Bg,this.isDirty=!1,this.unsubscribeNotifier=new Be,this.savePending=!1,this.GlobalSearchType=E4,this.ZoomSetting=Uo,this.settings.settingsSaved.subscribe(()=>{this.savePending||this.initialize(),this.savedViewsService.maybeRefreshDocumentCounts()})}ngOnInit(){this.initialize(),this.permissionsService.currentUserCan(ft.View,vt.User)&&this.usersService.listAll().pipe(ut()).subscribe({next:e=>{this.users=e.results},error:e=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0633\u062A\u0631\u062C\u0627\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646",e)}}),this.permissionsService.currentUserCan(ft.View,vt.Group)&&this.groupsService.listAll().pipe(ut()).subscribe({next:e=>{this.groups=e.results},error:e=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0633\u062A\u0631\u062F\u0627\u062F \u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A",e)}}),this.activatedRoute.paramMap.subscribe(e=>{const i=e.get("section");if(i){const o=Object.keys(Bg).find(s=>s.toLowerCase()==i);o&&(this.activeNavID=Bg[o])}})}ngAfterViewInit(){this.activatedRoute.snapshot.fragment&&this.viewportScroller.scrollToAnchor(this.activatedRoute.snapshot.fragment)}getCurrentSettings(){return{bulkEditConfirmationDialogs:this.settings.get(Ce.BULK_EDIT_CONFIRMATION_DIALOGS),bulkEditApplyOnClose:this.settings.get(Ce.BULK_EDIT_APPLY_ON_CLOSE),documentListItemPerPage:this.settings.get(Ce.DOCUMENT_LIST_SIZE),slimSidebarEnabled:this.settings.get(Ce.SLIM_SIDEBAR),darkModeUseSystem:this.settings.get(Ce.DARK_MODE_USE_SYSTEM),darkModeEnabled:this.settings.get(Ce.DARK_MODE_ENABLED),darkModeInvertThumbs:this.settings.get(Ce.DARK_MODE_THUMB_INVERTED),themeColor:this.settings.get(Ce.THEME_COLOR),useNativePdfViewer:this.settings.get(Ce.USE_NATIVE_PDF_VIEWER),pdfViewerDefaultZoom:this.settings.get(Ce.PDF_VIEWER_ZOOM_SETTING),displayLanguage:this.settings.getLanguage(),dateLocale:this.settings.get(Ce.DATE_LOCALE),dateFormat:this.settings.get(Ce.DATE_FORMAT),notesEnabled:this.settings.get(Ce.NOTES_ENABLED),updateCheckingEnabled:this.settings.get(Ce.UPDATE_CHECKING_ENABLED),notificationsConsumerNewDocument:this.settings.get(Ce.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT),notificationsConsumerSuccess:this.settings.get(Ce.NOTIFICATIONS_CONSUMER_SUCCESS),notificationsConsumerFailed:this.settings.get(Ce.NOTIFICATIONS_CONSUMER_FAILED),notificationsConsumerSuppressOnDashboard:this.settings.get(Ce.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD),savedViewsWarnOnUnsavedChange:this.settings.get(Ce.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE),sidebarViewsShowCount:this.settings.get(Ce.SIDEBAR_VIEWS_SHOW_COUNT),defaultPermsOwner:this.settings.get(Ce.DEFAULT_PERMS_OWNER),defaultPermsViewUsers:this.settings.get(Ce.DEFAULT_PERMS_VIEW_USERS),defaultPermsViewGroups:this.settings.get(Ce.DEFAULT_PERMS_VIEW_GROUPS),defaultPermsEditUsers:this.settings.get(Ce.DEFAULT_PERMS_EDIT_USERS),defaultPermsEditGroups:this.settings.get(Ce.DEFAULT_PERMS_EDIT_GROUPS),documentEditingRemoveInboxTags:this.settings.get(Ce.DOCUMENT_EDITING_REMOVE_INBOX_TAGS),documentEditingOverlayThumbnail:this.settings.get(Ce.DOCUMENT_EDITING_OVERLAY_THUMBNAIL),searchDbOnly:this.settings.get(Ce.SEARCH_DB_ONLY),searchLink:this.settings.get(Ce.SEARCH_FULL_TYPE)}}onNavChange(e){const[i]=Object.entries(Bg).find(([,o])=>o==e.nextId);i&&this.router.navigate(["settings",i.toLowerCase()]).then(o=>{!o&&this.isDirty?this.activeNavID=e.activeId:o&&this.isDirty&&this.initialize()})}initialize(e=!0){this.unsubscribeNotifier.next(!0);const i=this.settingsForm.value;let o=this.getCurrentSettings();this.store=new Qn(o),this.storeSub=this.store.asObservable().subscribe(s=>{this.settingsForm.patchValue(s,{emitEvent:!1})}),this.isDirty$=S4(this.settingsForm,this.store.asObservable()),this.isDirty$.pipe(me(this.unsubscribeNotifier)).subscribe(s=>{this.isDirty=s}),this.settingsForm.valueChanges.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.settings.updateAppearanceSettings(this.settingsForm.get("darkModeUseSystem").value,this.settingsForm.get("darkModeEnabled").value,this.settingsForm.get("themeColor").value)}),!e&&i&&this.settingsForm.patchValue(i),this.permissionsService.isAdmin()&&this.systemStatusService.get().subscribe(s=>{this.systemStatus=s})}ngOnDestroy(){this.isDirty&&this.settings.updateAppearanceSettings(),this.storeSub&&this.storeSub.unsubscribe()}saveSettings(){this.savePending=!0;const e=this.settingsForm.value.displayLanguage!=this.store?.getValue().displayLanguage||this.settingsForm.value.updateCheckingEnabled!=this.store?.getValue().updateCheckingEnabled&&this.settingsForm.value.updateCheckingEnabled;this.settings.set(Ce.BULK_EDIT_APPLY_ON_CLOSE,this.settingsForm.value.bulkEditApplyOnClose),this.settings.set(Ce.BULK_EDIT_CONFIRMATION_DIALOGS,this.settingsForm.value.bulkEditConfirmationDialogs),this.settings.set(Ce.DOCUMENT_LIST_SIZE,this.settingsForm.value.documentListItemPerPage),this.settings.set(Ce.SLIM_SIDEBAR,this.settingsForm.value.slimSidebarEnabled),this.settings.set(Ce.DARK_MODE_USE_SYSTEM,this.settingsForm.value.darkModeUseSystem),this.settings.set(Ce.DARK_MODE_ENABLED,(1==this.settingsForm.value.darkModeEnabled).toString()),this.settings.set(Ce.DARK_MODE_THUMB_INVERTED,(1==this.settingsForm.value.darkModeInvertThumbs).toString()),this.settings.set(Ce.THEME_COLOR,this.settingsForm.value.themeColor),this.settings.set(Ce.USE_NATIVE_PDF_VIEWER,this.settingsForm.value.useNativePdfViewer),this.settings.set(Ce.PDF_VIEWER_ZOOM_SETTING,this.settingsForm.value.pdfViewerDefaultZoom),this.settings.set(Ce.DATE_LOCALE,this.settingsForm.value.dateLocale),this.settings.set(Ce.DATE_FORMAT,this.settingsForm.value.dateFormat),this.settings.set(Ce.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT,this.settingsForm.value.notificationsConsumerNewDocument),this.settings.set(Ce.NOTIFICATIONS_CONSUMER_SUCCESS,this.settingsForm.value.notificationsConsumerSuccess),this.settings.set(Ce.NOTIFICATIONS_CONSUMER_FAILED,this.settingsForm.value.notificationsConsumerFailed),this.settings.set(Ce.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD,this.settingsForm.value.notificationsConsumerSuppressOnDashboard),this.settings.set(Ce.NOTES_ENABLED,this.settingsForm.value.notesEnabled),this.settings.set(Ce.UPDATE_CHECKING_ENABLED,this.settingsForm.value.updateCheckingEnabled),this.settings.set(Ce.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE,this.settingsForm.value.savedViewsWarnOnUnsavedChange),this.settings.set(Ce.SIDEBAR_VIEWS_SHOW_COUNT,this.settingsForm.value.sidebarViewsShowCount),this.settings.set(Ce.DEFAULT_PERMS_OWNER,this.settingsForm.value.defaultPermsOwner),this.settings.set(Ce.DEFAULT_PERMS_VIEW_USERS,this.settingsForm.value.defaultPermsViewUsers),this.settings.set(Ce.DEFAULT_PERMS_VIEW_GROUPS,this.settingsForm.value.defaultPermsViewGroups),this.settings.set(Ce.DEFAULT_PERMS_EDIT_USERS,this.settingsForm.value.defaultPermsEditUsers),this.settings.set(Ce.DEFAULT_PERMS_EDIT_GROUPS,this.settingsForm.value.defaultPermsEditGroups),this.settings.set(Ce.DOCUMENT_EDITING_REMOVE_INBOX_TAGS,this.settingsForm.value.documentEditingRemoveInboxTags),this.settings.set(Ce.DOCUMENT_EDITING_OVERLAY_THUMBNAIL,this.settingsForm.value.documentEditingOverlayThumbnail),this.settings.set(Ce.SEARCH_DB_ONLY,this.settingsForm.value.searchDbOnly),this.settings.set(Ce.SEARCH_FULL_TYPE,this.settingsForm.value.searchLink),this.settings.setLanguage(this.settingsForm.value.displayLanguage),this.settings.storeSettings().pipe(ut()).pipe(_n(()=>this.savePending=!1)).subscribe({next:()=>{this.store.next(this.settingsForm.value),this.settings.updateAppearanceSettings(),this.settings.initializeDisplayFields();let i={content:"\u062D\u064F\u0641\u0638\u062A \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0628\u0646\u062C\u0627\u062D.",delay:5e3};e&&(i.content="\u062D\u0641\u0638\u062A \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0628\u0646\u062C\u0627\u062D. \u0625\u0639\u0627\u062F\u0629 \u062A\u062D\u0645\u064A\u0644 \u0645\u0637\u0644\u0648\u0628 \u0644\u062A\u0637\u0628\u064A\u0642 \u0628\u0639\u0636 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A.",i.actionName="\u0625\u0639\u0627\u062F\u0629 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0622\u0646",i.action=()=>{!function ent(){window.location.reload()}()}),this.toastService.show(i)},error:i=>{this.toastService.showError("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A.",i)}})}get displayLanguageOptions(){return[Zat].concat(this.settings.getLanguageOptions())}get dateLocaleOptions(){return[Wat].concat(this.settings.getDateLocaleOptions())}get today(){return new Date}reset(){this.settingsForm.patchValue(this.store.getValue())}clearThemeColor(){this.settingsForm.get("themeColor").patchValue("")}showSystemStatus(){this.modalService.open(mit,{size:"xl"}).componentInstance.status=this.systemStatus}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-settings"]],features:[at],decls:29,vars:13,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,pe,le,fe,ke,Dt,it,Ft,Yt,Qt,We,kt,ri,Si,ai,et,Yn,Yi,Hi,Ei,wt,Gi,Ms,pr,zr,Ba,nn,T0,w0,on,cc,ed,td,Ua,b0,dc,hc,cl,uc,_c,gc,pc,qg,Yg,Qg,Jg,ep,tp,np,ip;return e="\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A",i="Options to customize appearance, notifications and more. Settings apply to the <strong>current user only</strong>.",o="\u0628\u062F\u0621 \u0627\u0644\u062C\u0648\u0644\u0629",s="\u0639\u0627\u0645",r="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",a="\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A",l="\u0625\u0644\u063A\u0627\u0621",c="\u062D\u0641\u0638",h="\u062D\u0627\u0644\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",g="\u0641\u062A\u062D \u0645\u0633\u0624\u0648\u0644 Django",f="\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u0634\u0631\u064A\u0637 \u0627\u0644\u062C\u0627\u0646\u0628\u064A \"\u0627\u0644\u0646\u062D\u064A\u0641\" (\u0627\u0644\u0627\u064A\u0642\u0648\u0646\u0627\u062A \u0641\u0642\u0637)",v="\u0627\u0633\u062A\u062E\u062F\u0645 \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645",C="\u062A\u0641\u0639\u064A\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0645\u0638\u0644\u0645",S="\u0639\u0643\u0633 \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0645\u0635\u063A\u0631\u0629 \u0641\u064A \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0645\u0638\u0644\u0645",D="\u062A\u0645\u0643\u064A\u0646 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u062A\u062D\u062F\u064A\u062B",I="\u0645\u0627 \u0647\u0630\u0627\u061F",L="\u0625\u0638\u0647\u0627\u0631 \u062A\u062D\u0630\u064A\u0631 \u0639\u0646\u062F \u0625\u063A\u0644\u0627\u0642 \u0637\u0631\u0642 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629 \u0628\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u063A\u064A\u0631 \u0645\u062D\u0641\u0648\u0638\u0629",G="Show document counts in sidebar saved views",R="\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0639\u0627\u0631\u0636 PDF \u0627\u0644\u0630\u064A \u064A\u0648\u0641\u0631\u0647 \u0627\u0644\u0645\u062A\u0635\u0641\u062D",J="\u0639\u0627\u062F\u0629 \u0645\u0627 \u064A\u0643\u0648\u0646 \u0647\u0630\u0627 \u0623\u0633\u0631\u0639 \u0644\u0639\u0631\u0636 \u0645\u0633\u062A\u0646\u062F\u0627\u062A PDF \u0627\u0644\u0643\u0628\u064A\u0631\u0629 \u060C \u0648\u0644\u0643\u0646\u0647 \u0642\u062F \u0644\u0627 \u064A\u0639\u0645\u0644 \u0639\u0644\u0649 \u0628\u0639\u0636 \u0627\u0644\u0645\u062A\u0635\u0641\u062D\u0627\u062A.",se="\u0625\u0632\u0627\u0644\u0629 \u0648\u0633\u0645 (\u0648\u0633\u0648\u0645) \u0635\u0646\u062F\u0648\u0642 \u0627\u0644\u0648\u0627\u0631\u062F \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B \u0639\u0646\u062F \u0627\u0644\u062D\u0641\u0638",ve="Show document thumbnail during loading",pe="\u0639\u062F\u0645 \u062A\u0636\u0645\u064A\u0646 \u0646\u062A\u0627\u0626\u062C \u0627\u0644\u0628\u062D\u062B \u0627\u0644\u0645\u062A\u0642\u062F\u0645",le="\u0625\u0638\u0647\u0627\u0631 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0650\u0648\u064E\u0627\u0631\u0627\u062A",fe="\u062A\u0637\u0628\u064A\u0642 \u0639\u0646\u062F \u0627\u0644\u0625\u063A\u0644\u0627\u0642",ke="\u062A\u0645\u0643\u064A\u0646 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A",Dt="\u0627\u0644\u0645\u0638\u0647\u0631",it="\u0644\u063A\u0629 \u0627\u0644\u0639\u0631\u0636",Ft="\u0639\u0631\u0636 \u0627\u0644\u062A\u0627\u0631\u064A\u062E",Yt="\u062A\u0646\u0633\u064A\u0642 \u0627\u0644\u062A\u0627\u0631\u064A\u062E",Qt="\u0642\u0635\u064A\u0631: " + "\ufffd0\ufffd" + "",We="\u0645\u062A\u0648\u0633\u0637: " + "\ufffd0\ufffd" + "",kt="\u0637\u0648\u064A\u0644: " + "\ufffd0\ufffd" + "",ri="\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0644\u0643\u0644 \u0635\u0641\u062D\u0629",Si="\u0627\u0644\u0634\u0631\u064A\u0637 \u0627\u0644\u062C\u0627\u0646\u0628\u064A",ai="\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0645\u0638\u0644\u0645",et="\u0644\u0648\u0646 \u0627\u0644\u0633\u0645\u0629",Yn="\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646",Yi="\u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u062A\u062D\u062F\u064A\u062B",Hi="\u0637\u0631\u0642 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",Ei="\u062A\u062D\u0631\u064A\u0631 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",wt="Default zoom",Gi="Fit width",Ms="Fit page",pr="Only applies to the Paperless-ngx PDF viewer.",zr="\u0627\u0644\u0628\u062D\u062B \u0627\u0644\u0639\u0627\u0645",Ba="\u0631\u0648\u0627\u0628\u0637 \u0627\u0644\u0628\u062D\u062B \u0627\u0644\u0643\u0627\u0645\u0644\u0629 \u0625\u0644\u0649",nn="\u0627\u0644\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0648\u0627\u0644\u0645\u062D\u062A\u0648\u0649",T0="\u0628\u062D\u062B \u0645\u062A\u0642\u062F\u0645",w0="\u062A\u0639\u062F\u064A\u0644 \u0645\u062A\u0639\u062F\u062F",on="\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A",cc="\u064A\u062C\u0628 \u0625\u0639\u0627\u062F\u0629 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629 \u0628\u0639\u062F \u062A\u0637\u0628\u064A\u0642 \u0644\u063A\u0629 \u062C\u062F\u064A\u062F\u0629.",ed=" Update checking works by pinging the public GitHub API for the latest release to determine whether a new version is available. Actual updating of the app must still be performed manually. ",td="No tracking data is collected by the app in any way.",Ua="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A\u0629",b0=" Settings apply to this user account for objects (Tags, Mail Rules, etc. but not documents) created via the web UI. ",dc="\u0627\u0644\u0645\u0627\u0644\u0643 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A",hc="\u0627\u0644\u0643\u0627\u0626\u0646\u0627\u062A \u0628\u062F\u0648\u0646 \u0645\u0627\u0644\u0643 \u064A\u0645\u0643\u0646 \u0645\u0634\u0627\u0647\u062F\u062A\u0647\u0627 \u0648\u062A\u0639\u062F\u064A\u0644\u0647\u0627 \u0645\u0646 \u0642\u0628\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646",cl="\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A\u0629",uc="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646:",_c="\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A:",gc="\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u200F\u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A\u0629",pc="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646:",qg="\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A:",Yg="\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0643\u0645\u0627 \u064A\u0645\u0646\u062D \u0623\u064A\u0636\u0627 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0639\u0631\u0636",Qg="\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0639\u0646\u062F \u0648\u062C\u0648\u062F \u0645\u0633\u062A\u0646\u062F\u0627\u062A \u062C\u062F\u064A\u062F\u0629",Jg="\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0639\u0646\u062F \u0627\u0643\u062A\u0645\u0627\u0644 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0628\u0646\u062C\u0627\u062D",ep="\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0639\u0646\u062F \u0641\u0634\u0644 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",tp="\u0645\u0646\u0639 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0641\u064A \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645",np="\u0633\u064A\u0624\u062F\u064A \u0647\u0630\u0627 \u0625\u0644\u0649 \u0625\u0644\u063A\u0627\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u062D\u0648\u0644 \u062D\u0627\u0644\u0629 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0641\u064A \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645.",ip="\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",[["nav","ngbNav"],["updatesPopover",""],o,s,r,a,l,c,h,g,Dt,it,Ft,Yt,Qt,We,kt,ri,Si,ai,et,Yn,Yi,Hi,Ei,wt,Gi,Ms,pr,zr,Ba,nn,T0,w0,on,cc,ed,td,Ua,b0,dc,hc,cl,uc,_c,gc,pc,qg,Yg,ip,["title",e,"info",i],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","airplane",1,"me-1"],[3,"ngSubmit","formGroup"],["ngbNav","",1,"nav-tabs",3,"navChange","activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"border-start","border-end","border-bottom","p-3","mb-3","shadow-sm",3,"ngbNavOutlet"],["type","button",1,"btn","btn-outline-secondary","mb-2",3,"click","disabled"],["type","submit",1,"btn","btn-primary","ms-2","mb-2",3,"disabled"],[1,"btn","btn-sm","btn-outline-primary","position-relative","ms-md-5","me-1",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-1","h-75"],["href","admin/","target","_blank",1,"btn","btn-sm","btn-primary"],["name","arrow-up-right"],["name","card-checklist",1,"me-2"],[1,"badge","bg-body","position-absolute","top-0","start-100","translate-middle","rounded-pill","p-0"],["name","exclamation-circle-fill","width","1.75em","height","1.75em",1,"text-danger"],["name","check-circle-fill","width","1.75em","height","1.75em",1,"text-primary"],[1,"row"],[1,"col-xl-6","pe-xl-5"],[1,"row","mb-3"],[1,"col-md-3","col-form-label","pt-0"],[1,"col"],["formControlName","displayLanguage",1,"form-select"],[3,"ngValue"],[1,"form-text","text-primary"],["formControlName","dateLocale",1,"form-select"],[1,"form-check"],["type","radio","id","dateFormatShort","name","dateFormat","formControlName","dateFormat","value","shortDate",1,"form-check-input"],["for","dateFormatShort",1,"form-check-label"],["type","radio","id","dateFormatMedium","name","dateFormat","formControlName","dateFormat","value","mediumDate",1,"form-check-input"],["for","dateFormatMedium",1,"form-check-label"],["type","radio","id","dateFormatLong","name","dateFormat","formControlName","dateFormat","value","longDate",1,"form-check-input"],["for","dateFormatLong",1,"form-check-label"],["formControlName","documentListItemPerPage",1,"form-select"],["title",f,"formControlName","slimSidebarEnabled"],["title",v,"formControlName","darkModeUseSystem"],["title",C,"formControlName","darkModeEnabled",3,"hidden"],["title",S,"formControlName","darkModeInvertThumbs"],[1,"col","col-md-4"],["formControlName","themeColor",3,"error"],[1,"col-2"],[1,"btn","btn-link","btn-sm","pt-2","ps-0",3,"click","disabled"],["width","1em","height","1em","name","x"],["id","update-checking",1,"mt-3"],[1,"col","d-flex","flex-row","align-items-start"],["title",D,"formControlName","updateCheckingEnabled"],["title",I,"type","button","triggers","mouseenter:mouseleave",1,"btn","btn-sm","btn-link","text-muted","me-auto","p-0","ms-2",3,"ngbPopover","autoClose"],["name","question-circle"],[1,"mt-3"],["title",L,"formControlName","savedViewsWarnOnUnsavedChange"],["title",G,"formControlName","sidebarViewsShowCount"],[1,"col-xl-6","ps-xl-5"],[1,"mt-3","mt-md-0"],["title",R,"hint",J,"formControlName","useNativePdfViewer"],["formControlName","pdfViewerDefaultZoom",1,"form-select"],[1,"small","text-muted","mt-1"],["title",se,"formControlName","documentEditingRemoveInboxTags"],["title",ve,"formControlName","documentEditingOverlayThumbnail"],["title",pe,"formControlName","searchDbOnly"],[1,"col","mb-3"],["formControlName","searchLink",1,"form-select"],["title",le,"formControlName","bulkEditConfirmationDialogs"],["title",fe,"formControlName","bulkEditApplyOnClose"],["title",ke,"formControlName","notesEnabled"],[1,"mb-0"],[1,"col-md-5"],["bindLabel","username","formControlName","defaultPermsOwner",3,"items","allowNull"],[1,"form-text","text-muted","text-end","d-block","mt-n2"],[1,"col-3"],[1,"d-block","pt-1"],[4,"pngxIfPermissions"],[1,"form-text","text-muted","text-end","d-block"],["type","view","formControlName","defaultPermsViewUsers"],["type","view","formControlName","defaultPermsViewGroups"],["type","view","formControlName","defaultPermsEditUsers"],["type","view","formControlName","defaultPermsEditGroups"],["title",Qg,"formControlName","notificationsConsumerNewDocument"],["title",Jg,"formControlName","notificationsConsumerSuccess"],["title",ep,"formControlName","notificationsConsumerFailed"],["title",tp,"formControlName","notificationsConsumerSuppressOnDashboard","hint",np]]},template:function(i,o){if(1&i){const s=k();d(0,"pngx-page-header",50)(1,"button",51),E("click",function(){return T(s),w(o.tourService.start())}),O(2,"i-bs",52),N(3,"\xa0"),ge(4),b(5,2),ue(),u(),y(6,Iat,10,2),u(),d(7,"form",53),E("ngSubmit",function(){return T(s),w(o.saveSettings())}),d(8,"ul",54,0),E("navChange",function(a){return T(s),w(o.onNavChange(a))}),Re("activeIdChange",function(a){return T(s),Pe(o.activeNavID,a)||(o.activeNavID=a),w(a)}),d(10,"li",55)(11,"a",56),b(12,3),u(),ce(13,Vat,145,32,"ng-template",57),u(),d(14,"li",55)(15,"a",56),b(16,4),u(),ce(17,Uat,51,18,"ng-template",57),u(),d(18,"li",55)(19,"a",56),b(20,5),u(),ce(21,jat,8,0,"ng-template",57),u()(),O(22,"div",58),d(23,"button",59),Fe(24,"async"),E("click",function(){return T(s),w(o.reset())}),b(25,6),u(),d(26,"button",60),Fe(27,"async"),b(28,7),u()()}if(2&i){const s=xe(9);_(6),P(o.permissionsService.isAdmin()?6:-1),_(),m("formGroup",o.settingsForm),_(),Le("activeId",o.activeNavID),_(2),m("ngbNavItem",o.SettingsNavIDs.General),_(4),m("ngbNavItem",o.SettingsNavIDs.Permissions),_(4),m("ngbNavItem",o.SettingsNavIDs.Notifications),_(4),m("ngbNavOutlet",s),_(),m("disabled",!1===lt(24,9,o.isDirty$)),_(3),m("disabled",!1===lt(27,11,o.isDirty$))}},dependencies:[hr,p1,lB,Rr,Rw,xw,ys,$t,Do,Rl,xl,Ci,t0,t5,Gt,Co,Wt,ao,Mo,Bl,S2,Z0,$l,E2,O2,W0,A2,Na,Aa,Bt,en,ur,s1],encapsulation:2})}return t})();const qw=(t,n)=>({action:t,type:n}),t8=t=>({tasks:t}),bB=(t,n)=>n.id;function Xat(t,n){if(1&t){const e=k();d(0,"button",48),E("click",function(){return T(e),w(p().dismissTasks())}),O(1,"i-bs",49),N(2),u()}if(2&t){const e=p();m("disabled",0===e.tasksService.total),_(2),He("\xa0",e.dismissButtonText," ")}}function Kat(t,n){if(1&t){const e=k();d(0,"button",53),E("click",function(){const o=T(e).$implicit;return w(p(2).filterTargetID=o.id)}),N(1),u()}if(2&t){const e=n.$implicit;we("active",p(2).filterTargetID===e.id),_(),oe(e.name)}}function qat(t,n){if(1&t&&(d(0,"div",31)(1,"button",50),N(2),u(),d(3,"div",51),Ke(4,Kat,2,3,"button",52,bB),u()()),2&t){const e=p();_(2),oe(e.filterTargetName),_(2),qe(e.filterTargets)}}function Yat(t,n){if(1&t&&(d(0,"span",32),N(1),u()),2&t){const e=p();_(),oe(e.filterTargetName)}}function Qat(t,n){if(1&t){const e=k();d(0,"button",54),E("click",function(){return T(e),w(p().resetFilter())}),O(1,"i-bs",55),u()}}function Jat(t,n){1&t&&(O(0,"div",56),d(1,"div",57),b(2,12),u())}function e1t(t,n){1&t&&(d(0,"th",63),b(1,17),u())}function t1t(t,n){if(1&t){const e=k();d(0,"div",85),E("click",function(o){T(e);const s=p(2).$implicit;return p(2).expandTask(s),w(o.stopPropagation())}),d(1,"span",84),N(2),Fe(3,"slice"),u()()}if(2&t){p();const e=xe(4),i=p().$implicit;m("ngbPopover",e),_(2),He("",V0(3,2,i.result,0,50),"\u2026")}}function n1t(t,n){if(1&t&&(d(0,"span",84),N(1),u()),2&t){const e=p(2).$implicit;_(),oe(e.result)}}function i1t(t,n){1&t&&N(0,"\n                  \u2026\n                ")}function o1t(t,n){1&t&&(O(0,"br"),d(1,"em"),N(2,"("),ge(3),b(4,18),ue(),N(5,")"),u())}function s1t(t,n){if(1&t&&(d(0,"pre",86),N(1),Fe(2,"slice"),y(3,i1t,1,0),u(),y(4,o1t,6,0)),2&t){const e=p(2).$implicit;_(),oe(V0(2,3,e.result,0,300)),_(2),P(e.result.length>300?3:-1),_(),P((null==e.result?null:e.result.length)>300?4:-1)}}function r1t(t,n){if(1&t&&(d(0,"td",72),y(1,t1t,4,6,"div",83),y(2,n1t,2,1,"span",84),ce(3,s1t,5,7,"ng-template",null,4,xt),u()),2&t){const e=p().$implicit;_(),P((null==e.result?null:e.result.length)>50?1:-1),_(),P((null==e.result?null:e.result.length)<=50?2:-1)}}function a1t(t,n){if(1&t){const e=k();d(0,"button",87),E("click",function(o){T(e);const s=p().$implicit;return p(2).dismissTask(s),w(o.stopPropagation())}),O(1,"i-bs",88),N(2,"\xa0"),ge(3),b(4,19),ue(),u()}}function l1t(t,n){if(1&t){const e=k();d(0,"button",90),E("click",function(o){T(e);const s=p(2).$implicit;return p(2).dismissAndGo(s),w(o.stopPropagation())}),O(1,"i-bs",91),N(2,"\xa0"),ge(3),b(4,20),ue(),u()}}function c1t(t,n){if(1&t&&(ge(0),y(1,l1t,5,0,"button",89),ue()),2&t){const e=p().$implicit;_(),P(e.related_document?1:-1)}}function d1t(t,n){if(1&t){const e=k();d(0,"tr",68),E("click",function(o){const s=T(e).$implicit;return p(2).toggleSelected(s,o),w(o.stopPropagation())}),d(1,"td")(2,"div",60)(3,"input",69),E("click",function(o){const s=T(e).$implicit;return p(2).toggleSelected(s,o),w(o.stopPropagation())}),u(),O(4,"label",70),u()(),d(5,"td",71),N(6),u(),d(7,"td",72),N(8),Fe(9,"customDate"),u(),y(10,r1t,5,2,"td",72),d(11,"td",73)(12,"button",74),E("click",function(o){const s=T(e).$implicit;return p(2).expandTask(s),w(o.stopPropagation())}),O(13,"i-bs",75),u()(),d(14,"td",76)(15,"div",77),ce(16,a1t,5,0,"button",78)(17,c1t,2,1,"ng-container",79),u()()(),d(18,"tr")(19,"td",80)(20,"pre",81,3)(22,"div",82),N(23),u()()()()}if(2&t){const e=n.$implicit,i=p(2);_(3),m("id",Lt("task",e.id))("checked",i.selectedTasks.has(e.id)),_(),m("for",Lt("task",e.id)),_(2),oe(e.task_file_name),_(2),oe(zo(9,14,e.date_created,"short")),_(2),P("started"!==i.activeTab&&"queued"!==i.activeTab?10:-1),_(6),m("pngxIfPermissions",$e(17,qw,i.PermissionAction.Change,i.PermissionType.PaperlessTask)),_(),m("pngxIfPermissions",$e(20,qw,i.PermissionAction.View,i.PermissionType.Document)),_(2),we("border-0",i.expandedTask!==e.id),_(),m("ngbCollapse",i.expandedTask!==e.id),_(3),oe(e.result)}}function h1t(t,n){if(1&t&&(ge(0),b(1,22),ue()),2&t){const e=p(3);_(),An(e.selectedTasks.size),In(1)}}function u1t(t,n){if(1&t&&(d(0,"div",66),ge(1),b(2,21),ue(),y(3,h1t,2,1,"ng-container"),u()),2&t){const e=p().tasks,i=p();_(2),An(e.length)(i.activeTabLocalized)(e.length||0),In(2),_(),P(i.selectedTasks.size>0?3:-1)}}function _1t(t,n){if(1&t){const e=k();d(0,"ngb-pagination",92),Re("pageChange",function(o){T(e);const s=p(2);return Pe(s.page,o)||(s.page=o),w(o)}),u()}if(2&t){const e=p().tasks,i=p();Le("page",i.page),m("pageSize",i.pageSize)("collectionSize",e.length)}}function g1t(t,n){if(1&t){const e=k();d(0,"table",58)(1,"thead")(2,"tr")(3,"th",59)(4,"div",60)(5,"input",61),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.togggleAll,o)||(s.togggleAll=o),w(o)}),E("click",function(o){return T(e),p().toggleAll(o),w(o.stopPropagation())}),u(),O(6,"label",62),u()(),d(7,"th",59),b(8,13),u(),d(9,"th",63),b(10,14),u(),y(11,e1t,2,0,"th",63),d(12,"th",64),b(13,15),u(),d(14,"th",59),b(15,16),u()()(),d(16,"tbody"),Ke(17,d1t,24,23,null,null,bB),Fe(19,"slice"),u()(),d(20,"div",65),y(21,u1t,4,4,"div",66),y(22,_1t,1,3,"ngb-pagination",67),u()}if(2&t){const e=n.tasks,i=p();_(5),m("disabled",0===i.currentTasks.length),Le("ngModel",i.togggleAll),_(6),P("started"!==i.activeTab&&"queued"!==i.activeTab?11:-1),_(6),qe(V0(19,5,e,(i.page-1)*i.pageSize,i.page*i.pageSize)),_(4),P(e.length>0?21:-1),_(),P(e.length>i.pageSize?22:-1)}}function p1t(t,n){if(1&t&&(Sr(0,8,1),O(1,"span",41),Er()),2&t){const e=p();_(),An(e.tasksService.failedFileTasks.length),In(0)}}function f1t(t,n){if(1&t&&Mn(0,93),2&t){const e=p();m("ngTemplateOutlet",xe(23))("ngTemplateOutletContext",ei(2,t8,e.currentTasks))}}function m1t(t,n){if(1&t&&(Sr(0,9,1),O(1,"span",44),Er()),2&t){const e=p();_(),An(e.tasksService.completedFileTasks.length),In(0)}}function v1t(t,n){if(1&t&&Mn(0,93),2&t){const e=p();m("ngTemplateOutlet",xe(23))("ngTemplateOutletContext",ei(2,t8,e.currentTasks))}}function C1t(t,n){if(1&t&&(Sr(0,10,1),O(1,"span",44),Er()),2&t){const e=p();_(),An(e.tasksService.startedFileTasks.length),In(0)}}function M1t(t,n){if(1&t&&Mn(0,93),2&t){const e=p();m("ngTemplateOutlet",xe(23))("ngTemplateOutletContext",ei(2,t8,e.currentTasks))}}function T1t(t,n){if(1&t&&(Sr(0,11,1),O(1,"span",44),Er()),2&t){const e=p();_(),An(e.tasksService.queuedFileTasks.length),In(0)}}function w1t(t,n){if(1&t&&Mn(0,93),2&t){const e=p();m("ngTemplateOutlet",xe(23))("ngTemplateOutletContext",ei(2,t8,e.currentTasks))}}var $1=function(t){return t.Queued="queued",t.Started="started",t.Completed="completed",t.Failed="failed",t}($1||{}),$5=function(t){return t[t.Name=0]="Name",t[t.Result=1]="Result",t}($5||{});const SB=[{id:$5.Name,name:"\u0627\u0633\u0645"},{id:$5.Result,name:"Result"}];let b1t=(()=>{class t extends Ds{constructor(){super(...arguments),this.tasksService=M(V4),this.modalService=M(ps),this.router=M(ts),this.selectedTasks=new Set,this.togggleAll=!1,this.pageSize=25,this.page=1,this.autoRefreshEnabled=!0,this._filterText="",this.filterTargetID=$5.Name,this.filterDebounce=new Be}get filterText(){return this._filterText}set filterText(e){this.filterDebounce.next(e)}get filterTargetName(){return this.filterTargets.find(e=>e.id==this.filterTargetID).name}get filterTargets(){return[$1.Failed,$1.Completed].includes(this.activeTab)?SB:SB.slice(0,1)}get dismissButtonText(){return this.selectedTasks.size>0?"\u0627\u0633\u062A\u0628\u0639\u0627\u062F \u0627\u0644\u0645\u062D\u062F\u062F":"\u0627\u0633\u062A\u0628\u0639\u0627\u062F \u0627\u0644\u0643\u0644"}ngOnInit(){this.tasksService.reload(),t2(5e3,5e3).pipe(ii(()=>this.autoRefreshEnabled),me(this.unsubscribeNotifier)).subscribe(()=>{this.tasksService.reload()}),this.filterDebounce.pipe(me(this.unsubscribeNotifier),ra(100),r1(),ii(e=>!e.length||e.length>2)).subscribe(e=>this._filterText=e)}ngOnDestroy(){super.ngOnDestroy(),this.tasksService.cancelPending()}dismissTask(e){this.dismissTasks(e)}dismissTasks(e=void 0){let i=e?new Set([e.id]):new Set(this.selectedTasks.values());if(!e&&0==i.size&&(i=new Set(this.tasksService.allFileTasks.map(o=>o.id))),i.size>1){let o=this.modalService.open(Ki,{backdrop:"static"});o.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u0627\u0633\u062A\u0628\u0639\u0627\u062F \u0627\u0644\u0643\u0644",o.componentInstance.messageBold="\u0627\u0633\u062A\u0628\u0639\u0627\u062F \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0640 " + i.size + "\u061F",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="\u0627\u0633\u062A\u0628\u0639\u0627\u062F",o.componentInstance.confirmClicked.pipe(ut()).subscribe(()=>{o.componentInstance.buttonsEnabled=!1,o.close(),this.tasksService.dismissTasks(i),this.clearSelection()})}else this.tasksService.dismissTasks(i),this.clearSelection()}dismissAndGo(e){this.dismissTask(e),this.router.navigate(["documents",e.related_document])}expandTask(e){this.expandedTask=this.expandedTask==e.id?void 0:e.id}toggleSelected(e){this.selectedTasks.has(e.id)?this.selectedTasks.delete(e.id):this.selectedTasks.add(e.id)}get currentTasks(){let e=[];switch(this.activeTab){case $1.Queued:e=this.tasksService.queuedFileTasks;break;case $1.Started:e=this.tasksService.startedFileTasks;break;case $1.Completed:e=this.tasksService.completedFileTasks;break;case $1.Failed:e=this.tasksService.failedFileTasks}return this._filterText.length&&(e=e.filter(i=>this.filterTargetID==$5.Name?i.task_file_name.toLowerCase().includes(this._filterText.toLowerCase()):this.filterTargetID==$5.Result?i.result.toLowerCase().includes(this._filterText.toLowerCase()):void 0)),e}toggleAll(e){e.target.checked?this.selectedTasks=new Set(this.currentTasks.map(i=>i.id)):this.clearSelection()}clearSelection(){this.togggleAll=!1,this.selectedTasks.clear()}duringTabChange(){this.page=1}beforeTabChange(){this.resetFilter(),this.filterTargetID=$5.Name}get activeTabLocalized(){switch(this.activeTab){case $1.Queued:return "\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631";case $1.Started:return "\u0628\u062F\u0627\u062A";case $1.Completed:return "\u0645\u0643\u062A\u0645\u0644";case $1.Failed:return "\u0641\u0634\u0644"}}resetFilter(){this._filterText=""}filterInputKeyup(e){"Enter"==e.key?this._filterText=e.target.value:"Escape"===e.key&&this.resetFilter()}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-tasks"]],features:[at],decls:47,vars:16,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J;return e="\u0645\u0644\u0641 \u0627\u0644\u0645\u0647\u0627\u0645",i="\u0645\u0644\u0641 \u0627\u0644\u0645\u0647\u0627\u0645 \u064A\u0638\u0647\u0631 \u0644\u0643 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u0647\u0644\u0643\u0629\u060C \u0623\u0648 \u062A\u0646\u062A\u0638\u0631 \u0623\u0646 \u062A\u0643\u0648\u0646\u060C \u0623\u0648 \u064A\u0643\u0648\u0646 \u0623\u062E\u0641\u0642 \u0641\u064A \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0639\u0645\u0644\u064A\u0629.",o="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062A\u062D\u062F\u064A\u062F",s="Filter by",r="\u062A\u062D\u062F\u064A\u062B \u062A\u0644\u0642\u0627\u0626\u064A",a="\u0641\u0634\u0644" + "\ufffd*29:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*29:1\ufffd" + "",l="\u0623\u0643\u062A\u0645\u0644" + "\ufffd*34:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*34:1\ufffd" + "",c="\u0628\u062F\u0623" + "\ufffd*39:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*39:1\ufffd" + "",h="\u062A\u0645\u0651 \u0648\u0636\u0639\u0647 \u0641\u064A \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631" + "\ufffd*44:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*44:1\ufffd" + "",g="\u062A\u062D\u0645\u064A\u0644...",f="\u0627\u0633\u0645",v="\u0623\u064F\u0646\u0634\u0626",C="\u0645\u0639\u0644\u0648\u0645\u0627\u062A",S="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",D="\u0627\u0644\u0646\u062A\u0627\u0626\u062C",I="\u0627\u0646\u0642\u0631 \u0644\u0645\u0634\u0627\u0647\u062F\u0629 \u0643\u0627\u0645\u0644 \u0627\u0644\u0625\u062E\u0631\u0627\u062C",L="\u0627\u0633\u062A\u0628\u0639\u0627\u062F",G="\u0641\u062A\u062D \u0645\u0633\u062A\u0646\u062F",R="{VAR_PLURAL, plural, zero {} one {{INTERPOLATION_1} \u0627\u062C\u0645\u0627\u0644\u064A {INTERPOLATION} \u0627\u0644\u0645\u0647\u0627\u0645} two {{INTERPOLATION_1} \u0627\u062C\u0645\u0627\u0644\u064A {INTERPOLATION} \u0627\u0644\u0645\u0647\u0627\u0645} few {{INTERPOLATION_1} \u0627\u062C\u0645\u0627\u0644\u064A {INTERPOLATION} \u0627\u0644\u0645\u0647\u0627\u0645} many {{INTERPOLATION_1} \u0627\u062C\u0645\u0627\u0644\u064A {INTERPOLATION} \u0627\u0644\u0645\u0647\u0627\u0645} =1 {\u0645\u0647\u0645\u0629 \u0648\u0627\u062D\u062F\u0629 {INTERPOLATION}} other {{INTERPOLATION_1} \u0627\u062C\u0645\u0627\u0644\u064A {INTERPOLATION} \u0627\u0644\u0645\u0647\u0627\u0645}}",R=Ma(R,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),J=" (" + "\ufffd0\ufffd" + " \u0645\u062D\u062F\u062F\u0629)",[["filterInput",""],["tasksTemplate",""],["nav","ngbNav"],["collapse","ngbCollapse"],["resultPopover",""],o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,["title",e,"info",i],[1,"btn-toolbar","col","col-md-auto","align-items-center","gap-2"],[1,"btn","btn-sm","btn-outline-secondary","me-2",3,"click","hidden"],["name","x"],["class","btn btn-sm btn-outline-primary me-2",3,"disabled","click",4,"pngxIfPermissions"],[1,"form-inline","d-flex","align-items-center"],[1,"input-group","input-group-sm","flex-fill","w-auto","flex-nowrap"],[1,"input-group-text","text-muted"],["ngbDropdown",""],[1,"input-group-text"],[1,"btn","btn-link","btn-sm","px-2","position-absolute","top-0","end-0","z-10"],["type","text",1,"form-control","form-control-sm",3,"keyup","ngModelChange","ngModel"],[1,"form-check","form-switch","mb-0","ms-2"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModelChange","ngModel"],["for","autoRefreshSwitch",1,"form-check-label"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","hidden","navChange","activeId"],["ngbNavItem","failed"],["ngbNavLink",""],[1,"badge","bg-danger","ms-2"],["ngbNavContent",""],["ngbNavItem","completed"],[1,"badge","bg-secondary","ms-2"],["ngbNavItem","started"],["ngbNavItem","queued"],[3,"ngbNavOutlet"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click","disabled"],["name","check2-all"],["ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["ngbDropdownMenu","",1,"dropdown-menu","shadow"],["ngbDropdownItem","",3,"active"],["ngbDropdownItem","",3,"click"],[1,"btn","btn-link","btn-sm","px-2","position-absolute","top-0","end-0","z-10",3,"click"],["width","1em","height","1em","name","x"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"],[1,"table","table-striped","align-middle","border","shadow-sm"],["scope","col"],[1,"form-check"],["type","checkbox","id","all-tasks",1,"form-check-input",3,"ngModelChange","click","disabled","ngModel"],["for","all-tasks",1,"form-check-label"],["scope","col",1,"d-none","d-lg-table-cell"],["scope","col",1,"d-table-cell","d-lg-none"],[1,"pb-3","d-sm-flex","justify-content-between","align-items-center"],[1,"pb-2","pb-sm-0"],["maxSize","8","size","sm",3,"page","pageSize","collectionSize"],[3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],[1,"overflow-auto","name-col"],[1,"d-none","d-lg-table-cell"],[1,"d-lg-none"],[1,"btn","btn-link",3,"click"],["width","1.2em","height","1.2em","name","info-circle"],["scope","row"],["role","group",1,"btn-group"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],[4,"pngxIfPermissions"],["colspan","5",1,"p-0"],[1,"small","mb-0",3,"ngbCollapse"],[1,"small","p-1","p-lg-3","ms-lg-3"],["popoverClass","shadow small mobile","triggers","mouseenter:mouseleave","container","body",1,"result",3,"ngbPopover"],[1,"small","d-none","d-md-inline-block","font-monospace","text-muted"],["popoverClass","shadow small mobile","triggers","mouseenter:mouseleave","container","body",1,"result",3,"click","ngbPopover"],[1,"small","mb-0"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","check"],[1,"btn","btn-sm","btn-outline-primary"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","file-text"],["maxSize","8","size","sm",3,"pageChange","page","pageSize","collectionSize"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]]},template:function(i,o){if(1&i){const s=k();d(0,"pngx-page-header",23)(1,"div",24)(2,"button",25),E("click",function(){return T(s),w(o.clearSelection())}),O(3,"i-bs",26),N(4,"\xa0"),ge(5),b(6,5),ue(),u(),ce(7,Xat,3,2,"button",27),d(8,"div",28)(9,"div",29)(10,"span",30),b(11,6),u(),y(12,qat,6,1,"div",31)(13,Yat,2,1,"span",32),y(14,Qat,2,0,"button",33),d(15,"input",34,0),E("keyup",function(a){return T(s),w(o.filterInputKeyup(a))}),Re("ngModelChange",function(a){return T(s),Pe(o.filterText,a)||(o.filterText=a),w(a)}),u()()(),d(17,"div",35)(18,"input",36),Re("ngModelChange",function(a){return T(s),Pe(o.autoRefreshEnabled,a)||(o.autoRefreshEnabled=a),w(a)}),u(),d(19,"label",37),b(20,7),u()()()(),y(21,Jat,3,0),ce(22,g1t,23,9,"ng-template",null,1,xt),d(24,"ul",38,2),Re("activeIdChange",function(a){return T(s),Pe(o.activeTab,a)||(o.activeTab=a),w(a)}),E("hidden",function(){return T(s),w(o.duringTabChange())})("navChange",function(){return T(s),w(o.beforeTabChange())}),d(26,"li",39)(27,"a",40),Sr(28,8),y(29,p1t,2,1,"span",41),Er(),u(),ce(30,f1t,1,4,"ng-template",42),u(),d(31,"li",43)(32,"a",40),Sr(33,9),y(34,m1t,2,1,"span",44),Er(),u(),ce(35,v1t,1,4,"ng-template",42),u(),d(36,"li",45)(37,"a",40),Sr(38,10),y(39,C1t,2,1,"span",44),Er(),u(),ce(40,M1t,1,4,"ng-template",42),u(),d(41,"li",46)(42,"a",40),Sr(43,11),y(44,T1t,2,1,"span",44),Er(),u(),ce(45,w1t,1,4,"ng-template",42),u()(),O(46,"div",47)}if(2&i){const s=xe(25);_(2),m("hidden",0===o.selectedTasks.size),_(5),m("pngxIfPermissions",$e(13,qw,o.PermissionAction.Change,o.PermissionType.PaperlessTask)),_(5),P(o.filterTargets.length>1?12:13),_(2),P(null!=o.filterText&&o.filterText.length?14:-1),_(),Le("ngModel",o.filterText),_(3),Le("ngModel",o.autoRefreshEnabled),_(3),P(!o.tasksService.completedFileTasks&&o.tasksService.loading?21:-1),_(3),Le("activeId",o.activeTab),_(5),P(o.tasksService.failedFileTasks.length>0?29:-1),_(5),P(o.tasksService.completedFileTasks.length>0?34:-1),_(5),P(o.tasksService.startedFileTasks.length>0?39:-1),_(5),P(o.tasksService.queuedFileTasks.length>0?44:-1),_(2),m("ngbNavOutlet",s)}},dependencies:[hr,ys,$t,Ci,No,Gt,Ln,Wt,Ao,O_,w_,Go,Ho,Ss,Qo,js,oa,Bl,S2,Z0,$l,E2,O2,W0,A2,R1,r0,Na,Aa,Bt,en,ur,I3],styles:[".popover{max-width:350px}  .popover pre{white-space:pre-wrap;word-break:break-word}pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word}.result[_ngcontent-%COMP%]{cursor:pointer}.btn[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:.8rem;height:.8rem}@media (max-width: 575.98px){.name-col[_ngcontent-%COMP%]{max-width:150px}}.input-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0}.z-10[_ngcontent-%COMP%]{z-index:10}"]})}return t})(),S1t=(()=>{class t{constructor(){this.http=M(ba)}getTrash(e=1){const i=(new ta).set("page",e.toString());return this.http.get(`${di.apiBaseUrl}trash/`,{params:i})}emptyTrash(e){const i={action:"empty"};return e?.length&&(i.documents=e),this.http.post(`${di.apiBaseUrl}trash/`,i)}restoreDocuments(e){return this.http.post(`${di.apiBaseUrl}trash/`,{action:"restore",documents:e})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const E1t=["popover"],O1t=["pdfViewer"],A1t=["*"];function N1t(t,n){1&t&&(d(0,"div",6)(1,"p",7),b(2,3),u()())}function D1t(t,n){if(1&t&&(d(0,"div",8),N(1),u()),2&t){const e=p(4);_(),oe(e.previewText)}}function y1t(t,n){if(1&t&&(O(0,"object",10),Fe(1,"safeUrl")),2&t){const e=p(4);we("p-2",!e.isPdf),m("data",lt(1,3,e.previewURL),Xh)}}function P1t(t,n){1&t&&y(0,D1t,2,1,"div",8)(1,y1t,2,5,"object",9),2&t&&P(p(3).previewText?0:1)}function I1t(t,n){1&t&&(d(0,"div",6),O(1,"i-bs",12),u())}function L1t(t,n){if(1&t){const e=k();d(0,"pdf-viewer",13,2),E("text-layer-rendered",function(){return T(e),w(p(4).onPageRendered())})("error",function(o){return T(e),w(p(4).onError(o))}),u()}2&t&&m("src",p(4).previewURL)("original-size",!1)("show-borders",!1)("show-all",!0)}function R1t(t,n){if(1&t&&(y(0,I1t,2,0,"div",6),y(1,L1t,2,4,"pdf-viewer",11)),2&t){const e=p(3);P(e.requiresPassword?0:-1),_(),P(e.requiresPassword?-1:1)}}function x1t(t,n){1&t&&y(0,P1t,2,1)(1,R1t,2,2),2&t&&P(p(2).renderAsObject?0:1)}function F1t(t,n){if(1&t){const e=k();d(0,"div",5),E("mouseenter",function(){return T(e),w(p().mouseEnterPreview())})("mouseleave",function(){T(e);const o=p();return o.mouseLeavePreview(),w(o.close())}),y(1,N1t,3,0,"div",6)(2,x1t,2,1),u()}if(2&t){const e=p();_(),P(e.error?1:2)}}let n8=(()=>{class t{constructor(){this.settingsService=M(Gn),this.documentService=M(Io),this.http=M(ba),this.linkClasses="btn btn-sm btn-outline-secondary",this.linkTarget="_blank",this.linkTitle="Open preview",this.unsubscribeNotifier=new Be,this.error=!1,this.requiresPassword=!1,this.mouseOnPreview=!1,this.popoverClass="shadow popover-preview"}set document(e){this._document=e,this.init()}get document(){return this._document}get renderAsObject(){return this.isPdf&&this.useNativePdfViewer||!this.isPdf}get previewURL(){return this.documentService.getPreviewUrl(this.document.id)}get useNativePdfViewer(){return this.settingsService.get(Ce.USE_NATIVE_PDF_VIEWER)}get isPdf(){return this.document?.archived_file_name?.length>0||this.document?.mime_type?.includes("pdf")}ngOnDestroy(){this.unsubscribeNotifier.next(this)}init(){this.document.mime_type?.includes("text")&&this.http.get(this.previewURL,{responseType:"text"}).pipe(ut(),me(this.unsubscribeNotifier)).subscribe({next:e=>{this.previewText=e.toString()},error:e=>{this.error=e}})}onError(e){"PasswordException"==e.name?this.requiresPassword=!0:this.error=!0}onPageRendered(){this.documentService.searchQuery&&this.pdfViewer.eventBus.dispatch("find",{query:this.documentService.searchQuery,caseSensitive:!1,highlightAll:!0,phraseSearch:!0})}get previewUrl(){return this.documentService.getPreviewUrl(this.document.id)}mouseEnterPreview(){this.mouseOnPreview=!0,this.popover.isOpen()||(this.popover.open(),this.popoverClass="shadow popover-preview pe-none opacity-0",setTimeout(()=>{this.mouseOnPreview?this.popoverClass=this.popoverClass.replace("pe-none opacity-0",""):this.popover.close(!0)},600))}mouseLeavePreview(){this.mouseOnPreview=!1}close(e=!1){setTimeout(()=>{this.mouseOnPreview||this.popover.close()},e?0:300)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-preview-popup"]],viewQuery:function(i,o){if(1&i&&(Tn(E1t,5),Tn(O1t,5)),2&i){let s;Mt(s=Tt())&&(o.popover=s.first),Mt(s=Tt())&&(o.pdfViewer=s.first)}},inputs:{document:"document",link:"link",linkClasses:"linkClasses",linkTarget:"linkTarget",linkTitle:"linkTitle"},ngContentSelectors:A1t,decls:6,vars:10,consts:()=>{let e;return e="\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0639\u0627\u064A\u0646\u0629",[["popover","ngbPopover"],["previewContent",""],["pdfViewer",""],e,["container","body","autoClose","true",3,"mouseenter","mouseleave","href","target","title","ngbPopover","popoverTitle","popoverClass"],[1,"preview-popup-container",3,"mouseenter","mouseleave"],[1,"w-100","h-100","position-relative"],[1,"fst-italic","position-absolute","top-50","start-50","translate-middle"],["width","100%",1,"bg-light","p-3","overflow-auto","whitespace-preserve"],["width","100%",1,"bg-light",3,"data","p-2"],["width","100%",1,"bg-light",3,"data"],[3,"src","original-size","show-borders","show-all"],["width","2em","height","2em","name","file-earmark-lock",1,"position-absolute","top-50","start-50","translate-middle"],[3,"text-layer-rendered","error","src","original-size","show-borders","show-all"]]},template:function(i,o){if(1&i){const s=k();or(),d(0,"a",4,0),Fe(2,"documentTitle"),E("mouseenter",function(){return T(s),w(o.mouseEnterPreview())})("mouseleave",function(){return T(s),w(o.mouseLeavePreview())}),sr(3),u(),ce(4,F1t,3,1,"ng-template",null,1,xt)}if(2&i){const s=xe(5);Zi(o.linkClasses),m("href",o.link??o.previewUrl,Ts)("target",o.linkTarget)("title",o.linkTitle)("ngbPopover",s)("popoverTitle",lt(2,8,o.document.title))("popoverClass",o.popoverClass)}},dependencies:[Na,Aa,Z6,j6,Bt,en,G5,mB],styles:[".preview-popup-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:30rem!important;height:22rem!important}  .popover.popover-preview{max-width:32rem}"]})}return t})();const k1t=(t,n)=>n.id;function z1t(t,n){1&t&&(d(0,"tr")(1,"td",34),O(2,"div",35),ge(3),b(4,8),ue(),u()())}function V1t(t,n){if(1&t){const e=k();d(0,"tr",36),E("click",function(o){const s=T(e).$implicit;return p().toggleSelected(s),w(o.stopPropagation())})("mouseleave",function(){return T(e),w(xe(8).close())}),d(1,"td")(2,"div",27)(3,"input",37),E("click",function(o){const s=T(e).$implicit;return p().toggleSelected(s),w(o.stopPropagation())}),u(),O(4,"label",38),u()(),d(5,"td",39),N(6),d(7,"pngx-preview-popup",40,0),O(9,"i-bs",41),u()(),d(10,"td",42),b(11,9),u(),d(12,"td",39)(13,"div",43)(14,"div",44)(15,"button",45),E("click",function(o){return T(e),w(o.stopPropagation())}),O(16,"i-bs",46),u(),d(17,"div",47)(18,"button",48),E("click",function(){const o=T(e).$implicit;return w(p().restore(o))}),b(19,10),u(),d(20,"button",48),E("click",function(){const o=T(e).$implicit;return w(p().delete(o))}),b(21,11),u()()()(),d(22,"div",49)(23,"button",50),E("click",function(o){const s=T(e).$implicit;return p().restore(s),w(o.stopPropagation())}),O(24,"i-bs",51),N(25,"\xa0"),ge(26),b(27,12),ue(),u(),d(28,"button",52),E("click",function(o){const s=T(e).$implicit;return p().delete(s),w(o.stopPropagation())}),O(29,"i-bs",53),N(30,"\xa0"),ge(31),b(32,13),ue(),u()()()()}if(2&t){const e=n.$implicit,i=p();we("show",i.show),_(3),m("id",ni(e.id))("checked",i.selectedDocuments.has(e.id)),_(),m("for",ni(e.id)),_(2),He(" ",e.title," "),_(),m("document",e),_(4),An(i.getDaysRemaining(e)),In(11)}}function H1t(t,n){1&t&&N(0),2&t&&He(" \xa0(",p(2).selectedDocuments.size," selected) ")}function G1t(t,n){if(1&t){const e=k();d(0,"ngb-pagination",55),Re("pageChange",function(o){T(e);const s=p(2);return Pe(s.page,o)||(s.page=o),w(o)}),E("pageChange",function(){return T(e),w(p(2).reload())}),u()}if(2&t){const e=p(2);m("pageSize",25)("collectionSize",e.totalDocuments),Le("page",e.page),m("maxSize",5)}}function $1t(t,n){if(1&t&&(d(0,"div",33)(1,"div"),ge(2),b(3,14),ue(),y(4,H1t,1,1),u(),y(5,G1t,1,4,"ngb-pagination",54),u()),2&t){const e=p();_(3),An(e.totalDocuments)(e.totalDocuments||0),In(3),_(),P(e.selectedDocuments.size>0?4:-1),_(),P(e.documentsInTrash.length>20?5:-1)}}let B1t=(()=>{class t extends Ds{constructor(){super(),this.trashService=M(S1t),this.toastService=M(eo),this.modalService=M(ps),this.settingsService=M(Gn),this.router=M(ts),this.documentsInTrash=[],this.selectedDocuments=new Set,this.allToggled=!1,this.page=1,this.reload()}reload(){this.loading=!0,this.trashService.getTrash(this.page).pipe(_n(e=>{this.documentsInTrash=e.results,this.totalDocuments=e.count,this.selectedDocuments.clear(),this.loading=!1}),n0(100)).subscribe(()=>{this.show=!0})}delete(e){let i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0630\u0641",i.componentInstance.messageBold="\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0646\u0647\u0627\u0626\u064A\u0627\u064B.",i.componentInstance.message="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="\u062D\u0630\u0641",i.componentInstance.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.trashService.emptyTrash([e.id]).subscribe({next:()=>{this.toastService.showInfo("Document \"" + e.title + "\" deleted"),i.close(),this.reload()},error:o=>{this.toastService.showError("Error deleting document \"" + e.title + "\"",o),i.close()}})})}emptyTrash(e){let i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0630\u0641",i.componentInstance.messageBold=e?"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0642\u0648\u0645 \u0628\u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0628\u0634\u0643\u0644 \u062F\u0627\u0626\u0645.":"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0642\u0648\u0645 \u0628\u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629 \u0641\u064A \u0633\u0644\u0629 \u0627\u0644\u0645\u0647\u0645\u0644\u0627\u062A \u0628\u0634\u0643\u0644 \u062F\u0627\u0626\u0645.",i.componentInstance.message="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="\u062D\u0630\u0641",i.componentInstance.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.trashService.emptyTrash(e?Array.from(e):null).subscribe({next:()=>{this.toastService.showInfo("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u0646\u062F (\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A)"),this.allToggled=!1,i.close(),this.reload()},error:o=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u0646\u062F (\u0623\u0648 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A)",o),i.close()}})})}restore(e){this.trashService.restoreDocuments([e.id]).subscribe({next:()=>{this.toastService.show({content:"Document \"" + e.title + "\" restored",delay:5e3,actionName:"\u0641\u062A\u062D \u0645\u0633\u062A\u0646\u062F",action:()=>{this.router.navigate(["documents",e.id])}}),this.reload()},error:i=>{this.toastService.showError("Error restoring document \"" + e.title + "\"",i)}})}restoreAll(e=null){this.trashService.restoreDocuments(e?Array.from(e):null).subscribe({next:()=>{this.toastService.showInfo("\u062A\u0645 \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F (\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A)"),this.allToggled=!1,this.reload()},error:i=>{this.toastService.showError("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F (\u0623\u0648 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A)",i)}})}toggleAll(e){e.target.checked?this.selectedDocuments=new Set(this.documentsInTrash.map(i=>i.id)):this.clearSelection()}toggleSelected(e){this.selectedDocuments.has(e.id)?this.selectedDocuments.delete(e.id):this.selectedDocuments.add(e.id)}clearSelection(){this.allToggled=!1,this.selectedDocuments.clear()}getDaysRemaining(e){const i=this.settingsService.get(Ce.EMPTY_TRASH_DELAY),o=(new Date).getTime()-new Date(e.deleted_at).getTime();return i-Math.ceil(o/864e5)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-trash"]],features:[at],decls:42,vars:12,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I;return e="\u0633\u0644\u0629 \u0627\u0644\u0645\u0647\u0645\u0644\u0627\u062A",i="\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u0645\u0647\u0645\u0644\u0629 \u0627\u0644\u062A\u064A \u062A\u0646\u062A\u0638\u0631 \u0627\u0644\u062D\u0630\u0641.",o="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062A\u062D\u062F\u064A\u062F",s="\u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u062F\u062F",r="\u062D\u0630\u0641 \u0627\u0644\u0645\u062D\u062F\u062F",a="\u0625\u0641\u0631\u0627\u063A \u0633\u0644\u0629 \u0627\u0644\u0645\u0647\u0645\u0644\u0627\u062A",l="\u0627\u0633\u0645",c="\u0627\u0644\u0645\u062A\u0628\u0642\u064A",h="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",g="\u062A\u062D\u0645\u064A\u0644...",f="\u0627\u0644\u0623\u064A\u0627\u0645 \u0627\u0644\u0645\u062A\u0628\u0642\u064A\u0629 " + "\ufffd0\ufffd" + "",v="\u0627\u0633\u062A\u0639\u0627\u062F\u0629",C="\u062D\u0630\u0641",S="\u0627\u0633\u062A\u0639\u0627\u062F\u0629",D="\u062D\u0630\u0641",I="{VAR_PLURAL, plural, =1 {\u0645\u0633\u062A\u0646\u062F \u0648\u0627\u062D\u062F \u0641\u064A \u0627\u0644\u0633\u0644\u0629} other {{INTERPOLATION} \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0641\u064A \u0627\u0644\u0633\u0644\u0629}}",I=Ma(I,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[["popupPreview",""],o,s,r,a,l,c,h,g,f,v,C,S,D,I,["title",e,"info",i,"infoLink","usage/#document-trash"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","arrow-counterclockwise"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],[1,"row","mb-3"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col",1,"fw-normal"],["scope","col",1,"fw-normal","d-none","d-sm-table-cell"],[1,"data-row","fade",3,"show"],[1,"d-flex","mb-2"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"data-row","fade",3,"click","mouseleave"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row"],["linkClasses","btn btn-sm btn-link",3,"document"],["name","eye"],["scope","row",1,"d-none","d-sm-table-cell"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click"],[1,"btn-group","d-none","d-sm-block"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","arrow-counterclockwise"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1em","height","1em","name","trash"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"]]},template:function(i,o){1&i&&(d(0,"pngx-page-header",15)(1,"button",16),E("click",function(){return o.clearSelection()}),O(2,"i-bs",17),N(3,"\xa0"),ge(4),b(5,1),ue(),u(),d(6,"button",18),E("click",function(){return o.restoreAll(o.selectedDocuments)}),O(7,"i-bs",19),N(8,"\xa0"),ge(9),b(10,2),ue(),u(),d(11,"button",20),E("click",function(){return o.emptyTrash(o.selectedDocuments)}),O(12,"i-bs",21),N(13,"\xa0"),ge(14),b(15,3),ue(),u(),d(16,"button",20),E("click",function(){return o.emptyTrash()}),O(17,"i-bs",21),N(18,"\xa0"),ge(19),b(20,4),ue(),u()(),d(21,"div",22)(22,"ngb-pagination",23),Re("pageChange",function(r){return Pe(o.page,r)||(o.page=r),r}),E("pageChange",function(){return o.reload()}),u()(),d(23,"div",24)(24,"table",25)(25,"thead")(26,"tr")(27,"th",26)(28,"div",27)(29,"input",28),Re("ngModelChange",function(r){return Pe(o.allToggled,r)||(o.allToggled=r),r}),E("click",function(r){return o.toggleAll(r),r.stopPropagation()}),u(),O(30,"label",29),u()(),d(31,"th",30),b(32,5),u(),d(33,"th",31),b(34,6),u(),d(35,"th",30),b(36,7),u()()(),d(37,"tbody"),y(38,z1t,5,0,"tr"),Ke(39,V1t,33,10,"tr",32,k1t),u()()(),y(41,$1t,6,4,"div",33)),2&i&&(_(),m("hidden",0===o.selectedDocuments.size),_(5),m("disabled",0===o.selectedDocuments.size),_(5),m("disabled",0===o.selectedDocuments.size),_(5),m("disabled",0===o.documentsInTrash.length),_(6),m("pageSize",25)("collectionSize",o.totalDocuments),Le("page",o.page),m("maxSize",5),_(7),Le("ngModel",o.allToggled),m("disabled",0===o.documentsInTrash.length),_(9),P(o.loading?38:-1),_(),qe(o.documentsInTrash),_(2),P(o.loading?-1:41))},dependencies:[hr,n8,$t,No,Gt,Ln,Wt,Go,Ho,Ss,Qo,js,oa,R1,r0,Bt,en],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}return t})();function U1t(t,n){1&t&&(d(0,"p"),b(1,7),u(),d(2,"a",20),b(3,8),u(),O(4,"i-bs",21))}function j1t(t,n){if(1&t&&(d(0,"div",25),O(1,"input",26),d(2,"label",24),N(3),u()()),2&t){const e=n.$implicit,i=p().$implicit,o=p();m("ngbPopover",o.inheritedWarning)("disablePopover",!o.isInherited(i,e.key)),_(),m("id",e1("",i,"_",e.key))("formControlName",ni(e.key)),_(),m("for",e1("",i,"_",e.key)),_(),oe(e.key)}}function Z1t(t,n){if(1&t){const e=k();d(0,"li",18)(1,"div",16),N(2),u(),d(3,"div",22)(4,"input",23),E("change",function(o){const s=T(e).$implicit;return w(p().toggleAll(o,s))}),u(),d(5,"label",24),b(6,9),u()(),Ke(7,j1t,4,11,"div",25,jt),Fe(9,"keyvalue"),u()}if(2&t){const e=n.$implicit,i=p();m("formGroupName",e),_(2),He("",e,":"),_(),m("ngbPopover",i.inheritedWarning)("disablePopover",!i.isInherited(e)),_(),m("id",Lt("",e,"_all"))("checked",i.typesWithAllActions.has(e)||i.isInherited(e)),Vn("disabled",!(!i.disabled&&!i.isInherited(e))||null),_(),m("for",Lt("",e,"_all")),_(2),qe(lt(9,10,i.PermissionAction))}}function W1t(t,n){if(1&t&&(d(0,"div",19),N(1),u()),2&t){const e=p();_(),oe(e.error)}}let EB=(()=>{class t extends H1{set inheritedPermissions(e){const i=e?.length?e.map(o=>o.replace(/^\w+\./g,"")):[];this._inheritedPermissions!==i&&(this._inheritedPermissions=i,this.writeValue(this.permissions)),this.updateDisabledStates()}constructor(){super(),this.permissionsService=M(Ti),this.settingsService=M(Gn),this.title="Permissions",this.form=new ti({}),this.typesWithAllActions=new Set,this._inheritedPermissions=[],this.inheritedWarning="\u0645\u0648\u0631\u0648\u062B\u0629 \u0645\u0646 \u0645\u062C\u0645\u0648\u0639\u0629",this.allowedTypes=Object.keys(vt),this.onChange=e=>{},this.onTouched=()=>{},this.disabled=!1,this.settingsService.get(Ce.AUDITLOG_ENABLED)||this.allowedTypes.splice(this.allowedTypes.indexOf("History"),1),this.allowedTypes.forEach(e=>{const i=new ti({});for(const o in ft)i.addControl(o,new re(null));this.form.addControl(e,i)})}writeValue(e){this.permissions!==e&&(this.permissions=e??[],this._inheritedPermissions.concat(this.permissions).forEach(o=>{const{actionKey:s,typeKey:r}=this.permissionsService.getPermissionKeys(o);s&&r&&this.form.get(r)?.get(s)&&this.form.get(r).get(s).patchValue(!0,{emitEvent:!1})}),this.allowedTypes.forEach(o=>{Object.values(this.form.get(o).value).every(s=>1==s)?this.typesWithAllActions.add(o):this.typesWithAllActions.delete(o)}),this.updateDisabledStates())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}ngOnInit(){this.form.valueChanges.subscribe(e=>{let i=[];Object.entries(e).forEach(([o,s])=>{const r=Object.entries(s).filter(([a,l])=>1==l);r.forEach(([a,l])=>{i.push(vt[o].replace("%s",ft[a]))}),r.length==Object.entries(s).length?this.typesWithAllActions.add(o):this.typesWithAllActions.delete(o)}),this.onChange(i.filter(o=>!this._inheritedPermissions.includes(o)))})}toggleAll(e,i){const o=this.form.get(i);e.target.checked?(Object.keys(ft).forEach(s=>{o.get(s).patchValue(!0)}),this.typesWithAllActions.add(i)):(Object.keys(ft).forEach(s=>{o.get(s).patchValue(!1)}),this.typesWithAllActions.delete(i))}isInherited(e,i=null){return 0!=this._inheritedPermissions.length&&(i?this._inheritedPermissions.includes(this.permissionsService.getPermissionCode(ft[i],vt[e])):Object.values(ft).every(o=>this._inheritedPermissions.includes(this.permissionsService.getPermissionCode(o,vt[e]))))}updateDisabledStates(){this.allowedTypes.forEach(e=>{const i=this.form.get(e);let o;for(const s in ft)o=i.get(s),this.isInherited(e,s)||this.disabled?o.disable():o.enable()})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-permissions-select"]],inputs:{title:"title",error:"error",inheritedPermissions:"inheritedPermissions"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:24,vars:7,consts:()=>{let e,i,o,s,r,a,l,c,h,g;return e="\u0645\u0627 \u0647\u0630\u0627\u061F",i="\u0627\u0643\u062A\u0628",o="\u0627\u0644\u0643\u0644",s="\u0623\u0636\u0650\u0641",r="\u062A\u063A\u064A\u064A\u0631",a="\u062D\u0630\u0641",l="\u0639\u0631\u0636",c="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0639\u0627\u0645\u0629 \u062A\u062D\u062F\u062F \u0645\u062C\u0627\u0644\u0627\u062A \u0627\u0644\u062A\u0637\u0628\u064A\u0642 \u0648\u0646\u0647\u0627\u064A\u0627\u062A \u0627\u0644\u0640 API \u0627\u0644\u062A\u064A \u064A\u0645\u0643\u0646 \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u064A\u0647\u0627.",h="\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064A\u062F",g="\u0627\u0644\u0643\u0644",[["infoPopover",""],i,o,s,r,a,l,c,h,g,[3,"formGroup"],[1,"form-label"],["title",e,"type","button","container","body",1,"btn","btn-sm","btn-link","text-muted","me-auto","p-0","p-md-2",3,"ngbPopover","autoClose"],["name","question-circle"],[1,"list-group"],[1,"list-group-item","d-flex"],[1,"col-3"],[1,"col"],[1,"list-group-item","d-flex",3,"formGroupName"],[1,"invalid-feedback","d-block"],["href","https://docs.paperless-ngx.com/usage/#global-permissions","target","_blank","referrerpolicy","noopener noreferrer"],["width",".8em","height",".8em","name","box-arrow-up-right",1,"ms-1"],["placement","left","triggers","mouseenter:mouseleave",1,"col","form-check","form-check-inline","form-switch",3,"ngbPopover","disablePopover"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label","visually-hidden",3,"for"],["placement","left","triggers","mouseenter:mouseleave",1,"col","form-check","form-check-inline",3,"ngbPopover","disablePopover"],["type","checkbox",1,"form-check-input",3,"id","formControlName"]]},template:function(i,o){if(1&i&&(d(0,"form",10)(1,"label",11),N(2),d(3,"button",12),O(4,"i-bs",13),u(),ce(5,U1t,5,0,"ng-template",null,0,xt),u(),d(7,"ul",14)(8,"li",15)(9,"div",16),b(10,1),u(),d(11,"div",17),b(12,2),u(),d(13,"div",17),b(14,3),u(),d(15,"div",17),b(16,4),u(),d(17,"div",17),b(18,5),u(),d(19,"div",17),b(20,6),u()(),Ke(21,Z1t,10,12,"li",18,jt),y(23,W1t,2,1,"div",19),u()()),2&i){const s=xe(6);we("opacity-50",o.disabled),m("formGroup",o.form),_(2),He(" ",o.title," "),_(),m("ngbPopover",s)("autoClose",!0),_(18),qe(o.allowedTypes),_(2),P(o.error?23:-1)}},dependencies:[Bt,en,Na,Aa,$t,Do,No,Gt,Co,Wt,ao,Mo,Ll,U9],encapsulation:2})}return t})();function X1t(t,n){if(1&t&&(d(0,"span",5),N(1),u()),2&t){const e=p();_(),He("ID: ",e.object.id)}}let OB=(()=>{class t extends v0{constructor(){super(),this.service=M(Rg),this.userService=M(vs),this.settingsService=M(Gn)}getCreateTitle(){return "\u0625\u0646\u0634\u0627\u0621 \u0645\u062C\u0645\u0648\u0639\u0629 \u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F\u0629"}getEditTitle(){return "\u062A\u062D\u0631\u064A\u0631 \u0645\u062C\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"}getForm(){return new ti({name:new re(""),permissions:new re([])})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-group-edit-dialog"]],features:[at],decls:16,vars:8,consts:()=>{let e,i,o,s;return e="\u0627\u0633\u0645",i="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",o="\u0625\u0644\u063A\u0627\u0621",s="\u062D\u0641\u0638",[o,s,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","permissions",3,"error"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"]]},template:function(i,o){1&i&&(d(0,"form",2),E("ngSubmit",function(){return o.save()}),d(1,"div",3)(2,"h4",4),N(3),u(),y(4,X1t,2,1,"span",5),d(5,"button",6),E("click",function(){return o.cancel()}),u()(),d(6,"div",7)(7,"div",8)(8,"div",9),O(9,"pngx-input-text",10)(10,"pngx-permissions-select",11),u()()(),d(11,"div",12)(12,"button",13),E("click",function(){return o.cancel()}),b(13,0),u(),d(14,"button",14),b(15,1),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),P(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(4),m("error",null==o.error?null:o.error.name),_(),m("error",null==o.error?null:o.error.permissions),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[EB,qs,$t,Do,Gt,Co,Wt,ao,Mo],encapsulation:2})}return t})();function K1t(t,n){if(1&t){const e=k();d(0,"button",8),E("click",function(){return T(e),w(p().toggleVisibility())}),O(1,"i-bs",9),u()}if(2&t){const e=p();m("disabled",e.disabled||e.disableRevealToggle)}}function q1t(t,n){1&t&&(O(0,"small",7),Fe(1,"safeHtml")),2&t&&m("innerHTML",lt(1,1,p().hint),Fo)}let Yw=(()=>{class t extends Ns{constructor(){super(...arguments),this.showReveal=!1,this.textVisible=!1}toggleVisibility(){this.textVisible=!this.textVisible}onFocus(){0===this.value?.replace(/\*/g,"").length&&this.writeValue("")}onFocusOut(){0===this.value?.length&&(this.writeValue("**********"),this.onChange(this.value))}get disableRevealToggle(){return 0===this.value?.replace(/\*/g,"").length}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-password"]],inputs:{showReveal:"showReveal",autocomplete:"autocomplete"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:10,vars:14,consts:()=>{let e;return e="\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",[["inputField",""],[1,"mb-3"],[1,"form-label",3,"for"],[1,"input-group"],[1,"form-control",3,"ngModelChange","focus","focusout","change","type","id","ngModel","disabled","autocomplete"],["type","button","title",e,1,"btn","btn-outline-secondary",3,"disabled"],[1,"invalid-feedback"],[1,"form-text","text-muted",3,"innerHTML"],["type","button","title",e,1,"btn","btn-outline-secondary",3,"click","disabled"],["name","eye"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",1)(1,"label",2),N(2),u(),d(3,"div",3)(4,"input",4,0),Re("ngModelChange",function(a){return T(s),Pe(o.value,a)||(o.value=a),w(a)}),E("focus",function(){return T(s),w(o.onFocus())})("focusout",function(){return T(s),w(o.onFocusOut())})("change",function(){return T(s),w(o.onChange(o.value))}),u(),y(6,K1t,2,1,"button",5),u(),d(7,"div",6),N(8),u(),y(9,q1t,2,3,"small",7),u()}2&i&&(_(),m("for",o.inputId),_(),oe(o.title),_(),we("is-invalid",o.error),_(),we("is-invalid",o.error),m("type",o.showReveal&&o.textVisible?"text":"password")("id",o.inputId),Le("ngModel",o.value),m("disabled",o.disabled)("autocomplete",o.autocomplete),_(2),P(o.showReveal?6:-1),_(2),He(" ",o.error," "),_(),P(o.hint?9:-1))},dependencies:[$t,Ci,Gt,Ln,Wt,Bt,en],encapsulation:2})}return t})();function Y1t(t,n){if(1&t&&(d(0,"span",11),N(1),u()),2&t){const e=p();_(),He("ID: ",e.object.id)}}function Q1t(t,n){if(1&t){const e=k();d(0,"label",36),b(1,7),u(),d(2,"pngx-confirm-button",37),E("confirm",function(){return T(e),w(p().deactivateTotp())}),u()}if(2&t){const e=p();_(2),m("disabled",e.totpLoading)}}let AB=(()=>{class t extends v0{constructor(){super(),this.toastService=M(eo),this.permissionsService=M(Ti),this.passwordIsSet=!1,this.totpLoading=!1,this.service=M(vs),this.groupsService=M(Rg),this.settingsService=M(Gn),this.groupsService.listAll().pipe(ut()).subscribe(e=>this.groups=e.results)}ngOnInit(){super.ngOnInit(),this.onToggleSuperUser(),this.currentUserIsSuperUser?this.objectForm.get("is_superuser").enable():this.objectForm.get("is_superuser").disable()}getCreateTitle(){return "\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F"}getEditTitle(){return "\u062A\u0639\u062F\u064A\u0644 \u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"}getForm(){return new ti({username:new re(""),email:new re(""),password:new re(null),first_name:new re(""),last_name:new re(""),is_active:new re(!0),is_staff:new re(!0),is_superuser:new re(!1),groups:new re([]),user_permissions:new re([])})}onToggleSuperUser(){this.objectForm.get("is_superuser").value?this.objectForm.get("user_permissions").disable():this.objectForm.get("user_permissions").enable()}get inheritedPermissions(){const e=this.objectForm.get("groups").value;return e?e.flatMap(i=>this.groups.find(o=>o.id==i)?.permissions):[]}save(){this.passwordIsSet=this.objectForm.get("password").value?.toString().replaceAll("*","").length>0,super.save()}get currentUserIsSuperUser(){return this.permissionsService.isSuperUser()}deactivateTotp(){this.totpLoading=!0,this.service.deactivateTotp(this.object).pipe(ut()).subscribe({next:e=>{this.totpLoading=!1,e?(this.toastService.showInfo("Totp deactivated"),this.object.is_mfa_enabled=!1):this.toastService.showError("Totp deactivation failed")},error:e=>{this.totpLoading=!1,this.toastService.showError("Totp deactivation failed",e)}})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-user-edit-dialog"]],features:[at],decls:42,vars:15,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L;return e="\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",i="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",o="\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",s="\u0627\u0644\u0625\u0633\u0645 \u0627\u0644\u0623\u0648\u0644",r="\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062E\u064A\u0631",a="\u0645\u062C\u0645\u0648\u0639\u0627\u062A",l="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",c="\u0646\u0634\u0637",h="\u0645\u0634\u0631\u0641",g="\u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0633\u062C\u0644\u0627\u062A\u060C \u0648 \u062E\u0644\u0641\u064A\u0629 \u062C\u0627\u0646\u0642\u0648 Django",f="\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u062A\u0645\u064A\u0632",v="(\u064A\u062E\u0648\u0644 \u0628\u062C\u0645\u064A\u0639 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0648\u064A\u0645\u0643\u0646\u0647 \u0639\u0631\u0636 \u0627\u0644\u0643\u0627\u0626\u0646\u0627\u062A)",C="\u0625\u0644\u063A\u0627\u0621",S="\u062D\u0641\u0638",D="Disable Two-factor Authentication",I="Disable Two-factor Authentication",L="Two-factor Authentication",[c,h,g,f,v,C,S,L,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col-md-4"],["title",e,"formControlName","username",3,"error"],["title",i,"formControlName","email",3,"error"],["title",o,"formControlName","password",3,"error"],["title",s,"formControlName","first_name",3,"error"],["title",r,"formControlName","last_name",3,"error"],[1,"mb-2","d-flex","flex-column"],[1,"form-check","form-switch","form-check-inline"],["type","checkbox","id","is_active","formControlName","is_active",1,"form-check-input"],["for","is_active",1,"form-check-label"],["type","checkbox","id","is_staff","formControlName","is_staff",1,"form-check-input"],["for","is_staff",1,"form-check-label"],[1,"form-text","text-muted","ms-1"],["type","checkbox","id","is_superuser","formControlName","is_superuser",1,"form-check-input",3,"change"],["for","is_superuser",1,"form-check-label"],["title",a,"multiple","true","formControlName","groups",3,"items"],[1,"col"],["title",l,"formControlName","user_permissions",3,"error","inheritedPermissions"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"form-label"],["label",D,"title",I,"buttonClasses","btn-outline-danger btn-sm","iconName","trash",3,"confirm","disabled"]]},template:function(i,o){1&i&&(d(0,"form",8),E("ngSubmit",function(){return o.save()}),d(1,"div",9)(2,"h4",10),N(3),u(),y(4,Y1t,2,1,"span",11),d(5,"button",12),E("click",function(){return o.cancel()}),u()(),d(6,"div",13)(7,"div",14)(8,"div",15),O(9,"pngx-input-text",16)(10,"pngx-input-text",17)(11,"pngx-input-password",18)(12,"pngx-input-text",19)(13,"pngx-input-text",20),d(14,"div",21)(15,"div",22),O(16,"input",23),d(17,"label",24),b(18,0),u()(),d(19,"div",22),O(20,"input",25),d(21,"label",26),ge(22),b(23,1),ue(),d(24,"small",27),b(25,2),u()()(),d(26,"div",22)(27,"input",28),E("change",function(){return o.onToggleSuperUser()}),u(),d(28,"label",29),ge(29),b(30,3),ue(),d(31,"small",27),b(32,4),u()()()(),O(33,"pngx-input-select",30),y(34,Q1t,3,1),u(),d(35,"div",31),O(36,"pngx-permissions-select",32),u()()(),d(37,"div",33)(38,"button",34),E("click",function(){return o.cancel()}),b(39,5),u(),d(40,"button",35),b(41,6),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),P(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(4),m("error",null==o.error?null:o.error.username),_(),m("error",null==o.error?null:o.error.email),_(),m("error",null==o.error?null:o.error.password),_(),m("error",null==o.error?null:o.error.first_name),_(),m("error",null==o.error?null:o.error.first_name),_(20),m("items",o.groups),_(),P(null!=o.object&&o.object.is_mfa_enabled&&o.currentUserIsSuperUser?34:-1),_(2),m("error",null==o.error?null:o.error.user_permissions)("inheritedPermissions",o.inheritedPermissions),_(2),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[EB,Rr,qs,Yw,$t,Do,No,Gt,Co,Wt,ao,Mo],encapsulation:2})}return t})();const mh=(t,n)=>({action:t,type:n});function J1t(t,n){if(1&t){const e=k();d(0,"button",23),E("click",function(){return T(e),w(p(2).editUser())}),O(1,"i-bs",24),N(2,"\xa0"),ge(3),b(4,5),ue(),u()}}function e0t(t,n){if(1&t){const e=k();d(0,"button",30),E("click",function(){T(e);const o=p().$implicit;return w(p(2).editUser(o))}),O(1,"i-bs",31),N(2,"\xa0"),ge(3),b(4,6),ue(),u()}}function t0t(t,n){if(1&t){const e=k();d(0,"button",32),E("click",function(){T(e);const o=p().$implicit;return w(p(2).deleteUser(o))}),O(1,"i-bs",33),N(2,"\xa0"),ge(3),b(4,7),ue(),u()}}function n0t(t,n){if(1&t){const e=k();d(0,"li",20)(1,"div",21)(2,"div",25)(3,"button",26),E("click",function(){const o=T(e).$implicit;return w(p(2).editUser(o))}),N(4),u()(),d(5,"div",25),N(6),u(),d(7,"div",25),N(8),u(),d(9,"div",22)(10,"div",27),ce(11,e0t,5,0,"button",28)(12,t0t,5,0,"button",29),u()()()()}if(2&t){const e=n.$implicit,i=p(2);_(3),m("disabled",!i.permissionsService.currentUserCan(i.PermissionAction.Change,i.PermissionType.User)),_(),oe(e.username),_(2),Jr("",e.first_name," ",e.last_name),_(2),oe(null==e.groups?null:e.groups.map(i.getGroupName,i).join(", ")),_(3),m("pngxIfPermissions",$e(7,mh,i.PermissionAction.Change,i.PermissionType.User)),_(),m("pngxIfPermissions",$e(10,mh,i.PermissionAction.Delete,i.PermissionType.User))}}function i0t(t,n){if(1&t&&(d(0,"h4",17),ge(1),b(2,0),ue(),ce(3,J1t,5,0,"button",18),u(),d(4,"ul",19)(5,"li",20)(6,"div",21)(7,"div",22),b(8,1),u(),d(9,"div",22),b(10,2),u(),d(11,"div",22),b(12,3),u(),d(13,"div",22),b(14,4),u()()(),Ke(15,n0t,13,13,"li",20,jt),u()),2&t){const e=p();_(3),m("pngxIfPermissions",$e(1,mh,e.PermissionAction.Add,e.PermissionType.User)),_(12),qe(e.users)}}function o0t(t,n){if(1&t){const e=k();d(0,"button",23),E("click",function(){return T(e),w(p(2).editGroup())}),O(1,"i-bs",24),N(2,"\xa0"),ge(3),b(4,11),ue(),u()}}function s0t(t,n){if(1&t){const e=k();d(0,"button",30),E("click",function(){T(e);const o=p().$implicit;return w(p(2).editGroup(o))}),O(1,"i-bs",31),N(2,"\xa0"),ge(3),b(4,12),ue(),u()}}function r0t(t,n){if(1&t){const e=k();d(0,"button",32),E("click",function(){T(e);const o=p().$implicit;return w(p(2).deleteGroup(o))}),O(1,"i-bs",33),N(2,"\xa0"),ge(3),b(4,13),ue(),u()}}function a0t(t,n){if(1&t){const e=k();d(0,"li",20)(1,"div",21)(2,"div",25)(3,"button",26),E("click",function(){const o=T(e).$implicit;return w(p(2).editGroup(o))}),N(4),u()(),O(5,"div",22)(6,"div",22),d(7,"div",22)(8,"div",27),ce(9,s0t,5,0,"button",28)(10,r0t,5,0,"button",29),u()()()()}if(2&t){const e=n.$implicit,i=p(2);_(3),m("disabled",!i.permissionsService.currentUserCan(i.PermissionAction.Change,i.PermissionType.Group)),_(),oe(e.name),_(5),m("pngxIfPermissions",$e(4,mh,i.PermissionAction.Change,i.PermissionType.Group)),_(),m("pngxIfPermissions",$e(7,mh,i.PermissionAction.Delete,i.PermissionType.Group))}}function l0t(t,n){1&t&&(d(0,"li",20),b(1,14),u())}function c0t(t,n){if(1&t&&(d(0,"h4",34),ge(1),b(2,8),ue(),ce(3,o0t,5,0,"button",18),u(),d(4,"ul",19)(5,"li",20)(6,"div",21)(7,"div",22),b(8,9),u(),O(9,"div",22)(10,"div",22),d(11,"div",22),b(12,10),u()()(),Ke(13,a0t,11,10,"li",20,jt),y(15,l0t,2,0,"li",20),u()),2&t){const e=p();_(3),m("pngxIfPermissions",$e(2,mh,e.PermissionAction.Add,e.PermissionType.Group)),_(10),qe(e.groups),_(2),P(0===e.groups.length?15:-1)}}function d0t(t,n){1&t&&(d(0,"div"),O(1,"div",35),d(2,"div",36),b(3,15),u()())}let h0t=(()=>{class t extends H1{constructor(){super(...arguments),this.usersService=M(vs),this.groupsService=M(Rg),this.toastService=M(eo),this.modalService=M(ps),this.permissionsService=M(Ti),this.settings=M(Gn),this.unsubscribeNotifier=new Be}ngOnInit(){this.usersService.listAll(null,null,{full_perms:!0}).pipe(ut(),me(this.unsubscribeNotifier)).subscribe({next:e=>{this.users=e.results},error:e=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0633\u062A\u0631\u062C\u0627\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646",e)}}),this.groupsService.listAll(null,null,{full_perms:!0}).pipe(ut(),me(this.unsubscribeNotifier)).subscribe({next:e=>{this.groups=e.results},error:e=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0633\u062A\u0631\u062F\u0627\u062F \u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A",e)}})}ngOnDestroy(){this.unsubscribeNotifier.next(!0)}editUser(e=null){var i=this.modalService.open(AB,{backdrop:"static",size:"xl"});i.componentInstance.dialogMode=e?wi.EDIT:wi.CREATE,i.componentInstance.object=e,i.componentInstance.succeeded.pipe(me(this.unsubscribeNotifier)).subscribe(o=>{o.id===this.settings.currentUser.id&&i.componentInstance.passwordIsSet?(this.toastService.showInfo("\u062A\u0645 \u062A\u063A\u064A\u064A\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u060C \u0633\u064A\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u062E\u0631\u0648\u062C\u0643 \u0645\u0624\u0642\u062A\u0627\u064B."),setTimeout(()=>{aB(`${window.location.origin}/accounts/logout/?next=/accounts/login/?next=/`)},2500)):(this.toastService.showInfo("\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u062D\u0641\u0648\u0638 \"" + o.username + "\"."),this.usersService.listAll().subscribe(s=>{this.users=s.results}))}),i.componentInstance.failed.pipe(me(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645.",o)})}deleteUser(e){let i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u062D\u0630\u0641 \u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",i.componentInstance.messageBold="\u0633\u062A\u0624\u062F\u064A \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0625\u0644\u0649 \u062D\u0630\u0641 \u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0647\u0630\u0627 \u0646\u0647\u0627\u0626\u064A\u0627.",i.componentInstance.message="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.usersService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted user \"" + e.username + "\""),this.usersService.listAll().subscribe(o=>{this.users=o.results})},error:o=>{this.toastService.showError("Error deleting user \"" + e.username + "\".",o)}})})}editGroup(e=null){var i=this.modalService.open(OB,{backdrop:"static",size:"lg"});i.componentInstance.dialogMode=e?wi.EDIT:wi.CREATE,i.componentInstance.object=e,i.componentInstance.succeeded.pipe(me(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("\u0645\u062C\u0645\u0648\u0639\u0629 \u0645\u062D\u0641\u0648\u0638\u0629 \"" + o.name + "\"."),this.groupsService.listAll().subscribe(s=>{this.groups=s.results})}),i.componentInstance.failed.pipe(me(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u062D\u0641\u0638 \u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0629.",o)})}deleteGroup(e){let i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u062D\u0630\u0641 \u0645\u062C\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",i.componentInstance.messageBold="\u0633\u062A\u0624\u062F\u064A \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0625\u0644\u0649 \u062D\u0630\u0641 \u0645\u062C\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0647\u0630\u0647 \u0646\u0647\u0627\u0626\u064A\u0627.",i.componentInstance.message="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.groupsService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted group \"" + e.name + "\""),this.groupsService.listAll().subscribe(o=>{this.groups=o.results})},error:o=>{this.toastService.showError("Error deleting group \"" + e.name + "\".",o)}})})}getGroupName(e){return this.groups?.find(i=>i.id===e)?.name??""}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-users-groups"]],features:[at],decls:4,vars:3,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G;return e="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 & \u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A",i="\u0625\u0646\u0634\u0627\u0621 \u0648\u062D\u0630\u0641 \u0648\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0648\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A.",o="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646",s="\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",r="\u0627\u0633\u0645",a="\u0645\u062C\u0645\u0648\u0639\u0627\u062A",l="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",c="\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645",h="\u062A\u062D\u0631\u064A\u0631",g="\u062D\u0630\u0641",f="\u0645\u062C\u0645\u0648\u0639\u0627\u062A",v="\u0627\u0633\u0645",C="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",S="\u0627\u0636\u0627\u0641\u0629 \u0645\u062C\u0645\u0648\u0639\u0629",D="\u062A\u062D\u0631\u064A\u0631",I="\u062D\u0630\u0641",L="\u0644\u0645 \u064A\u062A\u0645 \u062A\u0639\u0631\u064A\u0641 \u0623\u064A \u0645\u062C\u0645\u0648\u0639\u0629",G="\u062A\u062D\u0645\u064A\u0644...",[o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,["title",e,"info",i,"infoLink","usage/#users-and-groups"],[1,"d-flex"],["type","button","class","btn btn-sm btn-outline-primary ms-4",3,"click",4,"pngxIfPermissions"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-4",3,"click"],["name","plus-circle"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],[1,"btn-group"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger","type","button",3,"click",4,"pngxIfPermissions"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1em","height","1em","name","trash"],[1,"mt-4","d-flex"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"]]},template:function(i,o){1&i&&(O(0,"pngx-page-header",16),y(1,i0t,17,4),y(2,c0t,16,5),y(3,d0t,4,0,"div")),2&i&&(_(),P(o.users?1:-1),_(),P(o.groups?2:-1),_(),P(o.users&&o.groups?-1:3))},dependencies:[hr,ys,Bt,en],encapsulation:2})}return t})();var vh=function(t){return t.DEBUG="debug",t.INFO="info",t.SUCCESS="success",t.WARNING="warning",t.ERROR="error",t}(vh||{});let u0t=(()=>{class t{constructor(){}get(){return window.DJANGO_MESSAGES??[]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_0t=(()=>{class t{constructor(){this.http=M(ba)}checkForUpdates(){return this.http.get(`${di.apiBaseUrl}remote_version/`)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),g0t=(()=>{class t{constructor(){this.http=M(ba),this.endpoint="profile"}get(){return this.http.get(`${di.apiBaseUrl}${this.endpoint}/`)}update(e){return this.http.patch(`${di.apiBaseUrl}${this.endpoint}/`,e)}generateAuthToken(){return this.http.post(`${di.apiBaseUrl}${this.endpoint}/generate_auth_token/`,{})}disconnectSocialAccount(e){return this.http.post(`${di.apiBaseUrl}${this.endpoint}/disconnect_social_account/`,{id:e})}getSocialAccountProviders(){return this.http.get(`${di.apiBaseUrl}${this.endpoint}/social_account_providers/`)}getTotpSettings(){return this.http.get(`${di.apiBaseUrl}${this.endpoint}/totp/`)}activateTotp(e,i){return this.http.post(`${di.apiBaseUrl}${this.endpoint}/totp/`,{secret:e,code:i})}deactivateTotp(){return this.http.delete(`${di.apiBaseUrl}${this.endpoint}/totp/`,{})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const p0t=["popover"];function f0t(t,n){if(1&t&&O(0,"i-bs",4),2&t){const e=p();we("me-1",e.label),m("name",ni(e.iconName))}}function m0t(t,n){if(1&t){const e=k();d(0,"div"),N(1),d(2,"button",5),E("click",function(o){return T(e),w(p().onConfirm(o))}),N(3,"Yes"),u()()}if(2&t){const e=p();_(),He(" ",e.confirmMessage,"\xa0")}}let i8=(()=>{class t{constructor(){this.confirmMessage="\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",this.buttonClasses="btn-primary",this.disabled=!1,this.confirm=new Ee,this.confirming=!1}onClick(e){this.confirming||(this.confirming=!0,this.popover.open()),e.preventDefault(),e.stopImmediatePropagation()}onConfirm(e){this.confirm.emit(),this.confirming=!1,e.preventDefault(),e.stopImmediatePropagation()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-confirm-button"]],viewQuery:function(i,o){if(1&i&&Tn(p0t,5),2&i){let s;Mt(s=Tt())&&(o.popover=s.first)}},inputs:{label:"label",confirmMessage:"confirmMessage",buttonClasses:"buttonClasses",iconName:"iconName",disabled:"disabled"},outputs:{confirm:"confirm"},decls:7,vars:8,consts:[["popover","ngbPopover"],["popoverContent",""],["type","button","popoverClass","popover-slim",3,"click","hidden","disabled","ngbPopover","autoClose"],[3,"me-1","name"],[3,"name"],["type","button",1,"btn","btn-link","btn-sm","text-danger","p-0","m-0","lh-1",3,"click"]],template:function(i,o){if(1&i){const s=k();d(0,"button",2,0),E("click",function(a){return T(s),w(o.onClick(a))})("hidden",function(){return T(s),w(o.confirming=!1)}),y(2,f0t,1,4,"i-bs",3),ge(3),N(4),ue(),u(),ce(5,m0t,4,1,"ng-template",null,1,xt)}if(2&i){const s=xe(6);Zi(Lt("btn ",o.buttonClasses)),m("disabled",o.disabled)("ngbPopover",s)("autoClose",!0),_(2),P(o.iconName?2:-1),_(2),oe(o.label)}},dependencies:[Na,Aa,Bt,en],styles:[".input-group>pngx-confirm-button:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback)>button,   .btn-group>pngx-confirm-button:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback)>button{border-top-left-radius:0;border-bottom-left-radius:0}  .input-group:not(.has-validation)>pngx-confirm-button:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating)>button,   .btn-group:not(.has-validation)>pngx-confirm-button:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating)>button{border-top-right-radius:0;border-bottom-right-radius:0}"]})}return t})();const v0t=(t,n)=>n.id,C0t=(t,n)=>n.name;function M0t(t,n){1&t&&O(0,"i-bs",45)}function T0t(t,n){1&t&&O(0,"i-bs",46)}function w0t(t,n){if(1&t){const e=k();d(0,"li",55),N(1),d(2,"pngx-confirm-button",56),E("confirm",function(){const o=T(e).$implicit;return w(p(2).disconnectSocialAccount(o.id))}),Ev(3,21),u()()}if(2&t){const e=n.$implicit,i=p(2);m("disablePopover",i.hasUsablePassword),_(),Jr(" ",e.name," (",e.provider,") "),_(),An(e.name),In(3),m("disabled",!i.hasUsablePassword)}}function b0t(t,n){if(1&t&&(d(0,"div",39)(1,"p"),b(2,7),u(),d(3,"ul",54),Ke(4,w0t,4,5,"li",55,v0t),u(),d(6,"div",50),b(7,8),u()()),2&t){const e=p();_(4),qe(e.socialAccounts)}}function S0t(t,n){if(1&t&&(d(0,"a",57),N(1),O(2,"i-bs",58),u()),2&t){const e=n.$implicit;m("href",ni(e.login_url),Ts),_(),He(" ",e.name,"\xa0")}}function E0t(t,n){if(1&t&&(d(0,"div",39)(1,"p"),b(2,9),u(),d(3,"div",54),Ke(4,S0t,3,3,"a",57,C0t),u()()),2&t){const e=p();_(4),qe(e.socialAccountProviders)}}function O0t(t,n){1&t&&(O(0,"div",63),d(1,"div",47),b(2,11),u())}function A0t(t,n){1&t&&(O(0,"div",70),d(1,"div",47),b(2,16),u())}function N0t(t,n){if(1&t){const e=k();d(0,"figure",64),O(1,"div",65),Fe(2,"safeHtml"),d(3,"figcaption",66),b(4,12),u()(),d(5,"p"),ge(6),b(7,13),ue(),N(8,": "),d(9,"code"),N(10),u(),N(11,". "),ge(12),b(13,14),ue(),u(),d(14,"div",67),O(15,"input",68),d(16,"button",69),E("click",function(){return T(e),w(p(3).activateTotp())}),ge(17),b(18,15),ue(),y(19,A0t,3,0),u()()}if(2&t){const e=p(3);_(),m("innerHTML",lt(2,4,e.totpSettings.qr_svg),Fo),_(9),oe(e.totpSettings.secret),_(6),m("disabled",e.totpLoading),_(3),P(e.totpLoading?19:-1)}}function D0t(t,n){if(1&t&&y(0,O0t,3,0)(1,N0t,20,6),2&t){const e=p(2);P(e.totpSettingsLoading?0:e.totpSettings?1:-1)}}function y0t(t,n){if(1&t){const e=k();d(0,"div",30)(1,"div",59)(2,"h2",60)(3,"button",61),E("click",function(){return T(e),w(p().gettotpSettings())}),b(4,10),u()(),d(5,"div",32)(6,"div",62),ce(7,D0t,2,1,"ng-template"),u()()()()}}function P0t(t,n){if(1&t&&(d(0,"code"),N(1),u()),2&t){const e=p(2).$index,i=p(3);_(),oe(i.recoveryCodes[e+1])}}function I0t(t,n){if(1&t&&(d(0,"li",78)(1,"code"),N(2),u(),y(3,P0t,2,1,"code"),u()),2&t){const e=p(),i=e.$implicit,o=e.$index,s=p(3);_(2),oe(i),_(),P(s.recoveryCodes[o+1]?3:-1)}}function L0t(t,n){1&t&&y(0,I0t,4,2,"li",78),2&t&&P(n.$index%2==0?0:-1)}function R0t(t,n){1&t&&(O(0,"i-bs",45),N(1," \xa0"),d(2,"span"),b(3,19),u())}function x0t(t,n){1&t&&(O(0,"i-bs",79),N(1," \xa0"),d(2,"span",80),b(3,20),u())}function F0t(t,n){if(1&t){const e=k();d(0,"div",73),O(1,"i-bs",74),N(2,"\xa0"),ge(3),b(4,18),ue(),u(),d(5,"div",75)(6,"ul",76),Ke(7,L0t,1,1,null,null,jt),u(),d(9,"button",77),E("click",function(){return T(e),w(p(2).copyRecoveryCodes())}),y(10,R0t,4,0),y(11,x0t,4,0),u()()}if(2&t){const e=p(2);_(7),qe(e.recoveryCodes),_(3),P(e.codesCopied?-1:10),_(),P(e.codesCopied?11:-1)}}function k0t(t,n){if(1&t){const e=k();d(0,"label",71),b(1,17),u(),y(2,F0t,12,2),d(3,"pngx-confirm-button",72),E("confirm",function(){return T(e),w(p().deactivateTotp())}),u()}if(2&t){const e=p();_(2),P(e.recoveryCodes?2:-1),_(),m("disabled",e.totpLoading)}}let z0t=(()=>{class t extends Ds{constructor(){super(...arguments),this.profileService=M(g0t),this.activeModal=M(sa),this.toastService=M(eo),this.clipboard=M(z4),this.networkActive=!1,this.form=new ti({email:new re(""),email_confirm:new re({value:null,disabled:!0}),password:new re(null),password_confirm:new re({value:null,disabled:!0}),first_name:new re(""),last_name:new re(""),auth_token:new re(""),totp_code:new re("")}),this.showPasswordConfirm=!1,this.hasUsablePassword=!1,this.showEmailConfirm=!1,this.isTotpEnabled=!1,this.totpSettingsLoading=!1,this.totpLoading=!1,this.copied=!1,this.codesCopied=!1,this.socialAccounts=[],this.socialAccountProviders=[]}ngOnInit(){this.networkActive=!0,this.profileService.get().pipe(me(this.unsubscribeNotifier)).subscribe(e=>{this.networkActive=!1,this.form.patchValue(e),this.currentEmail=e.email,this.form.get("email").valueChanges.subscribe(i=>{this.newEmail=i,this.onEmailChange()}),this.currentPassword=e.password,this.hasUsablePassword=e.has_usable_password,this.form.get("password").valueChanges.subscribe(i=>{this.newPassword=i,this.onPasswordChange()}),this.socialAccounts=e.social_accounts,this.isTotpEnabled=e.is_mfa_enabled}),this.profileService.getSocialAccountProviders().pipe(me(this.unsubscribeNotifier)).subscribe(e=>{this.socialAccountProviders=e})}get saveDisabled(){return this.error?.password_confirm||this.error?.email_confirm}onEmailKeyUp(e){this.newEmail=e.target?.value,this.onEmailChange()}onEmailConfirmKeyUp(e){this.emailConfirm=e.target?.value,this.onEmailChange()}onEmailChange(){this.showEmailConfirm=this.currentEmail!==this.newEmail,this.showEmailConfirm?(this.form.get("email_confirm").enable(),this.newEmail!==this.emailConfirm?(this.error||(this.error={}),this.error.email_confirm="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0637\u0627\u0628\u0642"):delete this.error?.email_confirm):(this.form.get("email_confirm").disable(),delete this.error?.email_confirm)}onPasswordKeyUp(e){"input"===e.target.tagName&&(this.newPassword=e.target?.value,this.onPasswordChange())}onPasswordConfirmKeyUp(e){this.passwordConfirm=e.target?.value,this.onPasswordChange()}onPasswordChange(){this.showPasswordConfirm=this.currentPassword!==this.newPassword,this.showPasswordConfirm?(this.form.get("password_confirm").enable(),this.newPassword!==this.passwordConfirm?(this.error||(this.error={}),this.error.password_confirm="\u064A\u062C\u0628 \u0623\u0646 \u062A\u062A\u0637\u0627\u0628\u0642 \u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0631\u0648\u0631"):delete this.error?.password_confirm):(this.form.get("password_confirm").disable(),delete this.error?.password_confirm)}save(){const e=this.newPassword&&this.currentPassword!==this.newPassword,i=Object.assign({},this.form.value);delete i.totp_code,this.networkActive=!0,this.profileService.update(i).pipe(me(this.unsubscribeNotifier)).subscribe({next:()=>{this.toastService.showInfo("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A \u0628\u0646\u062C\u0627\u062D"),e&&(this.toastService.showInfo("\u062A\u0645 \u062A\u063A\u064A\u064A\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u060C \u0633\u064A\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u062E\u0631\u0648\u062C\u0643 \u0645\u0624\u0642\u062A\u0627\u064B."),setTimeout(()=>{aB(`${window.location.origin}/accounts/logout/?next=/accounts/login/?next=/`)},2500)),this.activeModal.close()},error:o=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A",o),this.networkActive=!1}})}cancel(){this.activeModal.close()}generateAuthToken(){this.profileService.generateAuthToken().subscribe({next:e=>{this.form.patchValue({auth_token:e})},error:e=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0631\u0645\u0632 \u0627\u0644\u0645\u0635\u0627\u062F\u0642\u0629",e)}})}copyAuthToken(){this.clipboard.copy(this.form.get("auth_token").value),this.copied=!0,setTimeout(()=>{this.copied=!1},3e3)}disconnectSocialAccount(e){this.profileService.disconnectSocialAccount(e).pipe(me(this.unsubscribeNotifier)).subscribe({next:i=>{this.socialAccounts=this.socialAccounts.filter(o=>o.id!=i)},error:i=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0642\u0637\u0639 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0628\u0643\u0629 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639\u064A\u0629",i)}})}gettotpSettings(){this.totpSettingsLoading=!0,this.profileService.getTotpSettings().pipe(me(this.unsubscribeNotifier)).subscribe({next:e=>{this.totpSettingsLoading=!1,this.totpSettings=e},error:e=>{this.toastService.showError("Error fetching TOTP settings",e),this.totpSettingsLoading=!1}})}activateTotp(){this.totpLoading=!0,this.form.get("totp_code").disable(),this.profileService.activateTotp(this.totpSettings.secret,this.form.get("totp_code").value).pipe(me(this.unsubscribeNotifier)).subscribe({next:e=>{this.totpLoading=!1,this.isTotpEnabled=e.success,this.recoveryCodes=e.recovery_codes,this.form.get("totp_code").enable(),e.success?this.toastService.showInfo("TOTP activated successfully"):this.toastService.showError("Error activating TOTP")},error:e=>{this.totpLoading=!1,this.form.get("totp_code").enable(),this.toastService.showError("Error activating TOTP",e)}})}deactivateTotp(){this.totpLoading=!0,this.profileService.deactivateTotp().pipe(me(this.unsubscribeNotifier)).subscribe({next:e=>{this.totpLoading=!1,this.isTotpEnabled=!e,this.recoveryCodes=null,e?this.toastService.showInfo("TOTP deactivated successfully"):this.toastService.showError("Error deactivating TOTP")},error:e=>{this.totpLoading=!1,this.toastService.showError("Error deactivating TOTP",e)}})}copyRecoveryCodes(){this.clipboard.copy(this.recoveryCodes.join("\n")),this.codesCopied=!0,setTimeout(()=>{this.codesCopied=!1},3e3)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-profile-edit-dialog"]],features:[at],decls:48,vars:19,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,pe,le,fe,ke,Dt,it,Ft,Yt,Qt,We,kt,ri,Si,ai;return e="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",i="\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",o="\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",s="\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",r="\u0627\u0644\u0625\u0633\u0645 \u0627\u0644\u0623\u0648\u0644",a="\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062E\u064A\u0631",l="\u0646\u0633\u062E",c="\u0625\u0639\u0627\u062F\u0629 \u062A\u0648\u0644\u064A\u062F \u0631\u0645\u0632 \u0627\u0644\u0645\u0635\u0627\u062F\u0642\u0629",h="\u062A\u062D\u0631\u064A\u0631 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A",g="API Auth Token",f="\u0646\u0633\u062E",v="\u062A\u0645 \u0627\u0644\u0646\u0633\u062E !",C="\u062A\u062D\u0630\u064A\u0631: \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u062A\u063A\u064A\u064A\u0631 \u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0645\u064A\u0632",S="\u0625\u0644\u063A\u0627\u0621",D="\u062D\u0641\u0638",I="\u0642\u0645 \u0628\u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u0642\u0628\u0644 \u0642\u0637\u0639 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0628\u0643\u0629 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639\u064A\u0629.",L="\u062D\u0633\u0627\u0628\u0627\u062A \u0634\u0628\u0643\u0627\u062A \u0627\u062C\u062A\u0645\u0627\u0639\u064A\u0629 \u0645\u062A\u0635\u0644\u0629",G="\u062A\u062D\u0630\u064A\u0631: \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0641\u0635\u0644 \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639\u064A\u0629",R="\u0642\u0637\u0639 \u0627\u0644\u0627\u062A\u0635\u0627\u0644",J="\u0642\u0637\u0639 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639\u064A " + "\ufffd0\ufffd" + "",se="\u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u062D\u0633\u0627\u0628 \u0627\u062C\u062A\u0645\u0627\u0639\u064A \u062C\u062F\u064A\u062F",ve="Two-factor Authentication",pe="\u062A\u062D\u0645\u064A\u0644...",le="Code",fe="Scan the QR code with your authenticator app and then enter the code below",ke="Authenticator secret",Dt="You can store this secret and use it to reinstall your authenticator app at a later time.",it="\u062A\u0645\u0643\u064A\u0646",Ft="\u062A\u062D\u0645\u064A\u0644...",Yt="Disable Two-factor Authentication",Qt="Disable Two-factor Authentication",We="Two-factor Authentication",kt="\u0646\u0633\u062E",ri="Recovery codes will not be shown again, make sure to save them.",Si="Copy codes",ai="\u062A\u0645 \u0627\u0644\u0646\u0633\u062E !",[h,g,f,v,C,S,D,L,G,se,ve,pe,fe,ke,Dt,it,Ft,We,ri,Si,ai,["title",J],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","col-md-6"],["title",e,"formControlName","email",3,"keyup","error"],["ngbAccordion",""],["ngbAccordionItem","first",1,"border-0","bg-transparent",3,"collapsed"],["ngbAccordionCollapse",""],["ngbAccordionBody","",1,"p-0","pb-3"],["title",i,"formControlName","email_confirm","autocomplete","email",3,"keyup","error"],["title",o,"formControlName","password","autocomplete","current-password",3,"keyup","showReveal","error"],["title",s,"formControlName","password_confirm","autocomplete","new-password",3,"keyup","error"],["title",r,"formControlName","first_name",3,"error"],["title",a,"formControlName","last_name",3,"error"],[1,"mb-3"],[1,"form-label"],[1,"position-relative"],[1,"input-group"],["type","text","formControlName","auth_token","readonly","",1,"form-control"],["type","button","title",l,1,"btn","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","clipboard-fill"],["width","1em","height","1em","name","clipboard-check-fill"],[1,"visually-hidden"],["title",c,"buttonClasses"," btn-outline-secondary","iconName","arrow-repeat",3,"confirm"],[1,"badge","copied-badge","bg-primary","small","fade","ms-4","position-absolute","top-50","translate-middle-y","pe-none","z-3"],[1,"form-text","text-muted","text-end","fst-italic"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"list-group"],["ngbPopover",I,"triggers","mouseenter:mouseleave",1,"list-group-item",3,"disablePopover"],["label",R,"buttonClasses","btn-outline-danger btn-sm ms-2 align-baseline","iconName","trash",3,"confirm","disabled",6,"title"],["rel","noopener noreferrer",1,"list-group-item","list-group-item-action","text-primary","d-flex","align-items-center",3,"href"],["name","box-arrow-up-right",1,"pb-1","ps-1"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton","",3,"click"],["ngbAccordionBody",""],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"figure"],[1,"bg-white","d-inline-block",3,"innerHTML"],[1,"figure-caption","text-end","mt-2"],[1,"input-group","mb-3"],["type","text","formControlName","totp_code","placeholder",le,1,"form-control"],["type","button",1,"btn","btn-primary","ml-auto",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2"],[1,"d-block","mb-2"],["label",Yt,"title",Qt,"buttonClasses","btn-outline-danger btn-sm","iconName","trash",3,"confirm","disabled"],["role","alert",1,"alert","alert-warning"],["name","exclamation-triangle"],[1,"d-flex","flex-row","align-items-start","mb-3"],[1,"list-group","w-50"],["type","button","title",kt,1,"btn","btn-sm","btn-outline-secondary","ms-2",3,"click"],[1,"list-group-item","d-flex","justify-content-around","align-items-center"],["width","1em","height","1em","name","clipboard-check-fill",1,"text-primary"],[1,"text-primary"]]},template:function(i,o){1&i&&(d(0,"form",22),E("ngSubmit",function(){return o.save()}),d(1,"div",23)(2,"h4",24),b(3,0),u(),d(4,"button",25),E("click",function(){return o.cancel()}),u()(),d(5,"div",26)(6,"div",27)(7,"div",28)(8,"pngx-input-text",29),E("keyup",function(r){return o.onEmailKeyUp(r)}),u(),d(9,"div",30)(10,"div",31)(11,"div",32)(12,"div",33)(13,"pngx-input-text",34),E("keyup",function(r){return o.onEmailConfirmKeyUp(r)}),u()()()()(),d(14,"pngx-input-password",35),E("keyup",function(r){return o.onPasswordKeyUp(r)}),u(),d(15,"div",30)(16,"div",31)(17,"div",32)(18,"div",33)(19,"pngx-input-password",36),E("keyup",function(r){return o.onPasswordConfirmKeyUp(r)}),u()()()()(),O(20,"pngx-input-text",37)(21,"pngx-input-text",38),d(22,"div",39)(23,"label",40),b(24,1),u(),d(25,"div",41)(26,"div",42),O(27,"input",43),d(28,"button",44),E("click",function(){return o.copyAuthToken()}),y(29,M0t,1,0,"i-bs",45),y(30,T0t,1,0,"i-bs",46),d(31,"span",47),b(32,2),u()(),d(33,"pngx-confirm-button",48),E("confirm",function(){return o.generateAuthToken()}),u()(),d(34,"span",49),b(35,3),u()(),d(36,"div",50),b(37,4),u()()(),d(38,"div",28),y(39,b0t,8,0,"div",39),y(40,E0t,6,0,"div",39),y(41,y0t,8,0,"div",30)(42,k0t,4,2),u()()(),d(43,"div",51)(44,"button",52),E("click",function(){return o.cancel()}),b(45,5),u(),d(46,"button",53),b(47,6),u()()()),2&i&&(m("formGroup",o.form),_(8),m("error",null==o.error?null:o.error.email),_(2),m("collapsed",!o.showEmailConfirm),_(3),m("error",null==o.error?null:o.error.email_confirm),_(),m("showReveal",!0)("error",null==o.error?null:o.error.password),_(2),m("collapsed",!o.showPasswordConfirm),_(3),m("error",null==o.error?null:o.error.password_confirm),_(),m("error",null==o.error?null:o.error.first_name),_(),m("error",null==o.error?null:o.error.first_name),_(8),P(o.copied?-1:29),_(),P(o.copied?30:-1),_(4),we("show",o.copied),_(5),P((null==o.socialAccounts?null:o.socialAccounts.length)>0?39:-1),_(),P((null==o.socialAccountProviders?null:o.socialAccountProviders.length)>0?40:-1),_(),P(o.isTotpEnabled?42:41),_(3),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive||o.saveDisabled))},dependencies:[i8,qs,Yw,$t,Do,Ci,Gt,Co,Wt,ao,Mo,r5,S_,s5,I1,E_,b_,T2,Na,Aa,Bt,en,k5],styles:[".accordion-body .mb-3{margin:0!important}.copied-badge[_ngcontent-%COMP%]{right:8em}"]})}return t})(),NB=(()=>{class t{constructor(){this.http=M(ba),this.settingsService=M(Gn),this.searchResultObjectLimit=3}autocomplete(e){return this.http.get(`${di.apiBaseUrl}search/autocomplete/`,{params:(new ta).set("term",e)})}globalSearch(e){let i=(new ta).set("query",e);return this.searchDbOnly&&(i=i.set("db_only",!0)),this.http.get(`${di.apiBaseUrl}search/`,{params:i})}get searchDbOnly(){return this.settingsService.get(Ce.SEARCH_DB_ONLY)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ug=function(t){return t[t.None=1]="None",t[t.SSL=2]="SSL",t[t.STARTTLS=3]="STARTTLS",t}(Ug||{}),DB=function(t){return t[t.IMAP=1]="IMAP",t[t.Gmail_OAuth=2]="Gmail_OAuth",t[t.Outlook_OAuth=3]="Outlook_OAuth",t}(DB||{});let Qw=(()=>{class t extends m0{constructor(){super(),this.mailAccounts=[],this.resourceName="mail_accounts"}reload(){this.loading=!0,this.listAll().subscribe(e=>{this.mailAccounts=e.results,this.loading=!1})}get allAccounts(){return this.mailAccounts}create(e){return super.create(e).pipe(_n(()=>this.reload()))}update(e){return delete e.expiration,super.update(e).pipe(_n(()=>this.reload()))}delete(e){return super.delete(e).pipe(_n(()=>this.reload()))}test(e){const i=Object.assign({},e);return delete i.set_permissions,this.http.post(this.getResourceUrl()+"test/",i)}processAccount(e){return this.http.post(this.getResourceUrl(e.id,"process"),{})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const V0t=["testResultAlert"];function H0t(t,n){if(1&t&&(d(0,"span",8),N(1),u()),2&t){const e=p();_(),He("ID: ",e.object.id)}}function G0t(t,n){if(1&t){const e=k();d(0,"ngb-alert",27,0),E("closed",function(){return T(e),w(p().testResult=null)}),N(2),u()}if(2&t){const e=p();m("type",e.testResult),_(2),oe(e.testResultMessage)}}function $0t(t,n){1&t&&(O(0,"div",28),d(1,"span",29),b(2,4),u())}const B0t=[{id:Ug.None,name:"\u062F\u0648\u0646 \u062A\u0634\u0641\u064A\u0631"},{id:Ug.SSL,name:"SSL"},{id:Ug.STARTTLS,name:"\u0628\u0631\u0648\u062A\u0648\u0643\u0648\u0644 STARTTLS"}];let yB=(()=>{class t extends v0{constructor(){super(),this.testActive=!1,this.service=M(Qw),this.userService=M(vs),this.settingsService=M(Gn)}getCreateTitle(){return "\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u0628\u0631\u064A\u062F \u062C\u062F\u064A\u062F"}getEditTitle(){return "\u062A\u0639\u062F\u064A\u0644 \u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0631\u064A\u062F"}getForm(){return new ti({name:new re(null),imap_server:new re(null),imap_port:new re(null),imap_security:new re(Ug.SSL),username:new re(null),password:new re(null),is_token:new re(!1),character_set:new re("UTF-8")})}get imapSecurityOptions(){return B0t}test(){this.testActive=!0,this.testResult=null,clearTimeout(this.alertTimeout);const e=this.service,i=Object.assign(Object.assign({},this.object),this.objectForm.value);e.test(i).subscribe({next:o=>{this.testActive=!1,this.testResult=o.success?"success":"danger",this.alertTimeout=setTimeout(()=>this.testResultAlert.close(),5e3)},error:o=>{this.testActive=!1,this.testResult="danger",this.alertTimeout=setTimeout(()=>this.testResultAlert.close(),5e3)}})}get testResultMessage(){return"success"===this.testResult?"\u062A\u0645 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0646\u062C\u0627\u062D \u0628\u062E\u0627\u062F\u0645 \u0627\u0644\u0628\u0631\u064A\u062F":"\u062A\u0639\u0630\u0631 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u062E\u0627\u062F\u0645 \u0627\u0644\u0628\u0631\u064A\u062F"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-mail-account-edit-dialog"]],viewQuery:function(i,o){if(1&i&&Tn(V0t,5),2&i){let s;Mt(s=Tt())&&(o.testResultAlert=s.first)}},features:[at],decls:29,vars:17,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C;return e="\u0627\u0633\u0645",i="\u062E\u0627\u062F\u0645 IMAP",o="\u0645\u0646\u0641\u0630 IMAP",s="\u0623\u0645\u0627\u0646 IMAP",r="\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",a="\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",l="\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0647\u064A \u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642",c="\u062A\u062D\u0642\u0642 \u0645\u0645\u0627 \u0625\u0630\u0627 \u0643\u0627\u0646\u062A \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0623\u0639\u0644\u0627\u0647 \u0647\u064A \u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0644\u0644\u062A\u062D\u0642\u0642",h="\u0646\u0648\u0639 \u062A\u0631\u0645\u064A\u0632 \u0627\u0644\u0645\u062D\u0627\u0631\u0641",g="\u0627\u062E\u062A\u0628\u0627\u0631",f="\u0625\u0644\u063A\u0627\u0621",v="\u062D\u0641\u0638",C="\u062A\u062D\u0645\u064A\u0644...",[["testResultAlert",""],g,f,v,C,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","imap_server",3,"error"],["title",o,"formControlName","imap_port",3,"error"],["title",s,"formControlName","imap_security",3,"items"],["title",r,"formControlName","username",3,"error"],["title",a,"formControlName","password",3,"error"],["title",l,"hint",c,"formControlName","is_token",3,"error"],["title",h,"formControlName","character_set",3,"error"],[1,"modal-footer"],[1,"m-0","me-2"],[1,"mb-0","py-2",3,"type"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mb-0","py-2",3,"closed","type"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden","mr-1"]]},template:function(i,o){1&i&&(d(0,"form",5),E("ngSubmit",function(){return o.save()}),d(1,"div",6)(2,"h4",7),N(3),u(),y(4,H0t,2,1,"span",8),d(5,"button",9),E("click",function(){return o.cancel()}),u()(),d(6,"div",10)(7,"div",11)(8,"div",12),O(9,"pngx-input-text",13)(10,"pngx-input-text",14)(11,"pngx-input-text",15)(12,"pngx-input-select",16),u(),d(13,"div",12),O(14,"pngx-input-text",17)(15,"pngx-input-password",18)(16,"pngx-input-check",19)(17,"pngx-input-text",20),u()()(),d(18,"div",21)(19,"div",22),y(20,G0t,3,2,"ngb-alert",23),u(),d(21,"button",24),E("click",function(){return o.test()}),y(22,$0t,3,0),ge(23),b(24,1),ue(),u(),d(25,"button",25),E("click",function(){return o.cancel()}),b(26,2),u(),d(27,"button",26),b(28,3),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),P(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(4),m("error",null==o.error?null:o.error.name),_(),m("error",null==o.error?null:o.error.imap_server),_(),m("error",null==o.error?null:o.error.imap_port),_(),m("items",o.imapSecurityOptions),_(2),m("error",null==o.error?null:o.error.username),_(),m("error",null==o.error?null:o.error.password),_(),m("error",null==o.error?null:o.error.is_token),_(),m("error",null==o.error?null:o.error.character_set),_(3),P(o.testResult?20:-1),_(),m("disabled",o.networkActive||o.testActive),_(),P(o.testActive?22:-1),_(3),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[qs,p1,Yw,Rr,$t,Do,Gt,Co,Wt,ao,Mo,UC,o5e],styles:[".alert-dismissible .btn-close{padding-top:.75rem!important;padding-bottom:.75rem!important}"]})}return t})();var o8=function(t){return t[t.Attachments=1]="Attachments",t[t.Everything=2]="Everything",t}(o8||{}),jg=function(t){return t[t.Attachments=1]="Attachments",t[t.EmailOnly=2]="EmailOnly",t[t.Everything=3]="Everything",t}(jg||{}),B5=function(t){return t[t.Default=0]="Default",t[t.TextHtml=1]="TextHtml",t[t.HtmlText=2]="HtmlText",t[t.HtmlOnly=3]="HtmlOnly",t[t.TextOnly=4]="TextOnly",t}(B5||{}),rl=function(t){return t[t.Delete=1]="Delete",t[t.Move=2]="Move",t[t.MarkRead=3]="MarkRead",t[t.Flag=4]="Flag",t[t.Tag=5]="Tag",t}(rl||{}),Zg=function(t){return t[t.FromSubject=1]="FromSubject",t[t.FromFilename=2]="FromFilename",t[t.None=3]="None",t}(Zg||{}),U5=function(t){return t[t.FromNothing=1]="FromNothing",t[t.FromEmail=2]="FromEmail",t[t.FromName=3]="FromName",t[t.FromCustom=4]="FromCustom",t}(U5||{});let Jw=(()=>{class t extends m0{constructor(){super(),this.mailRules=[],this.resourceName="mail_rules"}reload(){this.loading=!0,this.listAll().subscribe(e=>{this.mailRules=e.results,this.loading=!1})}get allRules(){return this.mailRules}create(e){return super.create(e).pipe(_n(()=>this.reload()))}update(e){return super.update(e).pipe(_n(()=>this.reload()))}delete(e){return super.delete(e).pipe(_n(()=>this.reload()))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function U0t(t,n){if(1&t&&(d(0,"span",7),N(1),u()),2&t){const e=p();_(),He("ID: ",e.object.id)}}function j0t(t,n){if(1&t&&O(0,"pngx-input-text",33),2&t){const e=p();m("horizontal",!0)("error",null==e.error?null:e.error.action_parameter)}}function Z0t(t,n){if(1&t&&O(0,"pngx-input-select",39),2&t){const e=p();m("horizontal",!0)("items",e.correspondents)("allowNull",!0)}}function W0t(t,n){if(1&t&&(d(0,"span",41),ge(1),b(2,3),ue(),N(3),u()),2&t){const e=p();_(3),He(": ",e.error.non_field_errors)}}const X0t=[{id:o8.Attachments,name:"\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A \u0641\u0642\u0637"},{id:o8.Everything,name:"\u0645\u0639\u0627\u0644\u062C\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0644\u0641\u0627\u062A\u060C \u0628\u0645\u0627 \u0641\u064A \u0630\u0644\u0643 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A '\u062F\u0627\u062E\u0644 \u0627\u0644\u062E\u0637'"}],K0t=[{id:jg.Attachments,name:"\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A \u0641\u0642\u0637"},{id:jg.EmailOnly,name:"\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0643\u0640 .eml"},{id:jg.Everything,name:"\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0643.eml \u0648\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A \u0628\u0634\u0643\u0644 \u0645\u0646\u0641\u0635\u0644"}],q0t=[{id:B5.Default,name:"System default"},{id:B5.TextHtml,name:"Text, then HTML"},{id:B5.HtmlText,name:"HTML, then text"},{id:B5.HtmlOnly,name:"HTML only"},{id:B5.TextOnly,name:"Text only"}],Y0t=[{id:rl.Delete,name:"\u062D\u0630\u0641"},{id:rl.Move,name:"\u0646\u0642\u0644 \u0625\u0644\u0649 \u0645\u062C\u0644\u062F \u0645\u062D\u062F\u062F"},{id:rl.MarkRead,name:"\u0648\u0636\u0639 \u0639\u0644\u0627\u0645\u0629 \u0643\u0645\u0642\u0631\u0648\u0621\u0629\u060C \u0644\u0627 \u062A\u0639\u0627\u0644\u062C \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0645\u0642\u0631\u0648\u0621\u0629"},{id:rl.Flag,name:"\u0639\u0644\u0645 \u0627\u0644\u0631\u0633\u0627\u0644\u0629\u060C \u0644\u0627 \u062A\u0639\u0627\u0644\u062C \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0645\u0639\u0644\u0645\u0629"},{id:rl.Tag,name:"\u0639\u0644\u0645 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0628\u0639\u0644\u0627\u0645\u0629 \u0645\u062D\u062F\u062F\u0629\u060C \u0644\u0627 \u062A\u0639\u0627\u0644\u062C \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0645\u064F\u0639\u0644\u0645\u0629"}],Q0t=[{id:Zg.FromSubject,name:"\u0627\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u0645\u0648\u0636\u0648\u0639 \u0643\u0639\u0646\u0648\u0627\u0646"},{id:Zg.FromFilename,name:"\u0627\u0633\u062A\u062E\u062F\u0645 \u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0645\u0631\u0641\u0642 \u0643\u0639\u0646\u0648\u0627\u0646"},{id:Zg.None,name:"\u0644\u0627 \u062A\u0642\u0645 \u0628\u062A\u0639\u064A\u064A\u0646 \u0639\u0646\u0648\u0627\u0646 \u0645\u0646 \u0647\u0630\u0647 \u0627\u0644\u0642\u0627\u0639\u062F\u0629"}],J0t=[{id:U5.FromNothing,name:"\u0644\u0627 \u062A\u0639\u064A\u0651\u0646 \u062C\u0647\u0629 \u062A\u0631\u0627\u0633\u0644"},{id:U5.FromEmail,name:"\u0627\u0633\u062A\u062E\u062F\u0645 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0628\u0631\u064A\u062F"},{id:U5.FromName,name:"\u0627\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u0627\u0633\u0645 (\u0623\u0648 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0625\u0630\u0627 \u0644\u0645 \u064A\u0643\u0646 \u0645\u062A\u0627\u062D\u0627)"},{id:U5.FromCustom,name:"\u0627\u0633\u062A\u062E\u062F\u0645 \u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0623\u062F\u0646\u0627\u0647"}];let PB=(()=>{class t extends v0{constructor(){super(),this.service=M(Jw),this.accountService=M(Qw),this.correspondentService=M(ol),this.documentTypeService=M(sl),this.userService=M(vs),this.settingsService=M(Gn),this.accountService.listAll().pipe(ut()).subscribe(e=>this.accounts=e.results),this.correspondentService.listAll().pipe(ut()).subscribe(e=>this.correspondents=e.results),this.documentTypeService.listAll().pipe(ut()).subscribe(e=>this.documentTypes=e.results)}getCreateTitle(){return "\u0625\u0646\u0634\u0627\u0621 \u0642\u0627\u0639\u062F\u0629 \u0628\u0631\u064A\u062F \u062C\u062F\u064A\u062F\u0629"}getEditTitle(){return "\u062A\u0639\u062F\u064A\u0644 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u0631\u064A\u062F"}getForm(){return new ti({name:new re(null),account:new re(null),enabled:new re(!0),folder:new re("INBOX"),filter_from:new re(null),filter_to:new re(null),filter_subject:new re(null),filter_body:new re(null),filter_attachment_filename_include:new re(null),filter_attachment_filename_exclude:new re(null),maximum_age:new re(null),attachment_type:new re(o8.Attachments),pdf_layout:new re(B5.Default),consumption_scope:new re(jg.Attachments),order:new re(null),action:new re(rl.MarkRead),action_parameter:new re(null),assign_title_from:new re(Zg.FromSubject),assign_tags:new re([]),assign_document_type:new re(null),assign_correspondent_from:new re(U5.FromNothing),assign_correspondent:new re(null),assign_owner_from_rule:new re(!0)})}get showCorrespondentField(){return this.objectForm?.get("assign_correspondent_from")?.value==U5.FromCustom}get showActionParamField(){return this.objectForm?.get("action")?.value==rl.Move||this.objectForm?.get("action")?.value==rl.Tag}get attachmentTypeOptions(){return X0t}get actionOptions(){return Y0t}get metadataTitleOptions(){return Q0t}get metadataCorrespondentOptions(){return J0t}get consumptionScopeOptions(){return K0t}get pdfLayoutOptions(){return q0t}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-mail-rule-edit-dialog"]],features:[at],decls:56,vars:52,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,pe,le,fe,ke,Dt,it,Ft,Yt,Qt;return e="\u0627\u0633\u0645",i="\u0627\u0644\u062D\u0633\u0627\u0628",o="Order",s="\u0645\u064F\u0645\u064E\u0643\u0651\u0646",r="\u0645\u062C\u0644\u062F",a="\u064A\u062C\u0628 \u0641\u0635\u0644 \u0627\u0644\u0645\u062C\u0644\u062F\u0627\u062A \u0627\u0644\u0641\u0631\u0639\u064A\u0629 \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0645\u062D\u062F\u062F\u060C \u063A\u0627\u0644\u0628\u0627 \u0646\u0642\u0637\u0629 ('.') \u0623\u0648 \u062E\u0637 \u0645\u0627\u0626\u0644 ('/')\u060C \u0644\u0643\u0646\u0647\u0627 \u062A\u062E\u062A\u0644\u0641 \u062D\u0633\u0628 \u062E\u0627\u062F\u0645 \u0627\u0644\u0628\u0631\u064A\u062F.",l="\u0627\u0644\u0639\u0645\u0631 \u0627\u0644\u0623\u0642\u0635\u0649 (\u0627\u0644\u0623\u064A\u0627\u0645)",c="\u062A\u0635\u0641\u064A\u0629 \u0645\u0646",h="\u062A\u0635\u0641\u064A\u0629 \u0625\u0644\u0649",g="\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0645\u0648\u0636\u0648\u0639",f="\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u062C\u0633\u0645",v="\u0646\u0637\u0627\u0642 \u0627\u0644\u0627\u0633\u062A\u0647\u0644\u0627\u0643",C="\u0627\u0646\u0638\u0631 \u0627\u0644\u0649 \u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0645\u062A\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629 \u0644\u0640 .eml",S="\u0646\u0648\u0639 \u0627\u0644\u0645\u0631\u0641\u0642",D="PDF layout",I="\u0625\u062F\u0631\u0627\u062C \u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0645\u0637\u0627\u0628\u0642\u0629 \u0641\u0642\u0637",L="Optional. Wildcards e.g. *.pdf or *invoice* allowed. Can be comma-separated list. Case insensitive.",G="Exclude files matching",R="Optional. Wildcards e.g. *.pdf or *invoice* allowed. Can be comma-separated list. Case insensitive.",J="\u0625\u062C\u0631\u0627\u0621",se="Only performed if the mail is processed.",ve="\u0625\u062C\u0631\u0627\u0621 \u0627\u0644\u0645\u0639\u0627\u0645\u0644",pe="\u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0645\u0646",le="\u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0645\u0627\u0644\u0643 \u0645\u0646 \u0627\u0644\u0642\u0627\u0639\u062F\u0629",fe="\u062A\u0639\u064A\u064A\u0646 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",ke="\u062A\u0639\u064A\u064A\u0646 \u062C\u0647\u0629 \u062A\u0631\u0627\u0633\u0644 \u0645\u0646",Dt="\u062A\u0639\u064A\u064A\u0646 \u062C\u0647\u0629 \u062A\u0631\u0627\u0633\u0644",it="\u0627\u0644\u062A\u0637\u0628\u064A\u0642 \u0633\u0648\u0641 \u064A\u062A\u0645 \u0641\u0642\u0637 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u062A\u064A \u062A\u062A\u0637\u0627\u0628\u0642 \u0645\u0639 " + "\ufffd#20\ufffd" + "all" + "\ufffd/#20\ufffd" + " \u0645\u0646 \u0627\u0644\u0645\u0639\u0627\u064A\u064A\u0631 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0623\u062F\u0646\u0627\u0647.",Ft="\u0625\u0644\u063A\u0627\u0621",Yt="\u062D\u0641\u0638",Qt="\u062E\u0637\u0623",[it,Ft,Yt,Qt,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col-md-4"],["title",e,"formControlName","name","autocomplete","off",3,"horizontal","error"],[1,"col-md-3"],["title",i,"formControlName","account",3,"horizontal","items"],["title",o,"formControlName","order",3,"horizontal","showAdd","error"],[1,"col-md-2","pt-2"],["title",s,"formControlName","enabled",3,"horizontal"],[1,"mt-0"],[1,"small"],[1,"col-md-6"],["title",r,"formControlName","folder","hint",a,3,"horizontal","error"],["title",l,"formControlName","maximum_age",3,"horizontal","showAdd","error"],["title",c,"formControlName","filter_from",3,"horizontal","error"],["title",h,"formControlName","filter_to",3,"horizontal","error"],["title",g,"formControlName","filter_subject",3,"horizontal","error"],["title",f,"formControlName","filter_body",3,"horizontal","error"],["title",v,"formControlName","consumption_scope","hint",C,3,"horizontal","items"],["title",S,"formControlName","attachment_type",3,"horizontal","items"],["title",D,"formControlName","pdf_layout",3,"horizontal","items"],["title",I,"formControlName","filter_attachment_filename_include","hint",L,3,"horizontal","error"],["title",G,"formControlName","filter_attachment_filename_exclude","hint",R,3,"horizontal","error"],["title",J,"formControlName","action","hint",se,3,"horizontal","items"],["title",ve,"formControlName","action_parameter",3,"horizontal","error"],["title",pe,"formControlName","assign_title_from",3,"horizontal","items"],["title",le,"formControlName","assign_owner_from_rule",3,"horizontal"],["formControlName","assign_tags",3,"horizontal","allowCreate"],["title",fe,"formControlName","assign_document_type",3,"horizontal","items","allowNull"],["title",ke,"formControlName","assign_correspondent_from",3,"horizontal","items"],["title",Dt,"formControlName","assign_correspondent",3,"horizontal","items","allowNull"],[1,"modal-footer"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"]]},template:function(i,o){1&i&&(d(0,"form",4),E("ngSubmit",function(){return o.save()}),d(1,"div",5)(2,"h4",6),N(3),u(),y(4,U0t,2,1,"span",7),d(5,"button",8),E("click",function(){return o.cancel()}),u()(),d(6,"div",9)(7,"div",10)(8,"div",11),O(9,"pngx-input-text",12),u(),d(10,"div",13),O(11,"pngx-input-select",14),u(),d(12,"div",13),O(13,"pngx-input-number",15),u(),d(14,"div",16),O(15,"pngx-input-switch",17),u()(),O(16,"hr",18),d(17,"div",10)(18,"p",19),Sr(19,0),O(20,"em"),Er(),u(),d(21,"div",20),O(22,"pngx-input-text",21)(23,"pngx-input-number",22),u(),d(24,"div",20),O(25,"pngx-input-text",23)(26,"pngx-input-text",24)(27,"pngx-input-text",25)(28,"pngx-input-text",26),u()(),O(29,"hr",18),d(30,"div",10)(31,"div",20),O(32,"pngx-input-select",27)(33,"pngx-input-select",28)(34,"pngx-input-select",29),u(),d(35,"div",20),O(36,"pngx-input-text",30)(37,"pngx-input-text",31),u()(),O(38,"hr",18),d(39,"div",10)(40,"div",20),O(41,"pngx-input-select",32),y(42,j0t,1,2,"pngx-input-text",33),O(43,"pngx-input-select",34)(44,"pngx-input-check",35),u(),d(45,"div",20),O(46,"pngx-input-tags",36)(47,"pngx-input-select",37)(48,"pngx-input-select",38),y(49,Z0t,1,3,"pngx-input-select",39),u()()(),d(50,"div",40),y(51,W0t,4,1,"span",41),d(52,"button",42),E("click",function(){return o.cancel()}),b(53,1),u(),d(54,"button",43),b(55,2),u()()()),2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),P(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(4),m("horizontal",!0)("error",null==o.error?null:o.error.name),_(2),m("horizontal",!0)("items",o.accounts),_(2),m("horizontal",!0)("showAdd",!1)("error",null==o.error?null:o.error.order),_(2),m("horizontal",!0),_(7),m("horizontal",!0)("error",null==o.error?null:o.error.folder),_(),m("horizontal",!0)("showAdd",!1)("error",null==o.error?null:o.error.maximum_age),_(2),m("horizontal",!0)("error",null==o.error?null:o.error.filter_from),_(),m("horizontal",!0)("error",null==o.error?null:o.error.filter_to),_(),m("horizontal",!0)("error",null==o.error?null:o.error.filter_subject),_(),m("horizontal",!0)("error",null==o.error?null:o.error.filter_body),_(4),m("horizontal",!0)("items",o.consumptionScopeOptions),_(),m("horizontal",!0)("items",o.attachmentTypeOptions),_(),m("horizontal",!0)("items",o.pdfLayoutOptions),_(2),m("horizontal",!0)("error",null==o.error?null:o.error.filter_attachment_filename_include),_(),m("horizontal",!0)("error",null==o.error?null:o.error.filter_attachment_filename_exclude),_(4),m("horizontal",!0)("items",o.actionOptions),_(),P(o.showActionParamField?42:-1),_(),m("horizontal",!0)("items",o.metadataTitleOptions),_(),m("horizontal",!0),_(2),m("horizontal",!0)("allowCreate",!1),_(),m("horizontal",!0)("items",o.documentTypes)("allowNull",!0),_(),m("horizontal",!0)("items",o.metadataCorrespondentOptions),_(),P(o.showCorrespondentField?49:-1),_(2),P(null!=o.error&&o.error.non_field_errors?51:-1),_(),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[Rr,Xw,p1,qs,F5,L4,$t,Do,Gt,Co,Wt,ao,Mo],encapsulation:2})}return t})();var B1=function(t){return t[t.Assignment=1]="Assignment",t[t.Removal=2]="Removal",t[t.Email=3]="Email",t[t.Webhook=4]="Webhook",t}(B1||{}),Wg=function(t){return t[t.ConsumeFolder=1]="ConsumeFolder",t[t.ApiUpload=2]="ApiUpload",t[t.MailFetch=3]="MailFetch",t[t.WebUI=4]="WebUI",t}(Wg||{}),j5=function(t){return t[t.Consumption=1]="Consumption",t[t.DocumentAdded=2]="DocumentAdded",t[t.DocumentUpdated=3]="DocumentUpdated",t[t.Scheduled=4]="Scheduled",t}(j5||{}),Ch=function(t){return t.Added="added",t.Created="created",t.Modified="modified",t.CustomField="custom_field",t}(Ch||{});let IB=(()=>{class t extends m0{constructor(){super(),this.workflows=[],this.resourceName="workflows"}reload(){this.loading=!0,this.listAll().subscribe(e=>{this.workflows=e.results,this.loading=!1})}get allWorkflows(){return this.workflows}create(e){return super.create(e).pipe(_n(()=>this.reload()))}update(e){return super.update(e).pipe(_n(()=>this.reload()))}delete(e){return super.delete(e).pipe(_n(()=>this.reload()))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function elt(t,n){if(1&t){const e=k();d(0,"pngx-input-text",10),Re("ngModelChange",function(o){T(e);const s=p().$implicit,r=p();return Pe(r.value[s],o)||(r.value[s]=o),w(o)}),E("ngModelChange",function(){T(e);const o=p(2);return w(o.onChange(o.value))}),u()}if(2&t){let e;const i=p().$implicit,o=p();Le("ngModel",o.value[i]),m("title",null==(e=o.getCustomField(i))?null:e.name)("horizontal",!0)}}function tlt(t,n){if(1&t){const e=k();d(0,"pngx-input-date",10),Re("ngModelChange",function(o){T(e);const s=p().$implicit,r=p();return Pe(r.value[s],o)||(r.value[s]=o),w(o)}),E("ngModelChange",function(){T(e);const o=p(2);return w(o.onChange(o.value))}),u()}if(2&t){let e;const i=p().$implicit,o=p();Le("ngModel",o.value[i]),m("title",null==(e=o.getCustomField(i))?null:e.name)("horizontal",!0)}}function nlt(t,n){if(1&t){const e=k();d(0,"pngx-input-number",11),Re("ngModelChange",function(o){T(e);const s=p().$implicit,r=p();return Pe(r.value[s],o)||(r.value[s]=o),w(o)}),E("ngModelChange",function(){T(e);const o=p(2);return w(o.onChange(o.value))}),u()}if(2&t){let e;const i=p().$implicit,o=p();Le("ngModel",o.value[i]),m("title",null==(e=o.getCustomField(i))?null:e.name)("horizontal",!0)("showAdd",!1)}}function ilt(t,n){if(1&t){const e=k();d(0,"pngx-input-number",12),Re("ngModelChange",function(o){T(e);const s=p().$implicit,r=p();return Pe(r.value[s],o)||(r.value[s]=o),w(o)}),E("ngModelChange",function(){T(e);const o=p(2);return w(o.onChange(o.value))}),u()}if(2&t){let e;const i=p().$implicit,o=p();Le("ngModel",o.value[i]),m("title",null==(e=o.getCustomField(i))?null:e.name)("horizontal",!0)("showAdd",!1)("step",.1)}}function olt(t,n){if(1&t){const e=k();d(0,"pngx-input-monetary",13),Re("ngModelChange",function(o){T(e);const s=p().$implicit,r=p();return Pe(r.value[s],o)||(r.value[s]=o),w(o)}),E("ngModelChange",function(){T(e);const o=p(2);return w(o.onChange(o.value))}),u()}if(2&t){let e,i;const o=p().$implicit,s=p();Le("ngModel",s.value[o]),m("title",null==(e=s.getCustomField(o))?null:e.name)("defaultCurrency",null==(i=s.getCustomField(o))||null==i.extra_data?null:i.extra_data.default_currency)("horizontal",!0)}}function slt(t,n){if(1&t){const e=k();d(0,"pngx-input-check",10),Re("ngModelChange",function(o){T(e);const s=p().$implicit,r=p();return Pe(r.value[s],o)||(r.value[s]=o),w(o)}),E("ngModelChange",function(){T(e);const o=p(2);return w(o.onChange(o.value))}),u()}if(2&t){let e;const i=p().$implicit,o=p();Le("ngModel",o.value[i]),m("title",null==(e=o.getCustomField(i))?null:e.name)("horizontal",!0)}}function rlt(t,n){if(1&t){const e=k();d(0,"pngx-input-url",10),Re("ngModelChange",function(o){T(e);const s=p().$implicit,r=p();return Pe(r.value[s],o)||(r.value[s]=o),w(o)}),E("ngModelChange",function(){T(e);const o=p(2);return w(o.onChange(o.value))}),u()}if(2&t){let e;const i=p().$implicit,o=p();Le("ngModel",o.value[i]),m("title",null==(e=o.getCustomField(i))?null:e.name)("horizontal",!0)}}function alt(t,n){if(1&t){const e=k();d(0,"pngx-input-document-link",10),Re("ngModelChange",function(o){T(e);const s=p().$implicit,r=p();return Pe(r.value[s],o)||(r.value[s]=o),w(o)}),E("ngModelChange",function(){T(e);const o=p(2);return w(o.onChange(o.value))}),u()}if(2&t){let e;const i=p().$implicit,o=p();Le("ngModel",o.value[i]),m("title",null==(e=o.getCustomField(i))?null:e.name)("horizontal",!0)}}function llt(t,n){if(1&t){const e=k();d(0,"pngx-input-select",14),Re("ngModelChange",function(o){T(e);const s=p().$implicit,r=p();return Pe(r.value[s],o)||(r.value[s]=o),w(o)}),E("ngModelChange",function(){T(e);const o=p(2);return w(o.onChange(o.value))}),u()}if(2&t){let e,i;const o=p().$implicit,s=p();Le("ngModel",s.value[o]),m("title",null==(e=s.getCustomField(o))?null:e.name)("items",null==(i=s.getCustomField(o))?null:i.extra_data.select_options)("allowNull",!0)("horizontal",!0)}}function clt(t,n){if(1&t){const e=k();d(0,"pngx-input-textarea",15),Re("ngModelChange",function(o){T(e);const s=p().$implicit,r=p();return Pe(r.value[s],o)||(r.value[s]=o),w(o)}),E("ngModelChange",function(){T(e);const o=p(2);return w(o.onChange(o.value))}),u()}if(2&t){let e;const i=p().$implicit,o=p();Le("ngModel",o.value[i]),m("title",null==(e=o.getCustomField(i))?null:e.name)}}function dlt(t,n){if(1&t){const e=k();d(0,"div",1),y(1,elt,1,3,"pngx-input-text",2)(2,tlt,1,3,"pngx-input-date",2)(3,nlt,1,4,"pngx-input-number",3)(4,ilt,1,5,"pngx-input-number",4)(5,olt,1,4,"pngx-input-monetary",5)(6,slt,1,3,"pngx-input-check",2)(7,rlt,1,3,"pngx-input-url",2)(8,alt,1,3,"pngx-input-document-link",2)(9,llt,1,5,"pngx-input-select",6)(10,clt,1,2,"pngx-input-textarea",7),d(11,"button",8),E("click",function(){const o=T(e).$implicit;return w(p().removeSelectedField.next(o))}),O(12,"i-bs",9),u()()}if(2&t){let e;const i=n.$implicit,o=p();_(),P((e=null==(e=o.getCustomField(i))?null:e.data_type)===o.CustomFieldDataType.String?1:e===o.CustomFieldDataType.Date?2:e===o.CustomFieldDataType.Integer?3:e===o.CustomFieldDataType.Float?4:e===o.CustomFieldDataType.Monetary?5:e===o.CustomFieldDataType.Boolean?6:e===o.CustomFieldDataType.Url?7:e===o.CustomFieldDataType.DocumentLink?8:e===o.CustomFieldDataType.Select?9:e===o.CustomFieldDataType.LongText?10:-1)}}let hlt=(()=>{class t extends Ns{constructor(){const e=M(g1);super(),this.CustomFieldDataType=Pi,this.removeSelectedField=new Ee,e.listAll().subscribe(i=>{this.fields=i.results})}set selectedFields(e){this._selectedFields=e,this.value=e.reduce((i,o)=>(i[o]=this.value?.[o]||null,i),{}),this.onChange(this.value)}get selectedFields(){return this._selectedFields}getCustomField(e){return this.fields.find(i=>i.id===e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-custom-fields-values"]],inputs:{selectedFields:"selectedFields"},outputs:{removeSelectedField:"removeSelectedField"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:3,vars:0,consts:[[1,"list-group","mt-3","selected-fields"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"flex-grow-1",3,"ngModel","title","horizontal"],[1,"flex-grow-1",3,"ngModel","title","horizontal","showAdd"],[1,"flex-grow-1",3,"ngModel","title","horizontal","showAdd","step"],[1,"flex-grow-1",3,"ngModel","title","defaultCurrency","horizontal"],["bindLabel","label",1,"flex-grow-1",3,"ngModel","title","items","allowNull","horizontal"],[1,"flex-grow-1",3,"ngModel","title"],["type","button",1,"btn","btn-link","text-danger",3,"click"],["name","trash"],[1,"flex-grow-1",3,"ngModelChange","ngModel","title","horizontal"],[1,"flex-grow-1",3,"ngModelChange","ngModel","title","horizontal","showAdd"],[1,"flex-grow-1",3,"ngModelChange","ngModel","title","horizontal","showAdd","step"],[1,"flex-grow-1",3,"ngModelChange","ngModel","title","defaultCurrency","horizontal"],["bindLabel","label",1,"flex-grow-1",3,"ngModelChange","ngModel","title","items","allowNull","horizontal"],[1,"flex-grow-1",3,"ngModelChange","ngModel","title"]],template:function(i,o){1&i&&(d(0,"div",0),Ke(1,dlt,13,1,"div",1,jt),u()),2&i&&(_(),qe(o.selectedFields))},dependencies:[qs,Zw,F5,q4,Kw,Rr,Ww,p1,_5,$t,Gt,Ln,Wt,_1,Bt,en,Vg],styles:["[_nghost-%COMP%]     .list-group-item .mb-3{margin-bottom:0!important}"]})}return t})();const ult=(t,n)=>n[0];function _lt(t,n){if(1&t&&(d(0,"label",11),N(1),u()),2&t){const e=p();we("mb-md-0",e.horizontal),m("for",e.inputId),_(),oe(e.title)}}function glt(t,n){if(1&t){const e=k();d(0,"div",8)(1,"input",12),Re("ngModelChange",function(o){const s=T(e).$implicit;return Pe(s[0],o)||(s[0]=o),w(o)}),E("change",function(){return T(e),w(p().inputChange())}),u(),d(2,"input",12),Re("ngModelChange",function(o){const s=T(e).$implicit;return Pe(s[1],o)||(s[1]=o),w(o)}),E("change",function(){return T(e),w(p().inputChange())}),u(),d(3,"button",13),E("click",function(){const o=T(e).$index;return w(p().removeEntry(o))}),O(4,"i-bs",14),u()()}if(2&t){const e=n.$implicit,i=p();_(),Le("ngModel",e[0]),m("disabled",i.disabled),_(),Le("ngModel",e[1]),m("disabled",i.disabled)}}function plt(t,n){1&t&&(O(0,"small",9),Fe(1,"safeHtml")),2&t&&m("innerHTML",lt(1,1,p().hint),Fo)}let flt=(()=>{class t extends Ns{constructor(){super(),this.entries=[]}inputChange(){this.onChange(Object.fromEntries(this.entries.filter(([e])=>e?.length)))}writeValue(e){e||(e={}),this.entries=Object.entries(e),this.value=e}addEntry(){this.entries.push(["",""]),this.inputChange()}removeEntry(e){this.entries.splice(e,1),this.inputChange()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-entries"]],features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:15,vars:5,consts:()=>{let e;return e="\u0623\u0636\u0650\u0641",[e,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","mb-2"],[1,"form-label","mb-0",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-4",3,"click"],["name","plus-circle"],[1,"position-relative"],[1,"input-group","mb-3"],[1,"form-text","text-muted",3,"innerHTML"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-label","mb-0",3,"for"],["type","text","autocomplete","off",1,"form-control",3,"ngModelChange","change","ngModel","disabled"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["name","trash",1,"text-danger"]]},template:function(i,o){1&i&&(d(0,"div",1)(1,"div",2)(2,"div",3),y(3,_lt,2,4,"label",4),d(4,"button",5),E("click",function(){return o.addEntry()}),O(5,"i-bs",6),N(6,"\xa0"),ge(7),b(8,0),ue(),u()(),d(9,"div",7),Ke(10,glt,5,4,"div",8,ult),y(12,plt,2,3,"small",9),d(13,"div",10),N(14),u()()()()),2&i&&(we("pb-3",o.error),_(3),P(o.title?3:-1),_(7),qe(o.entries),_(2),P(o.hint?12:-1),_(2),He(" ",o.error," "))},dependencies:[$t,Ci,Gt,Ln,Wt,Bt,en],encapsulation:2})}return t})();const mlt=(t,n)=>({formGroup:t,trigger:n}),vlt=(t,n)=>({formGroup:t,action:n});function Clt(t,n){if(1&t&&(d(0,"span",37),N(1),u()),2&t){const e=p();_(),He("ID: ",e.object.id)}}function Mlt(t,n){if(1&t&&(d(0,"span",37),N(1),u()),2&t){const e=p().$implicit;_(),He("ID: ",e.id)}}function Tlt(t,n){}function wlt(t,n){if(1&t){const e=k();d(0,"div",48)(1,"div",49)(2,"button",50),N(3),y(4,Mlt,2,1,"span",37),d(5,"pngx-confirm-button",64),E("confirm",function(){const o=T(e).$index;return w(p(2).removeTrigger(o))}),u()()(),d(6,"div",51)(7,"div",52),ce(8,Tlt,0,0,"ng-template",65),u()()()}if(2&t){const e=n.$implicit,i=n.$index,o=p(2),s=xe(36);_(3),Jr("",i+1,". ",o.getTriggerTypeOptionName(o.triggerFields.controls[i].value.type)," "),_(),P(e.id?4:-1),_(4),m("ngTemplateOutlet",s)("ngTemplateOutletContext",$e(5,mlt,o.triggerFields.controls[i],e))}}function blt(t,n){if(1&t){const e=k();d(0,"div",59)(1,"p",60),b(2,6),u(),d(3,"button",61),E("click",function(){return T(e),w(p().addTrigger())}),O(4,"i-bs",62),N(5,"\xa0"),ge(6),b(7,7),ue(),u()(),d(8,"div",63),Ke(9,wlt,9,8,"div",48,jt),u()}if(2&t){const e=p();_(8),m("closeOthers",!0),_(),qe(null==e.object?null:e.object.triggers)}}function Slt(t,n){if(1&t&&(d(0,"span",37),N(1),u()),2&t){const e=p().$implicit;_(),He("ID: ",e.id)}}function Elt(t,n){}function Olt(t,n){if(1&t){const e=k();d(0,"div",67)(1,"div",49)(2,"button",50),N(3),y(4,Slt,2,1,"span",37),d(5,"pngx-confirm-button",68),E("confirm",function(){const o=T(e).$index;return w(p(2).removeAction(o))}),u()()(),d(6,"div",51)(7,"div",52),ce(8,Elt,0,0,"ng-template",65),u()()()}if(2&t){const e=n.$implicit,i=n.$index,o=p(2),s=xe(38);m("formGroup",o.actionFields.controls[i]),_(3),Jr("",i+1,". ",o.getActionTypeOptionName(o.actionFields.controls[i].value.type)," "),_(),P(e.id?4:-1),_(4),m("ngTemplateOutlet",s)("ngTemplateOutletContext",$e(6,vlt,o.actionFields.controls[i],e))}}function Alt(t,n){if(1&t){const e=k();d(0,"div",59)(1,"p",60),b(2,8),u(),d(3,"button",61),E("click",function(){return T(e),w(p().addAction())}),O(4,"i-bs",62),N(5,"\xa0"),ge(6),b(7,9),ue(),u()(),d(8,"div",66),E("cdkDropListDropped",function(o){return T(e),w(p().onActionDrop(o))}),Ke(9,Olt,9,9,"div",67,jt),u()}if(2&t){const e=p();_(8),m("closeOthers",!0),_(),qe(null==e.object?null:e.object.actions)}}function Nlt(t,n){if(1&t&&(d(0,"span",55),ge(1),b(2,10),ue(),N(3),u()),2&t){const e=p();_(3),He(": ",e.error.non_field_errors)}}function Dlt(t,n){if(1&t&&(d(0,"div",43),O(1,"pngx-input-select",78),u()),2&t){const e=p(3);_(),m("items",e.dateCustomFields)("error",null==e.error?null:e.error.schedule_date_custom_field)}}function ylt(t,n){if(1&t&&O(0,"pngx-input-number",77),2&t){const e=p(3);m("showAdd",!1)("error",null==e.error?null:e.error.schedule_recurring_interval_days)}}function Plt(t,n){if(1&t&&(d(0,"p",72),b(1,12),u(),d(2,"div",40)(3,"div",43),O(4,"pngx-input-number",74),u(),d(5,"div",43),O(6,"pngx-input-select",75),u(),y(7,Dlt,2,2,"div",43),u(),d(8,"div",40)(9,"div",43),O(10,"pngx-input-check",76),u(),d(11,"div",43),y(12,ylt,1,2,"pngx-input-number",77),u()()),2&t){const e=p().formGroup,i=p();_(4),m("showAdd",!1)("error",null==i.error?null:i.error.schedule_offset_days),_(2),m("items",i.scheduleDateFieldOptions)("error",null==i.error?null:i.error.schedule_date_field),_(),P("custom_field"===e.get("schedule_date_field").value?7:-1),_(3),m("error",null==i.error?null:i.error.schedule_is_recurring),_(2),P(!0===e.get("schedule_is_recurring").value?12:-1)}}function Ilt(t,n){if(1&t&&O(0,"pngx-input-select",79)(1,"pngx-input-text",80)(2,"pngx-input-select",81),2&t){const e=p(2);m("items",e.sourceOptions)("multiple",!0)("error",null==e.error?null:e.error.sources),_(),m("error",null==e.error?null:e.error.filter_path),_(),m("items",e.mailRules)("allowNull",!0)("error",null==e.error?null:e.error.filter_mailrule)}}function Llt(t,n){if(1&t&&O(0,"pngx-input-text",83),2&t){const e=p(3);m("error",null==e.error?null:e.error.match)}}function Rlt(t,n){1&t&&O(0,"pngx-input-check",84)}function xlt(t,n){if(1&t&&(O(0,"pngx-input-select",82),y(1,Llt,1,1,"pngx-input-text",83),y(2,Rlt,1,0,"pngx-input-check",84)),2&t){const e=p(2);m("items",e.getMatchingAlgorithms()),_(),P(e.patternRequired?1:-1),_(),P(e.patternRequired?2:-1)}}function Flt(t,n){if(1&t&&(d(0,"div",41),O(1,"pngx-input-tags",85)(2,"pngx-input-select",86)(3,"pngx-input-select",87)(4,"pngx-input-select",88),u()),2&t){const e=p(2);_(),m("allowCreate",!1),_(),m("items",e.correspondents)("allowNull",!0),_(),m("items",e.documentTypes)("allowNull",!0),_(),m("items",e.storagePaths)("allowNull",!0)}}function klt(t,n){if(1&t&&(d(0,"div",69),O(1,"input",70)(2,"pngx-input-select",71),y(3,Plt,13,7),d(4,"p",72),Sr(5,11),O(6,"em"),Er(),u(),d(7,"div",40)(8,"div",45),O(9,"pngx-input-text",73),y(10,Ilt,3,7),y(11,xlt,3,3),u(),y(12,Flt,5,7,"div",41),u()()),2&t){const e=n.formGroup,i=p();m("formGroup",e),_(2),m("horizontal",!0)("items",i.triggerTypeOptions),_(),P(e.get("type").value===i.WorkflowTriggerType.Scheduled?3:-1),_(6),m("error",null==i.error?null:i.error.filter_filename),_(),P(e.get("type").value===i.WorkflowTriggerType.Consumption?10:-1),_(),P(e.get("type").value===i.WorkflowTriggerType.DocumentAdded||e.get("type").value===i.WorkflowTriggerType.DocumentUpdated||e.get("type").value===i.WorkflowTriggerType.Scheduled?11:-1),_(),P(e.get("type").value===i.WorkflowTriggerType.DocumentAdded||e.get("type").value===i.WorkflowTriggerType.DocumentUpdated||e.get("type").value===i.WorkflowTriggerType.Scheduled?12:-1)}}function zlt(t,n){if(1&t){const e=k();d(0,"div",40)(1,"div",45),O(2,"pngx-input-text",91)(3,"pngx-input-tags",92)(4,"pngx-input-select",93)(5,"pngx-input-select",94)(6,"pngx-input-select",95)(7,"pngx-input-select",96),d(8,"pngx-input-custom-fields-values",97),E("removeSelectedField",function(o){T(e);const s=p().formGroup;return w(p().removeSelectedCustomField(o,s))}),u()(),d(9,"div",45),O(10,"pngx-input-select",98),d(11,"div")(12,"label",99),b(13,13),u(),d(14,"div",100)(15,"div",101)(16,"div",102)(17,"label",103),b(18,14),u()(),d(19,"div",104),O(20,"pngx-permissions-user",105),u()(),d(21,"div",40)(22,"div",102)(23,"label",103),b(24,15),u()(),d(25,"div",104),O(26,"pngx-permissions-group",106),u()()(),d(27,"label",99),b(28,16),u(),d(29,"div")(30,"div",101)(31,"div",102)(32,"label",103),b(33,17),u()(),d(34,"div",104),O(35,"pngx-permissions-user",107),u()(),d(36,"div",40)(37,"div",102)(38,"label",103),b(39,18),u()(),d(40,"div",104),O(41,"pngx-permissions-group",108),u()(),d(42,"small",109),b(43,19),u()()()()()}if(2&t){const e=p().formGroup,i=p();_(2),m("error",null==i.error||null==i.error.actions||null==i.error.actions[i.i]?null:i.error.actions[i.i].assign_title),_(),m("allowCreate",!1),_(),m("items",i.documentTypes)("allowNull",!0),_(),m("items",i.correspondents)("allowNull",!0),_(),m("items",i.storagePaths)("allowNull",!0),_(),m("items",i.customFields)("allowNull",!0),_(),m("selectedFields",e.get("assign_custom_fields").value),_(2),m("items",i.users)("allowNull",!0)}}function Vlt(t,n){if(1&t&&(d(0,"div",40)(1,"div",45)(2,"h6",99),b(3,20),u(),O(4,"pngx-input-switch",110),d(5,"div",111),O(6,"pngx-input-tags",112),u(),d(7,"h6",99),b(8,21),u(),O(9,"pngx-input-switch",113),d(10,"div",111),O(11,"pngx-input-select",114),u(),d(12,"h6",99),b(13,22),u(),O(14,"pngx-input-switch",115),d(15,"div",111),O(16,"pngx-input-select",116),u(),d(17,"h6",99),b(18,23),u(),O(19,"pngx-input-switch",117),d(20,"div",111),O(21,"pngx-input-select",118),u(),d(22,"h6",99),b(23,24),u(),O(24,"pngx-input-switch",119),d(25,"div",111),O(26,"pngx-input-select",120),u()(),d(27,"div",45)(28,"h6",99),b(29,25),u(),O(30,"pngx-input-switch",121),d(31,"div",111),O(32,"pngx-input-select",122),u(),d(33,"h6",99),b(34,26),u(),O(35,"pngx-input-switch",123),d(36,"div")(37,"label",99),b(38,27),u(),d(39,"div",100)(40,"div",101)(41,"div",102)(42,"label",103),b(43,28),u()(),d(44,"div",104),O(45,"pngx-permissions-user",124),u()(),d(46,"div",40)(47,"div",102)(48,"label",103),b(49,29),u()(),d(50,"div",104),O(51,"pngx-permissions-group",125),u()()(),d(52,"label",99),b(53,30),u(),d(54,"div")(55,"div",101)(56,"div",102)(57,"label",103),b(58,31),u()(),d(59,"div",104),O(60,"pngx-permissions-user",126),u()(),d(61,"div",40)(62,"div",102)(63,"label",103),b(64,32),u()(),d(65,"div",104),O(66,"pngx-permissions-group",127),u()(),d(67,"small",109),b(68,33),u()()()()()),2&t){const e=p(2);_(4),m("horizontal",!0),_(2),m("allowCreate",!1),_(3),m("horizontal",!0),_(2),m("items",e.correspondents),_(3),m("horizontal",!0),_(2),m("items",e.documentTypes),_(3),m("horizontal",!0),_(2),m("items",e.storagePaths),_(3),m("horizontal",!0),_(2),m("items",e.customFields),_(4),m("horizontal",!0),_(2),m("items",e.users),_(3),m("horizontal",!0)}}function Hlt(t,n){if(1&t&&(d(0,"div",90),O(1,"input",70),d(2,"div",45),O(3,"pngx-input-text",128)(4,"pngx-input-textarea",129)(5,"pngx-input-text",130)(6,"pngx-input-switch",131),u()()),2&t){const e=p().formGroup,i=p();m("formGroup",e.get("email")),_(3),m("error",null==i.error||null==i.error.actions||null==i.error.actions[i.i]||null==i.error.actions[i.i].email?null:i.error.actions[i.i].email.subject),_(),m("error",null==i.error||null==i.error.actions||null==i.error.actions[i.i]||null==i.error.actions[i.i].email?null:i.error.actions[i.i].email.body),_(),m("error",null==i.error||null==i.error.actions||null==i.error.actions[i.i]||null==i.error.actions[i.i].email?null:i.error.actions[i.i].email.to)}}function Glt(t,n){if(1&t&&O(0,"pngx-input-entries",135),2&t){const e=p(3);m("error",null==e.error||null==e.error.actions||null==e.error.actions[e.i]?null:e.error.actions[e.i].params)}}function $lt(t,n){if(1&t&&O(0,"pngx-input-textarea",136),2&t){const e=p(3);m("error",null==e.error||null==e.error.actions||null==e.error.actions[e.i]?null:e.error.actions[e.i].body)}}function Blt(t,n){if(1&t&&(d(0,"div",90),O(1,"input",70),d(2,"div",45),O(3,"pngx-input-text",132),d(4,"div",59),O(5,"pngx-input-switch",133)(6,"pngx-input-switch",134),u(),y(7,Glt,1,1,"pngx-input-entries",135)(8,$lt,1,1,"pngx-input-textarea",136),O(9,"pngx-input-entries",137)(10,"pngx-input-switch",138),u()()),2&t){const e=p().formGroup,i=p();m("formGroup",e.get("webhook")),_(3),m("error",null==i.error||null==i.error.actions||null==i.error.actions[i.i]?null:i.error.actions[i.i].url),_(2),m("horizontal",!0),_(),m("horizontal",!0),_(),P(e.get("webhook").value.use_params?7:8),_(2),m("error",null==i.error||null==i.error.actions||null==i.error.actions[i.i]?null:i.error.actions[i.i].headers)}}function Ult(t,n){if(1&t&&(d(0,"div",69),O(1,"input",70)(2,"pngx-input-select",89),y(3,zlt,44,13,"div",40)(4,Vlt,69,13,"div",40)(5,Hlt,7,4,"div",90)(6,Blt,11,6,"div",90),u()),2&t){let e;const i=n.formGroup,o=p();m("formGroup",i),_(2),m("horizontal",!0)("items",o.actionTypeOptions),_(),P((e=i.get("type").value)===o.WorkflowActionType.Assignment?3:e===o.WorkflowActionType.Removal?4:e===o.WorkflowActionType.Email?5:e===o.WorkflowActionType.Webhook?6:-1)}}const jlt=[{id:Wg.ConsumeFolder,name:"\u0645\u062C\u0644\u062F \u0627\u0644\u0627\u0633\u062A\u0647\u0644\u0627\u0643"},{id:Wg.ApiUpload,name:"\u062A\u062D\u0645\u064A\u0644 API"},{id:Wg.MailFetch,name:"\u062C\u0644\u0628 \u0627\u0644\u0628\u0631\u064A\u062F"},{id:Wg.WebUI,name:"Web UI"}],Zlt=[{id:Ch.Added,name:"\u0623\u0636\u064A\u0641"},{id:Ch.Created,name:"\u0623\u064F\u0646\u0634\u0626"},{id:Ch.Modified,name:"\u062A\u0639\u062F\u064A\u0644"},{id:Ch.CustomField,name:"Custom Field"}],LB=[{id:j5.Consumption,name:"\u0628\u062F\u0623 \u0627\u0644\u0627\u0633\u062A\u0647\u0644\u0627\u0643"},{id:j5.DocumentAdded,name:"\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F"},{id:j5.DocumentUpdated,name:"\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0633\u062A\u0646\u062F"},{id:j5.Scheduled,name:"Scheduled"}],RB=[{id:B1.Assignment,name:"\u0627\u0644\u0648\u0627\u062C\u0628\u0627\u062A"},{id:B1.Removal,name:"\u0627\u0644\u0625\u0632\u0627\u0644\u0629"},{id:B1.Email,name:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"},{id:B1.Webhook,name:"Webhook"}],Wlt=jw.filter(t=>6!==t.id);let xB=(()=>{class t extends v0{constructor(){super(),this.WorkflowTriggerType=j5,this.WorkflowActionType=B1,this.expandedItem=null,this.allowedActionTypes=[],this.service=M(IB),this.correspondentService=M(ol),this.documentTypeService=M(sl),this.storagePathService=M(nc),this.mailRuleService=M(Jw),this.userService=M(vs),this.settingsService=M(Gn),this.customFieldsService=M(g1),this.correspondentService.listAll().pipe(ut()).subscribe(e=>this.correspondents=e.results),this.documentTypeService.listAll().pipe(ut()).subscribe(e=>this.documentTypes=e.results),this.storagePathService.listAll().pipe(ut()).subscribe(e=>this.storagePaths=e.results),this.mailRuleService.listAll().pipe(ut()).subscribe(e=>this.mailRules=e.results),this.customFieldsService.listAll().pipe(ut()).subscribe(e=>{this.customFields=e.results,this.dateCustomFields=this.customFields?.filter(i=>i.data_type===Pi.Date)})}getCreateTitle(){return "\u0625\u0646\u0634\u0627\u0621 \u0633\u064A\u0631 \u0639\u0645\u0644 \u062C\u062F\u064A\u062F"}getEditTitle(){return "\u062A\u062D\u0631\u064A\u0631 \u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644"}getForm(){return new ti({name:new re(null),order:new re(null),enabled:new re(!0),triggers:new p2([]),actions:new p2([])})}getMatchingAlgorithms(){return Wlt}ngOnInit(){super.ngOnInit(),this.updateAllTriggerActionFields(),this.objectForm.valueChanges.subscribe(this.checkRemovalActionFields.bind(this)),this.checkRemovalActionFields(this.objectForm.value),this.allowedActionTypes=this.settingsService.get(Ce.EMAIL_ENABLED)?RB:RB.filter(e=>e.id!==B1.Email)}checkRemovalActionFields(e){e.actions.filter(i=>i.type===B1.Removal).forEach((i,o)=>{i.remove_all_tags?this.actionFields.at(o).get("remove_tags").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_tags").enable({emitEvent:!1}),i.remove_all_document_types?this.actionFields.at(o).get("remove_document_types").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_document_types").enable({emitEvent:!1}),i.remove_all_correspondents?this.actionFields.at(o).get("remove_correspondents").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_correspondents").enable({emitEvent:!1}),i.remove_all_storage_paths?this.actionFields.at(o).get("remove_storage_paths").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_storage_paths").enable({emitEvent:!1}),i.remove_all_custom_fields?this.actionFields.at(o).get("remove_custom_fields").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_custom_fields").enable({emitEvent:!1}),i.remove_all_owners?this.actionFields.at(o).get("remove_owners").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_owners").enable({emitEvent:!1}),i.remove_all_permissions?(this.actionFields.at(o).get("remove_view_users").disable({emitEvent:!1}),this.actionFields.at(o).get("remove_view_groups").disable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_users").disable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_groups").disable({emitEvent:!1})):(this.actionFields.at(o).get("remove_view_users").enable({emitEvent:!1}),this.actionFields.at(o).get("remove_view_groups").enable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_users").enable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_groups").enable({emitEvent:!1}))})}get triggerFields(){return this.objectForm.get("triggers")}get actionFields(){return this.objectForm.get("actions")}createTriggerField(e,i=!1){this.triggerFields.push(new ti({id:new re(e.id),type:new re(e.type),sources:new re(e.sources),filter_filename:new re(e.filter_filename),filter_path:new re(e.filter_path),filter_mailrule:new re(e.filter_mailrule),matching_algorithm:new re(e.matching_algorithm),match:new re(e.match),is_insensitive:new re(e.is_insensitive),filter_has_tags:new re(e.filter_has_tags),filter_has_correspondent:new re(e.filter_has_correspondent),filter_has_document_type:new re(e.filter_has_document_type),filter_has_storage_path:new re(e.filter_has_storage_path),schedule_offset_days:new re(e.schedule_offset_days),schedule_is_recurring:new re(e.schedule_is_recurring),schedule_recurring_interval_days:new re(e.schedule_recurring_interval_days),schedule_date_field:new re(e.schedule_date_field),schedule_date_custom_field:new re(e.schedule_date_custom_field)}),{emitEvent:i})}createActionField(e,i=!1){this.actionFields.push(new ti({id:new re(e.id),type:new re(e.type),assign_title:new re(e.assign_title),assign_tags:new re(e.assign_tags),assign_owner:new re(e.assign_owner),assign_document_type:new re(e.assign_document_type),assign_correspondent:new re(e.assign_correspondent),assign_storage_path:new re(e.assign_storage_path),assign_view_users:new re(e.assign_view_users),assign_view_groups:new re(e.assign_view_groups),assign_change_users:new re(e.assign_change_users),assign_change_groups:new re(e.assign_change_groups),assign_custom_fields:new re(e.assign_custom_fields),assign_custom_fields_values:new re(e.assign_custom_fields_values),remove_tags:new re(e.remove_tags),remove_all_tags:new re(e.remove_all_tags),remove_document_types:new re(e.remove_document_types),remove_all_document_types:new re(e.remove_all_document_types),remove_correspondents:new re(e.remove_correspondents),remove_all_correspondents:new re(e.remove_all_correspondents),remove_storage_paths:new re(e.remove_storage_paths),remove_all_storage_paths:new re(e.remove_all_storage_paths),remove_owners:new re(e.remove_owners),remove_all_owners:new re(e.remove_all_owners),remove_view_users:new re(e.remove_view_users),remove_view_groups:new re(e.remove_view_groups),remove_change_users:new re(e.remove_change_users),remove_change_groups:new re(e.remove_change_groups),remove_all_permissions:new re(e.remove_all_permissions),remove_custom_fields:new re(e.remove_custom_fields),remove_all_custom_fields:new re(e.remove_all_custom_fields),email:new ti({id:new re(e.email?.id),subject:new re(e.email?.subject),body:new re(e.email?.body),to:new re(e.email?.to),include_document:new re(!!e.email?.include_document)}),webhook:new ti({id:new re(e.webhook?.id),url:new re(e.webhook?.url),use_params:new re(e.webhook?.use_params),as_json:new re(e.webhook?.as_json),params:new re(e.webhook?.params),body:new re(e.webhook?.body),headers:new re(e.webhook?.headers),include_document:new re(!!e.webhook?.include_document)})}),{emitEvent:i})}updateAllTriggerActionFields(e=!1){this.triggerFields.clear({emitEvent:!1}),this.object?.triggers.forEach(i=>{this.createTriggerField(i,e)}),this.actionFields.clear({emitEvent:!1}),this.object?.actions.forEach(i=>{this.createActionField(i,e)})}get sourceOptions(){return jlt}get triggerTypeOptions(){return LB}get scheduleDateFieldOptions(){return Zlt}getTriggerTypeOptionName(e){return this.triggerTypeOptions.find(i=>i.id===e)?.name??""}addTrigger(){this.object||(this.object=Object.assign({},this.objectForm.value));const e={type:j5.Consumption,sources:[],filter_filename:null,filter_path:null,filter_mailrule:null,filter_has_tags:[],filter_has_correspondent:null,filter_has_document_type:null,filter_has_storage_path:null,matching_algorithm:0,match:"",is_insensitive:!0,schedule_offset_days:0,schedule_is_recurring:!1,schedule_recurring_interval_days:1,schedule_date_field:Ch.Added,schedule_date_custom_field:null};this.object.triggers.push(e),this.createTriggerField(e)}get actionTypeOptions(){return this.allowedActionTypes}getActionTypeOptionName(e){return this.actionTypeOptions.find(i=>i.id===e)?.name??""}addAction(){this.object||(this.object=Object.assign({},this.objectForm.value));const e={type:B1.Assignment,assign_title:null,assign_tags:[],assign_document_type:null,assign_correspondent:null,assign_storage_path:null,assign_owner:null,assign_view_users:[],assign_view_groups:[],assign_change_users:[],assign_change_groups:[],assign_custom_fields:[],assign_custom_fields_values:{},remove_tags:[],remove_all_tags:!1,remove_document_types:[],remove_all_document_types:!1,remove_correspondents:[],remove_all_correspondents:!1,remove_storage_paths:[],remove_all_storage_paths:!1,remove_owners:[],remove_all_owners:!1,remove_view_users:[],remove_view_groups:[],remove_change_users:[],remove_change_groups:[],remove_all_permissions:!1,remove_custom_fields:[],remove_all_custom_fields:!1,email:{id:null,subject:null,body:null,to:null,include_document:!1},webhook:{id:null,url:null,use_params:!0,as_json:!1,params:null,body:null,headers:null,include_document:!1}};this.object.actions.push(e),this.createActionField(e)}removeTrigger(e){this.object.triggers.splice(e,1).pop(),this.triggerFields.removeAt(e)}removeAction(e){this.object.actions.splice(e,1),this.actionFields.removeAt(e)}onActionDrop(e){qc(this.object.actions,e.previousIndex,e.currentIndex);const i=this.actionFields.at(e.previousIndex);this.actionFields.removeAt(e.previousIndex),this.actionFields.insert(e.currentIndex,i),this.object.actions.forEach(o=>o.id=null),this.actionFields.controls.forEach(o=>o.get("id").setValue(null,{emitEvent:!1}))}save(){this.objectForm.get("actions").value.forEach((e,i)=>{e.type!==B1.Webhook&&(e.webhook=null),e.type!==B1.Email&&(e.email=null)}),super.save()}removeSelectedCustomField(e,i){i.get("assign_custom_fields").setValue(i.get("assign_custom_fields").value.filter(o=>o!==e))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-workflow-edit-dialog"]],features:[at],decls:39,vars:11,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,pe,le,fe,ke,Dt,it,Ft,Yt,Qt,We,kt,ri,Si,ai,et,Yn,Yi,Hi,Ei,wt,Gi,Ms,pr,zr,Ba,nn,T0,w0,on,cc,ed,td,Ua,b0,dc,hc,cl,uc,_c,gc,pc,qg,Yg,Qg,Jg,ep,tp,np,ip,Pt,JB,eU,tU,nU,iU,oU,sU,rU,aU,lU,cU,dU,hU,uU,_U,gU;return e="\u0627\u0633\u0645",i="\u062A\u0633\u0644\u0633\u0644 \u0627\u0644\u062A\u0631\u062A\u064A\u0628",o="\u0645\u064F\u0645\u064E\u0643\u0651\u0646",s="\u0627\u0644\u0645\u0634\u063A\u0644\u0627\u062A",r="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",a="\u0625\u0644\u063A\u0627\u0621",l="\u062D\u0641\u0638",c="\u062A\u0634\u063A\u064A\u0644 \u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644 \u0639\u0644\u0649:",h="\u0625\u0636\u0627\u0641\u0629 \u0645\u0634\u063A\u0644",g="\u062D\u0630\u0641",f="\u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A:",v="\u0625\u0636\u0627\u0641\u0629 \u0625\u062C\u0631\u0627\u0621",C="\u062D\u0630\u0641",S="\u062E\u0637\u0623",D="\u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u063A\u0644",I="\u062A\u0635\u0641\u064A\u0629 \u0627\u0633\u0645 \u0627\u0644\u0645\u0650\u0644\u064E\u0641\u0651",L="\u062A\u0637\u0628\u0642 \u0641\u0642\u0637 \u0639\u0644\u0649 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u0637\u0627\u0628\u0642 \u0627\u0633\u0645 \u0647\u0630\u0627 \u0627\u0644\u0645\u0650\u0644\u064E\u0641\u0651. \u0627\u0644\u0645\u062D\u0627\u0631\u0641 \u0627\u0644\u0628\u062F\u064A\u0644\u0629 \u0639\u0644\u0649 \u0633\u0628\u064A\u0644 \u0627\u0644\u0645\u062B\u0627\u0644 *.pdf \u0623\u0648 *invoice* \u0645\u0633\u0645\u0648\u062D \u0628\u0647\u0627. \u063A\u064A\u0631 \u062D\u0633\u0627\u0633\u0629 \u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u0623\u062D\u0631\u0641.",G="\u0645\u0634\u063A\u0644 \u0644\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u0637\u0627\u0628\u0642 " + "\ufffd#6\ufffd" + "\u062C\u0645\u064A\u0639" + "\ufffd/#6\ufffd" + " \u0639\u0648\u0627\u0645\u0644 \u0627\u0644\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0623\u062F\u0646\u0627\u0647.",R="Offset days",J="Positive values will trigger after the date, negative values before.",se="Relative to",ve="Recurring",pe="Trigger is recurring.",le="Recurring interval days",fe="Repeat the trigger every n days.",ke="Set scheduled trigger offset and which date field to use.",Dt="Custom field",it="Custom field to use for date.",Ft="\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0645\u0635\u0627\u062F\u0631",Yt="\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0645\u0633\u0627\u0631",Qt="\u062A\u0646\u0637\u0628\u0642 \u0639\u0644\u0649 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u0637\u0627\u0628\u0642 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u0627\u0631. \u064A\u0633\u0645\u062D \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0623\u062D\u0631\u0641 \u0627\u0644\u0628\u062F\u0644 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0643\u0640 *. \u062A\u0637\u0628\u064A\u0639 \u0627\u0644\u062D\u0627\u0644\u0629.</a>",We="\u062A\u0635\u0641\u064A\u0629 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u0631\u064A\u062F",kt="\u062A\u0637\u0628\u064A\u0642 \u0639\u0644\u0649 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u0647\u0644\u0643\u0629 \u0639\u0628\u0631 \u0647\u0630\u0647 \u0627\u0644\u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u0631\u064A\u062F\u064A\u0629.",ri="\u062E\u0648\u0627\u0631\u0632\u0645\u064A\u0629 \u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u0645\u062D\u062A\u0648\u0649",Si="\u0646\u0645\u0637 \u0645\u0637\u0627\u0628\u0642\u0629 \u0627\u0644\u0645\u062D\u062A\u0648\u0649",ai="\u062D\u0627\u0644\u0629 \u063A\u064A\u0631 \u062D\u0633\u0627\u0633\u0629",et="\u0644\u062F\u064A\u0647 \u0623\u064A \u0645\u0646 \u0627\u0644\u0648\u0633\u0648\u0645",Yn="\u0644\u062F\u064A\u0647 \u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644",Yi="\u0644\u062F\u064A\u0647 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",Hi="Has storage path",Ei="\u0646\u0648\u0639 \u0627\u0644\u0625\u062C\u0631\u0627\u0621",wt="\u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0639\u0646\u0648\u0627\u0646",Gi="\u064A\u0645\u0643\u0646 \u0623\u0646 \u062A\u062A\u0636\u0645\u0646 \u0628\u0639\u0636 \u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0646\u0627\u0626\u0628\u0629\u060C \u0631\u0627\u062C\u0639 <a target='_blank' href='https://docs.paperless-ngx.com/usage/#workflows'>\u0627\u0644\u062A\u0648\u062B\u064A\u0642</a>.",Ms="\u062A\u0639\u064A\u064A\u0646 \u0648\u0633\u0648\u0645",pr="\u062A\u0639\u064A\u064A\u0646 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",zr="\u062A\u0639\u064A\u064A\u0646 \u062C\u0647\u0629 \u062A\u0631\u0627\u0633\u0644",Ba="\u062A\u0639\u064A\u064A\u0646 \u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",nn="\u062A\u0639\u064A\u064A\u0646 \u062D\u0642\u0648\u0644 \u0645\u062E\u0635\u0635\u0629",T0="\u062A\u0639\u064A\u064A\u0646 \u0645\u0627\u0644\u0643",w0="\u062A\u0639\u064A\u064A\u0646 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0639\u0631\u0636",on="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646:",cc="\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A:",ed="\u062A\u0639\u064A\u064A\u0646 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u062A\u062D\u0631\u064A\u0631",td="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646:",Ua="\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A:",b0="\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0643\u0645\u0627 \u064A\u0645\u0646\u062D \u0623\u064A\u0636\u0627 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0639\u0631\u0636",dc="\u0623\u0632\u0627\u0644\u0647 \u0627\u0644\u0643\u0644",hc="\u0623\u0632\u0627\u0644\u0647 \u0627\u0644\u0643\u0644",cl="\u0623\u0632\u0627\u0644\u0647 \u0627\u0644\u0643\u0644",uc="\u0623\u0632\u0627\u0644\u0647 \u0627\u0644\u0643\u0644",_c="\u0623\u0632\u0627\u0644\u0647 \u0627\u0644\u0643\u0644",gc="\u0623\u0632\u0627\u0644\u0647 \u0627\u0644\u0643\u0644",pc="\u0623\u0632\u0627\u0644\u0647 \u0627\u0644\u0643\u0644",qg="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0648\u0633\u0648\u0645",Yg="\u0625\u0632\u0627\u0644\u0629 \u062C\u0647\u0627\u062A \u0627\u0644\u062A\u0631\u0627\u0633\u0644",Qg="\u0625\u0632\u0627\u0644\u0629 \u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",Jg="\u0625\u0632\u0627\u0644\u0629 \u0645\u0633\u0627\u0631\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646",ep="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u062E\u0635\u0635\u0629",tp="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0645\u064F\u0644\u064B\u0627\u0643",np="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",ip="\u0639\u0631\u0636 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",Pt="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646:",JB="\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A:",eU="\u062A\u062D\u0631\u064A\u0631 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",tU="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646:",nU="\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A:",iU="\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0643\u0645\u0627 \u064A\u0645\u0646\u062D \u0623\u064A\u0636\u0627 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0639\u0631\u0636",oU="Email subject",sU="Email body",rU="Email recipients",aU="Attach document",lU="Webhook url",cU="Use parameters for webhook body",dU="Send webhook payload as JSON",hU="Webhook params",uU="Webhook body",_U="Webhook headers",gU="Include document",[["triggerForm",""],["actionForm",""],s,r,a,l,c,h,f,v,S,G,ke,w0,on,cc,ed,td,Ua,b0,qg,Yg,Qg,Jg,ep,tp,np,ip,Pt,JB,eU,tU,nU,iU,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],["title",e,"formControlName","name","autocomplete","off",3,"error"],[1,"col-4"],["title",i,"formControlName","order",3,"showAdd","error"],[1,"col"],["title",o,"formControlName","enabled",3,"error"],["ngbAccordion",""],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["ngbAccordionButton","",1,"btn-lg"],[1,"modal-footer"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["let","","action","action"],[1,"d-flex"],[1,"p-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-auto","mb-3",3,"click"],["name","plus-circle"],["ngbAccordion","",3,"closeOthers"],["label",g,"buttonClasses","btn-link text-danger ms-2","iconName","trash",3,"confirm"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["ngbAccordion","","cdkDropList","",3,"cdkDropListDropped","closeOthers"],["ngbAccordionItem","","cdkDrag","",3,"formGroup"],["label",C,"buttonClasses","btn-link text-danger ms-2","iconName","trash",3,"confirm"],[3,"formGroup"],["type","hidden","formControlName","id"],["title",D,"formControlName","type",3,"horizontal","items"],[1,"small"],["title",I,"formControlName","filter_filename","hint",L,3,"error"],["title",R,"formControlName","schedule_offset_days","hint",J,3,"showAdd","error"],["title",se,"formControlName","schedule_date_field",3,"items","error"],["title",ve,"formControlName","schedule_is_recurring","hint",pe,3,"error"],["title",le,"formControlName","schedule_recurring_interval_days","hint",fe,3,"showAdd","error"],["title",Dt,"formControlName","schedule_date_custom_field","hint",it,3,"items","error"],["title",Ft,"formControlName","sources",3,"items","multiple","error"],["title",Yt,"formControlName","filter_path","hint",Qt,3,"error"],["title",We,"formControlName","filter_mailrule","hint",kt,3,"items","allowNull","error"],["title",ri,"formControlName","matching_algorithm",3,"items"],["title",Si,"formControlName","match",3,"error"],["title",ai,"formControlName","is_insensitive"],["title",et,"formControlName","filter_has_tags",3,"allowCreate"],["title",Yn,"formControlName","filter_has_correspondent",3,"items","allowNull"],["title",Yi,"formControlName","filter_has_document_type",3,"items","allowNull"],["title",Hi,"formControlName","filter_has_storage_path",3,"items","allowNull"],["title",Ei,"formControlName","type",3,"horizontal","items"],[1,"row",3,"formGroup"],["title",wt,"formControlName","assign_title","hint",Gi,3,"error"],["title",Ms,"formControlName","assign_tags",3,"allowCreate"],["title",pr,"formControlName","assign_document_type",3,"items","allowNull"],["title",zr,"formControlName","assign_correspondent",3,"items","allowNull"],["title",Ba,"formControlName","assign_storage_path",3,"items","allowNull"],["title",nn,"multiple","true","formControlName","assign_custom_fields",3,"items","allowNull"],["formControlName","assign_custom_fields_values",3,"removeSelectedField","selectedFields"],["title",T0,"bindLabel","username","formControlName","assign_owner",3,"items","allowNull"],[1,"form-label"],[1,"mb-2"],[1,"row","mb-1"],[1,"col-lg-3"],[1,"form-label","d-block","my-2","text-nowrap"],[1,"col-lg-9"],["type","view","formControlName","assign_view_users"],["type","view","formControlName","assign_view_groups"],["type","change","formControlName","assign_change_users"],["type","change","formControlName","assign_change_groups"],[1,"form-text","text-muted","text-end","d-block"],["title",dc,"formControlName","remove_all_tags",3,"horizontal"],[1,"mt-n3"],["title","","formControlName","remove_tags",3,"allowCreate"],["title",hc,"formControlName","remove_all_correspondents",3,"horizontal"],["title","","multiple","true","formControlName","remove_correspondents",3,"items"],["title",cl,"formControlName","remove_all_document_types",3,"horizontal"],["title","","multiple","true","formControlName","remove_document_types",3,"items"],["title",uc,"formControlName","remove_all_storage_paths",3,"horizontal"],["title","","multiple","true","formControlName","remove_storage_paths",3,"items"],["title",_c,"formControlName","remove_all_custom_fields",3,"horizontal"],["title","","multiple","true","formControlName","remove_custom_fields",3,"items"],["title",gc,"formControlName","remove_all_owners",3,"horizontal"],["title","","multiple","true","bindLabel","username","formControlName","remove_owners",3,"items"],["title",pc,"formControlName","remove_all_permissions",3,"horizontal"],["type","view","formControlName","remove_view_users"],["type","view","formControlName","remove_view_groups"],["type","change","formControlName","remove_change_users"],["type","change","formControlName","remove_change_groups"],["title",oU,"formControlName","subject",3,"error"],["title",sU,"formControlName","body",3,"error"],["title",rU,"formControlName","to",3,"error"],["title",aU,"formControlName","include_document"],["title",lU,"formControlName","url",3,"error"],["title",cU,"formControlName","use_params",3,"horizontal"],["title",dU,"formControlName","as_json",1,"ms-5",3,"horizontal"],["title",hU,"formControlName","params",3,"error"],["title",uU,"formControlName","body",3,"error"],["title",_U,"formControlName","headers",3,"error"],["title",gU,"formControlName","include_document"]]},template:function(i,o){if(1&i){const s=k();d(0,"form",34),E("ngSubmit",function(){return T(s),w(o.save())}),d(1,"div",35)(2,"h4",36),N(3),u(),y(4,Clt,2,1,"span",37),d(5,"button",38),E("click",function(){return T(s),w(o.cancel())}),u()(),d(6,"div",39)(7,"div",40)(8,"div",41),O(9,"pngx-input-text",42),u(),d(10,"div",43),O(11,"pngx-input-number",44),u(),d(12,"div",45),O(13,"pngx-input-switch",46),u()(),d(14,"div",47)(15,"div",48)(16,"h2",49)(17,"button",50),b(18,2),u()(),d(19,"div",51)(20,"div",52),ce(21,blt,11,1,"ng-template"),u()()(),d(22,"div",48)(23,"h2",49)(24,"button",53),b(25,3),u()(),d(26,"div",51)(27,"div",52),ce(28,Alt,11,1,"ng-template"),u()()()()(),d(29,"div",54),y(30,Nlt,4,1,"span",55),d(31,"button",56),E("click",function(){return T(s),w(o.cancel())}),b(32,4),u(),d(33,"button",57),b(34,5),u()()(),ce(35,klt,13,8,"ng-template",null,0,xt)(37,Ult,7,4,"ng-template",58,1,xt)}2&i&&(m("formGroup",o.objectForm),_(3),oe(o.getTitle()),_(),P(null!=o.object&&o.object.id?4:-1),_(),m("disabled",!o.closeEnabled),_(4),m("error",null==o.error?null:o.error.name),_(2),m("showAdd",!1)("error",null==o.error?null:o.error.order),_(2),m("error",null==o.error?null:o.error.enabled),_(17),P(null!=o.error&&o.error.non_field_errors?30:-1),_(),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive))},dependencies:[p1,flt,L4,F5,qs,Rr,Vg,Xw,hlt,Rw,xw,i8,$t,Do,Ci,Gt,Co,Wt,ao,Mo,r5,S_,s5,I1,E_,b_,T2,Ao,a2,r2,s2,Bt,en],styles:[".btn.text-danger[_ngcontent-%COMP%]:hover, .btn.text-danger[_ngcontent-%COMP%]:focus{color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.accordion-button[_ngcontent-%COMP%]{font-size:1rem}"]})}return t})();const Xlt=["searchInput"],Klt=["resultsDropdown"],qlt=["resultItem"],Ylt=["primaryButton"],Qlt=["secondaryButton"],Jlt=(t,n,e)=>({item:t,nameProp:"title",type:n,icon:"file-text",date:e}),ect=(t,n)=>({item:t,nameProp:"name",type:n,icon:"funnel"}),tct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"tag"}),nct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"person"}),ict=(t,n)=>({item:t,nameProp:"name",type:n,icon:"file-earmark"}),oct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"folder"}),sct=(t,n)=>({item:t,nameProp:"username",type:n,icon:"person-square"}),rct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"people"}),act=(t,n)=>({item:t,nameProp:"name",type:n,icon:"ui-radios"}),lct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"envelope-at"}),cct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"envelope"}),dct=(t,n)=>({item:t,nameProp:"name",type:n,icon:"boxes"}),f1=(t,n)=>n.id;function hct(t,n){1&t&&O(0,"div",34)}function uct(t,n){1&t&&(ge(0),b(1,6),ue())}function _ct(t,n){1&t&&(ge(0),b(1,7),ue())}function gct(t,n){if(1&t){const e=k();d(0,"button",39),E("click",function(){return T(e),w(p().runFullSearch())}),y(1,uct,2,0,"ng-container")(2,_ct,2,0,"ng-container"),O(3,"i-bs",40),u()}if(2&t){const e=p();_(),P(e.useAdvancedForFullSearch?1:2)}}function pct(t,n){if(1&t&&(d(0,"small",44),N(1),Fe(2,"customDate"),u()),2&t){const e=p().date;_(),oe(lt(2,1,e))}}function fct(t,n){1&t&&(O(0,"i-bs",48),d(1,"span"),N(2,"\xa0"),ge(3),b(4,8),ue(),u())}function mct(t,n){1&t&&(O(0,"i-bs",49),d(1,"span"),N(2,"\xa0"),ge(3),b(4,9),ue(),u())}function vct(t,n){1&t&&(O(0,"i-bs",50),d(1,"span"),N(2,"\xa0"),ge(3),b(4,10),ue(),u())}function Cct(t,n){1&t&&(O(0,"i-bs",51),d(1,"span"),N(2,"\xa0"),ge(3),b(4,11),ue(),u())}function Mct(t,n){1&t&&(O(0,"i-bs",52),d(1,"span"),N(2,"\xa0"),ge(3),b(4,12),ue(),u())}function Tct(t,n){1&t&&(O(0,"i-bs",48),d(1,"span"),N(2,"\xa0"),ge(3),b(4,13),ue(),u())}function wct(t,n){if(1&t){const e=k();d(0,"button",46,5),E("click",function(o){T(e);const s=p(),r=s.item,a=s.type;return p().secondaryAction(a,r,o),w(o.stopImmediatePropagation())})("keydown",function(o){return T(e),w(p(2).onButtonKeyDown(o))})("mouseenter",function(o){return T(e),w(p(2).onButtonHover(o))}),y(2,Mct,5,0)(3,Tct,5,0),u()}if(2&t){const e=p(),i=e.item,o=e.type,s=p();m("disabled",s.disableSecondaryButton(o,i)),_(2),P(o===s.DataType.Document?2:3)}}function bct(t,n){if(1&t){const e=k();d(0,"div",41,3),E("click",function(o){const s=T(e),r=s.item,a=s.type;return w(p().primaryAction(a,r,o))})("mouseenter",function(o){return T(e),w(p().onItemHover(o))}),O(2,"i-bs",42),d(3,"div",43),N(4),y(5,pct,3,3,"small",44),u(),d(6,"div",45)(7,"button",46,4),E("click",function(o){const s=T(e),r=s.item,a=s.type;return p().primaryAction(a,r,o),w(o.stopImmediatePropagation())})("keydown",function(o){return T(e),w(p().onButtonKeyDown(o))})("mouseenter",function(o){return T(e),w(p().onButtonHover(o))}),y(9,fct,5,0)(10,mct,5,0)(11,vct,5,0)(12,Cct,5,0),u(),y(13,wct,4,2,"button",47),u()()}if(2&t){const e=n.item,i=n.nameProp,o=n.type,s=n.icon,r=n.date,a=p();_(2),m("name",ni(s)),_(2),He(" ",e[i]," "),_(),P(r?5:-1),_(2),m("disabled",a.disablePrimaryButton(o,e)),_(2),P(o===a.DataType.Document?9:o===a.DataType.SavedView?10:o===a.DataType.Workflow||o===a.DataType.CustomField||o===a.DataType.Group||o===a.DataType.User||o===a.DataType.MailAccount||o===a.DataType.MailRule?11:12),_(4),P(o!==a.DataType.SavedView&&o!==a.DataType.Workflow&&o!==a.DataType.CustomField&&o!==a.DataType.Group&&o!==a.DataType.User&&o!==a.DataType.MailAccount&&o!==a.DataType.MailRule?13:-1)}}function Sct(t,n){1&t&&(d(0,"h6",38),b(1,14),u())}function Ect(t,n){1&t&&Mn(0)}function Oct(t,n){if(1&t&&ce(0,Ect,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",Wc(2,Jlt,e,i.DataType.Document,e.created))}}function Act(t,n){if(1&t&&(d(0,"h6",38),b(1,15),u(),Ke(2,Oct,1,6,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.documents)}}function Nct(t,n){1&t&&Mn(0)}function Dct(t,n){if(1&t&&ce(0,Nct,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",$e(2,ect,e,i.DataType.SavedView))}}function yct(t,n){if(1&t&&(d(0,"h6",38),b(1,16),u(),Ke(2,Dct,1,5,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.saved_views)}}function Pct(t,n){1&t&&Mn(0)}function Ict(t,n){if(1&t&&ce(0,Pct,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",$e(2,tct,e,i.DataType.Tag))}}function Lct(t,n){if(1&t&&(d(0,"h6",38),b(1,17),u(),Ke(2,Ict,1,5,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.tags)}}function Rct(t,n){1&t&&Mn(0)}function xct(t,n){if(1&t&&ce(0,Rct,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",$e(2,nct,e,i.DataType.Correspondent))}}function Fct(t,n){if(1&t&&(d(0,"h6",38),b(1,18),u(),Ke(2,xct,1,5,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.correspondents)}}function kct(t,n){1&t&&Mn(0)}function zct(t,n){if(1&t&&ce(0,kct,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",$e(2,ict,e,i.DataType.DocumentType))}}function Vct(t,n){if(1&t&&(d(0,"h6",38),b(1,19),u(),Ke(2,zct,1,5,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.document_types)}}function Hct(t,n){1&t&&Mn(0)}function Gct(t,n){if(1&t&&ce(0,Hct,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",$e(2,oct,e,i.DataType.StoragePath))}}function $ct(t,n){if(1&t&&(d(0,"h6",38),b(1,20),u(),Ke(2,Gct,1,5,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.storage_paths)}}function Bct(t,n){1&t&&Mn(0)}function Uct(t,n){if(1&t&&ce(0,Bct,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",$e(2,sct,e,i.DataType.User))}}function jct(t,n){if(1&t&&(d(0,"h6",38),b(1,21),u(),Ke(2,Uct,1,5,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.users)}}function Zct(t,n){1&t&&Mn(0)}function Wct(t,n){if(1&t&&ce(0,Zct,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",$e(2,rct,e,i.DataType.Group))}}function Xct(t,n){if(1&t&&(d(0,"h6",38),b(1,22),u(),Ke(2,Wct,1,5,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.groups)}}function Kct(t,n){1&t&&Mn(0)}function qct(t,n){if(1&t&&ce(0,Kct,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",$e(2,act,e,i.DataType.CustomField))}}function Yct(t,n){if(1&t&&(d(0,"h6",38),b(1,23),u(),Ke(2,qct,1,5,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.custom_fields)}}function Qct(t,n){1&t&&Mn(0)}function Jct(t,n){if(1&t&&ce(0,Qct,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",$e(2,lct,e,i.DataType.MailAccount))}}function e5t(t,n){if(1&t&&(d(0,"h6",38),b(1,24),u(),Ke(2,Jct,1,5,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.mail_accounts)}}function t5t(t,n){1&t&&Mn(0)}function n5t(t,n){if(1&t&&ce(0,t5t,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",$e(2,cct,e,i.DataType.MailRule))}}function i5t(t,n){if(1&t&&(d(0,"h6",38),b(1,25),u(),Ke(2,n5t,1,5,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.mail_rules)}}function o5t(t,n){1&t&&Mn(0)}function s5t(t,n){if(1&t&&ce(0,o5t,1,0,"ng-container",53),2&t){const e=n.$implicit,i=p(3);m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",$e(2,dct,e,i.DataType.Workflow))}}function r5t(t,n){if(1&t&&(d(0,"h6",38),b(1,26),u(),Ke(2,s5t,1,5,"ng-container",null,f1)),2&t){const e=p(2);_(2),qe(e.searchResults.workflows)}}function a5t(t,n){if(1&t&&(y(0,Act,4,0),y(1,yct,4,0),y(2,Lct,4,0),y(3,Fct,4,0),y(4,Vct,4,0),y(5,$ct,4,0),y(6,jct,4,0),y(7,Xct,4,0),y(8,Yct,4,0),y(9,e5t,4,0),y(10,i5t,4,0),y(11,r5t,4,0)),2&t){const e=p();P(null!=e.searchResults&&e.searchResults.documents.length?0:-1),_(),P(null!=e.searchResults&&e.searchResults.saved_views.length?1:-1),_(),P(null!=e.searchResults&&e.searchResults.tags.length?2:-1),_(),P(null!=e.searchResults&&e.searchResults.correspondents.length?3:-1),_(),P(null!=e.searchResults&&e.searchResults.document_types.length?4:-1),_(),P(null!=e.searchResults&&e.searchResults.storage_paths.length?5:-1),_(),P(null!=e.searchResults&&e.searchResults.users.length?6:-1),_(),P(null!=e.searchResults&&e.searchResults.groups.length?7:-1),_(),P(null!=e.searchResults&&e.searchResults.custom_fields.length?8:-1),_(),P(null!=e.searchResults&&e.searchResults.mail_accounts.length?9:-1),_(),P(null!=e.searchResults&&e.searchResults.mail_rules.length?10:-1),_(),P(null!=e.searchResults&&e.searchResults.workflows.length?11:-1)}}let l5t=(()=>{class t{get useAdvancedForFullSearch(){return this.settingsService.get(Ce.SEARCH_FULL_TYPE)===E4.ADVANCED}constructor(){this.searchService=M(NB),this.router=M(ts),this.modalService=M(ps),this.documentService=M(Io),this.documentListViewService=M(z5),this.permissionsService=M(Ti),this.toastService=M(eo),this.hotkeyService=M(Fg),this.settingsService=M(Gn),this.locationStrategy=M(Dl),this.DataType=wn,this.currentItemIndex=-1,this.domIndex=-1,this.loading=!1,this.queryDebounce=new Be,this.queryDebounce.pipe(ra(400),ii(e=>!e?.length||e?.length>2),r1()).subscribe(e=>{this.query=e,e&&this.search(e)})}ngOnInit(){this.hotkeyService.addShortcut({keys:"/",description:"\u0627\u0644\u0628\u062D\u062B \u0627\u0644\u0639\u0627\u0645"}).subscribe(()=>{this.searchInput.nativeElement.focus()})}search(e){this.loading=!0,this.searchService.globalSearch(e.trim()).subscribe(i=>{this.searchResults=i,this.loading=!1,this.resultsDropdown.open()})}primaryAction(e,i,o=null){const s=o?.metaKey||o?.ctrlKey;this.reset(!0);let r,a,l="md";switch(e){case wn.Document:return void this.navigateOrOpenInNewWindow(["/documents",i.id],s);case wn.SavedView:return void this.navigateOrOpenInNewWindow(["/view",i.id],s);case wn.Correspondent:r=26;break;case wn.DocumentType:r=28;break;case wn.StoragePath:r=30;break;case wn.Tag:r=6;break;case wn.User:a=AB,l="lg";break;case wn.Group:a=OB,l="lg";break;case wn.MailAccount:a=yB,l="xl";break;case wn.MailRule:a=PB,l="xl";break;case wn.CustomField:a=Z4;break;case wn.Workflow:a=xB,l="xl"}if(r){let c=Iw({filterRules:[{rule_type:r,value:i.id.toString()}],currentPage:1,sortField:this.documentListViewService.sortField??"created",sortReverse:this.documentListViewService.sortReverse});this.navigateOrOpenInNewWindow(["/documents"],s,{queryParams:c})}else if(a){const c=this.modalService.open(a,{size:l});c.componentInstance.dialogMode=wi.EDIT,c.componentInstance.object=i,c.componentInstance.succeeded.subscribe(()=>{this.toastService.showInfo("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0643\u0627\u0626\u0646 \u0628\u0646\u062C\u0627\u062D.")}),c.componentInstance.failed.subscribe(h=>{this.toastService.showError("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0643\u0627\u0626\u0646.",h)})}}secondaryAction(e,i){let o;switch(this.reset(!0),e){case wn.Document:window.open(this.documentService.getDownloadUrl(i.id));break;case wn.Correspondent:o=W4;break;case wn.DocumentType:o=X4;break;case wn.StoragePath:o=K4;break;case wn.Tag:o=Y4}if(o){const r=this.modalService.open(o,{size:"md"});r.componentInstance.dialogMode=wi.EDIT,r.componentInstance.object=i,r.componentInstance.succeeded.subscribe(()=>{this.toastService.showInfo("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0643\u0627\u0626\u0646 \u0628\u0646\u062C\u0627\u062D.")}),r.componentInstance.failed.subscribe(a=>{this.toastService.showError("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0643\u0627\u0626\u0646.",a)})}}reset(e=!1){this.queryDebounce.next(null),this.query=null,this.searchResults=null,this.currentItemIndex=-1,e&&this.resultsDropdown.close()}setCurrentItem(){const e=this.resultItems.first.nativeElement.parentNode.querySelectorAll(".dropdown-item").item(this.currentItemIndex);this.domIndex=this.resultItems.toArray().indexOf(this.resultItems.find(o=>o.nativeElement===e)),this.primaryButtons.get(this.domIndex).nativeElement.focus()}onItemHover(e){const i=this.resultItems.toArray().find(o=>o.nativeElement===e.currentTarget);this.currentItemIndex=this.resultItems.toArray().indexOf(i),this.setCurrentItem()}onButtonHover(e){e.currentTarget.focus()}searchInputKeyDown(e){"ArrowDown"===e.key&&this.searchResults?.total&&this.resultsDropdown.isOpen()?(e.preventDefault(),this.currentItemIndex=0,this.setCurrentItem()):"ArrowUp"===e.key&&this.searchResults?.total&&this.resultsDropdown.isOpen()?(e.preventDefault(),this.currentItemIndex=this.searchResults.total-1,this.setCurrentItem()):"Enter"===e.key?1===this.searchResults?.total&&this.resultsDropdown.isOpen()?(this.primaryButtons.first.nativeElement.click(),this.searchInput.nativeElement.blur()):this.query?.length&&(this.runFullSearch(),this.reset(!0)):"Escape"===e.key&&!this.resultsDropdown.isOpen()&&(this.query?.length?this.reset(!0):this.searchInput.nativeElement.blur())}dropdownKeyDown(e){this.searchResults?.total&&this.resultsDropdown.isOpen()&&document.activeElement!==this.searchInput.nativeElement&&("ArrowDown"===e.key?(e.preventDefault(),e.stopImmediatePropagation(),this.currentItemIndex<this.searchResults.total-1?(this.currentItemIndex++,this.setCurrentItem()):(this.searchInput.nativeElement.focus(),this.currentItemIndex=-1)):"ArrowUp"===e.key?(e.preventDefault(),e.stopImmediatePropagation(),this.currentItemIndex>0?(this.currentItemIndex--,this.setCurrentItem()):(this.searchInput.nativeElement.focus(),this.currentItemIndex=-1)):"ArrowRight"===e.key?(e.preventDefault(),e.stopImmediatePropagation(),this.secondaryButtons.get(this.domIndex)?.nativeElement.focus()):"ArrowLeft"===e.key?(e.preventDefault(),e.stopImmediatePropagation(),this.primaryButtons.get(this.domIndex).nativeElement.focus()):"Escape"===e.key&&(e.preventDefault(),e.stopImmediatePropagation(),this.reset(!0),this.searchInput.nativeElement.focus()))}onButtonKeyDown(e){"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&e.target.dispatchEvent(new MouseEvent("click",{ctrlKey:!0}))}onDropdownOpenChange(e){e||this.reset()}disablePrimaryButton(e,i){return!![wn.Workflow,wn.CustomField,wn.Group,wn.User].includes(e)&&!this.permissionsService.currentUserHasObjectPermissions(ft.Change,i)}disableSecondaryButton(e,i){return wn.Document!==e&&!this.permissionsService.currentUserHasObjectPermissions(ft.Change,i)}runFullSearch(){this.documentListViewService.quickFilter([{rule_type:this.useAdvancedForFullSearch?20:19,value:this.query}]),this.reset(!0)}navigateOrOpenInNewWindow(e,i=!1,o={}){if(i){const s=this.router.serializeUrl(this.router.createUrlTree(e,o)),a=this.locationStrategy.getBaseHref().replace(/\/+$/,"")+"/"+s.replace(/^\/+/,"");window.open(a,"_blank")}else this.router.navigate(e,o)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-global-search"]],viewQuery:function(i,o){if(1&i&&(Tn(Xlt,5),Tn(Klt,5),Tn(qlt,5),Tn(Ylt,5),Tn(Qlt,5)),2&i){let s;Mt(s=Tt())&&(o.searchInput=s.first),Mt(s=Tt())&&(o.resultsDropdown=s.first),Mt(s=Tt())&&(o.resultItems=s),Mt(s=Tt())&&(o.primaryButtons=s),Mt(s=Tt())&&(o.secondaryButtons=s)}},decls:17,vars:4,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve;return e="\u0627\u0644\u0628\u062D\u062B",i="\u0628\u062D\u062B \u0645\u062A\u0642\u062F\u0645",o="\u0627\u0644\u0628\u062D\u062B",s="\u0641\u062A\u062D",r="\u0641\u062A\u062D",a="\u0641\u062A\u062D",l="\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",c="\u062A\u062D\u0645\u064A\u0644",h="\u0641\u062A\u062D",g="\u0628\u0644\u0627 \u0646\u062A\u0627\u0626\u062C",f="\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",v="\u0637\u0631\u0642 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",C="\u0627\u0644\u0648\u0633\u0648\u0645",S="\u062C\u0647\u0627\u062A \u0627\u0644\u062A\u0631\u0627\u0633\u0644",D="\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",I="\u0645\u0633\u0627\u0631\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646",L="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u0648\u0646",G="\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A",R="\u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u062E\u0635\u0635\u0629",J="\u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0628\u0631\u064A\u062F",se="\u0642\u0648\u0627\u0639\u062F \u0627\u0644\u0628\u0631\u064A\u062F",ve="\u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644",[["resultsDropdown","ngbDropdown"],["searchInput",""],["resultItemTemplate",""],["resultItem",""],["primaryButton",""],["secondaryButton",""],i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,["ngbDropdown","",3,"openChange"],[1,"form-inline","position-relative"],["width","1em","height","1em","name","search"],[1,"input-group"],[1,"form-control","form-control-sm"],["type","text","name","query","placeholder",e,"aria-label","Search","autocomplete","off","spellcheck","false","ngbDropdownAnchor","",1,"bg-transparent","border-0","w-100","h-100",3,"ngModelChange","keydown","ngModel"],[1,"position-absolute","top-50","end-0","translate-middle"],[1,"spinner-border","spinner-border-sm","text-muted","mt-1"],["type","button",1,"btn","btn-sm","btn-outline-secondary"],["ngbDropdownMenu","",1,"w-100","mh-75","overflow-y-scroll","shadow-lg"],[3,"keydown"],[1,"dropdown-header"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","arrow-right-short"],["ngbDropdownItem","","tabindex","-1",1,"py-2","d-flex","align-items-center","focus-ring","border-0","cursor-pointer",3,"click","mouseenter"],["width","1.2em","height","1.2em",1,"me-2","text-muted",3,"name"],[1,"text-truncate"],[1,"small","text-muted"],[1,"btn-group","ms-auto"],["type","button",1,"btn","btn-sm","btn-outline-primary","d-flex",3,"click","keydown","mouseenter","disabled"],["type","button",1,"btn","btn-sm","btn-outline-primary","d-flex",3,"disabled"],["width","1em","height","1em","name","file-earmark-richtext"],["width","1em","height","1em","name","eye"],["width","1em","height","1em","name","pencil"],["width","1em","height","1em","name","filter"],["width","1em","height","1em","name","download"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",27,0),E("openChange",function(){return T(s),w(o.onDropdownOpenChange)}),d(2,"form",28),O(3,"i-bs",29),d(4,"div",30)(5,"div",31)(6,"input",32,1),Re("ngModelChange",function(a){return T(s),Pe(o.query,a)||(o.query=a),w(a)}),E("ngModelChange",function(a){return T(s),w(o.queryDebounce.next(a))})("keydown",function(a){return T(s),w(o.searchInputKeyDown(a))}),u(),d(8,"div",33),y(9,hct,1,0,"div",34),u()(),y(10,gct,4,1,"button",35),u()(),ce(11,bct,14,7,"ng-template",null,2,xt),d(13,"div",36)(14,"div",37),E("keydown",function(a){return T(s),w(o.dropdownKeyDown(a))}),y(15,Sct,2,0,"h6",38)(16,a5t,12,12),u()()()}2&i&&(_(6),Le("ngModel",o.query),_(3),P(o.loading?9:-1),_(),P(o.query?10:-1),_(5),P(0===(null==o.searchResults?null:o.searchResults.total)?15:16))},dependencies:[$t,Do,Ci,Gt,Co,Ln,_2,Wt,Bt,en,Go,Ho,R_,Qo,js,Ao,ur],styles:["form[_ngcontent-%COMP%]{position:relative}form[_ngcontent-%COMP%] > i-bs[name=search][_ngcontent-%COMP%]{position:absolute;left:.6rem;top:.35rem;color:#fff9}@media screen and (min-width: 768px){form[_ngcontent-%COMP%] > i-bs[name=search][_ngcontent-%COMP%]{top:.25rem}}form[_ngcontent-%COMP%]:focus-within   i-bs[name=search][_ngcontent-%COMP%], form[_ngcontent-%COMP%]:focus-within   .badge[_ngcontent-%COMP%]{display:none!important}form[_ngcontent-%COMP%]:focus-within   .form-control[_ngcontent-%COMP%]::placeholder{color:#fff0}form[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem}form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-color:#fff3;color:var(--pngx-primary-text-contrast);padding-top:.15rem;padding-bottom:.15rem;min-height:calc(1.3em + .5rem + var(--bs-border-width) * 2)!important}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:#ffffff4d;background-color:#00000026;padding-left:1.8rem;border-color:#fff3;transition:all .3s ease,padding-left 0s ease,background-color 0s ease}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{outline:none;color:var(--pngx-primary-text-contrast)}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]::placeholder{color:#fff6}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus-within{background-color:#0000004d;color:var(--bs-light);flex-grow:1;padding-left:.5rem}*[_ngcontent-%COMP%]{--pngx-focus-alpha: 0}.mh-75[_ngcontent-%COMP%]{max-height:75vh}.dropdown-item[_ngcontent-%COMP%]:has(button:focus){background-color:var(--pngx-bg-darker)}.dropdown-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .3s ease,color .15s ease;max-width:2rem;overflow:hidden}.dropdown-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:0;transition:inherit}.dropdown-item[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:has(button:focus)   button[_ngcontent-%COMP%]{max-width:10rem}.dropdown-item[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:has(button:focus)   span[_ngcontent-%COMP%]{opacity:1}"]})}return t})();const c5t=(t,n,e,i)=>({slim:t,"col-auto col-md-3 col-lg-2 col-xxxl-1":n,"py-3":e,"py-2":i}),eb=(t,n)=>({action:t,type:n}),d5t=()=>[],h5t=(t,n)=>n.id;function u5t(t,n){if(1&t&&(d(0,"div",13)(1,"span",27),N(2),u(),d(3,"span",28),b(4,0),u()()),2&t){const e=p();_(2),oe(e.customAppTitle)}}function _5t(t,n){1&t&&N(0," Paperless-idoine ")}function g5t(t,n){1&t&&O(0,"i-bs",20)}function p5t(t,n){1&t&&O(0,"i-bs",21)}function f5t(t,n){if(1&t){const e=k();d(0,"li",29)(1,"a",30),E("click",function(){return T(e),w(p().closeMenu())}),O(2,"i-bs",31),d(3,"span"),N(4,"\xa0"),ge(5),b(6,1),ue(),u()()()}if(2&t){const e=p();_(),m("disablePopover",!e.slimSidebarEnabled)}}function m5t(t,n){1&t&&(d(0,"h6",33)(1,"span"),b(2,2),u(),O(3,"div",34),u())}function v5t(t,n){if(1&t&&(d(0,"span",42),N(1),u()),2&t){const e=p().$implicit,i=p(3);_(),oe(i.savedViewService.getDocumentCount(e))}}function C5t(t,n){if(1&t&&(d(0,"span",43),N(1),u()),2&t){const e=p().$implicit,i=p(3);_(),oe(i.savedViewService.getDocumentCount(e))}}function M5t(t,n){1&t&&(d(0,"div",45),O(1,"i-bs",46),u()),2&t&&we("me-n3",p(4).slimSidebarEnabled)}function T5t(t,n){if(1&t){const e=k();d(0,"li",37),E("cdkDragStarted",function(o){return T(e),w(p(3).onDragStart(o))})("cdkDragEnded",function(o){return T(e),w(p(3).onDragEnd(o))}),d(1,"a",38),E("click",function(){return T(e),w(p(3).closeMenu())}),O(2,"i-bs",39),d(3,"span"),N(4,"\xa0"),d(5,"div",40)(6,"span",41),N(7),u()(),y(8,v5t,2,1,"span",42),u(),y(9,C5t,2,1,"span",43),u(),y(10,M5t,2,2,"div",44),u()}if(2&t){const e=n.$implicit,i=p(3);m("cdkDragDisabled",!i.settingsService.organizingSidebarSavedViews),_(),m("routerLink",Lt("view/",e.id))("ngbPopover",e.name)("disablePopover",!i.slimSidebarEnabled),_(5),we("text-wrap",!i.slimSidebarEnabled),_(),oe(e.name),_(),P(i.showSidebarCounts&&!i.slimSidebarEnabled?8:-1),_(),P(i.showSidebarCounts&&i.slimSidebarEnabled?9:-1),_(),P(i.settingsService.organizingSidebarSavedViews?10:-1)}}function w5t(t,n){if(1&t){const e=k();d(0,"h6",33)(1,"span"),b(2,3),u()(),d(3,"ul",35),E("cdkDropListDropped",function(o){return T(e),w(p(2).onDrop(o))}),Ke(4,T5t,11,11,"li",36,h5t),u()}if(2&t){const e=p(2);_(4),qe(e.savedViewService.sidebarViews)}}function b5t(t,n){if(1&t&&(d(0,"div",32),y(1,m5t,4,0,"h6",33)(2,w5t,6,0),u()),2&t){const e=p();_(),P(e.savedViewService.loading?1:(null==e.savedViewService.sidebarViews?null:e.savedViewService.sidebarViews.length)>0?2:-1)}}function S5t(t,n){1&t&&(d(0,"h6",33)(1,"span"),b(2,4),u()())}function E5t(t,n){if(1&t){const e=k();d(0,"li",48)(1,"a",49),Fe(2,"documentTitle"),E("click",function(){return T(e),w(p(2).closeMenu())}),O(3,"i-bs",50),d(4,"span"),N(5),Fe(6,"documentTitle"),u(),d(7,"span",51),E("click",function(o){const s=T(e).$implicit;return p(2).closeDocument(s),w(o.preventDefault())}),O(8,"i-bs",52),u()()()}if(2&t){const e=n.$implicit,i=p(2);_(),we("text-truncate",!i.slimSidebarEnabled),m("routerLink",Lt("documents/",e.id))("ngbPopover",lt(2,7,e.title))("disablePopover",!i.slimSidebarEnabled),_(4),He("\xa0",lt(6,9,e.title))}}function O5t(t,n){if(1&t){const e=k();d(0,"li",48)(1,"a",53),E("click",function(){return T(e),w(p(2).closeAll())}),O(2,"i-bs",54),d(3,"span"),N(4,"\xa0"),ge(5),b(6,5),ue(),u()()()}if(2&t){const e=p(2);_(),we("text-truncate",!e.slimSidebarEnabled),m("routerLink",Yd(4,d5t))("disablePopover",!e.slimSidebarEnabled)}}function A5t(t,n){if(1&t&&(d(0,"div",32),y(1,S5t,3,0,"h6",33),d(2,"ul",47),Ke(3,E5t,9,11,"li",48,jt),y(5,O5t,7,5,"li",48),u()()),2&t){const e=p();_(),P(e.openDocuments.length>0?1:-1),_(2),qe(e.openDocuments),_(2),P(e.openDocuments.length>=1?5:-1)}}let N5t=(()=>{class t extends H1{constructor(){super(),this.router=M(ts),this.activatedRoute=M(V1),this.openDocumentsService=M($4),this.savedViewService=M(V5),this.remoteVersionService=M(_0t),this.settingsService=M(Gn),this.tasksService=M(V4),this.toastService=M(eo),this.modalService=M(ps),this.permissionsService=M(Ti),this.djangoMessagesService=M(u0t),this.isMenuCollapsed=!0,this.slimSidebarAnimating=!1,this.permissionsService.currentUserCan(ft.View,vt.SavedView)&&this.savedViewService.reload(()=>{this.savedViewService.maybeRefreshDocumentCounts()})}ngOnInit(){this.settingsService.get(Ce.UPDATE_CHECKING_ENABLED)&&this.checkForUpdates(),this.permissionsService.currentUserCan(ft.View,vt.PaperlessTask)&&this.tasksService.reload(),this.djangoMessagesService.get().forEach(e=>{switch(e.level){case vh.ERROR:case vh.WARNING:this.toastService.showError(e.message);break;case vh.SUCCESS:case vh.INFO:case vh.DEBUG:this.toastService.showInfo(e.message)}})}toggleSlimSidebar(){this.slimSidebarAnimating=!0,this.slimSidebarEnabled=!this.slimSidebarEnabled,setTimeout(()=>{this.slimSidebarAnimating=!1},200)}get versionString(){return`${di.appTitle} v${this.settingsService.get(Ce.VERSION)}${"prod"===di.tag?"":` #${di.tag}`}`}get customAppTitle(){return this.settingsService.get(Ce.APP_TITLE)}get slimSidebarEnabled(){return this.settingsService.get(Ce.SLIM_SIDEBAR)}set slimSidebarEnabled(e){this.settingsService.set(Ce.SLIM_SIDEBAR,e),this.settingsService.storeSettings().pipe(ut()).subscribe({error:i=>{this.toastService.showError("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A."),console.warn(i)}})}closeMenu(){this.isMenuCollapsed=!0}editProfile(){this.modalService.open(z0t,{backdrop:"static",size:"xl"}),this.closeMenu()}get openDocuments(){return this.openDocumentsService.getOpenDocuments()}canDeactivate(){return!this.openDocumentsService.hasDirty()}closeDocument(e){this.openDocumentsService.closeDocument(e).pipe(ut()).subscribe(i=>{if(i){this.closeMenu();let o=this.activatedRoute.snapshot;for(;o.firstChild;)o=o.firstChild;o.component==J4&&o.params.id==e.id&&this.router.navigate([""])}})}closeAll(){this.openDocumentsService.closeAll().pipe(ut()).subscribe(e=>{if(e){this.closeMenu();let i=this.activatedRoute;for(;i.firstChild;)i=i.firstChild;i.component===J4&&this.router.navigate([""])}})}onDragStart(e){this.settingsService.globalDropzoneEnabled=!1}onDragEnd(e){this.settingsService.globalDropzoneEnabled=!0}onDrop(e){const i=this.savedViewService.sidebarViews.concat([]);qc(i,e.previousIndex,e.currentIndex),this.settingsService.updateSidebarViewsSort(i).subscribe({next:()=>{this.toastService.showInfo("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0637\u0631\u0642 \u0639\u0631\u0636 \u0627\u0644\u0634\u0631\u064A\u0637 \u0627\u0644\u062C\u0627\u0646\u0628\u064A")},error:o=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u062F\u064A\u062B \u0637\u0631\u0642 \u0639\u0631\u0636 \u0627\u0644\u0634\u0631\u064A\u0637 \u0627\u0644\u062C\u0627\u0646\u0628\u064A",o)}})}checkForUpdates(){this.remoteVersionService.checkForUpdates().subscribe(e=>{this.appRemoteVersion=e})}setUpdateChecking(e){this.settingsService.set(Ce.UPDATE_CHECKING_ENABLED,e),this.settingsService.storeSettings().pipe(ut()).subscribe({error:i=>{this.toastService.showError("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u062A\u062D\u062F\u064A\u062B."),console.warn(i)}}),e&&this.checkForUpdates()}onLogout(){this.openDocumentsService.closeAll()}get showSidebarCounts(){return this.settingsService.get(Ce.SIDEBAR_VIEWS_SHOW_COUNT)&&!this.settingsService.organizingSidebarSavedViews}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-app-frame"]],hostBindings:function(i,o){1&i&&E("beforeunload",function(){return o.canDeactivate()},K1)},features:[at],decls:25,vars:27,consts:()=>{let e,i,o,s,r,a,l,c;return e="by Paperless-idoint",i="\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",o="\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",s="\u0637\u0631\u0642 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",r="\u0637\u0631\u0642 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",a="\u0641\u062A\u062D \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",l="\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0643\u0644",c="\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0643\u0644",[e,o,s,r,a,c,[1,"navbar","navbar-dark","fixed-top","bg-primary","flex-md-nowrap","p-0","shadow-sm"],["type","button","data-toggle","collapse","data-target","#sidebarMenu","aria-controls","sidebarMenu","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","d-md-none","collapsed","border-0",3,"click"],[1,"navbar-toggler-icon"],["routerLink","/dashboard","tourAnchor","tour.intro",1,"navbar-brand","d-flex","align-items-center","me-0","px-3","py-3","order-sm-0",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 198.43 238.91","width","1em","height","1.5em","fill","currentColor"],["d","M194.7,0C164.22,70.94,17.64,79.74,64.55,194.06c.58,1.47-10.85,17-18.47,29.9-1.76-6.45-3.81-13.48-3.52-14.07,38.11-45.14-27.26-70.65-30.78-107.58C-4.64,131.62-10.5,182.92,39,212.53c.3,0,2.64,11.14,3.81,16.71a58.55,58.55,0,0,0-2.93,6.45c-1.17,2.93,7.62,2.64,7.62,3.22.88-.29,21.7-36.93,22.28-37.23C187.67,174.72,208.48,68.6,194.7,0ZM134.61,74.75C79.5,124,70.12,160.64,71.88,178.53,53.41,134.85,107.64,86.77,134.61,74.75ZM28.2,145.11c10.55,9.67,28.14,39.28,13.19,56.57C44.91,193.77,46.08,175.89,28.2,145.11Z","transform","translate(0 0)"],[1,"ms-2","ms-md-3","d-inline-block"],[1,"d-flex","flex-column","align-items-start","custom-title"],[1,"search-container","flex-grow-1","py-2","pb-3","pb-sm-2","px-3","ps-md-4","me-sm-auto","order-3","order-sm-1"],[1,"col-12","col-md-7"],[1,"container-fluid"],[1,"row"],["id","sidebarMenu",1,"d-md-block","bg-light","sidebar","collapse",3,"ngClass","ngbCollapse"],[1,"btn","btn-sm","btn-dark","sidebar-slim-toggler",3,"click"],["width","0.9em","height","0.9em","name","chevron-double-right"],["width","0.9em","height","0.9em","name","chevron-double-left"],[1,"sidebar-sticky","pt-3","d-flex","flex-column","justify-space-around"],[1,"nav","flex-column"],["class","nav-item app-link",4,"pngxIfPermissions"],["class","nav-group mt-3 mb-1",4,"pngxIfPermissions"],["role","main",1,"ms-sm-auto","px-md-4",3,"ngClass"],[1,"title"],[1,"byline","text-uppercase","font-monospace"],[1,"nav-item","app-link"],["routerLink","documents","routerLinkActive","active","ngbPopover",i,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","files",1,"me-1"],[1,"nav-group","mt-3","mb-1"],[1,"sidebar-heading","px-3","text-muted"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2"],["cdkDropList","",1,"nav","flex-column","mb-2",3,"cdkDropListDropped"],["cdkDrag","","cdkDragPreviewContainer","parent","cdkDragPreviewClass","navItemDrag",1,"nav-item","w-100","app-link",3,"cdkDragDisabled"],["cdkDrag","","cdkDragPreviewContainer","parent","cdkDragPreviewClass","navItemDrag",1,"nav-item","w-100","app-link",3,"cdkDragStarted","cdkDragEnded","cdkDragDisabled"],["routerLinkActive","active","placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","routerLink","ngbPopover","disablePopover"],["name","funnel",1,"me-1"],[1,"d-inline-flex","view-name"],[1,"overflow-hidden"],[1,"badge","bg-info","text-dark","ms-2","d-inline"],[1,"badge","bg-info","text-dark","position-absolute","top-0","end-0","d-none","d-md-block"],["cdkDragHandle","",1,"position-absolute","end-0","top-0","px-3","py-2",3,"me-n3"],["cdkDragHandle","",1,"position-absolute","end-0","top-0","px-3","py-2"],["name","grip-vertical"],[1,"nav","flex-column","mb-2"],[1,"nav-item","w-100","app-link"],["routerLinkActive","active","placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link","app-link",3,"click","routerLink","ngbPopover","disablePopover"],["name","file-text",1,"me-1"],[1,"close","flex-column","justify-content-center",3,"click"],["name","x"],["ngbPopover",l,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link","app-link",3,"click","routerLink","disablePopover"],["name","x",1,"me-1"]]},template:function(i,o){1&i&&(d(0,"nav",6)(1,"button",7),E("click",function(){return o.isMenuCollapsed=!o.isMenuCollapsed}),O(2,"span",8),u(),d(3,"a",9),xh(),d(4,"svg",10),O(5,"path",11),u(),function aS(){!function hj(){bn.lFrame.currentNamespace=null}()}(),d(6,"div",12),y(7,u5t,5,1,"div",13)(8,_5t,1,0),u()(),d(9,"div",14)(10,"div",15),O(11,"pngx-global-search"),u()()(),d(12,"div",16)(13,"div",17)(14,"nav",18)(15,"button",19),E("click",function(){return o.toggleSlimSidebar()}),y(16,g5t,1,0,"i-bs",20)(17,p5t,1,0,"i-bs",21),u(),d(18,"div",22)(19,"ul",23),ce(20,f5t,7,1,"li",24),u(),ce(21,b5t,3,1,"div",25)(22,A5t,6,2,"div",25),u()(),d(23,"main",26),O(24,"router-outlet"),u()()()),2&i&&(_(3),m("ngClass",Fv(13,c5t,o.slimSidebarEnabled,!o.slimSidebarEnabled,!(null!=o.customAppTitle&&o.customAppTitle.length)||o.slimSidebarEnabled,null==o.customAppTitle?null:o.customAppTitle.length)),_(3),we("d-md-none",o.slimSidebarEnabled),_(),P(null!=o.customAppTitle&&o.customAppTitle.length?7:8),_(7),we("animating",o.slimSidebarAnimating),m("ngClass",o.slimSidebarEnabled?"slim":"col-md-3 col-lg-2 col-xxxl-1")("ngbCollapse",o.isMenuCollapsed),_(2),P(o.slimSidebarEnabled?16:17),_(4),m("pngxIfPermissions",$e(18,eb,o.PermissionAction.View,o.PermissionType.Document)),_(),m("pngxIfPermissions",$e(21,eb,o.PermissionAction.View,o.PermissionType.SavedView)),_(),m("pngxIfPermissions",$e(24,eb,o.PermissionAction.View,o.PermissionType.Document)),_(),m("ngClass",o.slimSidebarEnabled?"col-slim":"col-md-9 col-lg-10 col-xxxl-11"))},dependencies:[l5t,ys,_1,d4,u1,xG,wa,Go,Na,Aa,O_,w_,Bl,Bt,en,a2,r2,s2,NI,Y2,q2,G5],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;z-index:995;padding:50px 0 0;box-shadow:inset -1px 0 #0000001a;overflow-y:auto;--pngx-sidebar-width: 100%;max-width:var(--pngx-sidebar-width);transition:all .2s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:.8em;height:.8em}.sidebar[_ngcontent-%COMP%]   .view-name[_ngcontent-%COMP%]{max-width:calc(100% - 50px)}.sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]:not(:has(.app-link))   .sidebar-heading[_ngcontent-%COMP%]{display:none!important}@media (min-width: 768px){.sidebar[_ngcontent-%COMP%]{--pngx-sidebar-width: 25%}}@media (min-width: 992px){.sidebar[_ngcontent-%COMP%]{--pngx-sidebar-width: 16.66666667%}}@media (min-width: 2400px){.sidebar[_ngcontent-%COMP%]{--pngx-sidebar-width: 8.33333333%}}@media (max-width: 767.98px){.sidebar[_ngcontent-%COMP%]{top:3.5rem}}main[_ngcontent-%COMP%]{transition:all .2s ease;padding-top:110px}@media (min-width: 768px){main[_ngcontent-%COMP%]{padding-top:56px}}.sidebar-slim-toggler[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:all .1s ease}@media (min-width: 768px){.sidebar.slim[_ngcontent-%COMP%]{max-width:50px}.sidebar.slim[_ngcontent-%COMP%]:not(.animating)   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar.slim[_ngcontent-%COMP%]:not(.animating)   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sidebar.animating[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar.animating[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:unset;position:absolute;opacity:0;overflow:hidden}.sidebar[_ngcontent-%COMP%]:not(.slim):not(.animating)   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]:not(.slim):not(.animating)   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:unset;opacity:1;overflow:auto}.sidebar.slim[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%], .sidebar.animating[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%]{text-overflow:unset!important;word-wrap:break-word!important}.sidebar.slim[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{display:inline-block;margin-right:2px}.sidebar-slim-toggler[_ngcontent-%COMP%]{display:block;position:fixed;left:calc(var(--pngx-sidebar-width) - 12px);top:60px;z-index:996;--bs-btn-padding-x: .35rem;--bs-btn-padding-y: .125rem;transition:all .2s ease}.sidebar.slim[_ngcontent-%COMP%]   .sidebar-slim-toggler[_ngcontent-%COMP%]{--pngx-sidebar-width: 50px !important}}  .popover-slim .popover-body{--bs-popover-body-padding-x: .5rem;--bs-popover-body-padding-y: .5rem}.sidebar-sticky[_ngcontent-%COMP%]{position:relative;top:0;height:100%;padding-top:.5rem;overflow-x:hidden;overflow-y:auto;min-height:min-content}@supports (position: sticky){.sidebar-sticky[_ngcontent-%COMP%]{position:sticky}}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;white-space:nowrap}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:var(--bs-primary)}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus-visible{outline:none;background-color:var(--bs-body-bg)}.sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{font-weight:700}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{position:relative;top:-1px}.sidebar-heading[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase}.nav[_ngcontent-%COMP%]{flex-wrap:nowrap}.nav-item[_ngcontent-%COMP%]{position:relative;list-style-type:none}.nav-item[_ngcontent-%COMP%]:hover   .close[_ngcontent-%COMP%]{display:flex}.nav-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{display:none;position:absolute!important;cursor:pointer;opacity:1;top:0;padding:.25rem .3rem 0;right:.4rem;width:1.8rem;height:100%}.nav-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{opacity:.5}.nav-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover   i-bs[_ngcontent-%COMP%]{opacity:1}.nav-item[_ngcontent-%COMP%]   .nav-link-additional[_ngcontent-%COMP%]{margin-top:.1rem;margin-left:.25rem;padding-top:.5rem;text-decoration:none}.nav-item[_ngcontent-%COMP%]   .nav-link-additional[_ngcontent-%COMP%]:hover{text-decoration:underline}.nav-item[_ngcontent-%COMP%]   .nav-link-additional[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{margin-bottom:2px}.navbar-brand[_ngcontent-%COMP%]{font-size:1rem}.navbar-brand[_ngcontent-%COMP%]   .flex-column[_ngcontent-%COMP%]{padding:.15rem 0}.navbar-brand[_ngcontent-%COMP%]   .byline[_ngcontent-%COMP%]{font-size:.5rem;letter-spacing:.1rem}@media screen and (min-width: 366px) and (max-width: 768px){.navbar-toggler[_ngcontent-%COMP%]{margin-right:45px}}@media screen and (min-width: 768px){.navbar-brand.slim[_ngcontent-%COMP%]{max-width:50px}}@media screen and (max-width: 345px){.custom-title[_ngcontent-%COMP%]{max-width:110px;overflow:hidden}}[_nghost-%COMP%]     .dropdown.show .dropdown-toggle, [_nghost-%COMP%]     .dropdown-toggle:hover{opacity:.7}.dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:.4em;vertical-align:.155em}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{font-size:.875rem}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{opacity:.6}.version-check[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s ease-in-out 0s 1}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:0}25%{opacity:100%}75%{opacity:0}to{opacity:100%}}.nav-item[_ngcontent-%COMP%] > .position-absolute[_ngcontent-%COMP%]{cursor:move}  .navItemDrag .position-absolute i-bs{display:none}"]})}return t})(),D5t=(()=>{class t{constructor(){this.documentsService=M(Io),this.route=M(V1),this.router=M(ts)}ngOnInit(){this.route.paramMap.subscribe(e=>{this.asn=e.get("id"),this.documentsService.listAllFilteredIds([{rule_type:2,value:this.asn}]).subscribe(i=>{1==i.length?this.router.navigate(["documents",i[0]]):this.router.navigate(["404"],{replaceUrl:!0})})})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-document-asncomponent"]],decls:2,vars:1,consts:()=>{let e;return e="\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 asn " + "\ufffd0\ufffd" + "",[e]},template:function(i,o){1&i&&(Hn(0,"p"),b(1,0),Jn()),2&i&&(_(),An(o.asn),In(1))},encapsulation:2})}return t})(),Z5=(()=>{class t{constructor(){this.pngxSortable="",this.currentSortReverse=!1,this.sort=new Ee}get asc(){return this.currentSortField===this.pngxSortable&&!this.currentSortReverse}get des(){return this.currentSortField===this.pngxSortable&&this.currentSortReverse}rotate(){this.sort.emit(this.currentSortField!=this.pngxSortable?{column:this.pngxSortable,reverse:!1}:this.currentSortField!=this.pngxSortable||this.currentSortReverse?{column:null,reverse:!1}:{column:this.currentSortField,reverse:!0})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Je({type:t,selectors:[["th","pngxSortable",""]],hostVars:4,hostBindings:function(i,o){1&i&&E("click",function(){return o.rotate()}),2&i&&we("asc",o.asc)("des",o.des)},inputs:{pngxSortable:"pngxSortable",currentSortReverse:"currentSortReverse",currentSortField:"currentSortField"},outputs:{sort:"sort"}})}return t})(),tb=(()=>{class t{constructor(){this.permissionsService=M(Ti),this.objectService=M(ec)}transform(e){return this.permissionsService.currentUserCan(ft.View,this.permissionType)?this.objectService.listAll().pipe(bt(i=>(this.objects=i.results,this.objects.find(o=>o.id===e)?.name||"\u0634\u062E\u0635\u064A")),xa(()=>Et(""))):Et("\u0634\u062E\u0635\u064A")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"objectName",type:t,pure:!0})}return t})(),s8=(()=>{class t extends tb{constructor(){super(),this.permissionsService=M(Ti),this.permissionType=vt.Correspondent,this.objectService=M(ol)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"correspondentName",type:t,pure:!0})}return t})(),r8=(()=>{class t extends tb{constructor(){super(),this.permissionsService=M(Ti),this.permissionType=vt.DocumentType,this.objectService=M(sl)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"documentTypeName",type:t,pure:!0})}return t})(),a8=(()=>{class t extends tb{constructor(){super(),this.permissionsService=M(Ti),this.permissionType=vt.StoragePath,this.objectService=M(nc)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"storagePathName",type:t,pure:!0})}return t})(),l8=(()=>{class t{constructor(){this.permissionsService=M(Ti),this.userService=M(vs)}transform(e){return this.permissionsService.currentUserCan(ft.View,vt.User)?this.userService.listAll().pipe(bt(i=>(this.users=i.results,this.getName(this.users.find(o=>o.id===e)))),xa(()=>Et(""))):Et("\u062A\u0645\u062A \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629")}getName(e){if(!e)return"";const i=[e.first_name,e.last_name].join(" ");return i.length>1?i.trim():e.username}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"username",type:t,pure:!0})}return t})();function y5t(t,n){if(1&t&&(d(0,"div",7),N(1),u()),2&t){const e=p(3);_(),He(" ",e.field.name," ")}}function P5t(t,n){if(1&t&&(d(0,"span",2),N(1),Fe(2,"currency"),u()),2&t){p();const e=xe(1),i=p(2);m("ngbTooltip",e),_(),oe(zo(2,2,i.value,i.currency))}}function I5t(t,n){if(1&t&&(d(0,"span",2),N(1),Fe(2,"customDate"),u()),2&t){p();const e=xe(1),i=p(2);m("ngbTooltip",e),_(),oe(lt(2,2,i.value))}}function L5t(t,n){if(1&t&&(d(0,"a",3),N(1),u()),2&t){p();const e=xe(1),i=p(2);m("ngbTooltip",e)("href",i.value,Ts),_(),oe(i.value)}}function R5t(t,n){if(1&t&&(d(0,"a",8),O(1,"i-bs",9),N(2,"\xa0"),d(3,"span"),N(4),u()()),2&t){const e=p().$implicit,i=p(4);m("routerLink",Lt("/documents/",e)),_(4),oe(i.getDocumentTitle(e))}}function x5t(t,n){if(1&t&&y(0,R5t,5,3,"a",8),2&t){const e=n.$implicit;P(p(4).getDocumentTitle(e)?0:-1)}}function F5t(t,n){if(1&t&&(d(0,"div",4),Ke(1,x5t,1,1,null,null,jt),u()),2&t){p();const e=xe(1),i=p(2);m("ngbTooltip",e),_(),qe(i.value)}}function k5t(t,n){if(1&t&&(d(0,"div",5)(1,"span"),N(2),u(),O(3,"input",10),u()),2&t){const e=p(3);_(2),He("",e.field.name,":"),_(),m("id",ni(e.field.name))("name",ni(e.field.name))("checked",e.value)}}function z5t(t,n){if(1&t&&(d(0,"span",2),N(1),u()),2&t){p();const e=xe(1),i=p(2);m("ngbTooltip",e),_(),oe(i.getSelectValue(i.field,i.value))}}function V5t(t,n){if(1&t&&(d(0,"p",6),N(1),Fe(2,"slice"),u()),2&t){p();const e=xe(1),i=p(2);m("ngbTooltip",e),_(),Jr("",V0(2,3,i.value,0,20),"",i.value.length>20?"...":"")}}function H5t(t,n){if(1&t&&(d(0,"span",2),N(1),u()),2&t){p();const e=xe(1),i=p(2);m("ngbTooltip",e),_(),oe(i.value)}}function G5t(t,n){if(1&t&&(ce(0,y5t,2,1,"ng-template",null,0,xt),y(2,P5t,3,5,"span",2)(3,I5t,3,4,"span",2)(4,L5t,2,3,"a",3)(5,F5t,3,1,"div",4)(6,k5t,4,6,"div",5)(7,z5t,2,2,"span",2)(8,V5t,3,7,"p",6)(9,H5t,2,2,"span",2)),2&t){let e;const i=p(2);_(2),P((e=i.field.data_type)===i.CustomFieldDataType.Monetary?2:e===i.CustomFieldDataType.Date?3:e===i.CustomFieldDataType.Url?4:e===i.CustomFieldDataType.DocumentLink?5:e===i.CustomFieldDataType.Boolean?6:e===i.CustomFieldDataType.Select?7:e===i.CustomFieldDataType.LongText?8:9)}}function $5t(t,n){if(1&t&&(d(0,"span",1),N(1),u()),2&t){const e=p(2);_(),oe(e.field.name)}}function B5t(t,n){if(1&t&&y(0,G5t,10,1)(1,$5t,2,1,"span",1),2&t){const e=p();P((null==e.value?null:e.value.toString().length)>0?0:e.showNameIfEmpty?1:-1)}}let nb=(()=>{class t extends Ds{set document(e){this._document=e,this.init()}get document(){return this._document}set fieldId(e){this._fieldId=e,this.init()}get fieldId(){return this._fieldId}set fieldDisplayKey(e){this.fieldId=parseInt(e.replace(Mi.CUSTOM_FIELD,""),10)}constructor(){const e=M(ea);super(),this.customFieldService=M(g1),this.documentService=M(Io),this.CustomFieldDataType=Pi,this.showNameIfEmpty=!1,this.customFields=[],this.docLinkDocuments=[],this.defaultCurrencyCode=jI(e),this.customFieldService.listAll().subscribe(i=>{this.customFields=i.results,this.init()})}ngOnInit(){this.init()}init(){this.value||!this._fieldId||!this._document||!this.customFields||(this.field=this.customFields.find(e=>e.id===this._fieldId),this.value=this._document.custom_fields.find(e=>e.field===this._fieldId)?.value,this.value&&this.field.data_type===Pi.Monetary?(this.currency=this.value.match(/([A-Z]{3})/)?.[0]??this.field.extra_data?.default_currency??this.defaultCurrencyCode,this.value=parseFloat(this.value.replace(this.currency,""))):this.value?.length&&this.field.data_type===Pi.DocumentLink&&this.getDocuments())}getDocuments(){this.documentService.getFew(this.value,{fields:"id,title"}).pipe(me(this.unsubscribeNotifier)).subscribe(e=>{this.docLinkDocuments=this.value.map(i=>e.results.find(o=>o.id===i)).filter(i=>i)})}getDocumentTitle(e){return this.docLinkDocuments?.find(i=>i.id===e)?.title}getSelectValue(e,i){return e.extra_data.select_options?.find(o=>o.id===i)?.label}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-custom-field-display"]],inputs:{document:"document",fieldId:"fieldId",fieldDisplayKey:"fieldDisplayKey",showNameIfEmpty:"showNameIfEmpty"},features:[at],decls:1,vars:1,consts:()=>{let e;return e="\u0639\u0631\u0636",[["nameTooltip",""],[1,"fst-italic","text-muted"],[3,"ngbTooltip"],["target","_blank",1,"btn-link","text-dark","text-decoration-none",3,"ngbTooltip","href"],[1,"d-flex","gap-1","flex-wrap",3,"ngbTooltip"],[1,"d-flex","flex-row","align-items-center"],[1,"mb-0",3,"ngbTooltip"],[1,"d-flex","flex-column","text-light"],["title",e,1,"badge","bg-body","text-primary",3,"routerLink"],["width","0.9em","height","0.9em","name","file-text"],["type","checkbox","value","",1,"form-check-input","ms-2","mt-0","pe-none",3,"id","name","checked"]]},template:function(i,o){1&i&&y(0,B5t,2,1),2&i&&P(o.field?0:-1)},dependencies:[Ul,N2,ur,Z9,I3],encapsulation:2})}return t})();var U5t=Xt(664);function ib(t){const n=new Map(t.map(a=>[a.id,{...a,children:[]}]));for(const a of n.values())a.parent&&n.get(a.parent)?.children.push(a);const e=Array.from(n.values()).filter(a=>!a.parent),i=(a,l)=>a.name.localeCompare(l.name,void 0,{sensitivity:"base",numeric:!0}),o=[];let s=0;const r=(a,l)=>{if(a.depth=l,a.orderIndex=s++,o.push(a),a.children?.length)for(const c of[...a.children].sort(i))r(c,l+1)};return e.sort(i),e.forEach(a=>r(a,0)),o}const j5t=(t,n)=>n.id;function Z5t(t,n){if(1&t&&(d(0,"li",13),O(1,"i-bs",27),N(2),u()),2&t){let e;const i=n.$implicit,o=p();_(2),He(" ",null==(e=o.getDocument(i))?null:e.title," ")}}function W5t(t,n){if(1&t&&(d(0,"option",16),N(1),u()),2&t){const e=n.$implicit;m("ngValue",e.id),_(),oe(e.title)}}function X5t(t,n){1&t&&(d(0,"p",23),b(1,5),u())}let K5t=(()=>{class t extends Ki{get documents(){return this._documents}constructor(){super(),this.documentService=M(Io),this.permissionService=M(Ti),this.documentIDs=[],this.archiveFallback=!1,this.deleteOriginals=!1,this._documents=[],this.metadataDocumentID=-1}ngOnInit(){this.documentService.getFew(this.documentIDs).pipe(me(this.unsubscribeNotifier)).subscribe(e=>{this._documents=e.results})}onDrop(e){qc(this.documentIDs,e.previousIndex,e.currentIndex)}getDocument(e){return this.documents.find(i=>i.id===e)}get userOwnsAllDocuments(){return this.documents.every(e=>this.permissionService.currentUserOwnsObject(e))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-merge-confirm-dialog"]],features:[at],decls:36,vars:16,consts:()=>{let e,i,o,s,r,a;return e="\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A:",i="\u0627\u0633\u062A\u0639\u0645\u0627\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0635\u0641\u064A\u0629 \u0645\u0646:",o="\u0625\u0639\u0627\u062F\u0629 \u062A\u0648\u0644\u064A\u062F \u062C\u0645\u064A\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0635\u0641\u064A\u0629",s="Try to include archive version in merge for non-PDF files",r="\u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u0623\u0635\u0644\u064A\u0629 \u0628\u0639\u062F \u0627\u0644\u062F\u0645\u062C \u0627\u0644\u0646\u0627\u062C\u062D",a="\u0644\u0627\u062D\u0638 \u0623\u0646\u0647 \u0633\u064A\u062A\u0645 \u062A\u0636\u0645\u064A\u0646 \u0645\u0644\u0641\u0627\u062A PDF \u0641\u0642\u0637.",[e,i,o,s,r,a,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","metadataDocumentID",1,"form-label"],["cdkDropList","",1,"list-group",3,"cdkDropListDropped"],["cdkDrag","",1,"list-group-item"],[1,"form-group","mt-4"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"form-check","form-switch","mt-4"],["type","checkbox","role","switch","id","archiveFallbackSwitch",1,"form-check-input",3,"ngModelChange","ngModel"],["for","archiveFallbackSwitch",1,"form-check-label"],[1,"form-check","form-switch","mt-2"],["type","checkbox","role","switch","id","deleteOriginalsSwitch",1,"form-check-input",3,"ngModelChange","ngModel","disabled"],["for","deleteOriginalsSwitch",1,"form-check-label"],[1,"small","text-muted","fst-italic","mt-4"],[1,"modal-footer"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],["name","grip-vertical",1,"me-2"]]},template:function(i,o){1&i&&(d(0,"div",6)(1,"h4",7),N(2),u(),d(3,"button",8),E("click",function(){return o.cancel()}),u()(),d(4,"div",9)(5,"p"),N(6),u(),d(7,"div",10)(8,"label",11),b(9,0),u(),d(10,"ul",12),E("cdkDropListDropped",function(r){return o.onDrop(r)}),Ke(11,Z5t,3,1,"li",13,jt),u()(),d(13,"div",14)(14,"label",11),b(15,1),u(),d(16,"select",15),Re("ngModelChange",function(r){return Pe(o.metadataDocumentID,r)||(o.metadataDocumentID=r),r}),d(17,"option",16),b(18,2),u(),Ke(19,W5t,2,2,"option",16,j5t),u()(),d(21,"div",17)(22,"input",18),Re("ngModelChange",function(r){return Pe(o.archiveFallback,r)||(o.archiveFallback=r),r}),u(),d(23,"label",19),b(24,3),u()(),d(25,"div",20)(26,"input",21),Re("ngModelChange",function(r){return Pe(o.deleteOriginals,r)||(o.deleteOriginals=r),r}),u(),d(27,"label",22),b(28,4),u()(),y(29,X5t,2,0,"p",23),u(),d(30,"div",24)(31,"button",25),E("click",function(){return o.cancel()}),d(32,"span",26),N(33),u()(),d(34,"button",25),E("click",function(){return o.confirm()}),N(35),u()()),2&i&&(_(2),oe(o.title),_(4),oe(o.message),_(5),qe(o.documentIDs),_(5),Le("ngModel",o.metadataDocumentID),_(),m("ngValue",-1),_(2),qe(o.documents),_(3),Le("ngModel",o.archiveFallback),_(4),Le("ngModel",o.deleteOriginals),m("disabled",!o.userOwnsAllDocuments),_(3),P(o.archiveFallback?-1:29),_(2),Zi(o.cancelBtnClass),m("disabled",!o.buttonsEnabled),_(2),oe(o.cancelBtnCaption),_(),Zi(o.btnClass),m("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled),_(),He(" ",o.btnCaption," "))},dependencies:[a2,r2,s2,$t,Rl,xl,No,t0,Gt,Ln,Wt,Bt,en],styles:[".list-group-item[_ngcontent-%COMP%]{cursor:move}"]})}return t})();const q5t=t=>({transform:t});function Y5t(t,n){if(1&t&&O(0,"img",10),2&t){const e=p();m("ngStyle",ei(2,q5t,"rotate("+e.rotation+"deg)"))("src",e.documentService.getThumbUrl(e.documentID),Ts)}}function Q5t(t,n){1&t&&(d(0,"p",13),b(1,0),u())}function J5t(t,n){1&t&&(O(0,"p",16),Fe(1,"safeHtml")),2&t&&m("innerHTML",lt(1,1,p().message),Fo)}function edt(t,n){if(1&t&&(d(0,"p",17),O(1,"b",16),Fe(2,"safeHtml"),u()),2&t){const e=p();_(),m("innerHTML",lt(2,1,e.messageBold),Fo)}}function tdt(t,n){if(1&t&&O(0,"ngb-progressbar",20),2&t){const e=p();m("max",e.secondsTotal)("value",e.seconds)}}let ndt=(()=>{class t extends Ki{get degrees(){let e=this.rotation%360;return e<0&&(e+=360),e}constructor(){super(),this.documentService=M(Io),this.showPDFNote=!0,this.rotation=0}rotate(e=!0){this.rotation+=e?90:-90}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-rotate-confirm-dialog"]],features:[at],decls:25,vars:14,consts:()=>{let e;return e="\u0644\u0627\u062D\u0638 \u0623\u0646\u0647 \u0633\u064A\u062A\u0645 \u062A\u062F\u0648\u064A\u0631 \u0645\u0644\u0641\u0627\u062A PDF \u0641\u0642\u0637.",[e,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-2","d-flex","justify-content-end"],[1,"btn","btn-secondary","mt-auto",3,"click"],["name","arrow-counterclockwise"],[1,"col-8","d-flex","align-items-center"],[1,"w-75","m-auto",3,"ngStyle","src"],[1,"col-2","d-flex"],["name","arrow-clockwise"],[1,"small","text-muted","fst-italic","mt-4"],[1,"modal-footer","flex-nowrap"],[1,"col"],[3,"innerHTML"],[1,"mb-0","small"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],["type","dark",2,"height","1px",3,"max","value"]]},template:function(i,o){1&i&&(d(0,"div",1)(1,"h4",2),N(2),u(),d(3,"button",3),E("click",function(){return o.cancel()}),u()(),d(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),E("click",function(){return o.rotate(!1)}),O(8,"i-bs",8),u()(),d(9,"div",9),y(10,Y5t,1,4,"img",10),u(),d(11,"div",11)(12,"button",7),E("click",function(){return o.rotate()}),O(13,"i-bs",12),u()()(),y(14,Q5t,2,0,"p",13),u(),d(15,"div",14)(16,"div",15),y(17,J5t,2,3,"p",16),y(18,edt,3,3,"p",17),u(),d(19,"button",18),E("click",function(){return o.cancel()}),d(20,"span",19),N(21),u()(),d(22,"button",18),E("click",function(){return o.confirm()}),N(23),y(24,tdt,1,2,"ngb-progressbar",20),u()()),2&i&&(_(2),oe(o.title),_(8),P(o.documentID?10:-1),_(4),P(o.showPDFNote?14:-1),_(3),P(o.message?17:-1),_(),P(o.messageBold?18:-1),_(),Zi(o.cancelBtnClass),m("disabled",!o.buttonsEnabled),_(2),oe(o.cancelBtnCaption),_(),Zi(o.btnClass),m("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled||0===o.degrees),_(),He(" ",o.btnCaption," "),_(),P(o.confirmButtonEnabled?-1:24))},dependencies:[$9,Bt,en,k5],styles:["img[_ngcontent-%COMP%]{transition:all .25s ease}"]})}return t})(),ob=(()=>{class t{transform(e,i,o){return e?i?e.filter(s=>(o?[o]:Object.keys(s).filter(a=>"string"==typeof s[a]||"number"==typeof s[a])).some(a=>String(s[a]).toLowerCase().includes(i.toLowerCase()))):e:[]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"filter",type:t,pure:!0})}return t})();function idt(t,n){1&t&&O(0,"i-bs",2)}function odt(t,n){if(1&t&&(d(0,"div",3),N(1),d(2,"span",5),N(3,"selected"),u()()),2&t){const e=p(2);_(),oe(e.number)}}function sdt(t,n){if(1&t){const e=k();d(0,"button",1),E("click",function(o){return T(e),w(p().onClick(o))}),y(1,idt,1,0,"i-bs",2),y(2,odt,4,1,"div",3),O(3,"i-bs",4),u()}if(2&t){const e=p();_(),P(!e.isNumbered&&e.selected?1:-1),_(),P(e.isNumbered?2:-1)}}let c8=(()=>{class t{constructor(){this.cleared=new Ee}get active(){return this.selected||this.number>-1}get isNumbered(){return this.number>-1}onClick(e){this.cleared.emit(!0),e.stopImmediatePropagation(),e.preventDefault()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-clearable-badge"]],inputs:{number:"number",selected:"selected"},outputs:{cleared:"cleared"},decls:1,vars:1,consts:()=>{let e;return e="\u062A\u0646\u0638\u064A\u0641",[["title",e,1,"position-absolute","top-0","start-100","translate-middle","badge","bg-secondary","border","border-light","rounded-pill","p-1"],["title",e,1,"position-absolute","top-0","start-100","translate-middle","badge","bg-secondary","border","border-light","rounded-pill","p-1",3,"click"],["width","1em","height","1em","name","check-lg",1,"check"],[1,"number"],["width",".9em","height","1em","name","x-lg",1,"x"],[1,"visually-hidden"]]},template:function(i,o){1&i&&y(0,sdt,4,2,"button",0),2&i&&P(o.active?0:-1)},dependencies:[Bt,en],styles:[".badge[_ngcontent-%COMP%]{min-width:20px;min-height:20px}.x[_ngcontent-%COMP%]{display:none}.number[_ngcontent-%COMP%]{min-width:1em;min-height:1em;display:inline-block}button[_ngcontent-%COMP%]:hover   .check[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   .number[_ngcontent-%COMP%]{opacity:0!important}button[_ngcontent-%COMP%]:hover   .x[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:.4em;left:calc(50% - .4em)}"]})}return t})();function rdt(t,n){1&t&&O(0,"i-bs",2)}function adt(t,n){1&t&&O(0,"i-bs",3)}function ldt(t,n){1&t&&O(0,"i-bs",4)}function cdt(t,n){1&t&&O(0,"div",6)}function ddt(t,n){1&t&&O(0,"pngx-tag",7),2&t&&m("tag",p().item)("clickable",!1)}function hdt(t,n){if(1&t&&(d(0,"small"),N(1),u()),2&t){const e=p();_(),oe(e.item.name)}}function udt(t,n){if(1&t&&(d(0,"div",8),N(1),u()),2&t){const e=p();_(),oe(e.currentCount)}}var ln=function(t){return t[t.NotSelected=0]="NotSelected",t[t.Selected=1]="Selected",t[t.PartiallySelected=2]="PartiallySelected",t[t.Excluded=3]="Excluded",t}(ln||{});let _dt=(()=>{class t{constructor(){this.disabled=!1,this.hideCount=!1,this.opacifyCount=!0,this.toggled=new Ee,this.exclude=new Ee}get isTag(){return"is_inbox_tag"in this.item}getDepth(){return this.item.depth??0}get currentCount(){return this.count??this.item.document_count}toggleItem(e){this.state==ln.Selected?this.exclude.emit():this.toggled.emit()}isChecked(){return this.state==ln.Selected}isPartiallyChecked(){return this.state==ln.PartiallySelected}isExcluded(){return this.state==ln.Excluded}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-toggleable-dropdown-button"]],inputs:{item:"item",state:"state",count:"count",disabled:"disabled",hideCount:"hideCount",opacifyCount:"opacifyCount"},outputs:{toggled:"toggled",exclude:"exclude"},decls:11,vars:11,consts:[["role","menuitem",1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","border-top-0","border-start-0","border-end-0","border-bottom",3,"click","disabled"],[1,"selected-icon","me-1"],["width","1em","height","1em","name","check"],["width","1em","height","1em","name","dash"],["width","1em","height","1em","name","x"],[1,"me-1","name-cell"],[1,"indicator"],[3,"tag","clickable"],[1,"badge","bg-light","text-dark","rounded-pill","ms-auto","me-1"]],template:function(i,o){1&i&&(d(0,"button",0),E("click",function(r){return o.toggleItem(r)}),d(1,"div",1),y(2,rdt,1,0,"i-bs",2),y(3,adt,1,0,"i-bs",3),y(4,ldt,1,0,"i-bs",4),u(),d(5,"div",5),y(6,cdt,1,0,"div",6),d(7,"div"),y(8,ddt,1,2,"pngx-tag",7)(9,hdt,2,1,"small"),u()(),y(10,udt,2,1,"div",8),u()),2&i&&(we("opacity-50",o.opacifyCount&&!o.hideCount&&0===o.currentCount),m("disabled",o.disabled),_(2),P(o.isChecked()?2:-1),_(),P(o.isPartiallyChecked()?3:-1),_(),P(o.isExcluded()?4:-1),_(),Qr("--depth",o.isTag?o.getDepth()+1:1),_(),P(o.isTag&&o.getDepth()>0?6:-1),_(2),P(o.isTag?8:9),_(2),P(o.hideCount?-1:10))},dependencies:[Hg,Bt,en],styles:[".selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}.name-cell[_ngcontent-%COMP%]{padding-left:calc((var(--depth) - 2) * 1rem);display:flex;align-items:center}.name-cell[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{display:inline-block;width:.8rem;height:.8rem;border-left:1px solid var(--bs-secondary);border-bottom:1px solid var(--bs-secondary);margin-right:.25rem;margin-left:.5rem}"]})}return t})();const gdt=["listFilterTextInput"],pdt=["dropdown"],fdt=["buttonItems"],mdt=t=>({"fw-bold":t});function vdt(t,n){if(1&t){const e=k();d(0,"pngx-clearable-badge",24),E("cleared",function(){return T(e),w(p().reset())}),u()}if(2&t){const e=p();m("number",e.selectionModel.totalCount)("selected",e.selectionModel.selectionSize()>0)}}function Cdt(t,n){if(1&t){const e=k();d(0,"div",17)(1,"div",25)(2,"input",26),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.selectionModel.logicalOperator,o)||(s.selectionModel.logicalOperator=o),w(o)}),E("ngModelChange",function(){return T(e),w(p().selectionModel.toggleOperator())}),u(),d(3,"label",27),b(4,3),u(),d(5,"input",28),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.selectionModel.logicalOperator,o)||(s.selectionModel.logicalOperator=o),w(o)}),E("ngModelChange",function(){return T(e),w(p().selectionModel.toggleOperator())}),u(),d(6,"label",27),b(7,4),u()()()}if(2&t){const e=p();_(2),m("id",Lt("logicalOperatorAnd_",e.name))("name",Lt("logicalOperatorAnd_",e.name)),Le("ngModel",e.selectionModel.logicalOperator),m("disabled",!e.modifierToggleEnabled),_(),m("for",Lt("logicalOperatorAnd_",e.name)),_(2),m("id",Lt("logicalOperatorOr_",e.name))("name",Lt("logicalOperatorOr_",e.name)),Le("ngModel",e.selectionModel.logicalOperator),m("disabled",!e.modifierToggleEnabled),_(),m("for",Lt("logicalOperatorOr_",e.name))}}function Mdt(t,n){if(1&t){const e=k();d(0,"div",17)(1,"div",25)(2,"input",29),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.selectionModel.intersection,o)||(s.selectionModel.intersection=o),w(o)}),E("ngModelChange",function(){return T(e),w(p().selectionModel.toggleIntersection())}),u(),d(3,"label",27),b(4,5),u(),d(5,"input",30),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.selectionModel.intersection,o)||(s.selectionModel.intersection=o),w(o)}),E("ngModelChange",function(){return T(e),w(p().selectionModel.toggleIntersection())}),u(),d(6,"label",27),b(7,6),u()()()}if(2&t){const e=p();_(2),m("id",Lt("intersectionInclude_",e.name))("name",Lt("intersectionInclude_",e.name)),Le("ngModel",e.selectionModel.intersection),m("disabled",!e.modifierToggleEnabled),_(),m("for",Lt("intersectionInclude_",e.name)),_(2),m("id",Lt("intersectionExclude_",e.name))("name",Lt("intersectionExclude_",e.name)),Le("ngModel",e.selectionModel.intersection),m("disabled",!e.modifierToggleEnabled),_(),m("for",Lt("intersectionExclude_",e.name))}}function Tdt(t,n){if(1&t){const e=k();d(0,"pngx-toggleable-dropdown-button",32),E("toggled",function(){T(e);const o=p().$implicit;return w(p(2).selectionModel.toggle(o.id))})("exclude",function(){T(e);const o=p().$implicit;return w(p(2).excludeClicked(o.id))})("click",function(){T(e);const o=p().$index;return w(p(2).setButtonItemIndex(o-1))}),u()}if(2&t){const e=p().$implicit,i=p(2);m("item",e)("hideCount",i.hideCount(e))("opacifyCount",!i.editing)("state",i.selectionModel.get(e.id))("count",i.getUpdatedDocumentCount(e.id))("disabled",i.disabled)}}function wdt(t,n){if(1&t&&y(0,Tdt,1,6,"pngx-toggleable-dropdown-button",31),2&t){const e=n.$implicit;P(p(2).allowSelectNone||e.id?0:-1)}}function bdt(t,n){if(1&t&&(d(0,"div",21,2),Ke(2,wdt,1,1,null,null,jt),Fe(4,"filter"),u()),2&t){const e=p();_(2),qe(V0(4,0,e.selectionModel.items,e.filterText,"name"))}}function Sdt(t,n){if(1&t){const e=k();d(0,"button",34),E("click",function(){return T(e),w(p(2).createClicked())}),d(1,"small",35),ge(2),b(3,7),ue(),N(4),u(),O(5,"i-bs",36),u()}if(2&t){const e=p(2);m("disabled",e.disabled),_(4),He(' "',e.filterText,'"')}}function Edt(t,n){if(1&t){const e=k();d(0,"button",37),E("click",function(){return T(e),w(p(2).applyClicked())}),d(1,"small",38),b(2,8),u(),O(3,"i-bs",39),u()}if(2&t){const e=p(2);m("disabled",!e.modelIsDirty||e.disabled),_(),m("ngClass",ei(2,mdt,e.modelIsDirty))}}function Odt(t,n){if(1&t&&(y(0,Sdt,6,2,"button",33),Fe(1,"filter"),y(2,Edt,4,4,"button",22),Fe(3,"filter")),2&t){const e=p();P(0===V0(1,2,e.selectionModel.items,e.filterText,"name").length&&void 0!==e.createRef?0:-1),_(2),P(V0(3,6,e.selectionModel.items,e.filterText,"name").length>0?2:-1)}}function Adt(t,n){if(1&t){const e=k();d(0,"button",37),E("click",function(o){return T(e),w(p().extraButtonClicked(o))}),d(1,"small",40),N(2),u(),O(3,"i-bs",39),u()}if(2&t){const e=p();m("disabled",e.disabled),_(2),oe(e.extraButtonTitle)}}function Ndt(t,n){1&t&&(d(0,"div",23)(1,"small"),b(2,9),u()())}var za=function(t){return t.And="and",t.Or="or",t}(za||{}),bi=function(t){return t.Include="include",t.Exclude="exclude",t}(bi||{});class al{set documentCounts(n){this._documentCounts=n}get items(){return this._items}set items(n){n&&(this._items=Array.from(n),this.sortItems(),this.setNullItem())}setNullItem(){if(this.manyToOne&&this.logicalOperator===za.Or)return void(null===this._items[0]?.id&&this._items.shift());const n={name:"\u063A\u064A\u0631 \u0645\u0639\u064A\u0646",id:this.manyToOne||this.intersection===bi.Include?null:-1};null===this._items[0]?.id||-1===this._items[0]?.id?this._items[0]=n:this._items&&this._items.unshift(n)}constructor(n=!1){this.changed=new Be,this.manyToOne=!1,this.singleSelect=!1,this._logicalOperator=za.And,this.temporaryLogicalOperator=this._logicalOperator,this._intersection=bi.Include,this.temporaryIntersection=this._intersection,this._documentCounts=[],this._items=[],this.selectionStates=new Map,this.temporarySelectionStates=new Map,this.manyToOne=n}sortItems(){this._items.sort((n,e)=>{if(null==n.id&&null!=e.id||-1==n.id&&-1!=e.id)return-1;if(null!=n.id&&null==e.id||-1!=n.id&&-1==e.id)return 1;const i=n.orderIndex,o=e.orderIndex;return void 0!==i&&void 0!==o?i-o:this.getNonTemporary(n.id)==ln.NotSelected&&this.getNonTemporary(e.id)!=ln.NotSelected?1:this.getNonTemporary(n.id)!=ln.NotSelected&&this.getNonTemporary(e.id)==ln.NotSelected||this._documentCounts.length&&0===this.getDocumentCount(e.id)&&this.getDocumentCount(n.id)>this.getDocumentCount(e.id)?-1:this._documentCounts.length&&0===this.getDocumentCount(n.id)&&this.getDocumentCount(n.id)<this.getDocumentCount(e.id)?1:n.name.localeCompare(e.name)})}getSelectedItems(){return this.items.filter(n=>this.temporarySelectionStates.get(n.id)==ln.Selected)}getExcludedItems(){return this.items.filter(n=>this.temporarySelectionStates.get(n.id)==ln.Excluded)}set(n,e,i=!0){e==ln.NotSelected?this.temporarySelectionStates.delete(n):this.temporarySelectionStates.set(n,e),i&&this.changed.next(this)}toggle(n,e=!0){let i=this.temporarySelectionStates.get(n);if(null==i||i!=ln.Selected&&i!=ln.Excluded)if(this.manyToOne||this.singleSelect){if(this.temporarySelectionStates.set(n,ln.Selected),this.singleSelect)for(let o of this.temporarySelectionStates.keys())o!=n&&this.temporarySelectionStates.delete(o)}else{let o=this.intersection==bi.Include?ln.Selected:ln.Excluded;n||(o=ln.Selected),i==ln.Excluded&&this.intersection==bi.Exclude&&(o=ln.NotSelected),this.temporarySelectionStates.set(n,o)}else(i==ln.Selected||i==ln.Excluded)&&this.temporarySelectionStates.delete(n);if(n)this.temporarySelectionStates.delete(null);else for(let o of this.temporarySelectionStates.keys())o&&this.temporarySelectionStates.delete(o);e&&this.changed.next(this)}exclude(n,e=!0){let i=this.temporarySelectionStates.get(n);if(!n||null!=i&&i==ln.Excluded)(!n||i==ln.Excluded)&&this.temporarySelectionStates.delete(n);else if(this.temporaryLogicalOperator=this._logicalOperator=this.manyToOne?za.And:za.Or,this.manyToOne||this.singleSelect){if(this.temporarySelectionStates.set(n,ln.Excluded),this.singleSelect)for(let o of this.temporarySelectionStates.keys())o!=n&&this.temporarySelectionStates.delete(o)}else{let o=this.intersection==bi.Include?ln.Selected:ln.Excluded;i==ln.Selected&&this.intersection==bi.Include&&(o=ln.NotSelected),this.temporarySelectionStates.set(n,o)}e&&this.changed.next(this)}getNonTemporary(n){return this.selectionStates.get(n)||ln.NotSelected}get logicalOperator(){return this.temporaryLogicalOperator}set logicalOperator(n){this.temporaryLogicalOperator=n,this.setNullItem()}toggleOperator(){this.changed.next(this)}get intersection(){return this.temporaryIntersection}set intersection(n){this.temporaryIntersection=n,this.setNullItem()}toggleIntersection(){if(0===this.temporarySelectionStates.size)return;let n=this.intersection==bi.Include?ln.Selected:ln.Excluded;this.temporarySelectionStates.forEach((e,i)=>{this.temporarySelectionStates.set(null===i&&this.intersection===bi.Exclude?-1:-1===i&&this.intersection===bi.Include?null:i,n)}),this.changed.next(this)}get(n){return this.temporarySelectionStates.get(n)||ln.NotSelected}selectionSize(){return this.getSelectedItems().length}get totalCount(){return this.getSelectedItems().length+this.getExcludedItems().length}clear(n=!0){this.temporarySelectionStates.clear(),this.temporaryLogicalOperator=this._logicalOperator=za.And,this.temporaryIntersection=this._intersection=bi.Include,this.setNullItem(),n&&this.changed.next(this)}isDirty(){return!Array.from(this.temporarySelectionStates.keys()).every(n=>this.temporarySelectionStates.get(n)==this.selectionStates.get(n))||!Array.from(this.selectionStates.keys()).every(n=>this.selectionStates.get(n)==this.temporarySelectionStates.get(n))||this.temporaryLogicalOperator!==this._logicalOperator||this.temporaryIntersection!==this._intersection}isNoneSelected(){return 1==this.selectionSize()&&this.get(null)==ln.Selected||this.intersection==bi.Exclude&&this.get(-1)==ln.Excluded}getDocumentCount(n){return this._documentCounts.find(e=>e.id===n)?.document_count}init(n){this.temporarySelectionStates=n,this.apply()}apply(){this.selectionStates.clear(),this.temporarySelectionStates.forEach((n,e)=>{this.selectionStates.set(e,n)}),this._logicalOperator=this.temporaryLogicalOperator,this._intersection=this.temporaryIntersection,this.sortItems()}reset(n=!1){this.temporarySelectionStates.clear(),n?this.selectionStates.clear():this.selectionStates.forEach((e,i)=>{this.temporarySelectionStates.set(i,e)})}diff(){return{itemsToAdd:this.items.filter(n=>this.temporarySelectionStates.get(n.id)==ln.Selected&&this.selectionStates.get(n.id)!=ln.Selected),itemsToRemove:this.items.filter(n=>!this.temporarySelectionStates.has(n.id)&&this.selectionStates.has(n.id))}}}let FB=(()=>{class t extends Ds{get items(){return this._selectionModel.items}set selectionModel(e){this.selectionModel&&(this.selectionModel.changed.complete(),e.items=this.selectionModel.items,e.manyToOne=this.selectionModel.manyToOne,e.singleSelect=this.editing&&!this.selectionModel.manyToOne),e.changed.subscribe(i=>{this.selectionModelChange.next(i)}),this._selectionModel=e}get selectionModel(){return this._selectionModel}get manyToOne(){return this.selectionModel.manyToOne}set documentCounts(e){e&&(this.selectionModel.documentCounts=e)}get modifierToggleEnabled(){return!this.manyToOne||this.selectionModel.selectionSize()>1&&0==this.selectionModel.getExcludedItems().length}get name(){return this.title?this.title.replace(/\s/g,"_").toLowerCase():null}constructor(){super(),this.filterPipe=M(ob),this.hotkeyService=M(Fg),this.popperOptions=B4,this.selectionModelChange=new Ee,this.filterPlaceholder="",this.allowSelectNone=!1,this.editing=!1,this.applyOnClose=!1,this.disabled=!1,this.creating=!1,this.apply=new Ee,this.opened=new Ee,this.extraButton=new Ee,this.modelIsDirty=!1,this.selectionModelChange.subscribe(e=>{this.modelIsDirty=e.isDirty()})}ngOnInit(){this.shortcutKey&&this.hotkeyService.addShortcut({keys:this.shortcutKey,description:"\u0641\u062A\u062D \u0627\u0644\u0645\u0631\u0634\u062D " + this.title + ""}).pipe(me(this.unsubscribeNotifier),ii(()=>!this.disabled)).subscribe(()=>{this.dropdown.open()})}applyClicked(){this.selectionModel.isDirty()&&(this.dropdown.close(),this.applyOnClose||this.apply.emit(this.selectionModel.diff()))}createClicked(){this.creating=!0,this.createRef(this.filterText)}dropdownOpenChange(e){e?(setTimeout(()=>{this.listFilterTextInput?.nativeElement.focus()},0),this.editing&&(this.selectionModel.reset(),this.modelIsDirty=!1),this.selectionModel.singleSelect=this.editing&&!this.selectionModel.manyToOne,this.opened.next(this)):this.creating?(this.dropdown?.open(),this.creating=!1):(this.filterText="",this.applyOnClose&&this.selectionModel.isDirty()&&this.apply.emit(this.selectionModel.diff()))}listFilterEnter(){let e=this.filterPipe.transform(this.items,this.filterText);1==e.length?(this.selectionModel.toggle(e[0].id),setTimeout(()=>{this.editing?this.applyClicked():this.dropdown.close()},200)):0==e.length&&this.createRef&&this.createClicked()}excludeClicked(e){this.editing?this.selectionModel.toggle(e):this.selectionModel.exclude(e)}reset(){this.selectionModel.reset(!0),this.selectionModelChange.emit(this.selectionModel)}getUpdatedDocumentCount(e){return this.selectionModel.getDocumentCount(e)}listKeyDown(e){switch(e.key){case"ArrowDown":e.target instanceof HTMLInputElement?(!this.filterText||e.target.selectionStart===this.filterText.length)&&(this.keyboardIndex=-1,this.focusNextButtonItem(),e.preventDefault()):e.target instanceof HTMLButtonElement&&(this.focusNextButtonItem(),e.preventDefault());break;case"ArrowUp":e.target instanceof HTMLButtonElement&&(0===this.keyboardIndex?this.listFilterTextInput.nativeElement.focus():this.focusPreviousButtonItem(),e.preventDefault());break;case"Tab":e.target instanceof HTMLInputElement?this.keyboardIndex=0:e.target instanceof HTMLButtonElement&&(e.shiftKey?this.keyboardIndex>0&&this.focusPreviousButtonItem(!1):this.focusNextButtonItem(!1))}}focusNextButtonItem(e=!0){this.keyboardIndex=Math.min(this.items.length-1,this.keyboardIndex+1),e&&this.setButtonItemFocus()}focusPreviousButtonItem(e=!0){this.keyboardIndex=Math.max(0,this.keyboardIndex-1),e&&this.setButtonItemFocus()}setButtonItemFocus(){this.buttonItems.nativeElement.children[this.keyboardIndex]?.children[0].focus()}setButtonItemIndex(e){this.keyboardIndex=e}hideCount(e){return this.selectionModel.logicalOperator===za.Or&&this.manyToOne&&this.selectionModel.get(e.id)!==ln.Selected}extraButtonClicked(){const e=this.applyOnClose;this.applyOnClose=!1,this.dropdown.close(),this.extraButton.emit(this.selectionModel.diff()),this.applyOnClose=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-filterable-dropdown"]],viewQuery:function(i,o){if(1&i&&(Tn(gdt,5),Tn(pdt,5),Tn(fdt,5)),2&i){let s;Mt(s=Tt())&&(o.listFilterTextInput=s.first),Mt(s=Tt())&&(o.dropdown=s.first),Mt(s=Tt())&&(o.buttonItems=s.first)}},inputs:{selectionModel:"selectionModel",title:"title",filterPlaceholder:"filterPlaceholder",icon:"icon",allowSelectNone:"allowSelectNone",editing:"editing",applyOnClose:"applyOnClose",disabled:"disabled",createRef:"createRef",documentCounts:"documentCounts",shortcutKey:"shortcutKey",extraButtonTitle:"extraButtonTitle"},outputs:{selectionModelChange:"selectionModelChange",apply:"apply",opened:"opened",extraButton:"extraButton"},features:[at],decls:19,vars:19,consts:()=>{let e,i,o,s,r,a,l;return e="\u0627\u0644\u0643\u0644",i="\u0623\u064A",o="\u062A\u0636\u0645\u064A\u0646",s="\u0627\u0633\u062A\u0628\u0639\u0627\u062F",r="\u0625\u0646\u0634\u0627\u0621",a="\u062A\u0637\u0628\u064A\u0642",l="\u0627\u0646\u0642\u0631 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u0633\u062A\u0628\u0639\u0627\u062F \u0627\u0644\u0639\u0646\u0627\u0635\u0631.",[["dropdown","ngbDropdown"],["listFilterTextInput",""],["buttonItems",""],e,i,o,s,r,a,l,["ngbDropdown","","role","group",1,"btn-group","w-100",3,"openChange","keydown","popperOptions"],["ngbDropdownToggle","",1,"btn","btn-sm",3,"id","ngClass","disabled"],[3,"name"],[1,"d-none","d-sm-inline"],[3,"number","selected"],["ngbDropdownMenu","",1,"dropdown-menu","py-0","shadow"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex"],[1,"list-group-item"],[1,"input-group","input-group-sm"],["type","text","spellcheck","false",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"items"],[1,"list-group-item","list-group-item-action","bg-light","d-flex","align-items-center",3,"disabled"],[1,"list-group-item","list-group-item-note","pt-1","pb-2"],[3,"cleared","number","selected"],["role","group",1,"btn-group","btn-group-xs","flex-fill"],["type","radio","value","and",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],[1,"btn","btn-outline-primary",3,"for"],["type","radio","value","or",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],["type","radio","value","include",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],["type","radio","value","exclude",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],[3,"item","hideCount","opacifyCount","state","count","disabled"],[3,"toggled","exclude","click","item","hideCount","opacifyCount","state","count","disabled"],[1,"list-group-item","list-group-item-action","bg-light",3,"disabled"],[1,"list-group-item","list-group-item-action","bg-light",3,"click","disabled"],[1,"ms-2"],["width","1.5em","height","1em","name","plus"],[1,"list-group-item","list-group-item-action","bg-light","d-flex","align-items-center",3,"click","disabled"],[1,"ms-2",3,"ngClass"],["width","1.5em","height","1em","name","arrow-right"],[1,"ms-2","fw-bold"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",10,0),E("openChange",function(a){return T(s),w(o.dropdownOpenChange(a))})("keydown",function(a){return T(s),w(o.listKeyDown(a))}),d(2,"button",11),O(3,"i-bs",12),d(4,"div",13),N(5),u(),y(6,vdt,1,2,"pngx-clearable-badge",14),u(),d(7,"div",15)(8,"div",16),y(9,Cdt,8,16,"div",17),y(10,Mdt,8,16,"div",17),d(11,"div",18)(12,"div",19)(13,"input",20,1),Re("ngModelChange",function(a){return T(s),Pe(o.filterText,a)||(o.filterText=a),w(a)}),E("keyup.enter",function(){return T(s),w(o.listFilterEnter())}),u()()(),y(15,bdt,5,4,"div",21),y(16,Odt,4,10),y(17,Adt,4,2,"button",22),y(18,Ndt,3,0,"div",23),u()()()}2&i&&(m("popperOptions",o.popperOptions),_(2),m("id",Lt("dropdown_",o.name))("ngClass",!o.editing&&o.selectionModel.selectionSize()>0?"btn-primary":"btn-outline-primary")("disabled",o.disabled),_(),m("name",ni(o.icon)),_(2),He("\xa0",o.title),_(),P(!o.editing&&o.selectionModel.totalCount>0?6:-1),_(),Vn("aria-labelledby",Lt("dropdown_",o.name)),_(2),P(!o.editing&&o.manyToOne?9:-1),_(),P(o.editing||o.manyToOne?-1:10),_(3),Le("ngModel",o.filterText),m("placeholder",o.filterPlaceholder),_(2),P(o.selectionModel.items?15:-1),_(),P(o.editing?16:-1),_(),P(o.extraButtonTitle?17:-1),_(),P(!o.editing&&o.manyToOne?18:-1))},dependencies:[c8,_dt,$t,Ci,t5,Gt,Ln,Wt,Bt,en,Go,Ho,Ss,Qo,wa,ob],styles:[".badge-corner[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px}.dropdown-menu[_ngcontent-%COMP%]{min-width:250px}.dropdown-menu[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.2}.btn-group[_ngcontent-%COMP%] > label.disabled[_ngcontent-%COMP%]{filter:brightness(.5)}.btn-group[_ngcontent-%COMP%] > label.disabled.active[_ngcontent-%COMP%]{background-color:var(--pngx-primary-lighten-30)}.list-group-item-note[_ngcontent-%COMP%]{line-height:1}.list-group-item-note[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:65%}.show[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{color:#fff}"]})}return t})();function Ddt(t,n){1&t&&(O(0,"div",16),d(1,"span",17),b(2,2),u())}let sb=(()=>{class t{constructor(){this.activeModal=M(sa),this.userService=M(vs),this.o=void 0,this.confirmClicked=new Ee,this.title="\u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",this.form=new ti({permissions_form:new re,merge:new re(!0)}),this.buttonsEnabled=!0,this.userService.listAll().subscribe(e=>this.users=e.results)}set object(e){this.o=e,this.title="\u062A\u062D\u0631\u064A\u0631 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0644\u0640 "+e.name,this.form.patchValue({merge:!0,permissions_form:{owner:e.owner,set_permissions:e.permissions}})}get object(){return this.o}get permissions(){return{owner:this.form.get("permissions_form").value?.owner??null,set_permissions:this.form.get("permissions_form").value?.set_permissions??{view:{users:[],groups:[]},change:{users:[],groups:[]}}}}get hint(){return this.object?null:this.form.get("merge").value?"\u0633\u064A\u062A\u0645 \u062F\u0645\u062C \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0627\u0644\u0643 \u0648\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0648\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0645\u0639 \u0647\u0630\u0647 \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A.":"\u062C\u0645\u064A\u0639 \u0623\u0630\u0648\u0646\u0627\u062A \u0627\u0644\u0645\u064F\u0644\u0651\u064E\u0627\u0643 \u0648 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0648 \u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A \u0633\u064A\u062A\u0645 \u0627\u0633\u062A\u0628\u062F\u0627\u0644\u0647\u0627."}cancelClicked(){this.activeModal.close()}confirm(){this.confirmClicked.emit({permissions:this.permissions,merge:this.form.get("merge").value})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-permissions-dialog"]],inputs:{title:"title",object:"object"},outputs:{confirmClicked:"confirmClicked"},decls:17,vars:8,consts:()=>{let e,i,o,s;return e="\u062F\u0645\u062C \u0645\u0639 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629",i="\u0625\u0644\u063A\u0627\u0621",o="\u0623\u0643\u0651\u062F",s="\u062A\u062D\u0645\u064A\u0644...",[i,o,s,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["formControlName","permissions_form",3,"users"],[1,"form-group","mt-4"],[1,"offset-lg-3","row"],["title",e,"formControlName","merge",3,"horizontal","hint"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden"]]},template:function(i,o){1&i&&(d(0,"div",3)(1,"h4",4),N(2),u(),d(3,"button",5),E("click",function(){return o.cancelClicked()}),u()(),d(4,"div",6)(5,"form",7)(6,"div",8),O(7,"pngx-permissions-form",9),u(),d(8,"div",10)(9,"div",11),O(10,"pngx-input-switch",12),u()()()(),d(11,"div",13),y(12,Ddt,3,0),d(13,"button",14),E("click",function(){return o.cancelClicked()}),b(14,0),u(),d(15,"button",15),E("click",function(){return o.confirm()}),b(16,1),u()()),2&i&&(_(2),oe(o.title),_(3),m("formGroup",o.form),_(2),m("users",o.users),_(3),m("horizontal",!0)("hint",o.hint),_(2),P(o.buttonsEnabled?-1:12),_(),m("disabled",!o.buttonsEnabled),_(2),m("disabled",!o.buttonsEnabled))},dependencies:[L4,ph,$t,Do,Gt,Co,Wt,ao,Mo],encapsulation:2})}return t})();const ydt=()=>({standalone:!0}),Pdt=(t,n)=>n.id;function Idt(t,n){if(1&t&&O(0,"pngx-input-text",16),2&t){const e=p().$implicit;m("formControlName",ni(e.id))("title",e.name)("horizontal",!0)}}function Ldt(t,n){if(1&t&&O(0,"pngx-input-date",16),2&t){const e=p().$implicit;m("formControlName",ni(e.id))("title",e.name)("horizontal",!0)}}function Rdt(t,n){if(1&t&&O(0,"pngx-input-number",17),2&t){const e=p().$implicit;m("formControlName",ni(e.id))("title",e.name)("showAdd",!1)("horizontal",!0)}}function xdt(t,n){if(1&t&&O(0,"pngx-input-number",18),2&t){const e=p().$implicit;m("formControlName",ni(e.id))("title",e.name)("showAdd",!1)("step",.1)("horizontal",!0)}}function Fdt(t,n){if(1&t&&O(0,"pngx-input-monetary",19),2&t){const e=p().$implicit;m("formControlName",ni(e.id))("title",e.name)("defaultCurrency",null==e.extra_data?null:e.extra_data.default_currency)("horizontal",!0)}}function kdt(t,n){if(1&t&&O(0,"pngx-input-check",16),2&t){const e=p().$implicit;m("formControlName",ni(e.id))("title",e.name)("horizontal",!0)}}function zdt(t,n){if(1&t&&O(0,"pngx-input-url",16),2&t){const e=p().$implicit;m("formControlName",ni(e.id))("title",e.name)("horizontal",!0)}}function Vdt(t,n){if(1&t&&O(0,"pngx-input-document-link",16),2&t){const e=p().$implicit;m("formControlName",ni(e.id))("title",e.name)("horizontal",!0)}}function Hdt(t,n){if(1&t&&O(0,"pngx-input-select",20),2&t){const e=p().$implicit;m("formControlName",ni(e.id))("title",e.name)("items",e.extra_data.select_options)("allowNull",!0)("horizontal",!0)}}function Gdt(t,n){if(1&t&&O(0,"pngx-input-textarea",16),2&t){const e=p().$implicit;m("formControlName",ni(e.id))("title",e.name)("horizontal",!0)}}function $dt(t,n){if(1&t){const e=k();d(0,"div",11),y(1,Idt,1,4,"pngx-input-text",16)(2,Ldt,1,4,"pngx-input-date",16)(3,Rdt,1,5,"pngx-input-number",17)(4,xdt,1,6,"pngx-input-number",18)(5,Fdt,1,5,"pngx-input-monetary",19)(6,kdt,1,4,"pngx-input-check",16)(7,zdt,1,4,"pngx-input-url",16)(8,Vdt,1,4,"pngx-input-document-link",16)(9,Hdt,1,6,"pngx-input-select",20)(10,Gdt,1,4,"pngx-input-textarea",16),d(11,"button",21),E("click",function(){const o=T(e).$implicit;return w(p().removeField(o.id))}),O(12,"i-bs",22),u()()}if(2&t){let e;const i=n.$implicit,o=p();_(),P((e=i.data_type)===o.CustomFieldDataType.String?1:e===o.CustomFieldDataType.Date?2:e===o.CustomFieldDataType.Integer?3:e===o.CustomFieldDataType.Float?4:e===o.CustomFieldDataType.Monetary?5:e===o.CustomFieldDataType.Boolean?6:e===o.CustomFieldDataType.Url?7:e===o.CustomFieldDataType.DocumentLink?8:e===o.CustomFieldDataType.Select?9:e===o.CustomFieldDataType.LongText?10:-1)}}function Bdt(t,n){if(1&t&&(d(0,"p",13)(1,"em"),b(2,3),u()()),2&t){const e=p();_(2),An(e.fieldsToRemoveIds.length)(e.fieldsToRemoveIds.length),In(2)}}let Udt=(()=>{class t{constructor(){this.activeModal=M(sa),this.documentService=M(Io),this.CustomFieldDataType=Pi,this.succeeded=new Ee,this.failed=new Ee,this.networkActive=!1,this.customFields=[],this._fieldsToAdd=[],this._fieldsToAddIds=[],this.fieldsToRemoveIds=[],this.form=new ti({}),this.documents=[]}get fieldsToAdd(){return this._fieldsToAdd}get fieldsToAddIds(){return this._fieldsToAddIds}set fieldsToAddIds(e){this._fieldsToAddIds=e,this._fieldsToAdd=this.customFields.filter(i=>this._fieldsToAddIds.includes(i.id)),this.initForm()}initForm(){Object.keys(this.form.controls).forEach(e=>{this._fieldsToAddIds.includes(parseInt(e))||this.form.removeControl(e)}),this._fieldsToAddIds.forEach(e=>{this.form.addControl(e.toString(),new re(null))})}save(){this.documentService.bulkEdit(this.documents,"modify_custom_fields",{add_custom_fields:this.form.value,remove_custom_fields:this.fieldsToRemoveIds}).pipe(ut()).subscribe({next:()=>{this.activeModal.close(),this.succeeded.emit()},error:e=>{this.failed.emit(e)}})}cancel(){this.activeModal.close()}removeField(e){this.fieldsToAddIds=this._fieldsToAddIds.filter(i=>i!==e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-custom-fields-bulk-edit-dialog"]],outputs:{succeeded:"succeeded",failed:"failed"},decls:16,vars:10,consts:()=>{let e,i,o,s,r;return e="Select custom fields",i="{VAR_PLURAL, plural, =1 {Set custom fields for 1 document} other {Set custom fields for {INTERPOLATION} documents}}",i=Ma(i,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),o="\u0625\u0644\u063A\u0627\u0621",s="\u062D\u0641\u0638",r="{VAR_PLURAL, plural, =1 {This operation will also remove 1 custom field from the selected documents.} other {This operation will also\n          remove {INTERPOLATION} custom fields from the selected documents.}}",r=Ma(r,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[i,o,s,r,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title","i8n","",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["title","","multiple","true","placeholder",e,3,"ngModelChange","items","ngModel","ngModelOptions"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","gap-2"],[1,"modal-footer"],[1,"mb-0","small"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"w-100",3,"formControlName","title","horizontal"],[1,"w-100",3,"formControlName","title","showAdd","horizontal"],[1,"w-100",3,"formControlName","title","showAdd","step","horizontal"],[1,"w-100",3,"formControlName","title","defaultCurrency","horizontal"],["bindLabel","label",1,"w-100",3,"formControlName","title","items","allowNull","horizontal"],["type","button",1,"btn","btn-outline-danger","mb-3",3,"click"],["name","x"]]},template:function(i,o){1&i&&(d(0,"form",4),E("ngSubmit",function(){return o.save()}),d(1,"div",5)(2,"h4",6),b(3,0),u(),d(4,"button",7),E("click",function(){return o.cancel()}),u()(),d(5,"div",8)(6,"pngx-input-select",9),Re("ngModelChange",function(r){return Pe(o.fieldsToAddIds,r)||(o.fieldsToAddIds=r),r}),u(),d(7,"div",10),Ke(8,$dt,13,1,"div",11,Pdt),u()(),d(10,"div",12),y(11,Bdt,3,2,"p",13),d(12,"button",14),E("click",function(){return o.cancel()}),b(13,1),u(),d(14,"button",15),b(15,2),u()()()),2&i&&(m("formGroup",o.form),_(3),An(o.documents.length)(o.documents.length),In(3),_(3),m("items",o.customFields),Le("ngModel",o.fieldsToAddIds),m("ngModelOptions",Yd(9,ydt)),_(2),qe(o.fieldsToAdd),_(3),P(o.fieldsToRemoveIds.length?11:-1),_(),m("disabled",o.networkActive),_(2),m("disabled",o.networkActive||o.fieldsToRemoveIds.length+o.fieldsToAddIds.length===0))},dependencies:[p1,Zw,q4,Ww,F5,Rr,qs,Kw,$t,Do,Gt,Co,Ln,Wt,ao,Mo,Bt,en,Vg],encapsulation:2})}return t})();const kB=(t,n)=>({action:t,type:n});function jdt(t,n){if(1&t){const e=k();d(0,"pngx-filterable-dropdown",63),E("opened",function(){return T(e),w(p(2).openTagsDropdown())}),Re("selectionModelChange",function(o){T(e);const s=p(2);return Pe(s.tagSelectionModel,o)||(s.tagSelectionModel=o),w(o)}),E("apply",function(o){return T(e),w(p(2).setTags(o))}),u()}if(2&t){const e=p(2);m("disabled",!e.userCanEditAll||e.disabled)("editing",!0)("applyOnClose",e.applyOnClose)("createRef",e.createTag.bind(e)),Le("selectionModel",e.tagSelectionModel),m("documentCounts",e.tagDocumentCounts)}}function Zdt(t,n){if(1&t){const e=k();d(0,"pngx-filterable-dropdown",64),E("opened",function(){return T(e),w(p(2).openCorrespondentDropdown())}),Re("selectionModelChange",function(o){T(e);const s=p(2);return Pe(s.correspondentSelectionModel,o)||(s.correspondentSelectionModel=o),w(o)}),E("apply",function(o){return T(e),w(p(2).setCorrespondents(o))}),u()}if(2&t){const e=p(2);m("disabled",!e.userCanEditAll||e.disabled)("editing",!0)("applyOnClose",e.applyOnClose)("createRef",e.createCorrespondent.bind(e)),Le("selectionModel",e.correspondentSelectionModel),m("documentCounts",e.correspondentDocumentCounts)}}function Wdt(t,n){if(1&t){const e=k();d(0,"pngx-filterable-dropdown",65),E("opened",function(){return T(e),w(p(2).openDocumentTypeDropdown())}),Re("selectionModelChange",function(o){T(e);const s=p(2);return Pe(s.documentTypeSelectionModel,o)||(s.documentTypeSelectionModel=o),w(o)}),E("apply",function(o){return T(e),w(p(2).setDocumentTypes(o))}),u()}if(2&t){const e=p(2);m("disabled",!e.userCanEditAll||e.disabled)("editing",!0)("applyOnClose",e.applyOnClose)("createRef",e.createDocumentType.bind(e)),Le("selectionModel",e.documentTypeSelectionModel),m("documentCounts",e.documentTypeDocumentCounts)}}function Xdt(t,n){if(1&t){const e=k();d(0,"pngx-filterable-dropdown",66),E("opened",function(){return T(e),w(p(2).openStoragePathDropdown())}),Re("selectionModelChange",function(o){T(e);const s=p(2);return Pe(s.storagePathsSelectionModel,o)||(s.storagePathsSelectionModel=o),w(o)}),E("apply",function(o){return T(e),w(p(2).setStoragePaths(o))}),u()}if(2&t){const e=p(2);m("disabled",!e.userCanEditAll||e.disabled)("editing",!0)("applyOnClose",e.applyOnClose)("createRef",e.createStoragePath.bind(e)),Le("selectionModel",e.storagePathsSelectionModel),m("documentCounts",e.storagePathDocumentCounts)}}function Kdt(t,n){if(1&t){const e=k();d(0,"pngx-filterable-dropdown",67),E("opened",function(){return T(e),w(p(2).openCustomFieldsDropdown())}),Re("selectionModelChange",function(o){T(e);const s=p(2);return Pe(s.customFieldsSelectionModel,o)||(s.customFieldsSelectionModel=o),w(o)}),E("extraButton",function(o){return T(e),w(p(2).setCustomFieldValues(o))})("apply",function(o){return T(e),w(p(2).setCustomFields(o))}),u()}if(2&t){const e=p(2);m("disabled",!e.userCanEditAll)("editing",!0)("applyOnClose",e.applyOnClose)("createRef",e.createCustomField.bind(e)),Le("selectionModel",e.customFieldsSelectionModel),m("documentCounts",e.customFieldDocumentCounts)}}function qdt(t,n){if(1&t&&(d(0,"div",57)(1,"label",21),b(2,14),u(),y(3,jdt,1,6,"pngx-filterable-dropdown",58),y(4,Zdt,1,6,"pngx-filterable-dropdown",59),y(5,Wdt,1,6,"pngx-filterable-dropdown",60),y(6,Xdt,1,6,"pngx-filterable-dropdown",61),y(7,Kdt,1,6,"pngx-filterable-dropdown",62),u()),2&t){const e=p();_(3),P(e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.Tag)?3:-1),_(),P(e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.Correspondent)?4:-1),_(),P(e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.DocumentType)?5:-1),_(),P(e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.StoragePath)?6:-1),_(),P(e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.CustomField)?7:-1)}}function Ydt(t,n){1&t&&O(0,"i-bs",42)}function Qdt(t,n){1&t&&(d(0,"div",43)(1,"span",68),N(2,"Preparing download..."),u()())}function Jdt(t,n){if(1&t){const e=k();d(0,"button",69),E("click",function(){return T(e),w(p().applyDelete())}),O(1,"i-bs",70),N(2,"\xa0"),ge(3),b(4,15),ue(),u()}2&t&&m("disabled",!p().userOwnsAll)}let e2t=(()=>{class t extends H1{constructor(){super(...arguments),this.documentTypeService=M(sl),this.tagService=M(fh),this.correspondentService=M(ol),this.list=M(z5),this.documentService=M(Io),this.modalService=M(ps),this.openDocumentService=M($4),this.settings=M(Gn),this.toastService=M(eo),this.storagePathService=M(nc),this.customFieldService=M(g1),this.permissionService=M(Ti),this.savedViewService=M(V5),this.tagSelectionModel=new al(!0),this.correspondentSelectionModel=new al,this.documentTypeSelectionModel=new al,this.storagePathsSelectionModel=new al,this.customFieldsSelectionModel=new al(!0),this.unsubscribeNotifier=new Be,this.downloadForm=new ti({downloadFileTypeArchive:new re(!0),downloadFileTypeOriginals:new re(!1),downloadUseFormatting:new re(!1)}),this.disabled=!1,this.applyOnClose=this.settings.get(Ce.BULK_EDIT_APPLY_ON_CLOSE),this.showConfirmationDialogs=this.settings.get(Ce.BULK_EDIT_CONFIRMATION_DIALOGS)}get userCanEditAll(){let e=this.permissionService.currentUserCan(ft.Change,vt.Document);return!!e&&(e=this.list.documents.filter(o=>this.list.selected.has(o.id)).every(o=>this.permissionService.currentUserHasObjectPermissions(this.PermissionAction.Change,o)),e)}get userOwnsAll(){let e=!0;return e=this.list.documents.filter(o=>this.list.selected.has(o.id)).every(o=>this.permissionService.currentUserOwnsObject(o)),e}get userCanEdit(){return this.permissionService.currentUserCan(ft.Change,vt.Document)}get userCanAdd(){return this.permissionService.currentUserCan(ft.Add,vt.Document)}ngOnInit(){this.permissionService.currentUserCan(ft.View,vt.Tag)&&this.tagService.listAll().pipe(ut()).subscribe(e=>this.tagSelectionModel.items=ib(e.results)),this.permissionService.currentUserCan(ft.View,vt.Correspondent)&&this.correspondentService.listAll().pipe(ut()).subscribe(e=>this.correspondentSelectionModel.items=e.results),this.permissionService.currentUserCan(ft.View,vt.DocumentType)&&this.documentTypeService.listAll().pipe(ut()).subscribe(e=>this.documentTypeSelectionModel.items=e.results),this.permissionService.currentUserCan(ft.View,vt.StoragePath)&&this.storagePathService.listAll().pipe(ut()).subscribe(e=>this.storagePathsSelectionModel.items=e.results),this.permissionService.currentUserCan(ft.View,vt.CustomField)&&this.customFieldService.listAll().pipe(ut()).subscribe(e=>this.customFieldsSelectionModel.items=e.results),this.downloadForm.get("downloadFileTypeArchive").valueChanges.pipe(me(this.unsubscribeNotifier)).subscribe(e=>{e||this.downloadForm.get("downloadFileTypeOriginals").patchValue(!0,{emitEvent:!1})}),this.downloadForm.get("downloadFileTypeOriginals").valueChanges.pipe(me(this.unsubscribeNotifier)).subscribe(e=>{e||this.downloadForm.get("downloadFileTypeArchive").patchValue(!0,{emitEvent:!1})})}ngOnDestroy(){this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}executeBulkOperation(e,i,o,s){e&&(e.componentInstance.buttonsEnabled=!1),this.documentService.bulkEdit(s??Array.from(this.list.selected),i,o).pipe(ut()).subscribe({next:()=>{o.delete_originals&&this.list.selected.clear(),this.list.reload(),this.list.reduceSelectionToFilter(),this.list.selected.forEach(r=>{this.openDocumentService.refreshDocument(r)}),this.savedViewService.maybeRefreshDocumentCounts(),e&&e.close()},error:r=>{e&&(e.componentInstance.buttonsEnabled=!0),this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0646\u0641\u064A\u0630 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0628\u0627\u0644\u062C\u0645\u0644\u0629",r)}})}applySelectionData(e,i){let o=new Map;e.forEach(s=>{s.document_count==this.list.selected.size?o.set(s.id,ln.Selected):s.document_count>0&&o.set(s.id,ln.PartiallySelected)}),i.init(o)}openTagsDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(ut()).subscribe(e=>{this.tagDocumentCounts=e.selected_tags,this.applySelectionData(e.selected_tags,this.tagSelectionModel)})}openDocumentTypeDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(ut()).subscribe(e=>{this.documentTypeDocumentCounts=e.selected_document_types,this.applySelectionData(e.selected_document_types,this.documentTypeSelectionModel)})}openCorrespondentDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(ut()).subscribe(e=>{this.correspondentDocumentCounts=e.selected_correspondents,this.applySelectionData(e.selected_correspondents,this.correspondentSelectionModel)})}openStoragePathDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(ut()).subscribe(e=>{this.storagePathDocumentCounts=e.selected_storage_paths,this.applySelectionData(e.selected_storage_paths,this.storagePathsSelectionModel)})}openCustomFieldsDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(ut()).subscribe(e=>{this.customFieldDocumentCounts=e.selected_custom_fields,this.applySelectionData(e.selected_custom_fields,this.customFieldsSelectionModel)})}_localizeList(e){if(0==e.length)return"";if(1==e.length)return "\"" + e[0].name + "\"";if(2==e.length)return "\"" + e[0].name + "\" \u0648 \"" + e[1].name + "\"";{let i=e.slice(0,e.length-1).map(o=>"\"" + o.name + "\"").join(", ");return "" + i + " \u0648\"" + e[e.length - 1].name + "\""}}setTags(e){if(0!=e.itemsToAdd.length||0!=e.itemsToRemove.length)if(this.showConfirmationDialogs){let i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A",i.componentInstance.message=1==e.itemsToAdd.length&&0==e.itemsToRemove.length?"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0636\u064A\u0641 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \"" + e.itemsToAdd[0].name + "\" \u0625\u0644\u0649 " + this.list.selected.size + " \u0645\u0633\u062A\u0646\u062F (\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0645\u062E\u062A\u0627\u0631\u0629.":e.itemsToAdd.length>1&&0==e.itemsToRemove.length?"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0636\u064A\u0641 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A " + this._localizeList(e.itemsToAdd) + " \u0625\u0644\u0649 " + this.list.selected.size + " \u0645\u0633\u062A\u0646\u062F (\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0645\u062E\u062A\u0627\u0631\u0629.":0==e.itemsToAdd.length&&1==e.itemsToRemove.length?"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0632\u064A\u0644 \u0627\u0644\u0639\u0644\u0627\u0645\u0629\"" + e.itemsToRemove[0].name + "\" \u0645\u0646 " + this.list.selected.size + " \u0627\u0644\u0645\u0633\u062A\u0646\u062F (\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0627\u0644\u0645\u062E\u062A\u0627\u0631\u0629.":0==e.itemsToAdd.length&&e.itemsToRemove.length>1?"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0632\u064A\u0644 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A " + this._localizeList(e.itemsToRemove) + " \u0645\u0646 " + this.list.selected.size + " \u0627\u0644\u0645\u0633\u062A\u0646\u062F (\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0627\u0644\u0645\u062E\u062A\u0627\u0631\u0629.":"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u0648\u0641 \u062A\u0636\u064A\u0641 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A " + this._localizeList(e.itemsToAdd) + " \u0648\u062A\u0632\u064A\u0644 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A " + this._localizeList(e.itemsToRemove) + " \u0641\u064A " + this.list.selected.size + " \u0645\u0633\u062A\u0646\u062F(\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0645\u062E\u062A\u0627\u0631\u0629.",i.componentInstance.btnClass="btn-warning",i.componentInstance.btnCaption="\u0623\u0643\u0651\u062F",i.componentInstance.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(i,"modify_tags",{add_tags:e.itemsToAdd.map(o=>o.id),remove_tags:e.itemsToRemove.map(o=>o.id)})})}else this.executeBulkOperation(null,"modify_tags",{add_tags:e.itemsToAdd.map(i=>i.id),remove_tags:e.itemsToRemove.map(i=>i.id)})}setCorrespondents(e){if(0==e.itemsToAdd.length&&0==e.itemsToRemove.length)return;let i=e.itemsToAdd.length>0?e.itemsToAdd[0]:null;if(this.showConfirmationDialogs){let o=this.modalService.open(Ki,{backdrop:"static"});o.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u062A\u0639\u064A\u064A\u0646 \u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644",o.componentInstance.message=i?"\u0633\u062A\u0642\u0648\u0645 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0628\u062A\u0639\u064A\u064A\u0646 \u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644 \"" + i.name + "\" \u0644\u0644\u0645\u0633\u062A\u0646\u062F (\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0627\u0644\u0645\u062D\u062F\u062F\u0629 " + this.list.selected.size + ".":"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0632\u064A\u0644 \u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644 " + this.list.selected.size + " \u0645\u0646 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0623\u0648 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u0645\u062D\u062F\u062F\u0629.",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="\u0623\u0643\u0651\u062F",o.componentInstance.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(o,"set_correspondent",{correspondent:i?i.id:null})})}else this.executeBulkOperation(null,"set_correspondent",{correspondent:i?i.id:null})}setDocumentTypes(e){if(0==e.itemsToAdd.length&&0==e.itemsToRemove.length)return;let i=e.itemsToAdd.length>0?e.itemsToAdd[0]:null;if(this.showConfirmationDialogs){let o=this.modalService.open(Ki,{backdrop:"static"});o.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u062A\u0639\u064A\u064A\u0646 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",o.componentInstance.message=i?"\u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0639\u064A\u0646 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \"" + i.name + "\" \u0625\u0644\u0649 " + this.list.selected.size + " \u0645\u0633\u062A\u0646\u062F (\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0645\u062E\u062A\u0627\u0631\u0629.":"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0632\u064A\u0644 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0645\u0646 " + this.list.selected.size + " \u0645\u0633\u062A\u0646\u062F (\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0645\u062E\u062A\u0627\u0631\u0629.",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="\u0623\u0643\u0651\u062F",o.componentInstance.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(o,"set_document_type",{document_type:i?i.id:null})})}else this.executeBulkOperation(null,"set_document_type",{document_type:i?i.id:null})}setStoragePaths(e){if(0==e.itemsToAdd.length&&0==e.itemsToRemove.length)return;let i=e.itemsToAdd.length>0?e.itemsToAdd[0]:null;if(this.showConfirmationDialogs){let o=this.modalService.open(Ki,{backdrop:"static"});o.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u062A\u0639\u064A\u064A\u0646 \u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",o.componentInstance.message=i?"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0639\u064A\u0646 \u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \"" + i.name + "\" \u0625\u0644\u0649 " + this.list.selected.size + " \u0645\u0633\u062A\u0646\u062F (\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0645\u062E\u062A\u0627\u0631\u0629.":"\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0632\u064A\u0644 \u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0645\u0646 " + this.list.selected.size + " \u0627\u0644\u0645\u0633\u062A\u0646\u062F(\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0627\u0644\u0645\u062E\u062A\u0627\u0631\u0629.",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="\u0623\u0643\u0651\u062F",o.componentInstance.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(o,"set_storage_path",{storage_path:i?i.id:null})})}else this.executeBulkOperation(null,"set_storage_path",{storage_path:i?i.id:null})}setCustomFields(e){if(0!=e.itemsToAdd.length||0!=e.itemsToRemove.length)if(this.showConfirmationDialogs){let i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u062D\u0642\u0644 \u0627\u0644\u0645\u062E\u0635\u0635",i.componentInstance.message=1==e.itemsToAdd.length&&0==e.itemsToRemove.length?"\u0633\u062A\u0642\u0648\u0645 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0628\u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u062D\u0642\u0644 \u0627\u0644\u0645\u062E\u0635\u0635 \"" + e.itemsToAdd[0].name + "\" \u0625\u0644\u0649 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0623\u0648 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A " + this.list.selected.size + " \u0627\u0644\u0645\u062D\u062F\u062F\u0629.":e.itemsToAdd.length>1&&0==e.itemsToRemove.length?"\u0633\u062A\u0642\u0648\u0645 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0628\u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u062E\u0635\u0635\u0629 ":0==e.itemsToAdd.length&&1==e.itemsToRemove.length?"\u0633\u062A\u0624\u062F\u064A \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0625\u0644\u0649 \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062D\u0642\u0644 \u0627\u0644\u0645\u062E\u0635\u0635 \"" + e.itemsToRemove[0].name + "\" \u0645\u0646 " + this.list.selected.size + " \u0645\u0633\u062A\u0646\u062F (\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0645\u062D\u062F\u062F.":0==e.itemsToAdd.length&&e.itemsToRemove.length>1?"\u0633\u062A\u0624\u062F\u064A \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0625\u0644\u0649 \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u062E\u0635\u0635\u0629 ":"\u0633\u062A\u0642\u0648\u0645 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0628\u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u062E\u0635\u0635\u0629 ",i.componentInstance.btnClass="btn-warning",i.componentInstance.btnCaption="\u0623\u0643\u0651\u062F",i.componentInstance.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(i,"modify_custom_fields",{add_custom_fields:e.itemsToAdd.map(o=>o.id),remove_custom_fields:e.itemsToRemove.map(o=>o.id)})})}else this.executeBulkOperation(null,"modify_custom_fields",{add_custom_fields:e.itemsToAdd.map(i=>i.id),remove_custom_fields:e.itemsToRemove.map(i=>i.id)})}createTag(e){let i=this.modalService.open(Y4,{backdrop:"static"});i.componentInstance.dialogMode=wi.CREATE,i.componentInstance.object={name:e},i.componentInstance.succeeded.pipe(_i(o=>this.tagService.listAll().pipe(bt(s=>({newTag:o,tags:s}))))).pipe(me(this.unsubscribeNotifier)).subscribe(({newTag:o,tags:s})=>{this.tagSelectionModel.items=ib(s.results),this.tagSelectionModel.toggle(o.id)})}createCorrespondent(e){let i=this.modalService.open(W4,{backdrop:"static"});i.componentInstance.dialogMode=wi.CREATE,i.componentInstance.object={name:e},i.componentInstance.succeeded.pipe(_i(o=>this.correspondentService.listAll().pipe(bt(s=>({newCorrespondent:o,correspondents:s}))))).pipe(me(this.unsubscribeNotifier)).subscribe(({newCorrespondent:o,correspondents:s})=>{this.correspondentSelectionModel.items=s.results,this.correspondentSelectionModel.toggle(o.id)})}createDocumentType(e){let i=this.modalService.open(X4,{backdrop:"static"});i.componentInstance.dialogMode=wi.CREATE,i.componentInstance.object={name:e},i.componentInstance.succeeded.pipe(_i(o=>this.documentTypeService.listAll().pipe(bt(s=>({newDocumentType:o,documentTypes:s}))))).pipe(me(this.unsubscribeNotifier)).subscribe(({newDocumentType:o,documentTypes:s})=>{this.documentTypeSelectionModel.items=s.results,this.documentTypeSelectionModel.toggle(o.id)})}createStoragePath(e){let i=this.modalService.open(K4,{backdrop:"static"});i.componentInstance.dialogMode=wi.CREATE,i.componentInstance.object={name:e},i.componentInstance.succeeded.pipe(_i(o=>this.storagePathService.listAll().pipe(bt(s=>({newStoragePath:o,storagePaths:s}))))).pipe(me(this.unsubscribeNotifier)).subscribe(({newStoragePath:o,storagePaths:s})=>{this.storagePathsSelectionModel.items=s.results,this.storagePathsSelectionModel.toggle(o.id)})}createCustomField(e){let i=this.modalService.open(Z4,{backdrop:"static"});i.componentInstance.dialogMode=wi.CREATE,i.componentInstance.object={name:e},i.componentInstance.succeeded.pipe(_i(o=>this.customFieldService.listAll().pipe(bt(s=>({newCustomField:o,customFields:s}))))).pipe(me(this.unsubscribeNotifier)).subscribe(({newCustomField:o,customFields:s})=>{this.customFieldsSelectionModel.items=s.results,this.customFieldsSelectionModel.toggle(o.id)})}applyDelete(){if(this.showConfirmationDialogs){let e=this.modalService.open(Ki,{backdrop:"static"});e.componentInstance.title="\u0623\u0643\u0651\u062F",e.componentInstance.messageBold="\u0646\u0642\u0644 \u0627\u0644\u0645\u0633\u062A\u0646\u062F (\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0627\u0644\u0645\u062D\u062F\u062F\u0629 " + this.list.selected.size + " \u0644\u0633\u0644\u0629 \u0627\u0644\u0645\u0647\u0645\u0644\u0627\u062A\u061F",e.componentInstance.message="\u064A\u0645\u0643\u0646 \u0627\u0633\u062A\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0642\u0628\u0644 \u062D\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064A\u0627\u064B.",e.componentInstance.btnClass="btn-danger",e.componentInstance.btnCaption="\u0646\u0642\u0644 \u0644\u0633\u0644\u0629 \u0627\u0644\u0645\u0647\u0645\u0644\u0627\u062A",e.componentInstance.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.executeBulkOperation(e,"delete",{})})}else this.executeBulkOperation(null,"delete",{})}downloadSelected(){this.awaitingDownload=!0;let e=this.downloadForm.get("downloadFileTypeArchive").value&&this.downloadForm.get("downloadFileTypeOriginals").value?"both":this.downloadForm.get("downloadFileTypeArchive").value?"archive":"originals";this.documentService.bulkDownload(Array.from(this.list.selected),e,this.downloadForm.get("downloadUseFormatting").value).pipe(ut()).subscribe(i=>{(0,U5t.saveAs)(i,"documents.zip"),this.awaitingDownload=!1})}reprocessSelected(){let e=this.modalService.open(Ki,{backdrop:"static"});e.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629",e.componentInstance.messageBold="\u0633\u062A\u0624\u062F\u064A \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0625\u0644\u0649 \u0625\u0639\u0627\u062F\u0629 \u0625\u0646\u0634\u0627\u0621 \u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0623\u0631\u0634\u064A\u0641 \u0628\u0634\u0643\u0644 \u062F\u0627\u0626\u0645 \u0644\u0645\u0633\u062A\u0646\u062F (\u0645\u0633\u062A\u0646\u062F\u0627\u062A) \u0645\u062D\u062F\u062F " + this.list.selected.size + ".",e.componentInstance.message="\u0633\u064A\u062A\u0645 \u0625\u0639\u0627\u062F\u0629 \u0625\u0646\u0634\u0627\u0621 \u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0623\u0631\u0634\u064A\u0641 \u0628\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629.",e.componentInstance.btnClass="btn-danger",e.componentInstance.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",e.componentInstance.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.executeBulkOperation(e,"reprocess",{})})}setPermissions(){let e=this.modalService.open(sb,{backdrop:"static"});e.componentInstance.confirmClicked.subscribe(({permissions:i,merge:o})=>{e.componentInstance.buttonsEnabled=!1,this.executeBulkOperation(e,"set_permissions",{...i,merge:o})})}rotateSelected(){let e=this.modalService.open(ndt,{backdrop:"static",size:"lg"});const i=e.componentInstance;i.title="\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062A\u062F\u0648\u064A\u0631",i.messageBold="\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0624\u062F\u064A \u0625\u0644\u0649 \u062A\u062F\u0648\u064A\u0631 \u0627\u0644\u0646\u0633\u062E\u0629 \u0627\u0644\u0623\u0635\u0644\u064A\u0629 \u0645\u0646 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0623\u0648 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A " + this.list.selected.size + " \u0628\u0634\u0643\u0644 \u062F\u0627\u0626\u0645.",i.btnClass="btn-danger",i.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",i.documentID=Array.from(this.list.selected)[0],i.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{i.buttonsEnabled=!1,this.executeBulkOperation(e,"rotate",{degrees:i.degrees})})}mergeSelected(){let e=this.modalService.open(K5t,{backdrop:"static"});const i=e.componentInstance;i.title="\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0645\u062C",i.messageBold="\u0633\u062A\u0642\u0648\u0645 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0628\u062F\u0645\u062C \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0623\u0648 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A " + this.list.selected.size + " \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0641\u064A \u0645\u0633\u062A\u0646\u062F \u062C\u062F\u064A\u062F.",i.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",i.documentIDs=Array.from(this.list.selected),i.confirmClicked.pipe(me(this.unsubscribeNotifier)).subscribe(()=>{const o={};i.metadataDocumentID>-1&&(o.metadata_document_id=i.metadataDocumentID),i.deleteOriginals&&(o.delete_originals=!0),i.archiveFallback&&(o.archive_fallback=!0),i.buttonsEnabled=!1,this.executeBulkOperation(e,"merge",o,i.documentIDs),this.toastService.showInfo("\u0633\u064A\u062A\u0645 \u0648\u0636\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0627\u0644\u0645\u062F\u0645\u062C \u0641\u064A \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 \u0644\u0644\u0627\u0633\u062A\u0647\u0644\u0627\u0643.")})}setCustomFieldValues(e){const o=this.modalService.open(Udt,{backdrop:"static",size:"lg"}).componentInstance;o.customFields=this.customFieldsSelectionModel.items.filter(s=>null!==s.id),o.fieldsToAddIds=e.itemsToAdd.map(s=>s.id),o.fieldsToRemoveIds=e.itemsToRemove.map(s=>s.id),o.documents=Array.from(this.list.selected),o.succeeded.subscribe(s=>{this.toastService.showInfo("Custom fields updated."),this.list.reload(),this.list.reduceSelectionToFilter(),this.list.selected.forEach(r=>{this.openDocumentService.refreshDocument(r)})}),o.failed.subscribe(s=>{this.toastService.showError("Error updating custom fields.",s)})}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-bulk-editor"]],inputs:{disabled:"disabled"},features:[at],decls:82,vars:17,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,pe,le,fe,ke,Dt;return e="\u0625\u0644\u063A\u0627\u0621",i="\u062A\u062D\u062F\u064A\u062F:",o="\u0635\u0641\u062D\u0629",s="\u0627\u0644\u0643\u0644",r="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",a="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",l="\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629",c="\u062A\u062F\u0648\u064A\u0631",h="\u062F\u0645\u062C",g="\u062A\u062D\u0645\u064A\u0644",f="\u064A\u062D\u062A\u0648\u064A \u0639\u0644\u0649:",v="\u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0645\u0624\u0631\u0634\u0641\u0629",C="\u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0623\u0635\u0644\u064A\u0629",S="\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0645\u0646\u0633\u0642",D="\u0639\u0644\u0627\u0645\u0627\u062A",I="\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A",L="\u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644",G="\u062A\u0635\u0641\u064A\u0629 \u062C\u0647\u0627\u062A \u0627\u0644\u062A\u0631\u0627\u0633\u0644",R="\u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",J="\u062A\u0635\u0641\u064A\u0629 \u0646\u0648\u0639 \u0627\u0644\u0648\u062B\u0627\u0626\u0642",se="\u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",ve="\u062A\u0635\u0641\u064A\u0629 \u0645\u0633\u0627\u0631\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646",pe="\u062D\u0642\u0648\u0644 \u0645\u062E\u0635\u0635\u0629",le="\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u062E\u0635\u0635\u0629",fe="Set values",ke="\u062A\u0639\u062F\u064A\u0644:",Dt="\u062D\u0630\u0641",[e,i,o,s,r,a,l,c,h,g,f,v,C,S,ke,Dt,[1,"d-flex","flex-wrap","gap-4"],["role","group","aria-label","Select",1,"d-flex","align-items-center"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","slash-circle"],["role","group","aria-label","Select",1,"d-flex","align-items-center","gap-2"],[1,"me-2"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","file-earmark-check"],["name","check-all"],["class","d-flex align-items-center gap-2",4,"pngxIfPermissions"],[1,"d-flex","align-items-center","gap-2","ms-auto"],[1,"btn-toolbar"],["type","button",1,"btn","btn-sm","btn-outline-primary","me-2",3,"click","disabled"],["name","person-fill-lock"],[1,"d-none","d-sm-inline"],["ngbDropdown",""],["id","dropdownSelect","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary",3,"disabled"],["name","three-dots"],["ngbDropdownMenu","","aria-labelledby","dropdownSelect",1,"shadow"],["ngbDropdownItem","",3,"click","disabled"],["name","body-text"],["name","arrow-clockwise"],["name","journals"],[1,"btn-group","btn-group-sm"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","arrow-down"],["role","status",1,"spinner-border","spinner-border-sm"],["ngbDropdown","","role","group",1,"me-2","d-flex","btn-group"],["type","button","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary","dropdown-toggle-split","rounded-end"],[1,"px-3","py-1",3,"formGroup"],[1,"mb-1"],[1,"form-group","ps-3","mb-2"],[1,"form-check"],["type","checkbox","id","downloadFileType_archive","formControlName","downloadFileTypeArchive",1,"form-check-input"],["for","downloadFileType_archive",1,"form-check-label"],["type","checkbox","id","downloadFileType_originals","formControlName","downloadFileTypeOriginals",1,"form-check-input"],["for","downloadFileType_originals",1,"form-check-label"],["type","checkbox","id","downloadUseFormatting","formControlName","downloadUseFormatting",1,"form-check-input"],["for","downloadUseFormatting",1,"form-check-label"],["type","button","class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[1,"d-flex","align-items-center","gap-2"],["title",D,"icon","tag-fill","filterPlaceholder",I,"shortcutKey","t",3,"disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",L,"icon","person-fill","filterPlaceholder",G,"shortcutKey","y",3,"disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",R,"icon","file-earmark-fill","filterPlaceholder",J,"shortcutKey","u",3,"disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",se,"icon","folder-fill","filterPlaceholder",ve,"shortcutKey","i",3,"disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",pe,"icon","ui-radios","filterPlaceholder",le,"extraButtonTitle",fe,3,"disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",D,"icon","tag-fill","filterPlaceholder",I,"shortcutKey","t",3,"opened","selectionModelChange","apply","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",L,"icon","person-fill","filterPlaceholder",G,"shortcutKey","y",3,"opened","selectionModelChange","apply","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",R,"icon","file-earmark-fill","filterPlaceholder",J,"shortcutKey","u",3,"opened","selectionModelChange","apply","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",se,"icon","folder-fill","filterPlaceholder",ve,"shortcutKey","i",3,"opened","selectionModelChange","apply","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",pe,"icon","ui-radios","filterPlaceholder",le,"extraButtonTitle",fe,3,"opened","selectionModelChange","extraButton","apply","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],[1,"visually-hidden"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"]]},template:function(i,o){1&i&&(d(0,"div",16)(1,"div",17)(2,"button",18),E("click",function(){return o.list.selectNone()}),O(3,"i-bs",19),N(4,"\xa0"),ge(5),b(6,0),ue(),u()(),d(7,"div",20)(8,"label",21),b(9,1),u(),d(10,"div",22)(11,"button",23),E("click",function(){return o.list.selectPage()}),O(12,"i-bs",24),N(13,"\xa0"),ge(14),b(15,2),ue(),u(),d(16,"button",23),E("click",function(){return o.list.selectAll()}),O(17,"i-bs",25),N(18,"\xa0"),ge(19),b(20,3),ue(),u()()(),ce(21,qdt,8,5,"div",26),d(22,"div",27)(23,"div",28)(24,"button",29),E("click",function(){return o.setPermissions()}),O(25,"i-bs",30),d(26,"div",31),N(27,"\xa0"),ge(28),b(29,4),ue(),u()(),d(30,"div",32)(31,"button",33),O(32,"i-bs",34),d(33,"div",31),N(34,"\xa0"),ge(35),b(36,5),ue(),u()(),d(37,"div",35)(38,"button",36),E("click",function(){return o.reprocessSelected()}),O(39,"i-bs",37),N(40,"\xa0"),ge(41),b(42,6),ue(),u(),d(43,"button",36),E("click",function(){return o.rotateSelected()}),O(44,"i-bs",38),N(45,"\xa0"),ge(46),b(47,7),ue(),u(),d(48,"button",36),E("click",function(){return o.mergeSelected()}),O(49,"i-bs",39),N(50,"\xa0"),ge(51),b(52,8),ue(),u()()()(),d(53,"div",40)(54,"button",41),E("click",function(){return o.downloadSelected()}),y(55,Ydt,1,0,"i-bs",42),y(56,Qdt,3,0,"div",43),d(57,"div",31),N(58,"\xa0"),ge(59),b(60,9),ue(),u()(),d(61,"div",44),O(62,"button",45),d(63,"div",35)(64,"form",46)(65,"p",47),b(66,10),u(),d(67,"div",48)(68,"div",49),O(69,"input",50),d(70,"label",51),b(71,11),u()(),d(72,"div",49),O(73,"input",52),d(74,"label",53),b(75,12),u()()(),d(76,"div",49),O(77,"input",54),d(78,"label",55),b(79,13),u()()()()()(),d(80,"div",40),ce(81,Jdt,5,1,"button",56),u()()()),2&i&&(_(21),m("pngxIfPermissions",$e(11,kB,o.PermissionAction.Change,o.PermissionType.Document)),_(3),m("disabled",!o.userOwnsAll||!o.userCanEditAll),_(7),m("disabled",!o.userCanEdit&&!o.userCanAdd),_(7),m("disabled",!o.userCanEditAll&&!o.userCanEditAll),_(5),m("disabled",!o.userOwnsAll&&!o.userCanEditAll),_(5),m("disabled",!o.userCanAdd||o.list.selected.size<2),_(6),m("disabled",o.awaitingDownload),_(),P(o.awaitingDownload?-1:55),_(),P(o.awaitingDownload?56:-1),_(8),m("formGroup",o.downloadForm),_(17),m("pngxIfPermissions",$e(14,kB,o.PermissionAction.Delete,o.PermissionType.Document)))},dependencies:[FB,ys,$t,Do,No,Gt,Co,Wt,ao,Mo,Go,Ho,Ss,Qo,js,oa,Bt,en],styles:[".dropdown-toggle-split[_ngcontent-%COMP%]{--bs-border-radius: .25rem}.dropdown-menu[_ngcontent-%COMP%]{--bs-dropdown-min-width: 12rem}"]})}return t})(),zB=(()=>{class t{transform(e){return"number"==typeof e&&!isNaN(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=oo({name:"isNumber",type:t,pure:!0})}return t})();const t2t=["popupPreview"],n2t=(t,n)=>({action:t,type:n}),i2t=(t,n)=>n.field;function o2t(t,n){if(1&t){const e=k();O(0,"img",25),d(1,"div",26)(2,"div",27)(3,"input",28),E("click",function(o){return T(e),w(p().toggleSelected.emit(o))}),u(),O(4,"label",29),u()()}if(2&t){const e=p();we("inverted",e.getIsThumbInverted()),m("src",e.getThumbUrl(),Ts),_(3),m("id",Lt("smallCardCheck",e.document.id))("checked",e.selected),_(),m("for",Lt("smallCardCheck",e.document.id))}}function s2t(t,n){1&t&&O(0,"div",15)}function r2t(t,n){if(1&t){const e=k();d(0,"a",31),E("click",function(o){T(e);const s=p(3);return s.clickCorrespondent.emit(s.document.correspondent),w(o.stopPropagation())}),N(1),Fe(2,"correspondentName"),Fe(3,"async"),u()}if(2&t){const e=p(3);_(),oe(lt(3,3,lt(2,1,e.document.correspondent)))}}function a2t(t,n){1&t&&(N(0),Fe(1,"correspondentName"),Fe(2,"async")),2&t&&He(" ",lt(2,3,lt(1,1,p(3).document.correspondent))," ")}function l2t(t,n){1&t&&N(0,":")}function c2t(t,n){if(1&t&&(y(0,r2t,4,5,"a",30)(1,a2t,3,5),y(2,l2t,1,0)),2&t){const e=p(2);P(e.clickCorrespondent.observers.length?0:1),_(2),P(e.displayFields.includes(e.DisplayField.TITLE)?2:-1)}}function d2t(t,n){1&t&&(N(0),Fe(1,"documentTitle")),2&t&&He(" ",lt(1,1,p(2).document.title)," ")}function h2t(t,n){if(1&t){const e=k();d(0,"pngx-tag",33),E("click",function(o){const s=T(e).$implicit;return p(3).clickTag.emit(s),w(o.stopPropagation())}),u()}if(2&t){const e=n.$implicit,i=p(3);m("tagID",e)("clickable",i.clickTag.observers.length)}}function u2t(t,n){1&t&&Ke(0,h2t,1,2,"pngx-tag",32,jt),2&t&&qe(p(2).document.tags)}function _2t(t,n){if(1&t&&(y(0,c2t,3,2),y(1,d2t,2,3),y(2,u2t,2,0)),2&t){const e=p();P(e.displayFields.includes(e.DisplayField.CORRESPONDENT)&&e.document.correspondent?0:-1),_(),P(e.displayFields.includes(e.DisplayField.TITLE)?1:-1),_(),P(e.displayFields.includes(e.DisplayField.TAGS)?2:-1)}}function g2t(t,n){1&t&&(d(0,"div",20),N(1,"\xa0"),u())}function p2t(t,n){1&t&&O(0,"span",34),2&t&&m("innerHtml",p(2).document.__search_hit__.highlights,Fo)}function f2t(t,n){if(1&t&&(d(0,"span",35),O(1,"i-bs",37)(2,"span",34),u()),2&t){const e=n.$implicit;_(2),m("innerHtml",e,Fo)}}function m2t(t,n){if(1&t&&(d(0,"span",36),N(1),u()),2&t){const e=p(2);_(),oe(e.contentTrimmed)}}function v2t(t,n){if(1&t&&(y(0,p2t,1,1,"span",34),Ke(1,f2t,3,1,"span",35,jt),y(3,m2t,2,1,"span",36)),2&t){const e=p();P(e.document.__search_hit__&&e.document.__search_hit__.highlights?0:-1),_(),qe(e.searchNoteHighlights),_(2),P(null!=e.document.__search_hit__&&e.document.__search_hit__.score?-1:3)}}function C2t(t,n){1&t&&O(0,"div",38)(1,"div",39)(2,"div",40)}function M2t(t,n){1&t&&(d(0,"a",49),O(1,"i-bs",50),N(2,"\xa0"),d(3,"span",43),b(4,5),u()()),2&t&&m("routerLink",Lt("/documents/",p(2).document.id))}function T2t(t,n){if(1&t){const e=k();d(0,"a",41),E("click",function(){return T(e),w(p().clickMoreLike.emit())}),O(1,"i-bs",42),N(2,"\xa0"),d(3,"span",43),b(4,2),u()(),ce(5,M2t,5,2,"a",44),d(6,"pngx-preview-popup",45,0),O(8,"i-bs",46),N(9,"\xa0"),d(10,"span",43),b(11,3),u()(),d(12,"a",47),O(13,"i-bs",48),N(14,"\xa0"),d(15,"span",43),b(16,4),u()()}if(2&t){const e=p();_(5),m("pngxIfPermissions",$e(3,n2t,e.PermissionAction.Change,e.PermissionType.Document)),_(),m("document",e.document),_(6),m("href",e.getDownloadUrl(),Ts)}}function w2t(t,n){1&t&&(d(0,"div",51),N(1,"\xa0"),u(),d(2,"div",51),N(3,"\xa0"),u(),d(4,"div",51),N(5,"\xa0"),u(),d(6,"div",51),N(7,"\xa0"),u())}function b2t(t,n){if(1&t&&(d(0,"button",52),O(1,"i-bs",58),d(2,"small"),N(3),u()()),2&t){const e=p(2);m("routerLink",Lt("/documents/",e.document.id,"/notes")),_(3),He("",e.document.notes.length," Notes")}}function S2t(t,n){if(1&t){const e=k();d(0,"button",59),E("click",function(o){T(e);const s=p(2);return s.clickDocumentType.emit(s.document.document_type),w(o.stopPropagation())}),O(1,"i-bs",60),d(2,"small"),N(3),Fe(4,"documentTypeName"),Fe(5,"async"),u()()}if(2&t){const e=p(2);_(3),oe(lt(5,3,lt(4,1,e.document.document_type)))}}function E2t(t,n){if(1&t){const e=k();d(0,"button",61),E("click",function(o){T(e);const s=p(2);return s.clickStoragePath.emit(s.document.storage_path),w(o.stopPropagation())}),O(1,"i-bs",62),d(2,"small"),N(3),Fe(4,"storagePathName"),Fe(5,"async"),u()()}if(2&t){const e=p(2);_(3),oe(lt(5,3,lt(4,1,e.document.storage_path)))}}function O2t(t,n){if(1&t&&(d(0,"div",55),O(1,"i-bs",63),d(2,"small"),N(3),u()()),2&t){const e=p(2);_(3),He("#",e.document.archive_serial_number)}}function A2t(t,n){if(1&t&&(d(0,"div",65)(1,"span"),b(2,6),Fe(3,"customDate"),u(),d(4,"span"),b(5,7),Fe(6,"customDate"),u(),d(7,"span"),b(8,8),Fe(9,"customDate"),u()()),2&t){const e=p(3);_(3),An(lt(3,3,e.document.created)),In(2),_(3),An(lt(6,5,e.document.added)),In(5),_(3),An(lt(9,7,e.document.modified)),In(8)}}function N2t(t,n){if(1&t&&(d(0,"div",64),O(1,"i-bs",66),d(2,"small"),N(3),Fe(4,"customDate"),u()()),2&t){p();const e=xe(1),i=p(2);m("ngbTooltip",e),_(3),oe(zo(4,2,i.document.created,"mediumDate"))}}function D2t(t,n){if(1&t&&(d(0,"div",64),O(1,"i-bs",66),d(2,"small"),N(3),Fe(4,"customDate"),u()()),2&t){p();const e=xe(1),i=p(2);m("ngbTooltip",e),_(3),oe(zo(4,2,i.document.added,"mediumDate"))}}function y2t(t,n){if(1&t&&(ce(0,A2t,10,9,"ng-template",null,1,xt),y(2,N2t,5,5,"div",64),y(3,D2t,5,5,"div",64)),2&t){const e=p(2);_(2),P(e.displayFields.includes(e.DisplayField.CREATED)?2:-1),_(),P(e.displayFields.includes(e.DisplayField.ADDED)?3:-1)}}function P2t(t,n){if(1&t&&(d(0,"div",56),O(1,"i-bs",67),d(2,"small"),b(3,9),u()()),2&t){const e=p(2);_(3),An(e.document.page_count)(e.document.page_count),In(3)}}function I2t(t,n){if(1&t&&(d(0,"div",56),O(1,"i-bs",68),d(2,"small"),N(3),Fe(4,"username"),Fe(5,"async"),u()()),2&t){const e=p(2);_(3),oe(lt(5,3,lt(4,1,e.document.owner)))}}function L2t(t,n){1&t&&(d(0,"div",56),O(1,"i-bs",69),d(2,"small"),b(3,10),u()())}function R2t(t,n){if(1&t&&(d(0,"div",57)(1,"small",70),b(2,11),u(),O(3,"ngb-progressbar",71),u()),2&t){const e=p(2);_(3),m("type",e.searchScoreClass)("value",e.document.__search_hit__.score)("max",1)}}function x2t(t,n){if(1&t&&(d(0,"div",56),O(1,"i-bs",72),d(2,"small"),O(3,"pngx-custom-field-display",73),u()()),2&t){const e=p().$implicit,i=p(2);_(3),m("document",i.document)("fieldId",e.field)}}function F2t(t,n){if(1&t&&y(0,x2t,4,2,"div",56),2&t){const e=n.$implicit,i=p(2);P(i.displayFields.includes(i.DisplayField.CUSTOM_FIELD+e.field)?0:-1)}}function k2t(t,n){if(1&t&&(y(0,b2t,4,3,"button",52),y(1,S2t,6,5,"button",53),y(2,E2t,6,5,"button",54),y(3,O2t,4,1,"div",55),Fe(4,"isNumber"),y(5,y2t,4,2),y(6,P2t,4,2,"div",56),y(7,I2t,6,5,"div",56),y(8,L2t,4,0,"div",56),y(9,R2t,4,3,"div",57),Ke(10,F2t,1,1,null,null,i2t)),2&t){const e=p();P(e.displayFields.includes(e.DisplayField.NOTES)&&e.notesEnabled&&e.document.notes.length?0:-1),_(),P(e.displayFields.includes(e.DisplayField.DOCUMENT_TYPE)&&e.document.document_type?1:-1),_(),P(e.displayFields.includes(e.DisplayField.STORAGE_PATH)&&e.document.storage_path?2:-1),_(),P(lt(4,9,e.displayFields.includes(e.DisplayField.ASN)&&e.document.archive_serial_number)?3:-1),_(2),P(e.displayFields.includes(e.DisplayField.CREATED)||e.displayFields.includes(e.DisplayField.ADDED)?5:-1),_(),P(e.displayFields.includes(e.DisplayField.PAGE_COUNT)&&e.document.page_count?6:-1),_(),P(e.displayFields.includes(e.DisplayField.OWNER)&&e.document.owner&&e.document.owner!==e.settingsService.currentUser.id?7:-1),_(),P(e.displayFields.includes(e.DisplayField.SHARED)&&e.document.is_shared_by_requester?8:-1),_(),P(null!=e.document.__search_hit__&&e.document.__search_hit__.score?9:-1),_(),qe(e.document.custom_fields)}}function z2t(t,n){1&t&&(d(0,"div",74),N(1,"\xa0"),u(),d(2,"div",74),N(3,"\xa0"),u(),d(4,"div",74),N(5,"\xa0"),u(),d(6,"div",74),N(7,"\xa0"),u(),d(8,"div",74),N(9,"\xa0"),u())}let V2t=(()=>{class t extends Ds{constructor(){super(...arguments),this.documentService=M(Io),this.settingsService=M(Gn),this.DisplayField=Mi,this.selected=!1,this.displayFields=oh.map(e=>e.id),this.toggleSelected=new Ee,this.dblClickDocument=new Ee,this.clickTag=new Ee,this.clickCorrespondent=new Ee,this.clickDocumentType=new Ee,this.clickStoragePath=new Ee,this.clickMoreLike=new Ee,this.mouseOnPreview=!1,this.popoverHidden=!0}get selectable(){return this.toggleSelected.observers.length>0}ngAfterViewInit(){Et(!0).pipe(n0(50)).subscribe(()=>{this.show=!0})}get searchScoreClass(){if(this.document.__search_hit__)return this.document.__search_hit__.score>.7?"success":this.document.__search_hit__.score>.3?"warning":"danger"}get searchNoteHighlights(){let e=[];return this.document.__search_hit__&&this.document.__search_hit__.note_highlights&&(e=this.document.__search_hit__.note_highlights.split(",").filter(i=>i.includes("<span"))),e}getIsThumbInverted(){return this.settingsService.get(Ce.DARK_MODE_THUMB_INVERTED)}getThumbUrl(){return this.documentService.getThumbUrl(this.document.id)}getDownloadUrl(){return this.documentService.getDownloadUrl(this.document.id)}mouseLeaveCard(){this.popupPreview?.close()}get contentTrimmed(){return this.document.content.substring(0,500)+(this.document.content.length>500?"...":"")}get notesEnabled(){return this.settingsService.get(Ce.NOTES_ENABLED)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-document-card-large"]],viewQuery:function(i,o){if(1&i&&Tn(t2t,5),2&i){let s;Mt(s=Tt())&&(o.popupPreview=s.first)}},inputs:{selected:"selected",displayFields:"displayFields",document:"document"},outputs:{toggleSelected:"toggleSelected",dblClickDocument:"dblClickDocument",clickTag:"clickTag",clickCorrespondent:"clickCorrespondent",clickDocumentType:"clickDocumentType",clickStoragePath:"clickStoragePath",clickMoreLike:"clickMoreLike"},features:[at],decls:21,vars:11,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D;return e="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644",i="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0627\u0644\u0639\u0644\u0627\u0645\u0629",o="\u0645\u0632\u064A\u062F\u0627 \u0645\u0646 \u0647\u0630\u0627",s="\u0639\u0631\u0636",r="\u062A\u062D\u0645\u064A\u0644",a="\u0641\u062A\u062D",l="\u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A",c="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",h="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",g="Created: " + "\ufffd0\ufffd" + "",f="\u0623\u0636\u064A\u0641: " + "\ufffd0\ufffd" + "",v="\u0645\u0639\u062F\u0644: " + "\ufffd0\ufffd" + "",C="{VAR_PLURAL, plural, =1 {1 page} other {{INTERPOLATION} pages}}",C=Ma(C,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),S="\u062A\u0645\u062A \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629",D="\u0627\u0644\u0646\u0642\u0627\u0637:",[["popupPreview",""],["dateTooltip",""],o,s,r,a,g,f,v,C,S,D,[1,"card","document-card-large","mb-3","shadow-sm","bg-light","placeholder-glow","fade",3,"mouseleave"],[1,"row","g-0"],[1,"col-md-2","doc-img-container","rounded-start",3,"click","dblclick"],[1,"placeholder","bg-secondary","w-100","card-img","doc-img","border-end","rounded-start"],[1,"col","col-md-10"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center"],[1,"card-title","w-100"],[1,"placeholder","bg-secondary","w-75","mb-3"],[1,"card-text"],[1,"d-flex","flex-column","flex-md-row","align-items-md-center"],[1,"btn-group"],[1,"list-group","list-group-horizontal","border-0","card-info","ms-md-auto","mt-2","mt-md-0"],[1,"card-img","doc-img","border-end","rounded-start",3,"src"],[1,"border-end","border-bottom","bg-light","document-card-check"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["title",e,1,"fw-bold","btn-link"],["title",e,1,"fw-bold","btn-link",3,"click"],["linkTitle",i,1,"ms-1",3,"tagID","clickable"],["linkTitle",i,1,"ms-1",3,"click","tagID","clickable"],[3,"innerHtml"],[1,"d-block"],[1,"result-content"],["name","chat-left-text"],[1,"placeholder","bg-secondary","w-100","d-block","mb-2"],[1,"placeholder","bg-secondary","w-75","d-block","mb-2"],[1,"placeholder","bg-secondary","w-25","d-block"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","diagram-3"],[1,"d-none","d-md-inline"],["class","btn btn-sm btn-outline-secondary",3,"routerLink",4,"pngxIfPermissions"],[3,"document"],["name","eye"],[1,"btn","btn-sm","btn-outline-secondary",3,"href"],["name","download"],[1,"btn","btn-sm","btn-outline-secondary",3,"routerLink"],["name","file-earmark-richtext"],[1,"placeholder","btn","btn-sm","btn-outline-secondary","bg-secondary",2,"width","60px"],["title",l,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center",3,"routerLink"],["type","button","title",c,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center"],["type","button","title",h,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center"],[1,"list-group-item","me-2","bg-light","text-dark","p-1","border-0","d-flex","align-items-center"],[1,"list-group-item","bg-light","text-dark","p-1","border-0","d-flex","align-items-center"],[1,"list-group-item","bg-light","text-dark","border-0","d-flex","p-0","ps-4","search-score"],["width",".9em","height",".9em","name","chat-left-text",1,"me-2","text-muted"],["type","button","title",c,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center",3,"click"],["width",".9em","height",".9em","name","file-earmark",1,"me-2","text-muted"],["type","button","title",h,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center",3,"click"],["width",".9em","height",".9em","name","archive",1,"me-2","text-muted"],["width",".9em","height",".9em","name","upc-scan",1,"me-2","text-muted"],[1,"list-group-item","bg-light","text-dark","p-1","border-0","d-flex","align-items-center",3,"ngbTooltip"],[1,"d-flex","flex-column","text-light"],["width",".9em","height",".9em","name","calendar-event",1,"me-2","text-muted"],["width",".9em","height",".9em","name","files",1,"me-2","text-muted"],["width",".9em","height",".9em","name","person-fill-lock",1,"me-2","text-muted"],["width",".9em","height",".9em","name","people-fill",1,"me-2","text-muted"],[1,"me-2","text-muted"],[1,"search-score-bar","mx-2","mt-1",3,"type","value","max"],["width",".9em","height",".9em","name","ui-radios",1,"me-2","text-muted"],["showNameIfEmpty","true",3,"document","fieldId"],[1,"placeholder","list-group-item","bg-secondary","w-25"]]},template:function(i,o){1&i&&(d(0,"div",12),E("mouseleave",function(){return o.mouseLeaveCard()}),d(1,"div",13)(2,"div",14),E("click",function(r){return o.toggleSelected.emit(r)})("dblclick",function(){return o.dblClickDocument.emit()}),y(3,o2t,5,8)(4,s2t,1,0,"div",15),u(),d(5,"div",16)(6,"div",17)(7,"div",18)(8,"h5",19),y(9,_2t,3,3)(10,g2t,2,0,"div",20),u()(),d(11,"p",21),y(12,v2t,4,2)(13,C2t,3,0),u(),d(14,"div",22)(15,"div",23),y(16,T2t,17,6)(17,w2t,8,0),u(),d(18,"div",24),y(19,k2t,12,11)(20,z2t,10,0),u()()()()()()),2&i&&(we("show",o.show)("card-selected",o.selected)("document-card",o.selectable),_(3),P(o.document?3:4),_(6),P(o.document?9:10),_(3),P(o.document?12:13),_(4),P(o.document?16:17),_(3),P(o.document?19:20))},dependencies:[n8,Hg,nb,ys,_1,u1,Ul,N2,u5,oM,Bt,en,G5,zB,s1,l8,s8,r8,a8,ur],styles:[".result-content[_ngcontent-%COMP%]{overflow-wrap:anywhere}.doc-img-container[_ngcontent-%COMP%]{position:relative}.doc-img[_ngcontent-%COMP%]{object-fit:cover;object-position:top left;height:100%;position:absolute}.card-title[_ngcontent-%COMP%]{word-break:break-word}.search-score-bar[_ngcontent-%COMP%]{width:100px;height:5px;margin-top:1px}.document-card-check[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;padding:.5rem;border-top-left-radius:.25rem;border-bottom-right-radius:.25rem;pointer-events:none}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:0;min-height:0;margin-bottom:0}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-left:0}.document-card[_ngcontent-%COMP%]:hover   .document-card-check[_ngcontent-%COMP%]{display:block}.card-info[_ngcontent-%COMP%], .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:1}.card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:transparent!important}.card-info[_ngcontent-%COMP%]   .search-score[_ngcontent-%COMP%]{padding-top:.35rem!important}span[_ngcontent-%COMP%]     .match{color:#000;background-color:#ffd342}a[_ngcontent-%COMP%]{cursor:pointer}"]})}return t})();const H2t=["popupPreview"],G2t=(t,n)=>({action:t,type:n}),$2t=(t,n)=>n.field;function B2t(t,n){if(1&t){const e=k();O(0,"img",24),d(1,"div",25)(2,"div",26)(3,"input",27),E("click",function(o){return T(e),w(p().toggleSelected.emit(o))}),u(),O(4,"label",28),u()()}if(2&t){const e=p();we("inverted",e.getIsThumbInverted()),m("src",e.getThumbUrl(),Ts),_(3),m("id",Lt("smallCardCheck",e.document.id))("checked",e.selected),_(),m("for",Lt("smallCardCheck",e.document.id))}}function U2t(t,n){1&t&&O(0,"div",14)}function j2t(t,n){if(1&t){const e=k();d(0,"pngx-tag",30),E("click",function(o){const s=T(e).$implicit;return p(2).clickTag.emit(s),w(o.stopPropagation())}),u()}2&t&&m("tagID",n.$implicit)("clickable",!0)}function Z2t(t,n){if(1&t&&(d(0,"div")(1,"span",31),N(2),u()()),2&t){const e=p(2);_(2),He("+ ",e.moreTags)}}function W2t(t,n){if(1&t&&(d(0,"div",15),Ke(1,j2t,1,2,"pngx-tag",29,jt),y(3,Z2t,3,1,"div"),u()),2&t){const e=p();_(),qe(e.tagIDs),_(2),P(e.moreTags?3:-1)}}function X2t(t,n){if(1&t&&(d(0,"a",16)(1,"span",32),O(2,"i-bs",33),N(3),u()()),2&t){const e=p();m("routerLink",Lt("/documents/",e.document.id,"/notes")),_(3),He(" ",e.document.notes.length)}}function K2t(t,n){1&t&&N(0,":")}function q2t(t,n){if(1&t){const e=k();d(0,"a",34),E("click",function(o){T(e);const s=p(2);return s.clickCorrespondent.emit(s.document.correspondent),w(o.stopPropagation())}),N(1),Fe(2,"correspondentName"),Fe(3,"async"),u(),y(4,K2t,1,0)}if(2&t){const e=p(2);_(),oe(lt(3,4,lt(2,2,e.document.correspondent))),_(3),P(e.displayFields.includes(e.DisplayField.TITLE)?4:-1)}}function Y2t(t,n){1&t&&(N(0),Fe(1,"documentTitle")),2&t&&He(" ",lt(1,1,p(2).document.title)," ")}function Q2t(t,n){if(1&t&&(y(0,q2t,5,6),y(1,Y2t,2,3)),2&t){const e=p();P(e.displayFields.includes(e.DisplayField.CORRESPONDENT)&&e.document.correspondent?0:-1),_(),P(e.displayFields.includes(e.DisplayField.TITLE)?1:-1)}}function J2t(t,n){1&t&&O(0,"div",21)(1,"div",35)}function eht(t,n){if(1&t){const e=k();d(0,"button",40),E("click",function(o){T(e);const s=p(2);return s.clickDocumentType.emit(s.document.document_type),w(o.stopPropagation())}),O(1,"i-bs",41),d(2,"small"),N(3),Fe(4,"documentTypeName"),Fe(5,"async"),u()()}if(2&t){const e=p(2);_(3),oe(lt(5,3,lt(4,1,e.document.document_type)))}}function tht(t,n){if(1&t){const e=k();d(0,"button",42),E("click",function(o){T(e);const s=p(2);return s.clickStoragePath.emit(s.document.storage_path),w(o.stopPropagation())}),O(1,"i-bs",43),d(2,"small"),N(3),Fe(4,"storagePathName"),Fe(5,"async"),u()()}if(2&t){const e=p(2);_(3),oe(lt(5,3,lt(4,1,e.document.storage_path)))}}function nht(t,n){if(1&t&&(d(0,"div",46)(1,"span"),b(2,3),Fe(3,"customDate"),u(),d(4,"span"),b(5,4),Fe(6,"customDate"),u(),d(7,"span"),b(8,5),Fe(9,"customDate"),u()()),2&t){const e=p(3);_(3),An(lt(3,3,e.document.created)),In(2),_(3),An(lt(6,5,e.document.added)),In(5),_(3),An(lt(9,7,e.document.modified)),In(8)}}function iht(t,n){if(1&t&&(d(0,"div",38),ce(1,nht,10,9,"ng-template",null,0,xt),d(3,"div",44),O(4,"i-bs",45),d(5,"small"),N(6),Fe(7,"customDate"),u()()()),2&t){const e=xe(2),i=p(2);_(3),m("ngbTooltip",e),_(3),oe(zo(7,2,i.document.created,"mediumDate"))}}function oht(t,n){if(1&t&&(d(0,"div",46)(1,"span"),b(2,6),Fe(3,"customDate"),u(),d(4,"span"),b(5,7),Fe(6,"customDate"),u(),d(7,"span"),b(8,8),Fe(9,"customDate"),u()()),2&t){const e=p(3);_(3),An(lt(3,3,e.document.created)),In(2),_(3),An(lt(6,5,e.document.added)),In(5),_(3),An(lt(9,7,e.document.modified)),In(8)}}function sht(t,n){if(1&t&&(d(0,"div",38),ce(1,oht,10,9,"ng-template",null,1,xt),d(3,"div",44),O(4,"i-bs",45),d(5,"small"),N(6),Fe(7,"customDate"),u()()()),2&t){const e=xe(2),i=p(2);_(3),m("ngbTooltip",e),_(3),oe(zo(7,2,i.document.added,"mediumDate"))}}function rht(t,n){if(1&t&&(d(0,"div",38)(1,"div",47),O(2,"i-bs",48),d(3,"small"),b(4,9),u()()()),2&t){const e=p(2);_(4),An(e.document.page_count)(e.document.page_count),In(4)}}function aht(t,n){if(1&t&&(d(0,"div",39),O(1,"i-bs",49),d(2,"small"),N(3),u()()),2&t){const e=p(2);_(3),He("#",e.document.archive_serial_number)}}function lht(t,n){if(1&t&&(d(0,"div",39),O(1,"i-bs",50),d(2,"small"),N(3),Fe(4,"username"),Fe(5,"async"),u()()),2&t){const e=p(2);_(3),oe(lt(5,3,lt(4,1,e.document.owner)))}}function cht(t,n){1&t&&(d(0,"div",39),O(1,"i-bs",51),d(2,"small"),b(3,10),u()())}function dht(t,n){if(1&t&&(d(0,"div",52),O(1,"i-bs",53),d(2,"small"),O(3,"pngx-custom-field-display",54),u()()),2&t){const e=p().$implicit,i=p(2);_(3),m("document",i.document)("fieldId",e.field)}}function hht(t,n){if(1&t&&y(0,dht,4,2,"div",52),2&t){const e=n.$implicit,i=p(2);P(i.displayFields.includes(i.DisplayField.CUSTOM_FIELD+e.field)?0:-1)}}function uht(t,n){if(1&t&&(y(0,eht,6,5,"button",36),y(1,tht,6,5,"button",37),y(2,iht,8,5,"div",38),y(3,sht,8,5,"div",38),y(4,rht,5,2,"div",38),y(5,aht,4,1,"div",39),Fe(6,"isNumber"),y(7,lht,6,5,"div",39),y(8,cht,4,0,"div",39),Ke(9,hht,1,1,null,null,$2t)),2&t){const e=p();P(e.displayFields.includes(e.DisplayField.DOCUMENT_TYPE)&&e.document.document_type?0:-1),_(),P(e.displayFields.includes(e.DisplayField.STORAGE_PATH)&&e.document.storage_path?1:-1),_(),P(e.displayFields.includes(e.DisplayField.CREATED)?2:-1),_(),P(e.displayFields.includes(e.DisplayField.ADDED)?3:-1),_(),P(e.displayFields.includes(e.DisplayField.PAGE_COUNT)&&e.document.page_count?4:-1),_(),P(lt(6,8,e.displayFields.includes(e.DisplayField.ASN)&&e.document.archive_serial_number)?5:-1),_(2),P(e.displayFields.includes(e.DisplayField.OWNER)&&e.document.owner&&e.document.owner!==e.settingsService.currentUser.id?7:-1),_(),P(e.displayFields.includes(e.DisplayField.SHARED)&&e.document.is_shared_by_requester?8:-1),_(),qe(e.document.custom_fields)}}function _ht(t,n){1&t&&O(0,"div",21)}function ght(t,n){1&t&&(d(0,"a",60),O(1,"i-bs",61),u()),2&t&&m("routerLink",Lt("/documents/",p(2).document.id))}function pht(t,n){if(1&t){const e=k();ce(0,ght,2,2,"a",55),d(1,"pngx-preview-popup",56,2),O(3,"i-bs",57),u(),d(4,"a",58),E("click",function(o){return T(e),w(o.stopPropagation())}),O(5,"i-bs",59),u()}if(2&t){const e=p();m("pngxIfPermissions",$e(3,G2t,e.PermissionAction.Change,e.PermissionType.Document)),_(),m("document",e.document),_(3),m("href",e.getDownloadUrl(),Ts)}}function fht(t,n){1&t&&O(0,"button",62)(1,"button",62)(2,"button",62)}let mht=(()=>{class t extends Ds{constructor(){super(...arguments),this.documentService=M(Io),this.settingsService=M(Gn),this.DisplayField=Mi,this.selected=!1,this.toggleSelected=new Ee,this.displayFields=oh.map(e=>e.id),this.dblClickDocument=new Ee,this.clickTag=new Ee,this.clickCorrespondent=new Ee,this.clickDocumentType=new Ee,this.clickStoragePath=new Ee,this.moreTags=null}ngAfterViewInit(){Et(!0).pipe(n0(50)).subscribe(()=>{this.show=!0})}getIsThumbInverted(){return this.settingsService.get(Ce.DARK_MODE_THUMB_INVERTED)}getThumbUrl(){return this.documentService.getThumbUrl(this.document.id)}getDownloadUrl(){return this.documentService.getDownloadUrl(this.document.id)}get tagIDs(){const e=this.document.notes.length>0?6:7;return this.document.tags.length>e?(this.moreTags=this.document.tags.length-(e-1),this.document.tags.slice(0,e-1)):this.document.tags}mouseLeaveCard(){this.popupPreview?.close()}get notesEnabled(){return this.settingsService.get(Ce.NOTES_ENABLED)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-document-card-small"]],viewQuery:function(i,o){if(1&i&&Tn(H2t,5),2&i){let s;Mt(s=Tt())&&(o.popupPreview=s.first)}},inputs:{selected:"selected",document:"document",displayFields:"displayFields"},outputs:{toggleSelected:"toggleSelected",dblClickDocument:"dblClickDocument",clickTag:"clickTag",clickCorrespondent:"clickCorrespondent",clickDocumentType:"clickDocumentType",clickStoragePath:"clickStoragePath"},features:[at],decls:19,vars:12,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S;return e="\u062A\u0628\u062F\u064A\u0644 \u0644\u0639\u0627\u0645\u0644 \u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0648\u0633\u0645",i="\u062A\u0628\u062F\u064A\u0644 \u0644\u0639\u0627\u0645\u0644 \u062A\u0635\u0641\u064A\u0629 \u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644",o="\u062A\u0628\u062F\u064A\u0644 \u062A\u0635\u0641\u064A\u0629 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",s="\u062A\u0628\u062F\u064A\u0644 \u062A\u0635\u0641\u064A\u0629 \u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",r="Created: " + "\ufffd0\ufffd" + "",a="\u0623\u0636\u064A\u0641: " + "\ufffd0\ufffd" + "",l="\u0645\u0639\u062F\u0644: " + "\ufffd0\ufffd" + "",c="Created: " + "\ufffd0\ufffd" + "",h="\u0623\u0636\u064A\u0641: " + "\ufffd0\ufffd" + "",g="\u0645\u0639\u062F\u0644: " + "\ufffd0\ufffd" + "",f="{VAR_PLURAL, plural, =1 {1 page} other {{INTERPOLATION} pages}}",f=Ma(f,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),v="\u062A\u0645\u062A \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629",C="\u0641\u062A\u062D",S="\u062A\u062D\u0645\u064A\u0644",[["dateCreatedTooltip",""],["dateAddedTooltip",""],["popupPreview",""],r,a,l,c,h,g,f,v,[1,"col","p-2","h-100","fade"],[1,"card","h-100","shadow-sm","document-card",3,"mouseleave"],[1,"border-bottom","doc-img-container","rounded-top",3,"click","dblclick"],[1,"placeholder","bg-secondary","w-100","card-img","doc-img"],[1,"tags","d-flex","flex-column","text-end","position-absolute","me-1","fs-6"],[1,"document-card-notes","py-2","px-1",3,"routerLink"],[1,"card-body","bg-light","p-2"],[1,"card-text"],[1,"card-footer","pt-0","pb-2","px-2"],[1,"list-group","list-group-flush","border-0","pt-1","pb-2","card-info"],[1,"placeholder","bg-secondary","w-100"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group","w-100"],[1,"card-img","doc-img",3,"src"],[1,"border-end","border-bottom","bg-light","py-1","px-2","document-card-check"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["linkTitle",e,3,"tagID","clickable"],["linkTitle",e,3,"click","tagID","clickable"],[1,"badge","text-dark"],[1,"badge","rounded-pill","bg-light","border","text-primary"],["width","1.2em","height","1.2em","name","chat-left-text",1,"ms-1","me-1"],["title",i,1,"fw-bold","btn-link",3,"click"],[1,"placeholder","bg-secondary","w-50"],["type","button","title",o,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0"],["type","button","title",s,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0"],[1,"list-group-item","bg-transparent","p-0","border-0","d-flex","flex-wrap-reverse","justify-content-between"],[1,"ps-0","p-1"],["type","button","title",o,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0",3,"click"],["width","1em","height","1em","name","file-earmark",1,"me-2","text-muted"],["type","button","title",s,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0",3,"click"],["width","1em","height","1em","name","folder",1,"me-2","text-muted"],["placement","top",1,"ps-0","p-1",3,"ngbTooltip"],["width","1em","height","1em","name","calendar-event",1,"me-2","text-muted"],[1,"d-flex","flex-column","text-light"],["placement","top",1,"ps-0","p-1"],["width","1em","height","1em","name","files",1,"me-2","text-muted"],["width","1em","height","1em","name","upc-scan",1,"me-2","text-muted"],["width","1em","height","1em","name","person-fill-lock",1,"me-2","text-muted"],["width","1em","height","1em","name","people-fill",1,"me-2","text-muted"],[1,"ps-0","p-1","d-flex","align-items-center","overflow-hidden"],["width","1em","height","1em","name","ui-radios",1,"me-2","text-muted"],["showNameIfEmpty","true",3,"document","fieldId"],["class","btn btn-sm btn-outline-secondary","title",C,3,"routerLink",4,"pngxIfPermissions"],[3,"document"],["name","eye"],["title",S,1,"btn","btn-sm","btn-outline-secondary",3,"click","href"],["name","download"],["title",C,1,"btn","btn-sm","btn-outline-secondary",3,"routerLink"],["name","file-earmark-richtext"],[1,"btn","btn-sm","btn-outline-secondary","placeholder","bg-secondary"]]},template:function(i,o){1&i&&(d(0,"div",11)(1,"div",12),E("mouseleave",function(){return o.mouseLeaveCard()}),d(2,"div",13),E("click",function(r){return o.toggleSelected.emit(r)})("dblclick",function(){return o.dblClickDocument.emit(o)}),y(3,B2t,5,8)(4,U2t,1,0,"div",14),y(5,W2t,4,1,"div",15),u(),y(6,X2t,4,3,"a",16),d(7,"div",17)(8,"p",18),y(9,Q2t,2,2)(10,J2t,2,0),u()(),d(11,"div",19)(12,"div",20),y(13,uht,11,10)(14,_ht,1,0,"div",21),u(),d(15,"div",22)(16,"div",23),y(17,pht,6,6)(18,fht,3,0),u()()()()()),2&i&&(we("show",o.show),_(),we("placeholder-glow",!o.document)("card-selected",o.selected),_(2),P(o.document?3:4),_(2),P(o.document&&null!=o.displayFields&&o.displayFields.includes(o.DisplayField.TAGS)?5:-1),_(),P(o.document&&o.displayFields.includes(o.DisplayField.NOTES)&&o.notesEnabled&&o.document.notes.length?6:-1),_(3),P(o.document?9:10),_(4),P(o.document?13:14),_(4),P(o.document?17:18))},dependencies:[n8,Hg,nb,ys,_1,u1,Ul,N2,u5,Bt,en,G5,zB,s1,l8,s8,r8,a8,ur],styles:[".card-text[_ngcontent-%COMP%]{font-size:90%}.doc-img[_ngcontent-%COMP%]{object-fit:cover;object-position:top left;height:180px}.document-card-check[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;padding:.5rem;border-top-left-radius:.25rem;border-bottom-right-radius:.25rem;pointer-events:none}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:0;min-height:0;margin-bottom:0}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-left:0}.document-card[_ngcontent-%COMP%]:hover   .document-card-check[_ngcontent-%COMP%]{display:block}.document-card-notes[_ngcontent-%COMP%]{position:absolute;right:0;top:142px}.card-info[_ngcontent-%COMP%], .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:1}.card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:transparent!important;color:var(--bs-primary)}.card-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding-top:.1rem}  .tooltip-inner{text-align:left!important;font-size:90%}a[_ngcontent-%COMP%]{cursor:pointer}.tags[_ngcontent-%COMP%]{top:.2rem;right:0;max-width:80%;row-gap:.2rem;line-height:1}"]})}return t})();class VB{constructor(n){this.depth=0,this.id=dw(),this._operator=null,this._value=null,this.type=n,this.changed=new Be,this.valueModelChanged=new Be,this.connectValueModelChanged()}connectValueModelChanged(){this.valueModelChanged.subscribe(()=>{this.changed.next(this)})}serialize(){throw new Error("Implemented in subclass")}set operator(n){this._operator=n,this.changed.next(this)}get operator(){return this._operator}set value(n){this._value=n,this.valueModelChanged.next(n)}get value(){return this._value}}class d8 extends VB{set field(n){this._field=parseInt(n,10),this.changed.next(this)}get field(){return this._field}set operator(n){const e=Get[n]?.split("|");if(e)if(e.includes(typeof this.value))["true","false"].includes(this.value)&&e.includes("string")&&(this.value="");else switch(e[0]){case"string":this.value="";break;case"boolean":this.value="true";break;case"array":this.value=[];break;case"number":const i=parseFloat(this.value);this.value=isNaN(i)?null:i.toString()}else this.value=null;super.operator=n}get operator(){return super.operator}constructor(n=[null,null,null]){super(Ql.Atom),[this._field,this._operator,this._value]=n}connectValueModelChanged(){this.valueModelChanged.pipe(ra(1e3),r1()).subscribe(()=>{this.changed.next(this)})}serialize(){return[this._field,this._operator,this._value]}}class oc extends VB{constructor(n=[Yl.Or,null]){let e;if(super(Ql.Expression),[this._operator,e]=n,e&&0!==e.length)if(e?.length>0&&e[0]instanceof Array)this._value=e.map(i=>{if(3===i.length){const o=new d8(i);return o.depth=this.depth+1,o.changed.subscribe(()=>{this.changed.next(this)}),o}{const o=new oc(i);return o.depth=this.depth+1,o.changed.subscribe(()=>{this.changed.next(this)}),o}});else{const i=new oc(e);i.depth=this.depth+1,i.changed.subscribe(()=>{this.changed.next(this)}),this._value=[i]}else this._value=[]}serialize(){let n;return n=this._value.map(e=>e.serialize()),this._operator===Yl.Not&&1===n.length&&(n=n[0]),[this._operator,n]}addAtom(n=new d8([null,kn.Exists,"true"])){n.depth=this.depth+1,this._value.push(n),n.changed.subscribe(()=>{this.changed.next(this)})}addExpression(n=new oc){n.depth=this.depth+1,this._value.push(n),n.changed.subscribe(()=>{this.changed.next(this)})}get negatable(){return 1===this.value.length&&this.value[0].type===Ql.Expression}}const vht=["dropdown"],W5=t=>({atom:t}),HB=t=>({expression:t}),GB=(t,n)=>n.id,Cht=(t,n)=>n.label;function Mht(t,n){if(1&t){const e=k();d(0,"pngx-clearable-badge",26),E("cleared",function(){return T(e),w(p().reset())}),u()}2&t&&m("selected",p().isActive)}function Tht(t,n){1&t&&Mn(0)}function wht(t,n){if(1&t&&ce(0,Tht,1,0,"ng-container",27),2&t){const e=p().$implicit;p(),m("ngTemplateOutlet",xe(14))("ngTemplateOutletContext",ei(2,W5,e))}}function bht(t,n){1&t&&Mn(0)}function Sht(t,n){if(1&t&&ce(0,bht,1,0,"ng-container",27),2&t){const e=p().$implicit;p(),m("ngTemplateOutlet",xe(16))("ngTemplateOutletContext",ei(2,HB,e))}}function Eht(t,n){if(1&t&&(d(0,"div",25),y(1,wht,1,4,"ng-container")(2,Sht,1,4,"ng-container"),u()),2&t){let e;const i=n.$implicit,o=p();_(),P((e=i.type)===o.CustomFieldQueryComponentType.Atom?1:e===o.CustomFieldQueryComponentType.Expression?2:-1)}}function Oht(t,n){if(1&t){const e=k();d(0,"div",36)(1,"button",37),E("click",function(){T(e),p();const o=xe(1),s=p().atom,r=p();return s.value=r.today,w(o.close())}),b(2,7),u(),d(3,"button",38),E("click",function(){return T(e),p(),w(xe(1).close())}),b(4,8),u()()}}function Aht(t,n){if(1&t){const e=k();d(0,"input",33,4),Re("ngModelChange",function(o){T(e);const s=p().atom;return Pe(s.value,o)||(s.value=o),w(o)}),u(),d(2,"button",34),E("click",function(){return T(e),w(xe(1).toggle())}),O(3,"i-bs",35),u(),ce(4,Oht,5,0,"ng-template",null,5,xt)}if(2&t){const e=xe(5);Le("ngModel",p().atom.value),m("footerTemplate",e)}}function Nht(t,n){if(1&t){const e=k();d(0,"input",39),Re("ngModelChange",function(o){T(e);const s=p().atom;return Pe(s.value,o)||(s.value=o),w(o)}),u()}if(2&t){const e=p().atom,i=p();Le("ngModel",e.value),m("disabled",i.disabled)}}function Dht(t,n){if(1&t){const e=k();d(0,"select",40),Re("ngModelChange",function(o){T(e);const s=p().atom;return Pe(s.value,o)||(s.value=o),w(o)}),d(1,"option",41),b(2,9),u(),d(3,"option",42),b(4,10),u()()}if(2&t){const e=p().atom,i=p();Le("ngModel",e.value),m("disabled",i.disabled)}}function yht(t,n){if(1&t){const e=k();d(0,"ng-select",43,6),Re("ngModelChange",function(o){T(e);const s=p().atom;return Pe(s.value,o)||(s.value=o),w(o)}),E("mousedown",function(o){return T(e),w(o.stopImmediatePropagation())}),u()}if(2&t){const e=p().atom,i=p();m("items",i.getSelectOptionsForField(e.field)),Le("ngModel",e.value),m("disabled",i.disabled)}}function Pht(t,n){if(1&t){const e=k();d(0,"pngx-input-document-link",44),Re("ngModelChange",function(o){T(e);const s=p().atom;return Pe(s.value,o)||(s.value=o),w(o)}),u()}2&t&&(Le("ngModel",p().atom.value),m("minimal",!0))}function Iht(t,n){if(1&t){const e=k();d(0,"input",45),Re("ngModelChange",function(o){T(e);const s=p().atom;return Pe(s.value,o)||(s.value=o),w(o)}),u()}if(2&t){const e=p().atom,i=p();Le("ngModel",e.value),m("disabled",i.disabled)}}function Lht(t,n){if(1&t&&y(0,Aht,6,2)(1,Nht,1,2,"input",28)(2,Dht,5,2,"select",29)(3,yht,2,3,"ng-select",30)(4,Pht,1,2,"pngx-input-document-link",31)(5,Iht,1,2,"input",32),2&t){let e;const i=n.atom,o=p();P((null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.Date?0:(null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.Float||(null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.Integer?1:(null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.Boolean?2:(null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.Select?3:(null==(e=o.getCustomFieldByID(i.field))?null:e.data_type)===o.CustomFieldDataType.DocumentLink?4:5)}}function Rht(t,n){if(1&t&&(d(0,"option",49),N(1),u()),2&t){const e=n.$implicit;m("ngValue",e.value),_(),oe(e.label)}}function xht(t,n){if(1&t){const e=k();d(0,"select",40),Re("ngModelChange",function(o){T(e);const s=p().atom;return Pe(s.value,o)||(s.value=o),w(o)}),d(1,"option",41),b(2,11),u(),d(3,"option",42),b(4,12),u()()}if(2&t){const e=p().atom,i=p();Le("ngModel",e.value),m("disabled",i.disabled)}}function Fht(t,n){if(1&t){const e=k();d(0,"select",40),Re("ngModelChange",function(o){T(e);const s=p().atom;return Pe(s.value,o)||(s.value=o),w(o)}),d(1,"option",41),b(2,13),u(),d(3,"option",42),b(4,14),u()()}if(2&t){const e=p().atom,i=p();Le("ngModel",e.value),m("disabled",i.disabled)}}function kht(t,n){1&t&&Mn(0)}function zht(t,n){if(1&t&&ce(0,kht,1,0,"ng-container",27),2&t){const e=p().atom;p(),m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",ei(2,W5,e))}}function Vht(t,n){1&t&&Mn(0)}function Hht(t,n){if(1&t&&ce(0,Vht,1,0,"ng-container",27),2&t){const e=p().atom;p(),m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",ei(2,W5,e))}}function Ght(t,n){1&t&&Mn(0)}function $ht(t,n){if(1&t&&ce(0,Ght,1,0,"ng-container",27),2&t){const e=p().atom;p(),m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",ei(2,W5,e))}}function Bht(t,n){1&t&&Mn(0)}function Uht(t,n){if(1&t&&ce(0,Bht,1,0,"ng-container",27),2&t){const e=p().atom;p(),m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",ei(2,W5,e))}}function jht(t,n){if(1&t){const e=k();d(0,"pngx-input-document-link",54),Re("ngModelChange",function(o){T(e);const s=p().atom;return Pe(s.value,o)||(s.value=o),w(o)}),u()}2&t&&(Le("ngModel",p().atom.value),m("minimal",!0))}function Zht(t,n){if(1&t){const e=k();d(0,"ng-select",55),Re("ngModelChange",function(o){T(e);const s=p().atom;return Pe(s.value,o)||(s.value=o),w(o)}),E("mousedown",function(o){return T(e),w(o.stopImmediatePropagation())}),u()}if(2&t){const e=p().atom,i=p();m("items",i.getSelectOptionsForField(e.field)),Le("ngModel",e.value),m("disabled",i.disabled)("multiple",!0)}}function Wht(t,n){1&t&&Mn(0)}function Xht(t,n){if(1&t&&ce(0,Wht,1,0,"ng-container",27),2&t){const e=p().atom;p(),m("ngTemplateOutlet",xe(12))("ngTemplateOutletContext",ei(2,W5,e))}}function Kht(t,n){if(1&t){const e=k();d(0,"input",45),Re("ngModelChange",function(o){T(e);const s=p().atom;return Pe(s.value,o)||(s.value=o),w(o)}),u()}if(2&t){const e=p().atom,i=p();Le("ngModel",e.value),m("disabled",i.disabled)}}function qht(t,n){if(1&t){const e=k();d(0,"div",46)(1,"ng-select",47),Re("ngModelChange",function(o){const s=T(e).atom;return Pe(s.field,o)||(s.field=o),w(o)}),E("mousedown",function(o){return T(e),w(o.stopImmediatePropagation())}),u(),d(2,"select",48),Re("ngModelChange",function(o){const s=T(e).atom;return Pe(s.operator,o)||(s.operator=o),w(o)}),Ke(3,Rht,2,2,"option",49,Cht),u(),y(5,xht,5,2,"select",29)(6,Fht,5,2,"select",29)(7,zht,1,4,"ng-container")(8,Hht,1,4,"ng-container")(9,$ht,1,4,"ng-container")(10,Uht,1,4,"ng-container")(11,jht,1,2,"pngx-input-document-link",50)(12,Zht,1,4,"ng-select",51)(13,Xht,1,4,"ng-container")(14,Kht,1,2,"input",32),d(15,"button",52),E("click",function(){const o=T(e).atom;return w(p().removeElement(o))}),O(16,"i-bs",53),u()()}if(2&t){let e;const i=n.atom,o=p();_(),m("items",o.customFields),Le("ngModel",i.field),m("disabled",o.disabled),_(),Le("ngModel",i.operator),m("disabled",o.disabled),_(),qe(o.getOperatorsForField(i.field)),_(2),P((e=i.operator)===o.CustomFieldQueryOperator.Exists?5:e===o.CustomFieldQueryOperator.IsNull?6:e===o.CustomFieldQueryOperator.GreaterThanOrEqual?7:e===o.CustomFieldQueryOperator.LessThanOrEqual?8:e===o.CustomFieldQueryOperator.GreaterThan?9:e===o.CustomFieldQueryOperator.LessThan?10:e===o.CustomFieldQueryOperator.Contains?11:e===o.CustomFieldQueryOperator.In?12:e===o.CustomFieldQueryOperator.Exact?13:14),_(10),m("disabled",o.disabled)}}function Yht(t,n){if(1&t){const e=k();d(0,"input",69),Re("ngModelChange",function(o){T(e);const s=p().expression;return Pe(s.operator,o)||(s.operator=o),w(o)}),u(),d(1,"label",70),b(2,17),u()}if(2&t){const e=p().expression;m("id",Lt("logicalOperatorNot_",e.id))("name",Lt("logicalOperatorNot_",e.id)),Le("ngModel",e.operator),_(),m("for",Lt("logicalOperatorNot_",e.id))}}function Qht(t,n){1&t&&Mn(0)}function Jht(t,n){if(1&t&&ce(0,Qht,1,0,"ng-container",27),2&t){const e=p().$implicit;p(2),m("ngTemplateOutlet",xe(14))("ngTemplateOutletContext",ei(2,W5,e))}}function eut(t,n){1&t&&Mn(0)}function tut(t,n){if(1&t&&ce(0,eut,1,0,"ng-container",27),2&t){const e=p().$implicit;p(2),m("ngTemplateOutlet",xe(16))("ngTemplateOutletContext",ei(2,HB,e))}}function nut(t,n){if(1&t&&(d(0,"div",25),y(1,Jht,1,4,"ng-container")(2,tut,1,4,"ng-container"),u()),2&t){let e;const i=n.$implicit,o=p(2);_(),P((e=i.type)===o.CustomFieldQueryComponentType.Atom?1:e===o.CustomFieldQueryComponentType.Expression?2:-1)}}function iut(t,n){if(1&t){const e=k();d(0,"button",71),E("click",function(){T(e);const o=p().expression;return w(p().removeElement(o))}),O(1,"i-bs",53),u()}2&t&&m("disabled",p(2).disabled)}function out(t,n){if(1&t){const e=k();d(0,"div",56)(1,"div",57)(2,"div",58)(3,"input",59),Re("ngModelChange",function(o){const s=T(e).expression;return Pe(s.operator,o)||(s.operator=o),w(o)}),u(),d(4,"label",60),b(5,15),u(),d(6,"input",61),Re("ngModelChange",function(o){const s=T(e).expression;return Pe(s.operator,o)||(s.operator=o),w(o)}),u(),d(7,"label",60),b(8,16),u(),y(9,Yht,3,7),u(),d(10,"div",62),Ke(11,nut,3,1,"div",25,GB),u()(),d(13,"div",63)(14,"button",64),E("click",function(){const o=T(e).expression;return w(p().addAtom(o))}),O(15,"i-bs",65),u(),d(16,"button",66),E("click",function(){const o=T(e).expression;return w(p().addExpression(o))}),O(17,"i-bs",67),u(),y(18,iut,2,1,"button",68),u()()}if(2&t){const e=n.expression,i=p();_(3),m("id",Lt("logicalOperatorOr_",e.id))("name",Lt("logicalOperatorOr_",e.id)),Le("ngModel",e.operator),m("disabled",e.depth>0&&e.value.length<2),_(),m("for",Lt("logicalOperatorOr_",e.id)),_(2),m("id",Lt("logicalOperatorAnd_",e.id))("name",Lt("logicalOperatorAnd_",e.id)),Le("ngModel",e.operator),m("disabled",e.depth>0&&e.value.length<2),_(),m("for",Lt("logicalOperatorAnd_",e.id)),_(2),P(e.negatable?9:-1),_(2),qe(e.value),_(3),m("disabled",i.disabled||e.value.length===i.CUSTOM_FIELD_QUERY_MAX_ATOMS),_(2),m("disabled",i.disabled||e.depth===i.CUSTOM_FIELD_QUERY_MAX_DEPTH),_(2),P(e.depth>0?18:-1)}}class $B{constructor(){this.queries=[],this.changed=new Be}clear(n=!0){this.queries=[],n&&this.changed.next(this)}isValid(){return this.queries.length>0&&this.validateExpression(this.queries[0])}isEmpty(){return 0===this.queries.length||1===this.queries.length&&0===this.queries[0].value.length}validateAtom(n){let e=!(!n.field||!n.operator||null===n.value);return[kn.In.valueOf(),kn.Contains.valueOf()].includes(n.operator)&&n.value&&(e=e&&n.value.length>0),e}validateExpression(n){return n.operator&&n.value.length>0&&n.value.every(e=>e.type===Ql.Atom?this.validateAtom(e):this.validateExpression(e))}addAtom(n){0===this.queries.length&&this.addExpression(),this.queries[0].value.push(n),n.changed.subscribe(()=>{n.field&&n.operator&&n.value&&this.changed.next(this)})}addExpression(n=new oc){this.queries.length>0?this.queries[0].value.push(n):this.queries.push(n),n.changed.subscribe(()=>{this.changed.next(this)})}findElement(n,e){let i;for(let o=0;o<e.length&&(e[o]===n?i=e.splice(o,1)[0]:e[o].type===Ql.Expression&&(i=this.findElement(n,e[o].value)),!i);o++);return i}removeElement(n){let e;for(let i=0;i<this.queries.length;i++){let o=this.queries[i];if(o===n){e=this.queries.splice(i,1)[0];break}o.type===Ql.Expression&&(e=this.findElement(n,o.value))}e&&(e.changed.complete(),this.isEmpty()&&this.clear(),this.changed.next(this))}}let sut=(()=>{class t extends Ds{get name(){return this.title?this.title.replace(/\s/g,"_").toLowerCase():null}set selectionModel(e){this._selectionModel&&this._selectionModel.changed.complete(),e.changed.subscribe(()=>{this.onModelChange()}),this._selectionModel=e}get selectionModel(){return this._selectionModel}onModelChange(){(this.selectionModel.isEmpty()||this.selectionModel.isValid())&&(this.selectionModelChange.next(this.selectionModel),this.selectionModel.isEmpty()&&this.dropdown?.close())}constructor(){super(),this.customFieldsService=M(g1),this.CustomFieldQueryComponentType=Ql,this.CustomFieldQueryOperator=kn,this.CustomFieldDataType=Pi,this.CUSTOM_FIELD_QUERY_MAX_DEPTH=4,this.CUSTOM_FIELD_QUERY_MAX_ATOMS=5,this.popperOptions=B4,this.filterPlaceholder="",this.allowSelectNone=!1,this.editing=!1,this.applyOnClose=!1,this.disabled=!1,this.selectionModelChange=new Ee,this.customFields=[],this.today=(new Date).toLocaleDateString("en-CA"),this.selectionModel=new $B,this.getFields(),this.reset()}onOpenChange(e){e&&(0===this.selectionModel.queries.length&&this.selectionModel.addAtom(new d8([null,kn.Exists,"true"])),1===this.selectionModel.queries.length&&null===this.selectionModel.queries[0]?.value[0]?.field&&setTimeout(()=>{this.fieldSelects.first?.focus()},0))}get isActive(){return this.selectionModel.isValid()}getFields(){this.customFieldsService.listAll().pipe(ut(),me(this.unsubscribeNotifier)).subscribe(e=>{this.customFields=e.results})}getCustomFieldByID(e){return this.customFields.find(i=>i.id===e)}addAtom(e){e.addAtom()}addExpression(e){e.addExpression()}removeElement(e){this.selectionModel.removeElement(e)}reset(){this.selectionModel.clear(!1),this.selectionModel.changed.next(this.selectionModel)}getOperatorsForField(e){const i=this.customFields.find(r=>r.id===e);return(i?Het[i.data_type]:[si.Basic]).flatMap(r=>Vet[r]).map(r=>({value:r,label:zet[r]}))}getSelectOptionsForField(e){const i=this.customFields.find(o=>o.id===e);return i?i.extra_data.select_options:[]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-custom-fields-query-dropdown"]],viewQuery:function(i,o){if(1&i&&(Tn(vht,5),Tn(l0,5)),2&i){let s;Mt(s=Tt())&&(o.dropdown=s.first),Mt(s=Tt())&&(o.fieldSelects=s)}},inputs:{title:"title",filterPlaceholder:"filterPlaceholder",icon:"icon",allowSelectNone:"allowSelectNone",editing:"editing",applyOnClose:"applyOnClose",disabled:"disabled",selectionModel:"selectionModel"},outputs:{selectionModelChange:"selectionModelChange"},features:[at],decls:17,vars:8,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D;return e="Search docs...",i="Today",o="\u0625\u063A\u0644\u0627\u0642",s="True",r="False",a="Search docs...",l="True",c="False",h="True",g="False",f="Add query",v="Add expression",C="\u0623\u064A",S="\u0627\u0644\u0643\u0644",D="Not",[["dropdown","ngbDropdown"],["comparisonValueTemplate",""],["queryAtom",""],["queryExpression",""],["d","ngbDatepicker"],["datePickerFooterTemplate",""],["fieldSelects",""],i,o,s,r,l,c,h,g,C,S,D,["role","group","ngbDropdown","",1,"btn-group","w-100",3,"openChange","popperOptions"],["id","dropdown_toggle","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary",3,"disabled"],[3,"name"],[1,"d-none","d-sm-inline"],[3,"selected"],["ngbDropdownMenu","",1,"px-3","shadow"],[1,"list-group","list-group-flush"],[1,"list-group-item","px-0","d-flex","flex-nowrap"],[3,"cleared","selected"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","number",1,"w-25","form-control","rounded-end",3,"ngModel","disabled"],[1,"w-25","form-select","rounded-end",3,"ngModel","disabled"],["bindLabel","label","bindValue","id",1,"paperless-input-select","rounded-end",3,"items","ngModel","disabled"],["placeholder",e,1,"w-25","form-select","doc-link-select","p-0",3,"ngModel","minimal"],["type","text",1,"w-25","form-control","rounded-end",3,"ngModel","disabled"],["placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel","footerTemplate"],["type","button",1,"btn","btn-sm","btn-outline-secondary","rounded-end",3,"click"],["name","calendar-event"],[1,"btn-group-xs","border-top","p-2","d-flex"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary","ms-auto",3,"click"],["type","number",1,"w-25","form-control","rounded-end",3,"ngModelChange","ngModel","disabled"],[1,"w-25","form-select","rounded-end",3,"ngModelChange","ngModel","disabled"],["value","true"],["value","false"],["bindLabel","label","bindValue","id",1,"paperless-input-select","rounded-end",3,"ngModelChange","mousedown","items","ngModel","disabled"],["placeholder",e,1,"w-25","form-select","doc-link-select","p-0",3,"ngModelChange","ngModel","minimal"],["type","text",1,"w-25","form-control","rounded-end",3,"ngModelChange","ngModel","disabled"],[1,"input-group","input-group-sm"],["bindLabel","name","bindValue","id",1,"paperless-input-select",3,"ngModelChange","mousedown","items","ngModel","disabled"],[1,"w-25","form-select",3,"ngModelChange","ngModel","disabled"],[3,"ngValue"],["placeholder",a,1,"w-25","form-select","doc-link-select","p-0",3,"ngModel","minimal"],["bindLabel","label","bindValue","id",1,"paperless-input-select","rounded-end",3,"items","ngModel","disabled","multiple"],["type","button",1,"btn","btn-link","btn-sm","text-danger","pe-0",3,"click","disabled"],["name","x-circle"],["placeholder",a,1,"w-25","form-select","doc-link-select","p-0",3,"ngModelChange","ngModel","minimal"],["bindLabel","label","bindValue","id",1,"paperless-input-select","rounded-end",3,"ngModelChange","mousedown","items","ngModel","disabled","multiple"],[1,"d-flex","w-100"],[1,"d-flex","flex-grow-1","flex-column"],["role","group",1,"btn-group","btn-group-xs"],["type","radio","value","OR",1,"btn-check",3,"ngModelChange","ngModel","id","name","disabled"],[1,"btn","btn-outline-primary",3,"for"],["type","radio","value","AND",1,"btn-check",3,"ngModelChange","ngModel","id","name","disabled"],[1,"list-group","list-group-flush","mb-n2"],["role","group","aria-label","Vertical button group",1,"btn-group-vertical","ms-2","ps-2","border-start"],["type","button","title",f,1,"btn","btn-sm","btn-outline-secondary","text-primary",3,"click","disabled"],["name","node-plus"],["type","button","title",v,1,"btn","btn-sm","btn-outline-secondary","text-primary",3,"click","disabled"],["name","braces"],["type","button",1,"btn","btn-sm","btn-outline-secondary","text-danger",3,"disabled"],["type","radio","value","NOT",1,"btn-check",3,"ngModelChange","ngModel","id","name"],[1,"btn","btn-outline-secondary",3,"for"],["type","button",1,"btn","btn-sm","btn-outline-secondary","text-danger",3,"click","disabled"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",18,0),E("openChange",function(a){return T(s),w(o.onOpenChange(a))}),d(2,"button",19),O(3,"i-bs",20),d(4,"div",21),N(5),u(),y(6,Mht,1,1,"pngx-clearable-badge",22),u(),d(7,"div",23)(8,"div",24),Ke(9,Eht,3,1,"div",25,GB),u()()(),ce(11,Lht,6,1,"ng-template",null,1,xt)(13,qht,17,7,"ng-template",null,2,xt)(15,out,19,20,"ng-template",null,3,xt)}2&i&&(m("popperOptions",o.popperOptions),_(2),m("disabled",o.disabled),_(),m("name",ni(o.icon)),_(2),He("\xa0",o.title),_(),P(o.isActive?6:-1),_(),Vn("aria-labelledby",Lt("dropdown_",o.name)),_(2),qe(o.selectionModel.queries))},dependencies:[c8,$t,Rl,xl,Ci,g2,t0,t5,Gt,Ln,q4,Wt,L_,c6,Ao,_5,l0,Bt,en,Go,Ho,Ss,Qo],styles:[".dropdown-menu[_ngcontent-%COMP%]{width:370px}@media (min-width: 768px){.dropdown-menu[_ngcontent-%COMP%]{width:600px}}[_nghost-%COMP%]     .ng-select-container{border-top-right-radius:0!important;border-bottom-right-radius:0!important;height:100%!important}[_nghost-%COMP%]     .rounded-end .ng-select-container{border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important;border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .ng-select{max-width:100px;min-width:35%;font-size:14px}[_nghost-%COMP%]     .doc-link-select{padding-top:0!important;border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important;background-image:none!important}[_nghost-%COMP%]     .doc-link-select .ng-select-container, [_nghost-%COMP%]     .doc-link-select .ng-select.ng-select-opened>.ng-select-container{border:none!important;min-height:34px!important;background:none!important}[_nghost-%COMP%]     .doc-link-select .ng-select{max-width:200px;min-width:140px}.btn-group-xs[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:.15rem}"]})}return t})();function rut(t,n){if(1&t){const e=k();d(0,"a",45),E("click",function(){return T(e),w(p().clearCreatedRelativeDate())}),O(1,"i-bs",46)(2,"i-bs",47),u()}}function aut(t,n){if(1&t&&(d(0,"div",48),N(1),d(2,"span",49),N(3),Fe(4,"customDate"),ge(5),b(6,14),ue(),u()()),2&t){const e=n.item;_(),oe(e.name),_(2),He("",zo(4,2,e.date,"mediumDate")," \u2013 ")}}function lut(t,n){if(1&t){const e=k();d(0,"a",45),E("click",function(){return T(e),w(p().clearCreatedFrom())}),O(1,"i-bs",50)(2,"i-bs",47),u()}}function cut(t,n){if(1&t){const e=k();d(0,"div",51)(1,"button",52),E("click",function(){T(e);const o=p();return o.createdDateFrom=o.today,w(o.onChangeDebounce())}),b(2,15),u(),d(3,"button",53),E("click",function(){return T(e),p(),w(xe(25).close())}),b(4,16),u()()}}function dut(t,n){if(1&t){const e=k();d(0,"a",45),E("click",function(){return T(e),w(p().clearCreatedTo())}),O(1,"i-bs",50)(2,"i-bs",47),u()}}function hut(t,n){if(1&t){const e=k();d(0,"div",51)(1,"button",52),E("click",function(){T(e);const o=p();return o.createdDateTo=o.today,w(o.onChangeDebounce())}),b(2,17),u(),d(3,"button",53),E("click",function(){return T(e),p(),w(xe(37).close())}),b(4,18),u()()}}function uut(t,n){if(1&t){const e=k();d(0,"a",45),E("click",function(){return T(e),w(p().clearAddedRelativeDate())}),O(1,"i-bs",50)(2,"i-bs",47),u()}}function _ut(t,n){if(1&t&&(d(0,"div",48),N(1),d(2,"span",49),N(3),Fe(4,"customDate"),ge(5),b(6,19),ue(),u()()),2&t){const e=n.item;_(),oe(e.name),_(2),He("",zo(4,2,e.date,"mediumDate")," \u2013 ")}}function gut(t,n){if(1&t){const e=k();d(0,"a",45),E("click",function(){return T(e),w(p().clearAddedFrom())}),O(1,"i-bs",50)(2,"i-bs",47),u()}}function put(t,n){if(1&t){const e=k();d(0,"div",51)(1,"button",52),E("click",function(){T(e);const o=p();return o.addedDateFrom=o.today,w(o.onChangeDebounce())}),b(2,20),u(),d(3,"button",53),E("click",function(){return T(e),p(),w(xe(58).close())}),b(4,21),u()()}}function fut(t,n){if(1&t){const e=k();d(0,"a",45),E("click",function(){return T(e),w(p().clearAddedTo())}),O(1,"i-bs",50)(2,"i-bs",47),u()}}function mut(t,n){if(1&t){const e=k();d(0,"div",51)(1,"button",52),E("click",function(){T(e);const o=p();return o.addedDateTo=o.today,w(o.onChangeDebounce())}),b(2,22),u(),d(3,"button",53),E("click",function(){return T(e),p(),w(xe(70).close())}),b(4,23),u()()}}var Ys=function(t){return t[t.WITHIN_1_WEEK=1]="WITHIN_1_WEEK",t[t.WITHIN_1_MONTH=2]="WITHIN_1_MONTH",t[t.WITHIN_3_MONTHS=3]="WITHIN_3_MONTHS",t[t.WITHIN_1_YEAR=4]="WITHIN_1_YEAR",t[t.THIS_YEAR=5]="THIS_YEAR",t[t.THIS_MONTH=6]="THIS_MONTH",t[t.TODAY=7]="TODAY",t[t.YESTERDAY=8]="YESTERDAY",t}(Ys||{});let vut=(()=>{class t{constructor(){this.popperOptions=B4,this.relativeDates=[{id:Ys.WITHIN_1_WEEK,name:"Within 1 week",date:(new Date).setDate((new Date).getDate()-7)},{id:Ys.WITHIN_1_MONTH,name:"Within 1 month",date:(new Date).setMonth((new Date).getMonth()-1)},{id:Ys.WITHIN_3_MONTHS,name:"Within 3 months",date:(new Date).setMonth((new Date).getMonth()-3)},{id:Ys.WITHIN_1_YEAR,name:"Within 1 year",date:(new Date).setFullYear((new Date).getFullYear()-1)},{id:Ys.THIS_YEAR,name:"This year",date:new Date("1/1/"+(new Date).getFullYear())},{id:Ys.THIS_MONTH,name:"This month",date:(new Date).setDate(1)},{id:Ys.TODAY,name:"Today",date:(new Date).setHours(0,0,0,0)},{id:Ys.YESTERDAY,name:"Yesterday",date:(new Date).setDate((new Date).getDate()-1)}],this.createdDateTo=null,this.createdDateToChange=new Ee,this.createdDateFrom=null,this.createdDateFromChange=new Ee,this.createdRelativeDate=null,this.createdRelativeDateChange=new Ee,this.addedDateTo=null,this.addedDateToChange=new Ee,this.addedDateFrom=null,this.addedDateFromChange=new Ee,this.addedRelativeDate=null,this.addedRelativeDateChange=new Ee,this.datesSet=new Ee,this.disabled=!1,this.placement="bottom-start",this.today=(new Date).toLocaleDateString("en-CA"),this.datesSetDebounce$=new Be;const e=M(Gn);this.datePlaceHolder=e.getLocalizedDateInputFormat()}get isActive(){return null!==this.createdRelativeDate||this.createdDateFrom?.length>0||this.createdDateTo?.length>0||null!==this.addedRelativeDate||this.addedDateFrom?.length>0||this.addedDateTo?.length>0}ngOnInit(){this.sub=this.datesSetDebounce$.pipe(ra(400)).subscribe(()=>{this.onChange()})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}reset(){this.createdDateTo=null,this.createdDateFrom=null,this.createdRelativeDate=null,this.addedDateTo=null,this.addedDateFrom=null,this.addedRelativeDate=null,this.onChange()}onSetCreatedRelativeDate(e){this.createdDateTo=null,this.createdDateFrom=null,this.onChange()}onSetAddedRelativeDate(e){this.addedDateTo=null,this.addedDateFrom=null,this.onChange()}onChange(){this.createdDateToChange.emit(this.createdDateTo),this.createdDateFromChange.emit(this.createdDateFrom),this.createdRelativeDateChange.emit(this.createdRelativeDate),this.addedDateToChange.emit(this.addedDateTo),this.addedDateFromChange.emit(this.addedDateFrom),this.addedRelativeDateChange.emit(this.addedRelativeDate),this.datesSet.emit({createdFrom:this.createdDateFrom,createdTo:this.createdDateTo,createdRelativeDateID:this.createdRelativeDate,addedFrom:this.addedDateFrom,addedTo:this.addedDateTo,addedRelativeDateID:this.addedRelativeDate})}onChangeDebounce(){this.createdRelativeDate=null,this.addedRelativeDate=null,this.datesSetDebounce$.next({createdAfter:this.createdDateFrom,createdBefore:this.createdDateTo,addedAfter:this.addedDateFrom,addedBefore:this.addedDateTo})}clearCreatedTo(){this.createdDateTo=null,this.onChange()}clearCreatedFrom(){this.createdDateFrom=null,this.onChange()}clearCreatedRelativeDate(){this.createdRelativeDate=null,this.onChange()}clearAddedTo(){this.addedDateTo=null,this.onChange()}clearAddedFrom(){this.addedDateFrom=null,this.onChange()}clearAddedRelativeDate(){this.addedRelativeDate=null,this.onChange()}onKeyPress(e){"Enter"!==e.key&&!/[0-9,\.\/-]+/.test(e.key)&&e.preventDefault()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-dates-dropdown"]],inputs:{createdDateTo:"createdDateTo",createdDateFrom:"createdDateFrom",createdRelativeDate:"createdRelativeDate",addedDateTo:"addedDateTo",addedDateFrom:"addedDateFrom",addedRelativeDate:"addedRelativeDate",title:"title",disabled:"disabled",placement:"placement"},outputs:{createdDateToChange:"createdDateToChange",createdDateFromChange:"createdDateFromChange",createdRelativeDateChange:"createdRelativeDateChange",addedDateToChange:"addedDateToChange",addedDateFromChange:"addedDateFromChange",addedRelativeDateChange:"addedRelativeDateChange",datesSet:"datesSet"},features:[qt([{provide:l5,useClass:Bw}])],decls:75,vars:32,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G;return e="Relative dates",i="Relative dates",o="\u0623\u064F\u0646\u0634\u0626",s="From",r="To",a="\u0623\u0636\u064A\u0641",l="From",c="To",h="\u0627\u0644\u0622\u0646",g="Today",f="\u0625\u063A\u0644\u0627\u0642",v="Today",C="\u0625\u063A\u0644\u0627\u0642",S="\u0627\u0644\u0622\u0646",D="Today",I="\u0625\u063A\u0644\u0627\u0642",L="Today",G="\u0625\u063A\u0644\u0627\u0642",[["createdDateFromPicker","ngbDatepicker"],["createdFromFooterTemplate",""],["createdDateToPicker","ngbDatepicker"],["createdToFooterTemplate",""],["addedDateFromPicker","ngbDatepicker"],["addedFromFooterTemplate",""],["addedDateToPicker","ngbDatepicker"],["addedToFooterTemplate",""],o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,["ngbDropdown","","role","group",1,"btn-group","w-100",3,"popperOptions","placement"],["ngbDropdownToggle","",1,"btn","btn-sm",3,"id","ngClass","disabled"],["width","1em","height","1em","name","calendar-event-fill"],[1,"d-none","d-sm-inline"],[3,"cleared","selected"],[1,"visually-hidden"],["ngbDropdownMenu","",1,"dropdown-menu","date-dropdown","shadow","p-2"],[1,"dropdown-header","border-bottom"],[1,"list-group","list-group-flush"],["role","menuitem",1,"list-group-item","d-flex","p-2","select-item"],[1,"selected-icon"],["href","javascript:void(0)",1,"text-light","focus-variants"],[1,"input-group","input-group-sm","small","ps-1","pe-2"],["name","createdRelativeDate","bindValue","id","bindLabel","name","clearable","false","placeholder",e,1,"w-100",3,"ngModelChange","change","items","ngModel"],["ng-option-tmp",""],["role","menuitem",1,"list-group-item","d-flex","p-2"],[1,"input-group-text","w-25","small","text-muted"],["maxlength","10","ngbDatepicker","",1,"form-control","small",3,"dateSelect","change","keypress","ngModelChange","placeholder","ngModel","footerTemplate"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","calendar"],["name","addedRelativeDate","bindValue","id","bindLabel","name","clearable","false","placeholder",i,1,"w-100",3,"ngModelChange","change","items","ngModel"],["href","javascript:void(0)",1,"text-light","focus-variants",3,"click"],["width","1em","height","1em","name","check",1,"variant-unfocused","text-dark"],["width","1em","height","1em","name","x",1,"variant-focused","text-primary"],[1,"d-flex"],[1,"ms-auto","text-muted","small"],["width","1em","height","1em","name","check",1,"variant-unfocused"],[1,"btn-group-xs","border-top","p-2","d-flex"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary","ms-auto",3,"click"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",24)(1,"button",25),O(2,"i-bs",26),d(3,"div",27),N(4),u(),d(5,"pngx-clearable-badge",28),E("cleared",function(){return T(s),w(o.reset())}),u(),d(6,"span",29),N(7,"selected"),u()(),d(8,"div",30)(9,"h6",31),b(10,8),u(),d(11,"div",32)(12,"div",33)(13,"div",34),y(14,rut,3,0,"a",35),u(),d(15,"div",36)(16,"ng-select",37),Re("ngModelChange",function(a){return T(s),Pe(o.createdRelativeDate,a)||(o.createdRelativeDate=a),w(a)}),E("change",function(a){return T(s),w(o.onSetCreatedRelativeDate(a))}),ce(17,aut,7,5,"ng-template",38),u()()(),d(18,"div",39)(19,"div",34),y(20,lut,3,0,"a",35),u(),d(21,"div",36)(22,"span",40),b(23,9),u(),d(24,"input",41,0),E("dateSelect",function(){return T(s),w(o.onChangeDebounce())})("change",function(){return T(s),w(o.onChangeDebounce())})("keypress",function(a){return T(s),w(o.onKeyPress(a))}),Re("ngModelChange",function(a){return T(s),Pe(o.createdDateFrom,a)||(o.createdDateFrom=a),w(a)}),u(),d(26,"button",42),E("click",function(){return T(s),w(xe(25).toggle())}),O(27,"i-bs",43),u(),ce(28,cut,5,0,"ng-template",null,1,xt),u()(),d(30,"div",39)(31,"div",34),y(32,dut,3,0,"a",35),u(),d(33,"div",36)(34,"span",40),b(35,10),u(),d(36,"input",41,2),E("dateSelect",function(){return T(s),w(o.onChangeDebounce())})("change",function(){return T(s),w(o.onChangeDebounce())})("keypress",function(a){return T(s),w(o.onKeyPress(a))}),Re("ngModelChange",function(a){return T(s),Pe(o.createdDateTo,a)||(o.createdDateTo=a),w(a)}),u(),d(38,"button",42),E("click",function(){return T(s),w(xe(37).toggle())}),O(39,"i-bs",43),u(),ce(40,hut,5,0,"ng-template",null,3,xt),u()()(),d(42,"h6",31),b(43,11),u(),d(44,"div",32)(45,"div",33)(46,"div",34),y(47,uut,3,0,"a",35),u(),d(48,"div",36)(49,"ng-select",44),Re("ngModelChange",function(a){return T(s),Pe(o.addedRelativeDate,a)||(o.addedRelativeDate=a),w(a)}),E("change",function(a){return T(s),w(o.onSetAddedRelativeDate(a))}),ce(50,_ut,7,5,"ng-template",38),u()()(),d(51,"div",39)(52,"div",34),y(53,gut,3,0,"a",35),u(),d(54,"div",36)(55,"span",40),b(56,12),u(),d(57,"input",41,4),E("dateSelect",function(){return T(s),w(o.onChangeDebounce())})("change",function(){return T(s),w(o.onChangeDebounce())})("keypress",function(a){return T(s),w(o.onKeyPress(a))}),Re("ngModelChange",function(a){return T(s),Pe(o.addedDateFrom,a)||(o.addedDateFrom=a),w(a)}),u(),d(59,"button",42),E("click",function(){return T(s),w(xe(58).toggle())}),O(60,"i-bs",43),u(),ce(61,put,5,0,"ng-template",null,5,xt),u()(),d(63,"div",39)(64,"div",34),y(65,fut,3,0,"a",35),u(),d(66,"div",36)(67,"span",40),b(68,13),u(),d(69,"input",41,6),E("dateSelect",function(){return T(s),w(o.onChangeDebounce())})("change",function(){return T(s),w(o.onChangeDebounce())})("keypress",function(a){return T(s),w(o.onKeyPress(a))}),Re("ngModelChange",function(a){return T(s),Pe(o.addedDateTo,a)||(o.addedDateTo=a),w(a)}),u(),d(71,"button",42),E("click",function(){return T(s),w(xe(70).toggle())}),O(72,"i-bs",43),u(),ce(73,mut,5,0,"ng-template",null,7,xt),u()()()()()}if(2&i){const s=xe(29),r=xe(41),a=xe(62),l=xe(74);m("popperOptions",o.popperOptions)("placement",o.placement),_(),m("id",Lt("dropdown",o.title))("ngClass",o.createdDateTo||o.createdDateFrom?"btn-primary":"btn-outline-primary")("disabled",o.disabled),_(3),He("\xa0",o.title),_(),m("selected",o.isActive),_(3),Vn("aria-labelledby",Lt("dropdown",o.title)),_(6),P(o.createdRelativeDate?14:-1),_(2),m("items",o.relativeDates),Le("ngModel",o.createdRelativeDate),_(4),P(o.createdDateFrom?20:-1),_(4),m("placeholder",o.datePlaceHolder),Le("ngModel",o.createdDateFrom),m("footerTemplate",s),_(8),P(o.createdDateTo?32:-1),_(4),m("placeholder",o.datePlaceHolder),Le("ngModel",o.createdDateTo),m("footerTemplate",r),_(11),P(o.addedRelativeDate?47:-1),_(2),m("items",o.relativeDates),Le("ngModel",o.addedRelativeDate),_(4),P(o.addedDateFrom?53:-1),_(4),m("placeholder",o.datePlaceHolder),Le("ngModel",o.addedDateFrom),m("footerTemplate",a),_(8),P(o.addedDateTo?65:-1),_(4),m("placeholder",o.datePlaceHolder),Le("ngModel",o.addedDateTo),m("footerTemplate",l)}},dependencies:[c8,Bt,en,L_,c6,Go,Ho,Ss,Qo,_5,l0,k_,$t,Ci,Gt,u_,Ln,Wt,wa,ur],styles:[".date-dropdown[_ngcontent-%COMP%]{--bs-dropdown-min-width: 22rem;white-space:nowrap}.date-dropdown[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{line-height:1}.selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}.select-item[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{line-height:2em}.input-group-sm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:.875rem}.focus-variants[_ngcontent-%COMP%]   .variant-focused[_ngcontent-%COMP%]{display:none}.focus-variants[_ngcontent-%COMP%]:hover   .variant-unfocused[_ngcontent-%COMP%], .focus-variants[_ngcontent-%COMP%]:focus   .variant-unfocused[_ngcontent-%COMP%]{display:none}.focus-variants[_ngcontent-%COMP%]:hover   .variant-focused[_ngcontent-%COMP%], .focus-variants[_ngcontent-%COMP%]:focus   .variant-focused[_ngcontent-%COMP%]{display:block}.btn-group-xs[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-radius:.15rem}"]})}return t})();const Cut=(t,n)=>({action:t,type:n});function Mut(t,n){1&t&&O(0,"i-bs",16)}function Tut(t,n){1&t&&O(0,"i-bs",16)}function wut(t,n){1&t&&O(0,"i-bs",16)}function but(t,n){1&t&&O(0,"i-bs",16)}function Sut(t,n){1&t&&O(0,"i-bs",16)}function Eut(t,n){1&t&&O(0,"i-bs",16)}function Out(t,n){if(1&t){const e=k();d(0,"button",20)(1,"div",15),y(2,Eut,1,0,"i-bs",16),u(),d(3,"div",21)(4,"ng-select",22),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.selectionModel.includeUsers,o)||(s.selectionModel.includeUsers=o),w(o)}),E("change",function(){return T(e),w(p().onUserSelect())}),u()()()}if(2&t){const e=p();m("disabled",e.disabled),_(2),P(e.selectionModel.ownerFilter===e.OwnerFilterType.OTHERS?2:-1),_(2),Le("ngModel",e.selectionModel.includeUsers),m("disabled",e.disabled)("clearable",!1)("items",e.users)}}function Aut(t,n){if(1&t){const e=k();d(0,"div",19)(1,"div",23)(2,"input",24),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.selectionModel.hideUnowned,o)||(s.selectionModel.hideUnowned=o),w(o)}),E("change",function(){return T(e),w(p().onChange())}),u(),d(3,"label",25)(4,"small"),b(5,5),u()()()()}if(2&t){const e=p();_(2),Le("ngModel",e.selectionModel.hideUnowned),m("disabled",e.disabled)}}class Nut{clear(){this.ownerFilter=ns.NONE,this.userID=null,this.hideUnowned=!1,this.includeUsers=[],this.excludeUsers=[]}}var ns=function(t){return t[t.NONE=0]="NONE",t[t.SELF=1]="SELF",t[t.NOT_SELF=2]="NOT_SELF",t[t.OTHERS=3]="OTHERS",t[t.UNOWNED=4]="UNOWNED",t[t.SHARED_BY_ME=5]="SHARED_BY_ME",t}(ns||{});let Dut=(()=>{class t extends H1{get isActive(){return this.selectionModel.ownerFilter!==ns.NONE||this.selectionModel.hideUnowned}constructor(){const e=M(vs);super(),this.permissionsService=M(Ti),this.settingsService=M(Gn),this.OwnerFilterType=ns,this.disabled=!1,this.ownerFilterSet=new Ee,this.permissionsService.currentUserCan(ft.View,vt.User)&&e.listAll().pipe(ut()).subscribe({next:o=>this.users=o.results})}reset(){this.selectionModel.clear(),this.onChange()}setFilter(e){this.selectionModel.ownerFilter=e,this.selectionModel.ownerFilter===ns.SELF?(this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.userID=this.settingsService.currentUser.id,this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===ns.NOT_SELF?(this.selectionModel.userID=null,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[this.settingsService.currentUser.id],this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===ns.NONE?(this.selectionModel.userID=null,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===ns.SHARED_BY_ME?(this.selectionModel.userID=this.settingsService.currentUser.id,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===ns.UNOWNED&&(this.selectionModel.userID=null,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.hideUnowned=!1),this.onChange()}onChange(){this.ownerFilterSet.emit(this.selectionModel)}onUserSelect(){this.selectionModel.ownerFilter=this.selectionModel.includeUsers?.length?ns.OTHERS:ns.NONE,this.onChange()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-permissions-filter-dropdown"]],inputs:{title:"title",disabled:"disabled",selectionModel:"selectionModel"},outputs:{ownerFilterSet:"ownerFilterSet"},features:[at],decls:42,vars:23,consts:()=>{let e,i,o,s,r,a,l;return e="\u0627\u0644\u0643\u0644",i="\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u064A",o="\u062A\u0645\u062A \u0645\u0634\u0627\u0631\u0643\u062A\u0647\u0627 \u0645\u0639\u064A",s="\u062A\u0645\u062A \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629 \u0645\u0646 \u0642\u0628\u0644\u064A",r="\u0628\u0644\u0627 \u0645\u0627\u0644\u0643",a="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646",l="\u0625\u062E\u0641\u0627\u0621 \u0627\u0644\u063A\u064A\u0631 \u0645\u0645\u0644\u0648\u0643",[e,i,o,s,r,l,["ngbDropdown","","role","group",1,"btn-group","w-100"],["ngbDropdownToggle","",1,"btn","btn-sm",3,"id","ngClass","disabled"],["name","person-fill-lock"],[1,"d-none","d-sm-inline"],[3,"cleared","selected"],[1,"visually-hidden"],["ngbDropdownMenu","",1,"dropdown-menu","permission-filter-dropdown","shadow","py-0","w-2"],[1,"list-group","list-group-flush"],["role","menuitem",1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","border-top-0","border-start-0","border-end-0","border-bottom",3,"click","disabled"],[1,"selected-icon","me-1"],["width","1em","height","1em","name","check"],[1,"me-1"],["class","list-group-item list-group-item-action d-flex align-items-center p-2 border-top-0 border-start-0 border-end-0 border-bottom","role","menuitem",3,"disabled",4,"pngxIfPermissions"],[1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","ps-3","border-bottom-0","border-start-0","border-end-0"],["role","menuitem",1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","border-top-0","border-start-0","border-end-0","border-bottom",3,"disabled"],[1,"me-1","w-100"],["name","user","bindLabel","username","multiple","true","bindValue","id","placeholder",a,1,"user-select","small",3,"ngModelChange","change","ngModel","disabled","clearable","items"],[1,"form-check","form-switch","w-100"],["type","checkbox","id","hideUnowned",1,"form-check-input",3,"ngModelChange","change","ngModel","disabled"],["for","hideUnowned",1,"form-check-label","w-100"]]},template:function(i,o){1&i&&(d(0,"div",6)(1,"button",7),O(2,"i-bs",8),d(3,"div",9),N(4),u(),d(5,"pngx-clearable-badge",10),E("cleared",function(){return o.reset()}),u(),d(6,"span",11),N(7,"selected"),u()(),d(8,"div",12)(9,"div",13)(10,"button",14),E("click",function(){return o.setFilter(o.OwnerFilterType.NONE)}),d(11,"div",15),y(12,Mut,1,0,"i-bs",16),u(),d(13,"div",17)(14,"small"),b(15,0),u()()(),d(16,"button",14),E("click",function(){return o.setFilter(o.OwnerFilterType.SELF)}),d(17,"div",15),y(18,Tut,1,0,"i-bs",16),u(),d(19,"div",17)(20,"small"),b(21,1),u()()(),d(22,"button",14),E("click",function(){return o.setFilter(o.OwnerFilterType.NOT_SELF)}),d(23,"div",15),y(24,wut,1,0,"i-bs",16),u(),d(25,"div",17)(26,"small"),b(27,2),u()()(),d(28,"button",14),E("click",function(){return o.setFilter(o.OwnerFilterType.SHARED_BY_ME)}),d(29,"div",15),y(30,but,1,0,"i-bs",16),u(),d(31,"div",17)(32,"small"),b(33,3),u()()(),d(34,"button",14),E("click",function(){return o.setFilter(o.OwnerFilterType.UNOWNED)}),d(35,"div",15),y(36,Sut,1,0,"i-bs",16),u(),d(37,"div",17)(38,"small"),b(39,4),u()()(),ce(40,Out,5,6,"button",18),y(41,Aut,6,2,"div",19),u()()()),2&i&&(_(),m("id",Lt("dropdown",o.title))("ngClass",o.isActive?"btn-primary":"btn-outline-primary")("disabled",o.disabled),_(3),He("\xa0",o.title),_(),m("selected",o.isActive),_(3),Vn("aria-labelledby",Lt("dropdown",o.title)),_(2),m("disabled",o.disabled),_(2),P(o.selectionModel.ownerFilter===o.OwnerFilterType.NONE?12:-1),_(4),m("disabled",o.disabled),_(2),P(o.selectionModel.ownerFilter===o.OwnerFilterType.SELF?18:-1),_(4),m("disabled",o.disabled),_(2),P(o.selectionModel.ownerFilter===o.OwnerFilterType.NOT_SELF?24:-1),_(4),m("disabled",o.disabled),_(2),P(o.selectionModel.ownerFilter===o.OwnerFilterType.SHARED_BY_ME?30:-1),_(4),m("disabled",o.disabled),_(2),P(o.selectionModel.ownerFilter===o.OwnerFilterType.UNOWNED?36:-1),_(4),m("pngxIfPermissions",$e(20,Cut,o.PermissionAction.View,o.PermissionType.User)),_(),P(o.selectionModel.ownerFilter===o.OwnerFilterType.NONE||o.selectionModel.ownerFilter===o.OwnerFilterType.NOT_SELF?41:-1))},dependencies:[c8,ys,$t,No,Gt,Ln,Wt,Go,Ho,Ss,Qo,l0,wa,Bt,en],styles:[".user-select[_ngcontent-%COMP%]{min-width:15rem}.selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}"]})}return t})();const yut=["textFilterInput"];function Put(t,n){if(1&t){const e=k();d(0,"button",26),E("click",function(){const o=T(e).$implicit;return w(p().changeTextFilterTarget(o.id))}),N(1),u()}if(2&t){const e=n.$implicit;we("active",p().textFilterTarget===e.id),_(),oe(e.name)}}function Iut(t,n){if(1&t&&(d(0,"option",28),N(1),u()),2&t){const e=n.$implicit;m("value",e.id),_(),oe(e.label)}}function Lut(t,n){if(1&t){const e=k();d(0,"select",27),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.textFilterModifier,o)||(s.textFilterModifier=o),w(o)}),E("change",function(){return T(e),w(p().textFilterModifierChange())}),Ke(1,Iut,2,2,"option",28,jt),u()}if(2&t){const e=p();Le("ngModel",e.textFilterModifier),_(),qe(e.textFilterModifiers)}}function Rut(t,n){if(1&t){const e=k();d(0,"button",29),E("click",function(){return T(e),w(p().resetTextField())}),O(1,"i-bs",30),u()}}function xut(t,n){if(1&t){const e=k();d(0,"pngx-filterable-dropdown",31),Re("selectionModelChange",function(o){T(e);const s=p();return Pe(s.tagSelectionModel,o)||(s.tagSelectionModel=o),w(o)}),E("selectionModelChange",function(){return T(e),w(p().updateRules())})("opened",function(){return T(e),w(p().onTagsDropdownOpen())}),u()}if(2&t){const e=p();we("show",e.show),Le("selectionModel",e.tagSelectionModel),m("documentCounts",e.tagDocumentCounts)("allowSelectNone",!0)("disabled",e.disabled)}}function Fut(t,n){if(1&t){const e=k();d(0,"pngx-filterable-dropdown",32),Re("selectionModelChange",function(o){T(e);const s=p();return Pe(s.correspondentSelectionModel,o)||(s.correspondentSelectionModel=o),w(o)}),E("selectionModelChange",function(){return T(e),w(p().updateRules())})("opened",function(){return T(e),w(p().onCorrespondentDropdownOpen())}),u()}if(2&t){const e=p();we("show",e.show),Le("selectionModel",e.correspondentSelectionModel),m("documentCounts",e.correspondentDocumentCounts)("allowSelectNone",!0)("disabled",e.disabled)}}function kut(t,n){if(1&t){const e=k();d(0,"pngx-filterable-dropdown",33),Re("selectionModelChange",function(o){T(e);const s=p();return Pe(s.documentTypeSelectionModel,o)||(s.documentTypeSelectionModel=o),w(o)}),E("selectionModelChange",function(){return T(e),w(p().updateRules())})("opened",function(){return T(e),w(p().onDocumentTypeDropdownOpen())}),u()}if(2&t){const e=p();we("show",e.show),Le("selectionModel",e.documentTypeSelectionModel),m("documentCounts",e.documentTypeDocumentCounts)("allowSelectNone",!0)("disabled",e.disabled)}}function zut(t,n){if(1&t){const e=k();d(0,"pngx-filterable-dropdown",34),Re("selectionModelChange",function(o){T(e);const s=p();return Pe(s.storagePathSelectionModel,o)||(s.storagePathSelectionModel=o),w(o)}),E("selectionModelChange",function(){return T(e),w(p().updateRules())})("opened",function(){return T(e),w(p().onStoragePathDropdownOpen())}),u()}if(2&t){const e=p();we("show",e.show),Le("selectionModel",e.storagePathSelectionModel),m("documentCounts",e.storagePathDocumentCounts)("allowSelectNone",!0)("disabled",e.disabled)}}function Vut(t,n){if(1&t){const e=k();d(0,"pngx-custom-fields-query-dropdown",35),Re("selectionModelChange",function(o){T(e);const s=p();return Pe(s.customFieldQueriesModel,o)||(s.customFieldQueriesModel=o),w(o)}),E("selectionModelChange",function(){return T(e),w(p().updateRules())}),u()}if(2&t){const e=p();we("show",e.show),Le("selectionModel",e.customFieldQueriesModel)}}const h8="title",Mh="title-content",Th="asn",Xg="fulltext-query",wh="fulltext-morelike",rb="custom-fields",ab="mime-type",u8="equals",_8="is null",lb="not null",Kg="greater",g8="less",cb=/created:[\["]([^\]]+)[\]"]/g,db=/added:[\["]([^\]]+)[\]"]/g,p8=[{relativeDate:Ys.WITHIN_1_WEEK,dateQuery:"-1 week to now",isRange:!0},{relativeDate:Ys.WITHIN_1_MONTH,dateQuery:"-1 month to now",isRange:!0},{relativeDate:Ys.WITHIN_3_MONTHS,dateQuery:"-3 month to now",isRange:!0},{relativeDate:Ys.WITHIN_1_YEAR,dateQuery:"-1 year to now",isRange:!0},{relativeDate:Ys.THIS_YEAR,dateQuery:"this year"},{relativeDate:Ys.THIS_MONTH,dateQuery:"this month"},{relativeDate:Ys.TODAY,dateQuery:"today"},{relativeDate:Ys.YESTERDAY,dateQuery:"yesterday"}],BB=[{id:h8,name:"\u0639\u0646\u0648\u0627\u0646"},{id:Mh,name:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 & \u0627\u0644\u0645\u062D\u062A\u0648\u0649"},{id:Th,name:"ASN"},{id:rb,name:"\u062D\u0642\u0648\u0644 \u0645\u062E\u0635\u0635\u0629"},{id:ab,name:"File type"},{id:Xg,name:"\u0628\u062D\u062B \u0645\u062A\u0642\u062F\u0645"}],Hut={id:wh,name:"\u0623\u0643\u062B\u0631 \u0645\u062B\u0644\u0647"},Gut=[{id:u8,label:"\u064A\u0633\u0627\u0648\u064A"},{id:_8,label:"\u0641\u0627\u0631\u063A"},{id:lb,label:"\u063A\u064A\u0631 \u0641\u0627\u0631\u063A"},{id:Kg,label:"\u0623\u0643\u0628\u0631 \u0645\u0646"},{id:g8,label:"\u0623\u0642\u0644 \u0645\u0646"}];let $ut=(()=>{class t extends Ds{constructor(){super(...arguments),this.documentTypeService=M(sl),this.tagService=M(fh),this.correspondentService=M(ol),this.documentService=M(Io),this.storagePathService=M(nc),this.permissionsService=M(Ti),this.customFieldService=M(g1),this.searchService=M(NB),this.customFields=[],this._textFilter="",this.textFilterTarget=Mh,this.tagSelectionModel=new al(!0),this.correspondentSelectionModel=new al,this.documentTypeSelectionModel=new al,this.storagePathSelectionModel=new al,this.customFieldQueriesModel=new $B,this.permissionsSelectionModel=new Nut,this._unmodifiedFilterRules=[],this._filterRules=[],this.filterRulesChange=new Ee,this.rulesModified=!1,this.disabled=!1,this.loadingCountTotal=0,this.loadingCount=0,this.searchAutoComplete=e=>e.pipe(ra(200),r1(),ii(()=>this.textFilterTarget===Xg),bt(i=>-1!=i.lastIndexOf(" ")?i.substring(i.lastIndexOf(" ")+1):i),_i(i=>i.length<2?Oo([[]]):this.searchService.autocomplete(i).pipe(xa(()=>Oo([[]])))))}generateFilterName(){if(1==this.filterRules.length){let e=this.filterRules[0];switch(e.rule_type){case 3:case 26:return e.value?"Correspondent: " + this.correspondentSelectionModel.items.find(i => i.id == +e.value)?.name + "":"\u0628\u062F\u0648\u0646 \u0645\u0631\u0627\u0633\u0644";case 4:case 28:return e.value?"Document type: " + this.documentTypeSelectionModel.items.find(i => i.id == +e.value)?.name + "":"\u0628\u062F\u0648\u0646 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F";case 25:case 30:return e.value?"Storage path: " + this.storagePathSelectionModel.items.find(i => i.id == +e.value)?.name + "":"\u0628\u062F\u0648\u0646 \u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646";case 6:return "Tag: " + this.tagSelectionModel.items.find(i => i.id == +e.value)?.name + "";case 7:if("false"==e.value)return "\u0628\u0644\u0627 \u0623\u064A \u0648\u0633\u0645";case 42:return "\u0637\u0644\u0628 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u062E\u0635\u0635\u0629";case 0:return "\u0627\u0644\u0639\u0646\u0648\u0627\u0646: " + e.value + "";case 2:return "ASN: " + e.value + "";case 32:return "\u0627\u0644\u0645\u0627\u0644\u0643: " + e.value + "";case 35:return "\u0627\u0644\u0645\u0627\u0644\u0643 \u0644\u064A\u0633 \u0641\u064A: " + e.value + "";case 34:return "\u0628\u062F\u0648\u0646 \u0645\u0627\u0644\u0643"}}return""}get textFilterTargets(){return this.textFilterTarget==wh?BB.concat([Hut]):BB}get textFilterTargetName(){return this.textFilterTargets.find(e=>e.id==this.textFilterTarget)?.name}get textFilterModifiers(){return Gut}get textFilterModifierIsNull(){return[_8,lb].includes(this.textFilterModifier)}set unmodifiedFilterRules(e){this._unmodifiedFilterRules=e,this.rulesModified=F4(this._unmodifiedFilterRules,this._filterRules)}get unmodifiedFilterRules(){return this._unmodifiedFilterRules}set filterRules(e){this._filterRules=e,this.documentTypeSelectionModel.clear(!1),this.storagePathSelectionModel.clear(!1),this.tagSelectionModel.clear(!1),this.correspondentSelectionModel.clear(!1),this.customFieldQueriesModel.clear(!1),this._textFilter=null,this._moreLikeId=null,this.dateAddedTo=null,this.dateAddedFrom=null,this.dateCreatedTo=null,this.dateCreatedFrom=null,this.dateCreatedRelativeDate=null,this.dateAddedRelativeDate=null,this.textFilterModifier=u8,this.permissionsSelectionModel.clear(),e.forEach(i=>{switch(i.rule_type){case 0:this._textFilter=i.value,this.textFilterTarget=h8;break;case 19:this._textFilter=i.value,this.textFilterTarget=Mh;break;case 2:this._textFilter=i.value,this.textFilterTarget=Th;break;case 36:this._textFilter=i.value,this.textFilterTarget=rb;break;case 47:this.textFilterTarget=ab,this._textFilter=i.value;break;case 20:let o=i.value.split(","),s=[];o.forEach(h=>{h.match(cb)?([...h.matchAll(cb)].forEach(g=>{g[1]?.length&&(this.dateCreatedRelativeDate=p8.find(f=>f.dateQuery==g[1])?.relativeDate??null)}),null===this.dateCreatedRelativeDate&&s.push(h)):h.match(db)?([...h.matchAll(db)].forEach(g=>{g[1]?.length&&(this.dateAddedRelativeDate=p8.find(f=>f.dateQuery==g[1])?.relativeDate??null)}),null===this.dateAddedRelativeDate&&s.push(h)):s.push(h)}),s.length&&(this._textFilter=s.join(","),this.textFilterTarget=Xg);break;case 21:this._moreLikeId=+i.value,this.textFilterTarget=wh,this.documentService.get(this._moreLikeId).subscribe(h=>{this._moreLikeDoc=h,this._textFilter=h.title});break;case 9:const r=new Date(i.value);r.setDate(r.getDate()+1),this.dateCreatedFrom=r.toISOString().split("T")[0];break;case 8:const a=new Date(i.value);a.setDate(a.getDate()-1),this.dateCreatedTo=a.toISOString().split("T")[0];break;case 14:const l=new Date(i.value);l.setDate(l.getDate()+1),this.dateAddedFrom=l.toISOString().split("T")[0];break;case 13:const c=new Date(i.value);c.setDate(c.getDate()-1),this.dateAddedTo=c.toISOString().split("T")[0];break;case 44:this.dateCreatedFrom=i.value;break;case 43:this.dateCreatedTo=i.value;break;case 46:this.dateAddedFrom=i.value;break;case 45:this.dateAddedTo=i.value;break;case 6:this.tagSelectionModel.logicalOperator=za.And,this.tagSelectionModel.set(i.value?+i.value:null,ln.Selected,!1);break;case 22:this.tagSelectionModel.logicalOperator=za.Or,this.tagSelectionModel.set(i.value?+i.value:null,ln.Selected,!1);break;case 7:this.tagSelectionModel.set(null,ln.Selected,!1);break;case 17:this.tagSelectionModel.set(i.value?+i.value:null,ln.Excluded,!1);break;case 3:this.correspondentSelectionModel.intersection=i.value==(-1).toString()?bi.Exclude:bi.Include,this.correspondentSelectionModel.set(i.value?+i.value:null,this.correspondentSelectionModel.intersection==bi.Include?ln.Selected:ln.Excluded,!1);break;case 26:this.correspondentSelectionModel.logicalOperator=za.Or,this.correspondentSelectionModel.intersection=bi.Include,this.correspondentSelectionModel.set(i.value?+i.value:null,ln.Selected,!1);break;case 27:this.correspondentSelectionModel.intersection=bi.Exclude,this.correspondentSelectionModel.set(i.value?+i.value:null,ln.Excluded,!1);break;case 4:this.documentTypeSelectionModel.intersection=i.value==(-1).toString()?bi.Exclude:bi.Include,this.documentTypeSelectionModel.set(i.value?+i.value:null,this.documentTypeSelectionModel.intersection==bi.Include?ln.Selected:ln.Excluded,!1);break;case 28:this.documentTypeSelectionModel.logicalOperator=za.Or,this.documentTypeSelectionModel.intersection=bi.Include,this.documentTypeSelectionModel.set(i.value?+i.value:null,ln.Selected,!1);break;case 29:this.documentTypeSelectionModel.intersection=bi.Exclude,this.documentTypeSelectionModel.set(i.value?+i.value:null,ln.Excluded,!1);break;case 25:this.storagePathSelectionModel.intersection=i.value==(-1).toString()?bi.Exclude:bi.Include,this.storagePathSelectionModel.set(i.value?+i.value:null,this.storagePathSelectionModel.intersection==bi.Include?ln.Selected:ln.Excluded,!1);break;case 30:this.storagePathSelectionModel.logicalOperator=za.Or,this.storagePathSelectionModel.intersection=bi.Include,this.storagePathSelectionModel.set(i.value?+i.value:null,ln.Selected,!1);break;case 31:this.storagePathSelectionModel.intersection=bi.Exclude,this.storagePathSelectionModel.set(i.value?+i.value:null,ln.Excluded,!1);break;case 42:try{const h=JSON.parse(i.value);Array.isArray(h)&&(2===h.length?this.customFieldQueriesModel.addExpression(new oc(h)):3===h.length&&this.customFieldQueriesModel.addAtom(new d8(h)))}catch{}break;case 38:this.customFieldQueriesModel.addExpression(new oc([Yl.And,i.value.split(",").map(h=>[h,kn.Exists,"true"])]));break;case 39:this.customFieldQueriesModel.addExpression(new oc([Yl.Or,i.value.split(",").map(h=>[h,kn.Exists,"true"])]));break;case 18:this.textFilterTarget=Th,this.textFilterModifier="true"==i.value||"1"==i.value?_8:lb;break;case 23:this.textFilterTarget=Th,this.textFilterModifier=Kg,this._textFilter=i.value;break;case 24:this.textFilterTarget=Th,this.textFilterModifier=g8,this._textFilter=i.value;break;case 32:this.permissionsSelectionModel.ownerFilter=ns.SELF,this.permissionsSelectionModel.hideUnowned=!1,i.value&&(this.permissionsSelectionModel.userID=parseInt(i.value,10));break;case 33:this.permissionsSelectionModel.ownerFilter=ns.OTHERS,i.value&&this.permissionsSelectionModel.includeUsers.push(parseInt(i.value,10));break;case 35:this.permissionsSelectionModel.ownerFilter=ns.NOT_SELF,i.value&&this.permissionsSelectionModel.excludeUsers.push(parseInt(i.value,10));break;case 37:this.permissionsSelectionModel.ownerFilter=ns.SHARED_BY_ME,i.value&&(this.permissionsSelectionModel.userID=parseInt(i.value,10));break;case 34:if("true"!==i.value&&"1"!==i.value){this.permissionsSelectionModel.hideUnowned="false"===i.value||"0"===i.value;break}this.permissionsSelectionModel.hideUnowned=!1,this.permissionsSelectionModel.ownerFilter=ns.UNOWNED}}),this.rulesModified=F4(this._unmodifiedFilterRules,this._filterRules)}get filterRules(){let e=[];if(this._textFilter&&this.textFilterTarget==Mh&&e.push({rule_type:19,value:this._textFilter}),this._textFilter&&this.textFilterTarget==h8&&e.push({rule_type:0,value:this._textFilter}),this.textFilterTarget==Th&&(this.textFilterModifier==u8&&this._textFilter?e.push({rule_type:2,value:this._textFilter}):this.textFilterModifierIsNull?e.push({rule_type:18,value:(this.textFilterModifier==_8).toString()}):[Kg,g8].includes(this.textFilterModifier)&&this._textFilter&&e.push({rule_type:this.textFilterModifier==Kg?23:24,value:this._textFilter})),this._textFilter&&this.textFilterTarget==rb&&e.push({rule_type:36,value:this._textFilter}),this._textFilter&&this.textFilterTarget==ab&&e.push({rule_type:47,value:this._textFilter}),this._textFilter&&this.textFilterTarget==Xg&&e.push({rule_type:20,value:this._textFilter}),this._moreLikeId&&this.textFilterTarget==wh&&e.push({rule_type:21,value:this._moreLikeId.toString()}),this.tagSelectionModel.isNoneSelected())e.push({rule_type:7,value:"false"});else{const o=this.tagSelectionModel.logicalOperator==za.And?6:22;this.tagSelectionModel.getSelectedItems().filter(s=>s.id).forEach(s=>{e.push({rule_type:o,value:s.id?.toString()})}),this.tagSelectionModel.getExcludedItems().filter(s=>s.id).forEach(s=>{e.push({rule_type:17,value:s.id?.toString()})})}this.correspondentSelectionModel.isNoneSelected()&&this.correspondentSelectionModel.intersection==bi.Include?e.push({rule_type:3,value:null}):(this.correspondentSelectionModel.isNoneSelected()&&this.correspondentSelectionModel.intersection==bi.Exclude&&e.push({rule_type:3,value:(-1).toString()}),this.correspondentSelectionModel.getSelectedItems().forEach(o=>{e.push({rule_type:26,value:o.id?.toString()})}),this.correspondentSelectionModel.getExcludedItems().filter(o=>o.id>0).forEach(o=>{e.push({rule_type:27,value:o.id?.toString()})})),this.documentTypeSelectionModel.isNoneSelected()&&this.documentTypeSelectionModel.intersection===bi.Include?e.push({rule_type:4,value:null}):(this.documentTypeSelectionModel.isNoneSelected()&&this.documentTypeSelectionModel.intersection==bi.Exclude&&e.push({rule_type:4,value:(-1).toString()}),this.documentTypeSelectionModel.getSelectedItems().forEach(o=>{e.push({rule_type:28,value:o.id?.toString()})}),this.documentTypeSelectionModel.getExcludedItems().filter(o=>o.id>0).forEach(o=>{e.push({rule_type:29,value:o.id?.toString()})})),this.storagePathSelectionModel.isNoneSelected()&&this.storagePathSelectionModel.intersection==bi.Include?e.push({rule_type:25,value:null}):(this.storagePathSelectionModel.isNoneSelected()&&this.storagePathSelectionModel.intersection==bi.Exclude&&e.push({rule_type:25,value:(-1).toString()}),this.storagePathSelectionModel.getSelectedItems().forEach(o=>{e.push({rule_type:30,value:o.id?.toString()})}),this.storagePathSelectionModel.getExcludedItems().filter(o=>o.id>0).forEach(o=>{e.push({rule_type:31,value:o.id?.toString()})}));let i=this.customFieldQueriesModel.queries.map(o=>o.serialize());if(i.length>0&&this.customFieldQueriesModel.isValid()&&e.push({rule_type:42,value:JSON.stringify(i[0])}),this.dateCreatedTo&&e.push({rule_type:43,value:this.dateCreatedTo}),this.dateCreatedFrom&&e.push({rule_type:44,value:this.dateCreatedFrom}),this.dateAddedTo&&e.push({rule_type:45,value:this.dateAddedTo}),this.dateAddedFrom&&e.push({rule_type:46,value:this.dateAddedFrom}),null!==this.dateAddedRelativeDate||null!==this.dateCreatedRelativeDate){let o=[],s=e.find(a=>20==a.rule_type);!s&&this._textFilter?.length>0&&(this.textFilterTarget==Mh||this.textFilterTarget==h8)&&(s=e.find(a=>19==a.rule_type||0==a.rule_type),s.rule_type=20);let r=s?.value.split(",");if(null!==this.dateCreatedRelativeDate){const a=p8.find(l=>l.relativeDate==this.dateCreatedRelativeDate);o.push("created:"+(a.isRange?`[${a.dateQuery}]`:`"${a.dateQuery}"`)),s&&(o=r.filter(l=>!l.match(cb)).concat(o))}if(null!==this.dateAddedRelativeDate){const a=p8.find(l=>l.relativeDate==this.dateAddedRelativeDate);o.push("added:"+(a.isRange?`[${a.dateQuery}]`:`"${a.dateQuery}"`)),s&&(o=r.filter(l=>!l.match(db)).concat(o))}s?s.value=o.join(","):e.push({rule_type:20,value:o.join(",")})}return this.permissionsSelectionModel.ownerFilter==ns.SELF?e.push({rule_type:32,value:this.permissionsSelectionModel.userID.toString()}):this.permissionsSelectionModel.ownerFilter==ns.NOT_SELF?e.push({rule_type:35,value:this.permissionsSelectionModel.excludeUsers?.join(",")}):this.permissionsSelectionModel.ownerFilter==ns.OTHERS?e.push({rule_type:33,value:this.permissionsSelectionModel.includeUsers?.join(",")}):this.permissionsSelectionModel.ownerFilter==ns.SHARED_BY_ME?e.push({rule_type:37,value:this.permissionsSelectionModel.userID.toString()}):this.permissionsSelectionModel.ownerFilter==ns.UNOWNED&&e.push({rule_type:34,value:"true"}),this.permissionsSelectionModel.hideUnowned&&e.push({rule_type:34,value:"false"}),e}set selectionData(e){this.tagDocumentCounts=e?.selected_tags??null,this.documentTypeDocumentCounts=e?.selected_document_types??null,this.correspondentDocumentCounts=e?.selected_correspondents??null,this.storagePathDocumentCounts=e?.selected_storage_paths??null,this.customFieldDocumentCounts=e?.selected_custom_fields??null}updateRules(){this.filterRulesChange.next(this.filterRules)}get textFilter(){return this.textFilterModifierIsNull?"":this._textFilter}set textFilter(e){this.textFilterDebounce.next(e)}maybeCompleteLoading(){this.loadingCount++,this.loadingCount==this.loadingCountTotal&&(this.loading=!1,this.show=!0)}ngOnInit(){this.loading=!0,this.permissionsService.currentUserCan(ft.View,vt.Tag)&&(this.loadingCountTotal++,this.tagService.listAll().subscribe(e=>{this.tagSelectionModel.items=ib(e.results),this.maybeCompleteLoading()})),this.permissionsService.currentUserCan(ft.View,vt.Correspondent)&&(this.loadingCountTotal++,this.correspondentService.listAll().subscribe(e=>{this.correspondentSelectionModel.items=e.results,this.maybeCompleteLoading()})),this.permissionsService.currentUserCan(ft.View,vt.DocumentType)&&(this.loadingCountTotal++,this.documentTypeService.listAll().subscribe(e=>{this.documentTypeSelectionModel.items=e.results,this.maybeCompleteLoading()})),this.permissionsService.currentUserCan(ft.View,vt.StoragePath)&&(this.loadingCountTotal++,this.storagePathService.listAll().subscribe(e=>{this.storagePathSelectionModel.items=e.results,this.maybeCompleteLoading()})),this.permissionsService.currentUserCan(ft.View,vt.CustomField)&&(this.loadingCountTotal++,this.customFieldService.listAll().subscribe(e=>{this.customFields=e.results,this.maybeCompleteLoading()})),this.textFilterDebounce=new Be,this.textFilterDebounce.pipe(me(this.unsubscribeNotifier),ra(400),r1(),ii(e=>!e.length||e.length>2)).subscribe(e=>this.updateTextFilter(e,this.textFilterTarget!==Xg)),this._textFilter&&(this.documentService.searchQuery=this._textFilter)}ngAfterViewInit(){this.textFilterInput.nativeElement.focus()}ngOnDestroy(){this.unsubscribeNotifier.next(!0)}resetSelected(){this.textFilterTarget=Mh,this.documentService.searchQuery="",this.filterRules=this._unmodifiedFilterRules,this.updateRules()}toggleTag(e){this.tagSelectionModel.toggle(e)}toggleCorrespondent(e){this.correspondentSelectionModel.toggle(e)}toggleDocumentType(e){this.documentTypeSelectionModel.toggle(e)}toggleStoragePath(e){this.storagePathSelectionModel.toggle(e)}onTagsDropdownOpen(){this.tagSelectionModel.apply()}onCorrespondentDropdownOpen(){this.correspondentSelectionModel.apply()}onDocumentTypeDropdownOpen(){this.documentTypeSelectionModel.apply()}onStoragePathDropdownOpen(){this.storagePathSelectionModel.apply()}updateTextFilter(e,i=!0){this._textFilter=e,i&&(this.documentService.searchQuery=e,this.updateRules())}textFilterKeyup(e){if("Enter"==e.key){const i=this.textFilterInput.nativeElement.value;i.length&&this.updateTextFilter(i)}else"Escape"===e.key&&(this._textFilter?.length?this.resetTextField():this.textFilterInput.nativeElement.blur())}resetTextField(){this.updateTextFilter("")}changeTextFilterTarget(e){this.textFilterTarget==wh&&e!=wh&&(this._textFilter=""),this.textFilterTarget=e,this.textFilterInput.nativeElement.focus(),this.updateRules()}textFilterModifierChange(){(this.textFilterModifierIsNull||[u8,Kg,g8].includes(this.textFilterModifier)&&this._textFilter)&&this.updateRules()}itemSelected(e){e.preventDefault();let i=this._textFilter??"",o=i.lastIndexOf(" ");-1!=o?(i=i.substring(0,o+1),i+=e.item+" "):i=e.item+" ",this.updateTextFilter(i)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-filter-editor"]],viewQuery:function(i,o){if(1&i&&Tn(yut,5),2&i){let s;Mt(s=Tt())&&(o.textFilterInput=s.first)}},inputs:{unmodifiedFilterRules:"unmodifiedFilterRules",filterRules:"filterRules",selectionData:"selectionData",disabled:"disabled"},outputs:{filterRulesChange:"filterRulesChange"},features:[at],decls:29,vars:26,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v;return e="\u0639\u0644\u0627\u0645\u0627\u062A",i="\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A",o="\u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644",s="\u062A\u0635\u0641\u064A\u0629 \u062C\u0647\u0627\u062A \u0627\u0644\u062A\u0631\u0627\u0633\u0644",r="\u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",a="\u062A\u0635\u0641\u064A\u0629 \u0646\u0648\u0639 \u0627\u0644\u0648\u062B\u0627\u0626\u0642",l="\u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",c="\u062A\u0635\u0641\u064A\u0629 \u0645\u0633\u0627\u0631\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646",h="\u062D\u0642\u0648\u0644 \u0645\u062E\u0635\u0635\u0629",g="\u0627\u0644\u062A\u0648\u0627\u0631\u064A\u062E",f="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",v="\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u062A\u0635\u0641\u064A\u0627\u062A",[["textFilterInput",""],v,["tourAnchor","tour.documents-filter-editor",1,"row","flex-wrap","row-gap-3"],[1,"col"],[1,"form-inline","d-flex","align-items-center","fade"],[1,"input-group","input-group-sm","flex-fill","w-auto","flex-nowrap"],["ngbDropdown",""],["ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["ngbDropdownMenu","",1,"dropdown-menu","shadow"],["ngbDropdownItem","",3,"active"],[1,"form-select","flex-grow-0","w-auto",3,"ngModel"],[1,"btn","btn-link","btn-sm","px-2","position-absolute","top-0","end-0","z-10"],["type","text",1,"form-control","form-control-sm",3,"ngModelChange","keyup","selectItem","disabled","ngModel","ngbTypeahead","readonly"],[1,"col-auto"],[1,"d-flex","flex-wrap","gap-3"],[1,"d-flex","flex-wrap","gap-2"],["title",e,"icon","tag-fill","filterPlaceholder",i,"shortcutKey","t",1,"flex-fill","fade",3,"show","selectionModel","documentCounts","allowSelectNone","disabled"],["title",o,"icon","person-fill","filterPlaceholder",s,"shortcutKey","y",1,"flex-fill","fade",3,"show","selectionModel","documentCounts","allowSelectNone","disabled"],["title",r,"icon","file-earmark-fill","filterPlaceholder",a,"shortcutKey","u",1,"flex-fill","fade",3,"show","selectionModel","documentCounts","allowSelectNone","disabled"],["title",l,"icon","folder-fill","filterPlaceholder",c,"shortcutKey","i",1,"flex-fill","fade",3,"show","selectionModel","documentCounts","allowSelectNone","disabled"],["title",h,"icon","ui-radios",1,"flex-fill","fade",3,"show","selectionModel"],["title",g,"placement","bottom-end",1,"flex-fill","fade",3,"datesSet","createdDateToChange","createdDateFromChange","createdRelativeDateChange","addedDateToChange","addedDateFromChange","addedRelativeDateChange","createdDateTo","createdDateFrom","createdRelativeDate","addedDateTo","addedDateFrom","addedRelativeDate"],["title",f,1,"flex-fill","fade",3,"ownerFilterSet","selectionModelChange","selectionModel"],[1,"d-flex","flex-wrap","d-none","d-sm-inline-block"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],["name","x",1,"ms-n1"],["ngbDropdownItem","",3,"click"],[1,"form-select","flex-grow-0","w-auto",3,"ngModelChange","change","ngModel"],["ngbDropdownItem","",3,"value"],[1,"btn","btn-link","btn-sm","px-2","position-absolute","top-0","end-0","z-10",3,"click"],["width","1em","height","1em","name","x"],["title",e,"icon","tag-fill","filterPlaceholder",i,"shortcutKey","t",1,"flex-fill","fade",3,"selectionModelChange","opened","selectionModel","documentCounts","allowSelectNone","disabled"],["title",o,"icon","person-fill","filterPlaceholder",s,"shortcutKey","y",1,"flex-fill","fade",3,"selectionModelChange","opened","selectionModel","documentCounts","allowSelectNone","disabled"],["title",r,"icon","file-earmark-fill","filterPlaceholder",a,"shortcutKey","u",1,"flex-fill","fade",3,"selectionModelChange","opened","selectionModel","documentCounts","allowSelectNone","disabled"],["title",l,"icon","folder-fill","filterPlaceholder",c,"shortcutKey","i",1,"flex-fill","fade",3,"selectionModelChange","opened","selectionModel","documentCounts","allowSelectNone","disabled"],["title",h,"icon","ui-radios",1,"flex-fill","fade",3,"selectionModelChange","selectionModel"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"button",7),N(6),u(),d(7,"div",8),Ke(8,Put,2,3,"button",9,jt),u()(),y(10,Lut,3,1,"select",10),y(11,Rut,2,0,"button",11),d(12,"input",12,0),Re("ngModelChange",function(a){return T(s),Pe(o.textFilter,a)||(o.textFilter=a),w(a)}),E("keyup",function(a){return T(s),w(o.textFilterKeyup(a))})("selectItem",function(a){return T(s),w(o.itemSelected(a))}),u()()()(),d(14,"div",13)(15,"div",14)(16,"div",15),y(17,xut,1,6,"pngx-filterable-dropdown",16),y(18,Fut,1,6,"pngx-filterable-dropdown",17),y(19,kut,1,6,"pngx-filterable-dropdown",18),y(20,zut,1,6,"pngx-filterable-dropdown",19),y(21,Vut,1,3,"pngx-custom-fields-query-dropdown",20),d(22,"pngx-dates-dropdown",21),E("datesSet",function(){return T(s),w(o.updateRules())}),Re("createdDateToChange",function(a){return T(s),Pe(o.dateCreatedTo,a)||(o.dateCreatedTo=a),w(a)})("createdDateFromChange",function(a){return T(s),Pe(o.dateCreatedFrom,a)||(o.dateCreatedFrom=a),w(a)})("createdRelativeDateChange",function(a){return T(s),Pe(o.dateCreatedRelativeDate,a)||(o.dateCreatedRelativeDate=a),w(a)})("addedDateToChange",function(a){return T(s),Pe(o.dateAddedTo,a)||(o.dateAddedTo=a),w(a)})("addedDateFromChange",function(a){return T(s),Pe(o.dateAddedFrom,a)||(o.dateAddedFrom=a),w(a)})("addedRelativeDateChange",function(a){return T(s),Pe(o.dateAddedRelativeDate,a)||(o.dateAddedRelativeDate=a),w(a)}),u(),d(23,"pngx-permissions-filter-dropdown",22),E("ownerFilterSet",function(){return T(s),w(o.updateRules())}),Re("selectionModelChange",function(a){return T(s),Pe(o.permissionsSelectionModel,a)||(o.permissionsSelectionModel=a),w(a)}),u()(),d(24,"div",23)(25,"button",24),E("click",function(){return T(s),w(o.resetSelected())}),O(26,"i-bs",25),ge(27),b(28,1),ue(),u()()()()()}2&i&&(_(2),we("show",o.show),_(4),oe(o.textFilterTargetName),_(2),qe(o.textFilterTargets),_(2),P("asn"===o.textFilterTarget?10:-1),_(),P(o._textFilter?11:-1),_(),m("disabled",o.textFilterModifierIsNull),Le("ngModel",o.textFilter),m("ngbTypeahead",o.searchAutoComplete)("readonly","fulltext-morelike"===o.textFilterTarget),_(5),P(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.Tag)&&o.tagSelectionModel.items.length>0?17:-1),_(),P(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.Correspondent)&&o.correspondentSelectionModel.items.length>0?18:-1),_(),P(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.DocumentType)&&o.documentTypeSelectionModel.items.length>0?19:-1),_(),P(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.StoragePath)&&o.storagePathSelectionModel.items.length>0?20:-1),_(),P(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.CustomField)&&o.customFields.length>0?21:-1),_(),we("show",o.show),Le("createdDateTo",o.dateCreatedTo)("createdDateFrom",o.dateCreatedFrom)("createdRelativeDate",o.dateCreatedRelativeDate)("addedDateTo",o.dateAddedTo)("addedDateFrom",o.dateAddedFrom)("addedRelativeDate",o.dateAddedRelativeDate),_(),we("show",o.show),Le("selectionModel",o.permissionsSelectionModel),_(2),m("disabled",!o.rulesModified))},dependencies:[FB,sut,vut,Dut,Bt,en,Go,Ho,Ss,Qo,js,oa,rM,xde,$t,Rl,xl,Ci,t0,Gt,Ln,Wt,Y2,q2],styles:[".quick-filter[_ngcontent-%COMP%]{min-width:250px;max-height:400px;overflow-y:scroll}.quick-filter[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}.input-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.d-flex.flex-wrap[_ngcontent-%COMP%]{column-gap:.7rem}input[type=text][_ngcontent-%COMP%]{min-width:120px}.z-10[_ngcontent-%COMP%]{z-index:10}"]})}return t})();function But(t,n){if(1&t&&(d(0,"div",13)(1,"h6",17),b(2,3),u(),ge(3),b(4,4),ue(),N(5,":"),O(6,"br"),N(7),u()),2&t){const e=p();_(7),He(" ",e.error.filter_rules," ")}}let Uut=(()=>{class t{constructor(){this.modal=M(sa),this.saveClicked=new Ee,this.buttonsEnabled=!0,this.closeEnabled=!1,this._defaultName="",this.saveViewConfigForm=new ti({name:new re(""),showInSideBar:new re(!1),showOnDashboard:new re(!1)})}get defaultName(){return this._defaultName}set defaultName(e){this._defaultName=e,this.saveViewConfigForm.patchValue({name:e})}ngOnInit(){setTimeout(()=>{this.closeEnabled=!0})}save(){this.saveClicked.emit(this.saveViewConfigForm.value)}cancel(){this.modal.close()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-save-view-config-dialog"]],inputs:{error:"error",buttonsEnabled:"buttonsEnabled",defaultName:"defaultName"},outputs:{saveClicked:"saveClicked"},decls:15,vars:6,consts:()=>{let e,i,o,s,r,a,l,c;return e="\u0627\u0633\u0645",i="\u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u0634\u0631\u064A\u0637 \u0627\u0644\u062C\u0627\u0646\u0628\u064A",o="\u0639\u0631\u0636 \u0639\u0644\u0649 \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645",s="\u062D\u0641\u0638 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u062D\u0627\u0644\u064A",r="\u0625\u0644\u063A\u0627\u0621",a="\u062D\u0641\u0638",l="\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u0642\u0648\u0627\u0639\u062F \u0627\u0644\u062A\u0635\u0646\u064A\u0641 \u0641\u064A \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0647\u0630\u0627 \u0627\u0644\u0639\u0631\u0636",c="\u0627\u0644\u062E\u0637\u0623 \u0627\u0644\u0630\u064A \u062A\u0645 \u0625\u0631\u062C\u0627\u0639\u0647 \u0643\u0627\u0646",[s,r,a,l,c,[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",e,"formControlName","name","autocomplete","off",3,"error"],["title",i,"formControlName","showInSideBar"],["title",o,"formControlName","showOnDashboard"],["role","alert",1,"alert","alert-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert-heading"]]},template:function(i,o){1&i&&(d(0,"form",5),E("ngSubmit",function(){return o.save()}),d(1,"div",6)(2,"h4",7),b(3,0),u(),d(4,"button",8),E("click",function(){return o.cancel()}),u()(),d(5,"div",9),O(6,"pngx-input-text",10)(7,"pngx-input-check",11)(8,"pngx-input-check",12),y(9,But,8,1,"div",13),u(),d(10,"div",14)(11,"button",15),E("click",function(){return o.cancel()}),b(12,1),u(),d(13,"button",16),b(14,2),u()()()),2&i&&(m("formGroup",o.saveViewConfigForm),_(4),m("disabled",!o.closeEnabled),_(2),m("error",null==o.error?null:o.error.name),_(3),P(null!=o.error&&o.error.filter_rules?9:-1),_(2),m("disabled",!o.buttonsEnabled),_(2),m("disabled",!o.buttonsEnabled))},dependencies:[p1,qs,$t,Do,Gt,Co,Wt,ao,Mo],encapsulation:2})}return t})();const jut=["filterEditor"],f8=(t,n)=>({action:t,type:n}),m8=(t,n)=>n.id;function Zut(t,n){if(1&t){const e=k();d(0,"div",45)(1,"input",74),E("change",function(){const o=T(e).$implicit;return w(p().toggleDisplayField(o.id))}),u(),d(2,"label",75),N(3),u()()}if(2&t){const e=n.$implicit,i=p();_(),m("id",Lt("displayField",e.id))("checked",i.activeDisplayFields.includes(e.id)),_(),m("for",Lt("displayField",e.id)),_(),oe(e.name)}}function Wut(t,n){if(1&t){const e=k();d(0,"button",40),E("click",function(){const o=T(e).$implicit;return w(p().list.sortField=o.field)}),N(1),u()}if(2&t){const e=n.$implicit;we("active",p().list.sortField===e.field),_(),He("",e.name," ")}}function Xut(t,n){1&t&&(d(0,"div",79)(1,"span",84),N(2,"selected"),u()())}function Kut(t,n){if(1&t){const e=k();d(0,"button",40),E("click",function(){const o=T(e).$implicit;return w(p(3).loadViewConfig(o.id))}),N(1),u()}if(2&t){const e=n.$implicit;_(),oe(e.name)}}function qut(t,n){1&t&&O(0,"div",86)}function Yut(t,n){if(1&t&&(Ke(0,Kut,2,1,"button",85,jt),y(2,qut,1,0,"div",86)),2&t){const e=p(2);qe(e.savedViewService.allViews),_(2),P(e.savedViewService.allViews.length>0?2:-1)}}function Qut(t,n){if(1&t){const e=k();d(0,"button",88),E("click",function(){return T(e),w(p(3).saveViewConfig())}),b(1,10),u()}if(2&t){const e=p(3);m("disabled",!e.savedViewIsModified),_(),An(e.list.activeSavedViewTitle),In(1)}}function Jut(t,n){if(1&t&&(d(0,"div"),y(1,Qut,2,2,"button",87),u()),2&t){const e=p(2);_(),P(e.list.activeSavedViewId?1:-1)}}function e_t(t,n){if(1&t){const e=k();d(0,"button",40),E("click",function(){return T(e),w(p(2).saveViewConfigAs())}),b(1,11),u()}}function t_t(t,n){1&t&&(d(0,"a",89),b(1,12),u())}function n_t(t,n){if(1&t&&(d(0,"div",76)(1,"button",77),O(2,"i-bs",78),d(3,"div",38),N(4,"\xa0"),ge(5),b(6,9),ue(),u(),y(7,Xut,3,0,"div",79),u(),d(8,"div",80),y(9,Yut,3,1),ce(10,Jut,2,1,"div",81)(11,e_t,2,0,"button",82)(12,t_t,2,0,"a",83),u()()),2&t){const e=p();_(7),P(e.savedViewIsModified?7:-1),_(2),P(e.list.activeSavedViewId?-1:9),_(),m("pngxIfPermissions",$e(5,f8,e.PermissionAction.Change,e.PermissionType.SavedView)),_(),m("pngxIfPermissions",$e(8,f8,e.PermissionAction.Add,e.PermissionType.SavedView)),_(),m("pngxIfPermissions",$e(11,f8,e.PermissionAction.View,e.PermissionType.SavedView))}}function i_t(t,n){1&t&&(O(0,"div",94),ge(1),b(2,13),ue())}function o_t(t,n){if(1&t&&(d(0,"span"),b(1,14),u()),2&t){const e=p(2);_(),An(e.list.collectionSize)(e.list.selected.size)(e.list.collectionSize||0),In(1)}}function s_t(t,n){if(1&t&&(d(0,"span"),b(1,15),u()),2&t){const e=p(3);_(),An(e.list.collectionSize)(e.list.collectionSize||0),In(1)}}function r_t(t,n){1&t&&(N(0," \xa0"),d(1,"span"),b(2,16),u())}function a_t(t,n){if(1&t&&(y(0,s_t,2,2,"span"),y(1,r_t,3,0)),2&t){const e=p(2);P(0===e.list.selected.size?0:-1),_(),P(e.isFiltered?1:-1)}}function l_t(t,n){if(1&t){const e=k();d(0,"button",95),E("click",function(){return T(e),w(p(2).resetFilters())}),O(1,"i-bs",96),d(2,"small"),b(3,17),u()()}}function c_t(t,n){if(1&t){const e=k();d(0,"ngb-pagination",97),Re("pageChange",function(o){T(e);const s=p(2);return Pe(s.list.currentPage,o)||(s.list.currentPage=o),w(o)}),u()}if(2&t){const e=p(2);m("pageSize",e.list.pageSize)("collectionSize",e.list.collectionSize),Le("page",e.list.currentPage),m("maxSize",5)("rotate",!0)}}function d_t(t,n){if(1&t&&(d(0,"div",90)(1,"div",91),y(2,i_t,3,0),y(3,o_t,2,3,"span"),y(4,a_t,2,2),y(5,l_t,4,0,"button",92),u(),y(6,c_t,1,5,"ngb-pagination",93),u()),2&t){const e=p();_(2),P(e.list.isReloading?2:-1),_(),P(e.list.selected.size>0?3:-1),_(),P(e.list.isReloading?-1:4),_(),P(!e.list.isReloading&&e.isFiltered?5:-1),_(),P(e.list.collectionSize?6:-1)}}function h_t(t,n){1&t&&Mn(0)}function u_t(t,n){if(1&t&&(d(0,"div",73),ge(1),b(2,18),ue(),N(3),u()),2&t){const e=p();_(3),He(": ",e.list.error)}}function __t(t,n){if(1&t){const e=k();d(0,"pngx-document-card-large",102),E("toggleSelected",function(o){const s=T(e).$implicit;return w(p(3).toggleSelected(s,o))})("dblClickDocument",function(){const o=T(e).$implicit;return w(p(3).openDocumentDetail(o))})("clickTag",function(o){return T(e),w(p(3).clickTag(o))})("clickCorrespondent",function(o){return T(e),w(p(3).clickCorrespondent(o))})("clickDocumentType",function(o){return T(e),w(p(3).clickDocumentType(o))})("clickStoragePath",function(o){return T(e),w(p(3).clickStoragePath(o))})("clickMoreLike",function(){const o=T(e).$implicit;return w(p(3).clickMoreLike(o.id))}),u()}if(2&t){const e=n.$implicit,i=p(3);m("selected",i.list.isSelected(e))("document",e)("displayFields",i.activeDisplayFields)}}function g_t(t,n){if(1&t&&(d(0,"div"),Ke(1,__t,1,3,"pngx-document-card-large",101,m8),u()),2&t){const e=p(2);_(),qe(e.list.documents)}}function p_t(t,n){if(1&t){const e=k();d(0,"th",116),E("sort",function(o){return T(e),w(p(3).onSort(o))}),b(1,19),u()}if(2&t){const e=p(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function f_t(t,n){if(1&t){const e=k();d(0,"th",117),E("sort",function(o){return T(e),w(p(3).onSort(o))}),b(1,20),u()}if(2&t){const e=p(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function m_t(t,n){if(1&t){const e=k();d(0,"th",118),E("sort",function(o){return T(e),w(p(3).onSort(o))}),b(1,21),u()}if(2&t){const e=p(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function v_t(t,n){1&t&&(d(0,"th"),b(1,22),u())}function C_t(t,n){if(1&t){const e=k();d(0,"th",119),E("sort",function(o){return T(e),w(p(3).onSort(o))}),b(1,23),u()}if(2&t){const e=p(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function M_t(t,n){if(1&t){const e=k();d(0,"th",120),E("sort",function(o){return T(e),w(p(3).onSort(o))}),b(1,24),u()}if(2&t){const e=p(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function T_t(t,n){if(1&t){const e=k();d(0,"th",121),E("sort",function(o){return T(e),w(p(3).onSort(o))}),b(1,25),u()}if(2&t){const e=p(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function w_t(t,n){if(1&t){const e=k();d(0,"th",122),E("sort",function(o){return T(e),w(p(3).onSort(o))}),b(1,26),u()}if(2&t){const e=p(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function b_t(t,n){if(1&t){const e=k();d(0,"th",123),E("sort",function(o){return T(e),w(p(3).onSort(o))}),b(1,27),u()}if(2&t){const e=p(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function S_t(t,n){if(1&t){const e=k();d(0,"th",124),E("sort",function(o){return T(e),w(p(3).onSort(o))}),b(1,28),u()}if(2&t){const e=p(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function E_t(t,n){if(1&t){const e=k();d(0,"th",125),E("sort",function(o){return T(e),w(p(3).onSort(o))}),b(1,29),u()}if(2&t){const e=p(3);m("currentSortField",e.list.sortField)("currentSortReverse",e.list.sortReverse)}}function O_t(t,n){1&t&&(d(0,"th"),b(1,30),u())}function A_t(t,n){if(1&t){const e=k();d(0,"th",126),E("sort",function(o){return T(e),w(p(3).onSort(o))}),Ev(1,33),N(2),u()}if(2&t){const e=n.$implicit,i=p(3);m("pngxSortable",ni(e)),An(i.getDisplayCustomFieldTitle(e)),In(1),m("currentSortField",i.list.sortField)("currentSortReverse",i.list.sortReverse),_(2),He(" ",i.getDisplayCustomFieldTitle(e)," ")}}function N_t(t,n){if(1&t&&(d(0,"td",130),N(1),u()),2&t){const e=p().$implicit;_(),He(" ",e.archive_serial_number," ")}}function D_t(t,n){if(1&t){const e=k();d(0,"a",133),E("click",function(o){T(e);const s=p(2).$implicit;return p(3).clickCorrespondent(s.correspondent),w(o.stopPropagation())}),N(1),Fe(2,"correspondentName"),Fe(3,"async"),u()}if(2&t){const e=p(2).$implicit;_(),oe(lt(3,3,lt(2,1,e.correspondent)))}}function y_t(t,n){if(1&t&&(d(0,"td",130),y(1,D_t,4,5,"a",132),u()),2&t){const e=p().$implicit;_(),P(e.correspondent?1:-1)}}function P_t(t,n){if(1&t){const e=k();d(0,"div",135),E("mouseleave",function(){return T(e),w(xe(5).close())}),d(1,"a",136),N(2),Fe(3,"documentTitle"),u(),d(4,"pngx-preview-popup",137,2),E("click",function(o){return T(e),w(o.stopPropagation())}),O(6,"i-bs",138),u()()}if(2&t){const e=p(2).$implicit;_(),m("routerLink",Lt("/documents/",e.id)),_(),oe(lt(3,4,e.title)),_(2),m("document",e)}}function I_t(t,n){if(1&t){const e=k();d(0,"pngx-tag",140),E("click",function(o){const s=T(e).$implicit;return p(6).clickTag(s),w(o.stopPropagation())}),u()}2&t&&m("tagID",n.$implicit)}function L_t(t,n){1&t&&Ke(0,I_t,1,1,"pngx-tag",139,jt),2&t&&qe(p(2).$implicit.tags)}function R_t(t,n){if(1&t&&(d(0,"td",131),y(1,P_t,7,6,"div",134),y(2,L_t,2,0),u()),2&t){const e=p(4);_(),P(e.activeDisplayFields.includes(e.DisplayField.TITLE)?1:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.TAGS)?2:-1)}}function x_t(t,n){if(1&t&&(d(0,"td"),N(1),Fe(2,"username"),Fe(3,"async"),u()),2&t){const e=p().$implicit;_(),He(" ",lt(3,3,lt(2,1,e.owner))," ")}}function F_t(t,n){if(1&t&&(d(0,"a",141)(1,"span",142),O(2,"i-bs",143),N(3),u()()),2&t){const e=p(2).$implicit;m("routerLink",Lt("/documents/",e.id,"/notes")),_(3),He(" ",e.notes.length)}}function k_t(t,n){if(1&t&&(d(0,"td",130),y(1,F_t,4,3,"a",141),u()),2&t){const e=p().$implicit;_(),P(e.notes.length?1:-1)}}function z_t(t,n){if(1&t){const e=k();d(0,"a",145),E("click",function(o){T(e);const s=p(2).$implicit;return p(3).clickDocumentType(s.document_type),w(o.stopPropagation())}),N(1),Fe(2,"documentTypeName"),Fe(3,"async"),u()}if(2&t){const e=p(2).$implicit;_(),oe(lt(3,3,lt(2,1,e.document_type)))}}function V_t(t,n){if(1&t&&(d(0,"td",130),y(1,z_t,4,5,"a",144),u()),2&t){const e=p().$implicit;_(),P(e.document_type?1:-1)}}function H_t(t,n){if(1&t){const e=k();d(0,"a",147),E("click",function(o){T(e);const s=p(2).$implicit;return p(3).clickStoragePath(s.storage_path),w(o.stopPropagation())}),N(1),Fe(2,"storagePathName"),Fe(3,"async"),u()}if(2&t){const e=p(2).$implicit;_(),oe(lt(3,3,lt(2,1,e.storage_path)))}}function G_t(t,n){if(1&t&&(d(0,"td",130),y(1,H_t,4,5,"a",146),u()),2&t){const e=p().$implicit;_(),P(e.storage_path?1:-1)}}function $_t(t,n){if(1&t&&(d(0,"td"),N(1),Fe(2,"customDate"),u()),2&t){const e=p().$implicit;_(),He(" ",lt(2,1,e.created)," ")}}function B_t(t,n){if(1&t&&(d(0,"td"),N(1),Fe(2,"customDate"),u()),2&t){const e=p().$implicit;_(),He(" ",lt(2,1,e.added)," ")}}function U_t(t,n){if(1&t&&(d(0,"td"),N(1),u()),2&t){const e=p().$implicit;_(),He(" ",e.page_count," ")}}function j_t(t,n){1&t&&(ge(0),b(1,31),ue())}function Z_t(t,n){1&t&&(ge(0),b(1,32),ue())}function W_t(t,n){if(1&t&&(d(0,"td"),y(1,j_t,2,0,"ng-container")(2,Z_t,2,0,"ng-container"),u()),2&t){const e=p().$implicit;_(),P(e.is_shared_by_requester?1:2)}}function X_t(t,n){if(1&t&&(d(0,"td",130),O(1,"pngx-custom-field-display",148),u()),2&t){const e=n.$implicit,i=p().$implicit;_(),m("document",i)("fieldDisplayKey",e)}}function K_t(t,n){if(1&t){const e=k();d(0,"tr",127),E("click",function(o){const s=T(e).$implicit;return p(3).toggleSelected(s,o),w(o.stopPropagation())})("dblclick",function(){const o=T(e).$implicit;return w(p(3).openDocumentDetail(o))}),d(1,"td")(2,"div",128)(3,"input",129),E("click",function(o){const s=T(e).$implicit;return p(3).toggleSelected(s,o),w(o.stopPropagation())}),u(),O(4,"label",75),u()(),y(5,N_t,2,1,"td",130),y(6,y_t,2,1,"td",130),y(7,R_t,3,2,"td",131),y(8,x_t,4,5,"td"),y(9,k_t,2,1,"td",130),y(10,V_t,2,1,"td",130),y(11,G_t,2,1,"td",130),y(12,$_t,3,3,"td"),y(13,B_t,3,3,"td"),y(14,U_t,2,1,"td"),y(15,W_t,3,1,"td"),Ke(16,X_t,2,2,"td",130,jt),u()}if(2&t){const e=n.$implicit,i=p(3);m("ngClass",i.list.isSelected(e)?"table-row-selected":""),_(3),m("id",Lt("docCheck",e.id))("checked",i.list.isSelected(e)),_(),m("for",Lt("docCheck",e.id)),_(),P(i.activeDisplayFields.includes(i.DisplayField.ASN)?5:-1),_(),P(i.activeDisplayFields.includes(i.DisplayField.CORRESPONDENT)&&i.permissionService.currentUserCan(i.PermissionAction.View,i.PermissionType.Correspondent)?6:-1),_(),P(i.activeDisplayFields.includes(i.DisplayField.TITLE)||i.activeDisplayFields.includes(i.DisplayField.TAGS)?7:-1),_(),P(i.activeDisplayFields.includes(i.DisplayField.OWNER)&&i.permissionService.currentUserCan(i.PermissionAction.View,i.PermissionType.User)?8:-1),_(),P(i.activeDisplayFields.includes(i.DisplayField.NOTES)&&i.notesEnabled?9:-1),_(),P(i.activeDisplayFields.includes(i.DisplayField.DOCUMENT_TYPE)&&i.permissionService.currentUserCan(i.PermissionAction.View,i.PermissionType.DocumentType)?10:-1),_(),P(i.activeDisplayFields.includes(i.DisplayField.STORAGE_PATH)&&i.permissionService.currentUserCan(i.PermissionAction.View,i.PermissionType.StoragePath)?11:-1),_(),P(i.activeDisplayFields.includes(i.DisplayField.CREATED)?12:-1),_(),P(i.activeDisplayFields.includes(i.DisplayField.ADDED)?13:-1),_(),P(i.activeDisplayFields.includes(i.DisplayField.PAGE_COUNT)?14:-1),_(),P(i.activeDisplayFields.includes(i.DisplayField.SHARED)?15:-1),_(),qe(i.activeDisplayCustomFields)}}function q_t(t,n){if(1&t&&(d(0,"div",98)(1,"table",103)(2,"thead")(3,"tr"),O(4,"th"),y(5,p_t,2,2,"th",104),y(6,f_t,2,2,"th",105),y(7,m_t,2,2,"th",106),y(8,v_t,2,0,"th"),y(9,C_t,2,2,"th",107),y(10,M_t,2,2,"th",108),y(11,T_t,2,2,"th",109),y(12,w_t,2,2,"th",110),y(13,b_t,2,2,"th",111),y(14,S_t,2,2,"th",112),y(15,E_t,2,2,"th",113),y(16,O_t,2,0,"th"),Ke(17,A_t,3,6,"th",114,jt),u()(),d(19,"tbody"),Ke(20,K_t,18,17,"tr",115,m8),u()()()),2&t){const e=p(2);_(5),P(e.activeDisplayFields.includes(e.DisplayField.ASN)?5:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.CORRESPONDENT)&&e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.Correspondent)?6:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.TITLE)?7:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.TAGS)&&!e.activeDisplayFields.includes(e.DisplayField.TITLE)?8:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.OWNER)&&e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.User)?9:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.NOTES)&&e.notesEnabled?10:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.DOCUMENT_TYPE)&&e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.DocumentType)?11:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.STORAGE_PATH)&&e.permissionService.currentUserCan(e.PermissionAction.View,e.PermissionType.StoragePath)?12:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.CREATED)?13:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.ADDED)?14:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.PAGE_COUNT)?15:-1),_(),P(e.activeDisplayFields.includes(e.DisplayField.SHARED)?16:-1),_(),qe(e.activeDisplayCustomFields),_(3),qe(e.list.documents)}}function Y_t(t,n){if(1&t){const e=k();d(0,"pngx-document-card-small",150),E("toggleSelected",function(o){const s=T(e).$implicit;return w(p(3).toggleSelected(s,o))})("dblClickDocument",function(){const o=T(e).$implicit;return w(p(3).openDocumentDetail(o))})("clickTag",function(o){return T(e),w(p(3).clickTag(o))})("clickCorrespondent",function(o){return T(e),w(p(3).clickCorrespondent(o))})("clickStoragePath",function(o){return T(e),w(p(3).clickStoragePath(o))})("clickDocumentType",function(o){return T(e),w(p(3).clickDocumentType(o))}),u()}if(2&t){const e=n.$implicit,i=p(3);m("selected",i.list.isSelected(e))("document",e)("displayFields",i.activeDisplayFields)}}function Q_t(t,n){if(1&t&&(d(0,"div",99),Ke(1,Y_t,1,3,"pngx-document-card-small",149,m8),u()),2&t){const e=p(2);_(),qe(e.list.documents)}}function J_t(t,n){1&t&&Mn(0)}function egt(t,n){if(1&t&&(d(0,"div",100),ce(1,J_t,1,0,"ng-container",72),u()),2&t){p(2);const e=xe(60);_(),m("ngTemplateOutlet",e)}}function tgt(t,n){if(1&t&&(y(0,g_t,3,0,"div"),y(1,q_t,22,12,"div",98),y(2,Q_t,3,0,"div",99),y(3,egt,2,1,"div",100)),2&t){const e=p();P(e.list.displayMode===e.DisplayMode.LARGE_CARDS?0:-1),_(),P(e.list.displayMode===e.DisplayMode.TABLE?1:-1),_(),P(e.list.displayMode===e.DisplayMode.SMALL_CARDS?2:-1),_(),P((null==e.list.documents?null:e.list.documents.length)>15?3:-1)}}let hb=(()=>{class t extends H1{constructor(){super(...arguments),this.list=M(z5),this.savedViewService=M(V5),this.route=M(V1),this.router=M(ts),this.toastService=M(eo),this.modalService=M(ps),this.websocketStatusService=M(H4),this.openDocumentsService=M($4),this.settingsService=M(Gn),this.hotKeyService=M(Fg),this.permissionService=M(Ti),this.DisplayField=Mi,this.DisplayMode=ih,this.activeDisplayCustomFields=new Set,this.unmodifiedFilterRules=[],this.unsubscribeNotifier=new Be}get activeDisplayFields(){return this.list.displayFields}set activeDisplayFields(e){this.list.displayFields=e,this.updateDisplayCustomFields()}updateDisplayCustomFields(){this.activeDisplayCustomFields=new Set(Array.from(this.activeDisplayFields).filter(e=>"string"==typeof e&&e.startsWith(Mi.CUSTOM_FIELD)))}get savedViewIsModified(){return!(!this.list.activeSavedViewId||!this.unmodifiedSavedView)&&(this.unmodifiedSavedView.sort_field!==this.list.sortField||this.unmodifiedSavedView.sort_reverse!==this.list.sortReverse||this.unmodifiedSavedView.page_size&&this.unmodifiedSavedView.page_size!==this.list.pageSize||this.unmodifiedSavedView.display_mode&&this.unmodifiedSavedView.display_mode!==this.list.displayMode||!this.unmodifiedSavedView.display_mode&&this.list.displayMode!==ih.SMALL_CARDS||this.unmodifiedSavedView.display_fields&&this.unmodifiedSavedView.display_fields.join(",")!==this.activeDisplayFields.join(",")||!this.unmodifiedSavedView.display_fields&&this.activeDisplayFields.join(",")!==oh.filter(e=>e.id!==Mi.ADDED).map(e=>e.id).join(",")||F4(this.unmodifiedSavedView.filter_rules,this.list.filterRules))}get isFiltered(){return!!this.filterEditor?.rulesModified}getTitle(){let e=this.list.activeSavedViewTitle;return e&&this.savedViewIsModified?e+="*":e||(e="\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A"),e}getSortFields(){return sB(this.list.filterRules)?this.list.sortFieldsFullText:this.list.sortFields}set listSortReverse(e){this.list.sortReverse=e}get listSortReverse(){return this.list.sortReverse}onSort(e){this.list.setSort(e.column,e.reverse)}get isBulkEditing(){return this.list.selected.size>0}toggleDisplayField(e){this.activeDisplayFields=this.activeDisplayFields.includes(e)?this.activeDisplayFields.filter(i=>i!==e):[...this.activeDisplayFields,e],this.updateDisplayCustomFields()}getDisplayCustomFieldTitle(e){return this.settingsService.allDisplayFields.find(i=>i.id===e)?.name}ngOnInit(){this.websocketStatusService.onDocumentConsumptionFinished().pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.list.reload()}),this.websocketStatusService.onDocumentDeleted().subscribe(()=>{this.list.reload()}),this.route.paramMap.pipe(ii(e=>e.has("id")),_i(e=>this.savedViewService.getCached(+e.get("id")).pipe(bt(i=>({view:i}))))).pipe(me(this.unsubscribeNotifier)).subscribe(({view:e})=>{e?(this.unmodifiedSavedView=e,this.list.activateSavedViewWithQueryParams(e,b5(this.route.snapshot.queryParams)),this.list.reload(()=>{this.savedViewService.setDocumentCount(e,this.list.collectionSize)}),this.updateDisplayCustomFields(),this.unmodifiedFilterRules=e.filter_rules):this.router.navigate(["404"],{replaceUrl:!0})}),this.route.queryParamMap.pipe(ii(()=>!this.route.snapshot.paramMap.has("id")),me(this.unsubscribeNotifier)).subscribe(e=>{this.updateDisplayCustomFields(),e.has("view")?this.loadViewConfig(parseInt(e.get("view"))):(this.list.activateSavedView(null),this.list.loadFromQueryParams(e),this.unmodifiedFilterRules=[])}),this.hotKeyService.addShortcut({keys:"escape",description:"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0645\u0631\u0634\u062D\u0627\u062A / \u0627\u0644\u062A\u062D\u062F\u064A\u062F"}).pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.list.selected.size>0?this.list.selectNone():this.isFiltered&&this.filterEditor.resetSelected()}),this.hotKeyService.addShortcut({keys:"a",description:"\u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0643\u0644"}).pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.list.selectAll()}),this.hotKeyService.addShortcut({keys:"p",description:"\u062A\u062D\u062F\u064A\u062F \u0635\u0641\u062D\u0629"}).pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.list.selectPage()}),this.hotKeyService.addShortcut({keys:"o",description:"\u0641\u062A\u062D \u0623\u0648\u0644 \u0645\u0633\u062A\u0646\u062F [\u0645\u062D\u062F\u062F]"}).pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.list.documents.length>0&&this.openDocumentDetail(this.list.selected.size>0?Array.from(this.list.selected)[0]:this.list.documents[0])}),this.hotKeyService.addShortcut({keys:"control.arrowleft",description:"Previous page"}).pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.list.currentPage>1&&this.list.currentPage--}),this.hotKeyService.addShortcut({keys:"control.arrowright",description:"Next page"}).pipe(me(this.unsubscribeNotifier)).subscribe(()=>{this.list.currentPage<this.list.getLastPage()&&this.list.currentPage++})}ngOnDestroy(){this.list.cancelPending(),this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}saveViewConfig(){null!=this.list.activeSavedViewId&&this.savedViewService.patch({id:this.list.activeSavedViewId,filter_rules:this.list.filterRules,sort_field:this.list.sortField,sort_reverse:this.list.sortReverse,display_mode:this.list.displayMode,display_fields:this.activeDisplayFields}).pipe(ut()).subscribe({next:i=>{this.unmodifiedSavedView=i,this.toastService.showInfo("\u0639\u0631\u0636 \"" + this.list.activeSavedViewTitle + "\" \u062D\u0641\u0638 \u0628\u0646\u062C\u0627\u062D."),this.unmodifiedFilterRules=this.list.filterRules},error:i=>{this.toastService.showError("\u0641\u0634\u0644 \u0641\u064A \u062D\u0641\u0638 \u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u0639\u0631\u0636 \"" + this.list.activeSavedViewTitle + "\".",i)}})}loadViewConfig(e){this.savedViewService.getCached(e).pipe(ut()).subscribe(i=>{this.unmodifiedSavedView=i,this.list.activateSavedView(i),this.list.reload(()=>{this.savedViewService.setDocumentCount(i,this.list.collectionSize)})})}saveViewConfigAs(){let e=this.modalService.open(Uut,{backdrop:"static"});e.componentInstance.defaultName=this.filterEditor.generateFilterName(),e.componentInstance.saveClicked.pipe(ut()).subscribe(i=>{e.componentInstance.buttonsEnabled=!1;let o={name:i.name,show_on_dashboard:i.showOnDashboard,show_in_sidebar:i.showInSideBar,filter_rules:this.list.filterRules,sort_reverse:this.list.sortReverse,sort_field:this.list.sortField,display_mode:this.list.displayMode,display_fields:this.activeDisplayFields};this.savedViewService.create(o).pipe(ut()).subscribe({next:()=>{e.close(),this.toastService.showInfo("\u0639\u0631\u0636 \"" + o.name + "\" \u0623\u0646\u0634\u0626 \u0628\u0646\u062C\u0627\u062D.")},error:s=>{let r=s.error;r.filter_rules&&(r.filter_rules=r.filter_rules.map(a=>a.value)),e.componentInstance.error=r,e.componentInstance.buttonsEnabled=!0}})})}openDocumentDetail(e){this.router.navigate(["documents","number"==typeof e?e:e.id])}toggleSelected(e,i){i.shiftKey?this.list.selectRangeTo(e):this.list.toggleSelected(e)}clickTag(e){this.list.selectNone(),this.filterEditor.toggleTag(e)}clickCorrespondent(e){this.list.selectNone(),this.filterEditor.toggleCorrespondent(e)}clickDocumentType(e){this.list.selectNone(),this.filterEditor.toggleDocumentType(e)}clickStoragePath(e){this.list.selectNone(),this.filterEditor.toggleStoragePath(e)}clickMoreLike(e){this.list.quickFilter([{rule_type:21,value:e.toString()}])}get notesEnabled(){return this.settingsService.get(Ce.NOTES_ENABLED)}resetFilters(){this.filterEditor.resetSelected()}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-document-list"]],viewQuery:function(i,o){if(1&i&&(Tn(jut,5),Tn(Z5,5)),2&i){let s;Mt(s=Tt())&&(o.filterEditor=s.first),Mt(s=Tt())&&(o.headers=s)}},features:[at],decls:65,vars:21,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,pe,le,fe,ke,Dt,it,Ft,Yt,Qt,We,kt,ri,Si,ai,et,Yn,Yi,Hi,Ei,wt,Gi,Ms,pr,zr,Ba;return e="\u062A\u062D\u062F\u064A\u062F",i="\u0628\u062F\u0648\u0646 \u062A\u062D\u062F\u064A\u062F",o="\u062A\u062D\u062F\u064A\u062F \u0635\u0641\u062D\u0629",s="\u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0643\u0644",r="\u0625\u0638\u0647\u0627\u0631",a="\u062A\u0631\u062A\u064A\u0628",l="\u0637\u0631\u0642 \u0639\u0631\u0636",c="\u062D\u0641\u0638 \"" + "\ufffd0\ufffd" + "\"",h="\u062D\u0641\u0638 \u0628\u0627\u0633\u0645...",g="\u062C\u0645\u064A\u0639 \u0637\u0631\u0642 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",f="\u062A\u062D\u0645\u064A\u0644...",v="{VAR_PLURAL, plural, zero {} one {\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631\u0647 {INTERPOLATION} \u0645\u0646 {INTERPOLATION_1} \u0645\u0633\u062A\u0646\u062F\u0627\u062A} two {\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631\u0647 {INTERPOLATION} \u0645\u0646 {INTERPOLATION_1} \u0645\u0633\u062A\u0646\u062F\u0627\u062A} few {\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631\u0647 {INTERPOLATION} \u0645\u0646 {INTERPOLATION_1} \u0645\u0633\u062A\u0646\u062F\u0627\u062A} many {\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631\u0647 {INTERPOLATION} \u0645\u0646 {INTERPOLATION_1} \u0645\u0633\u062A\u0646\u062F\u0627\u062A} =1 {\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631 {INTERPOLATION} \u0644\u0645\u0633\u062A\u0646\u062F \u0648\u0627\u062D\u062F} other {\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631\u0647 {INTERPOLATION} \u0645\u0646 {INTERPOLATION_1} \u0645\u0633\u062A\u0646\u062F\u0627\u062A}}",v=Ma(v,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),C="{VAR_PLURAL, plural, zero {} one {{INTERPOLATION} \u0627\u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A} two {{INTERPOLATION} \u0627\u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A} few {{INTERPOLATION} \u0627\u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A} many {{INTERPOLATION} \u0627\u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A} =1 {\u0645\u0633\u062A\u0646\u062F \u0648\u0627\u062D\u062F \u0622\u062E\u0631} other {{INTERPOLATION} \u0627\u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A}}",C=Ma(C,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),S="(\u0645\u0635\u0641\u0627\u0629)",D="\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u062A\u0635\u0641\u064A\u0627\u062A",I="\u062E\u0637\u0623 \u0641\u064A \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",L="\u0627\u0644\u062A\u0631\u062A\u064A\u0628 \u0628\u062D\u0633\u0628 \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u062A\u0633\u0644\u0633\u0644\u064A \u0644\u0644\u0623\u0631\u0634\u0641\u0629",G="\u062A\u0631\u062A\u064A\u0628 \u062D\u0633\u0628 \u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644",R="\u062A\u0631\u062A\u064A\u0628 \u062D\u0633\u0628 \u0627\u0644\u0639\u0646\u0648\u0627\u0646",J="\u062A\u0631\u062A\u064A\u0628 \u062D\u0633\u0628 \u0627\u0644\u0645\u0627\u0644\u0643",se="\u062A\u0631\u062A\u064A\u0628 \u062D\u0633\u0628 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A",ve="\u062A\u0631\u062A\u064A\u0628 \u062D\u0633\u0628 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",pe="\u062A\u0631\u062A\u064A\u0628 \u062D\u0633\u0628 \u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",le="\u062A\u0631\u062A\u064A\u0628 \u062D\u0633\u0628 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621",fe="\u062A\u0631\u062A\u064A\u0628 \u062D\u0633\u0628 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0636\u0627\u0641\u0629",ke="Sort by number of pages",Dt="ASN",it="\u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644",Ft="\u0639\u0646\u0648\u0627\u0646",Yt="\u0639\u0644\u0627\u0645\u0627\u062A",Qt="\u0627\u0644\u0645\u0627\u0644\u0643",We="\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A",kt="\u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",ri="\u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",Si="\u0623\u064F\u0646\u0634\u0626",ai="\u0623\u0636\u064A\u0641",et="\u0627\u0644\u0635\u0641\u062D\u0627\u062A",Yn=" \u0645\u064F\u0634\u062A\u0631\u064E\u0643 ",Yi="Sort by " + "\ufffd0\ufffd" + "",Hi="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644",Ei="\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",wt="Preview document",Gi="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0627\u0644\u0639\u0644\u0627\u0645\u0629",Ms="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",pr="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",zr="\u0646\u0639\u0645",Ba="\u0644\u0627",[["filterEditor",""],["pagination",""],["popupPreview",""],e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,Dt,it,Ft,Yt,Qt,We,kt,ri,Si,ai,et,Yn,zr,Ba,["title",Yi],[3,"title"],["ngbDropdown","",1,"btn-group","flex-fill"],["id","dropdownSelect","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","text-indent-left"],[1,"d-none","d-sm-inline"],["ngbDropdownMenu","","aria-labelledby","dropdownSelect",1,"shadow"],["ngbDropdownItem","",3,"click"],["id","dropdownDisplayFields","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","card-heading"],["ngbDropdownMenu","","aria-labelledby","dropdownDisplayFields",1,"shadow"],[1,"px-3"],[1,"form-check","my-1"],["role","group",1,"btn-group","flex-fill"],["type","radio","value","table","id","displayModeDetails","name","displayModeDetails",1,"btn-check",3,"ngModelChange","ngModel"],["for","displayModeDetails",1,"btn","btn-outline-primary","btn-sm"],["name","list-ul"],["type","radio","value","smallCards","id","displayModeSmall","name","displayModeSmall",1,"btn-check",3,"ngModelChange","ngModel"],["for","displayModeSmall",1,"btn","btn-outline-primary","btn-sm"],["name","grid"],["type","radio","value","largeCards","id","displayModeLarge","name","displayModeLarge",1,"btn-check",3,"ngModelChange","ngModel"],["for","displayModeLarge",1,"btn","btn-outline-primary","btn-sm"],["name","hdd-stack"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","btn-sm"],["name","arrow-down-up"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"shadow","dropdown-menu-right"],[1,"w-100","d-flex","pb-2","mb-1","border-bottom"],["type","radio","id","listSortReverseFalse",1,"btn-check",3,"ngModelChange","value","ngModel"],["for","listSortReverseFalse",1,"btn","btn-outline-primary","btn-sm","mx-2","flex-fill"],["name","sort-alpha-down"],["type","radio","id","listSortReverseTrue",1,"btn-check",3,"ngModelChange","value","ngModel"],["for","listSortReverseTrue",1,"btn","btn-outline-primary","btn-sm","me-2","flex-fill"],["name","sort-alpha-up-alt"],["ngbDropdownItem","",3,"active"],["class","btn-group flex-fill","ngbDropdown","","role","group",4,"pngxIfPermissions"],[1,"row","sticky-top","py-3","mt-n2","mt-md-n3","bg-body"],[3,"filterRulesChange","hidden","disabled","filterRules","unmodifiedFilterRules","selectionData"],[3,"hidden","disabled"],["tourAnchor","tour.documents"],[4,"ngTemplateOutlet"],["role","alert",1,"alert","alert-danger"],["type","checkbox",1,"form-check-input","mt-1",3,"change","id","checked"],[1,"form-check-label",3,"for"],["ngbDropdown","","role","group",1,"btn-group","flex-fill"],["tourAnchor","tour.documents-views","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary","dropdown-toggle","flex-fill"],["name","window-stack",1,"me-1"],[1,"position-absolute","top-0","start-100","p-2","translate-middle","badge","bg-secondary","border","border-light","rounded-circle"],["ngbDropdownMenu","",1,"dropdown-menu","shadow","dropdown-menu-right"],[4,"pngxIfPermissions"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem","","routerLink","/savedviews",4,"pngxIfPermissions"],[1,"visually-hidden"],["ngbDropdownItem",""],[1,"dropdown-divider"],["ngbDropdownItem","",3,"disabled"],["ngbDropdownItem","",3,"click","disabled"],["ngbDropdownItem","","routerLink","/savedviews"],[1,"d-flex","flex-wrap","gap-3","justify-content-between","align-items-center","mb-3"],[1,"d-flex","align-items-center"],[1,"btn","btn-link","py-0"],["aria-label","Default pagination","size","sm",3,"pageSize","collectionSize","page","maxSize","rotate"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"btn","btn-link","py-0",3,"click"],["width","1em","height","1em","name","x"],["aria-label","Default pagination","size","sm",3,"pageChange","pageSize","collectionSize","page","maxSize","rotate"],[1,"table-responsive"],[1,"row","row-cols-paperless-cards"],[1,"mt-3"],[3,"selected","document","displayFields"],[3,"toggleSelected","dblClickDocument","clickTag","clickCorrespondent","clickDocumentType","clickStoragePath","clickMoreLike","selected","document","displayFields"],[1,"table","table-sm","align-middle","border","shadow-sm"],["pngxSortable","archive_serial_number","title",L,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","correspondent__name","title",G,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","title","title",R,1,"cursor-pointer",2,"min-width","150px",3,"currentSortField","currentSortReverse"],["pngxSortable","owner","title",J,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","num_notes","title",se,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","document_type__name","title",ve,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","storage_path__name","title",pe,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","created","title",le,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","added","title",fe,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","page_count","title",ke,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],[1,"cursor-pointer",3,"pngxSortable","title","currentSortField","currentSortReverse"],[3,"ngClass"],["pngxSortable","archive_serial_number","title",L,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","correspondent__name","title",G,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","title","title",R,1,"cursor-pointer",2,"min-width","150px",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","owner","title",J,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","num_notes","title",se,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","document_type__name","title",ve,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","storage_path__name","title",pe,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","created","title",le,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","added","title",fe,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","page_count","title",ke,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],[1,"cursor-pointer",3,"sort","pngxSortable","currentSortField","currentSortReverse",6,"title"],[3,"click","dblclick","ngClass"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,""],["width","30%"],["title",Hi],["title",Hi,3,"click"],[1,"d-inline-block"],[1,"d-inline-block",3,"mouseleave"],["title",Ei,2,"overflow-wrap","anywhere",3,"routerLink"],["linkClasses","btn btn-sm btn-link text-secondary","linkTitle",wt,3,"click","document"],["name","eye"],["clickable","true","linkTitle",Gi,1,"ms-1","fs-6",3,"tagID"],["clickable","true","linkTitle",Gi,1,"ms-1","fs-6",3,"click","tagID"],[1,"btn","btn-sm","p-0",3,"routerLink"],[1,"badge","rounded-pill","bg-light","border","text-primary"],["width","1.2em","height","1.2em","name","chat-left-text",1,"ms-1","me-1"],["title",Ms],["title",Ms,3,"click"],["title",pr],["title",pr,3,"click"],[3,"document","fieldDisplayKey"],[1,"p-0",3,"selected","document","displayFields"],[1,"p-0",3,"toggleSelected","dblClickDocument","clickTag","clickCorrespondent","clickStoragePath","clickDocumentType","selected","document","displayFields"]]},template:function(i,o){if(1&i){const s=k();d(0,"pngx-page-header",34)(1,"div",35)(2,"button",36),O(3,"i-bs",37),d(4,"div",38),N(5,"\xa0"),ge(6),b(7,3),ue(),u()(),d(8,"div",39)(9,"button",40),E("click",function(){return T(s),w(o.list.selectNone())}),b(10,4),u(),d(11,"button",40),E("click",function(){return T(s),w(o.list.selectPage())}),b(12,5),u(),d(13,"button",40),E("click",function(){return T(s),w(o.list.selectAll())}),b(14,6),u()()(),d(15,"div",35)(16,"button",41),O(17,"i-bs",42),d(18,"div",38),N(19,"\xa0"),ge(20),b(21,7),ue(),u()(),d(22,"div",43)(23,"div",44),Ke(24,Zut,4,6,"div",45,m8),u()()(),d(26,"div",46)(27,"input",47),Re("ngModelChange",function(a){return T(s),Pe(o.list.displayMode,a)||(o.list.displayMode=a),w(a)}),u(),d(28,"label",48),O(29,"i-bs",49),u(),d(30,"input",50),Re("ngModelChange",function(a){return T(s),Pe(o.list.displayMode,a)||(o.list.displayMode=a),w(a)}),u(),d(31,"label",51),O(32,"i-bs",52),u(),d(33,"input",53),Re("ngModelChange",function(a){return T(s),Pe(o.list.displayMode,a)||(o.list.displayMode=a),w(a)}),u(),d(34,"label",54),O(35,"i-bs",55),u()(),d(36,"div",35)(37,"button",56),O(38,"i-bs",57),d(39,"div",38),N(40,"\xa0"),ge(41),b(42,8),ue(),u()(),d(43,"div",58)(44,"div",59)(45,"input",60),Re("ngModelChange",function(a){return T(s),Pe(o.listSortReverse,a)||(o.listSortReverse=a),w(a)}),u(),d(46,"label",61),O(47,"i-bs",62),u(),d(48,"input",63),Re("ngModelChange",function(a){return T(s),Pe(o.listSortReverse,a)||(o.listSortReverse=a),w(a)}),u(),d(49,"label",64),O(50,"i-bs",65),u()(),d(51,"div"),Ke(52,Wut,2,3,"button",66,jt),u()()(),ce(54,n_t,13,14,"div",67),u(),d(55,"div",68)(56,"pngx-filter-editor",69,0),Re("filterRulesChange",function(a){return T(s),Pe(o.list.filterRules,a)||(o.list.filterRules=a),w(a)}),u(),O(58,"pngx-bulk-editor",70),u(),ce(59,d_t,7,5,"ng-template",null,1,xt),d(61,"div",71),ce(62,h_t,1,0,"ng-container",72),u(),y(63,u_t,4,1,"div",73)(64,tgt,4,4)}if(2&i){const s=xe(60);m("title",o.getTitle()),_(24),qe(o.settingsService.allDisplayFields),_(3),Le("ngModel",o.list.displayMode),_(3),Le("ngModel",o.list.displayMode),_(3),Le("ngModel",o.list.displayMode),_(12),m("value",!1),Le("ngModel",o.listSortReverse),_(3),m("value",!0),Le("ngModel",o.listSortReverse),_(4),qe(o.getSortFields()),_(2),m("pngxIfPermissions",$e(18,f8,o.PermissionAction.View,o.PermissionType.SavedView)),_(2),m("hidden",o.isBulkEditing)("disabled",o.isBulkEditing),Le("filterRules",o.list.filterRules),m("unmodifiedFilterRules",o.unmodifiedFilterRules)("selectionData",o.list.selectionData),_(2),m("hidden",!o.isBulkEditing)("disabled",!o.isBulkEditing),_(4),m("ngTemplateOutlet",s),_(),P(o.list.error?63:64)}},dependencies:[nb,hr,e2t,$ut,mht,V2t,n8,Hg,ys,Z5,Bt,en,$t,Ci,t5,Gt,Ln,Wt,Ao,Go,Ho,Ss,Qo,js,oa,R1,r0,wa,_1,u1,Y2,q2,ur,G5,l8,s8,r8,a8,s1],styles:["app-document-list app-page-header>div.mb-3{margin-bottom:0!important}tr[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.table-row-selected[_ngcontent-%COMP%]{background-color:var(--pngx-primary-faded)}.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}@media (min-width: 768px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}}@media (min-width: 992px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}}@media (min-width: 1200px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}}@media (min-width: 1400px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}}@media (min-width: 1600px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:14.2857142857%}}@media (min-width: 1800px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:12.5%}}@media (min-width: 2000px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:11.1111111111%}}@media (min-width: 768px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:25%!important}}@media (min-width: 992px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:20%!important}}@media (min-width: 1200px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:16.6666666667%!important}}@media (min-width: 1400px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:14.2857142857%!important}}@media (min-width: 1600px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:12.5%!important}}@media (min-width: 1800px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:11.1111111111%!important}}@media (min-width: 2000px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:10%!important}}.dropdown-menu-right[_ngcontent-%COMP%]{right:0!important;left:auto!important}.sticky-top[_ngcontent-%COMP%]{z-index:990;top:calc(7rem - 2px)}@media (min-width: 580px){.sticky-top[_ngcontent-%COMP%]{top:3.5rem}}.table[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:.2rem;min-height:0;margin-bottom:0}.table[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-left:0}a[_ngcontent-%COMP%]{cursor:pointer}pngx-page-header[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{--bs-dropdown-min-width: 12em}"]})}return t})(),v8=(()=>{class t extends Ds{constructor(){super(...arguments),this.modalService=M(ps),this.toastService=M(eo),this.documentListViewService=M(z5),this.permissionsService=M(Ti),this.data=[],this.unfilteredData=[],this.page=1,this.collectionSize=0,this.unsubscribeNotifier=new Be,this.selectedObjects=new Set,this.togggleAll=!1}ngOnInit(){this.reloadData(),this.nameFilterDebounce=new Be,this.nameFilterDebounce.pipe(me(this.unsubscribeNotifier),ra(400),r1()).subscribe(e=>{this._nameFilter=e,this.page=1,this.reloadData()})}getMatching(e){return 6==e.matching_algorithm?"\u062A\u0644\u0642\u0627\u0626\u064A":0==e.matching_algorithm?"\u0644\u0627 \u0634\u064A\u0621":e.match&&e.match.length>0?`${jw.find(i=>i.id==e.matching_algorithm).shortName}: ${e.match}`:"-"}onSort(e){this.sortField=e.column,this.sortReverse=e.reverse,this.reloadData()}filterData(e){return e}getDocumentCount(e){return e.document_count??this.unfilteredData.find(i=>i.id==e.id)?.document_count??0}reloadData(e=null){this.loading=!0,this.clearSelection(),this.service.listFiltered(this.page,null,this.sortField,this.sortReverse,this._nameFilter,!0,e).pipe(me(this.unsubscribeNotifier),_n(i=>{this.unfilteredData=i.results,this.data=this.filterData(i.results),this.collectionSize=i.count}),n0(100)).subscribe({error:i=>{i.error?.detail?.includes("Invalid page")&&(this.page=1,this.reloadData())},next:()=>{this.show=!0,this.loading=!1}})}openCreateDialog(){var e=this.modalService.open(this.editDialogComponent,{backdrop:"static"});e.componentInstance.dialogMode=wi.CREATE,e.componentInstance.succeeded.subscribe(()=>{this.reloadData(),this.toastService.showInfo("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 " + this.typeName + " \u0628\u0646\u062C\u0627\u062D.")}),e.componentInstance.failed.subscribe(i=>{this.toastService.showError("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 " + this.typeName + ".",i)})}openEditDialog(e){var i=this.modalService.open(this.editDialogComponent,{backdrop:"static"});i.componentInstance.object=e,i.componentInstance.dialogMode=wi.EDIT,i.componentInstance.succeeded.subscribe(()=>{this.reloadData(),this.toastService.showInfo("Successfully updated " + this.typeName + " \"" + e.name + "\".")}),i.componentInstance.failed.subscribe(o=>{this.toastService.showError("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 " + this.typeName + ".",o)})}filterDocuments(e){this.documentListViewService.quickFilter([{rule_type:this.filterRuleType,value:e.id.toString()}])}openDeleteDialog(e){var i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0630\u0641",i.componentInstance.messageBold=this.getDeleteMessage(e),i.componentInstance.message="\u0644\u0646 \u064A\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u0645\u0631\u062A\u0628\u0637\u0629.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="\u062D\u0630\u0641",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.service.delete(e).pipe(me(this.unsubscribeNotifier)).subscribe({next:()=>{i.close(),this.reloadData()},error:o=>{i.componentInstance.buttonsEnabled=!0,this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0639\u0646\u0635\u0631",o)}})})}get nameFilter(){return this._nameFilter}set nameFilter(e){this.nameFilterDebounce.next(e)}onNameFilterKeyUp(e){"Escape"==e.code&&this.nameFilterDebounce.next(null)}userCanDelete(e){return this.permissionsService.currentUserOwnsObject(e)}userCanEdit(e){return this.permissionsService.currentUserHasObjectPermissions(this.PermissionAction.Change,e)}userCanBulkEdit(e){if(!this.permissionsService.currentUserCan(e,this.permissionType))return!1;let i=!0;return i=this.data.filter(s=>this.selectedObjects.has(s.id)).every(s=>this.permissionsService.currentUserOwnsObject(s)),i}toggleAll(e){e.target.checked?this.selectedObjects=new Set(this.data.map(i=>i.id)):this.clearSelection()}clearSelection(){this.togggleAll=!1,this.selectedObjects.clear()}toggleSelected(e){this.selectedObjects.has(e.id)?this.selectedObjects.delete(e.id):this.selectedObjects.add(e.id)}setPermissions(){let e=this.modalService.open(sb,{backdrop:"static"});e.componentInstance.confirmClicked.subscribe(({permissions:i,merge:o})=>{e.componentInstance.buttonsEnabled=!1,this.service.bulk_edit_objects(Array.from(this.selectedObjects),k4.SetPermissions,i,o).subscribe({next:()=>{e.close(),this.toastService.showInfo("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0628\u0646\u062C\u0627\u062D"),this.reloadData()},error:s=>{e.componentInstance.buttonsEnabled=!0,this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",s)}})})}delete(){let e=this.modalService.open(Ki,{backdrop:"static"});e.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0630\u0641",e.componentInstance.messageBold="\u0633\u062A\u0624\u062F\u064A \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0625\u0644\u0649 \u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0643\u0627\u0626\u0646\u0627\u062A \u0646\u0647\u0627\u0626\u064A\u0627.",e.componentInstance.message="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629.",e.componentInstance.btnClass="btn-danger",e.componentInstance.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",e.componentInstance.confirmClicked.subscribe(()=>{e.componentInstance.buttonsEnabled=!1,this.service.bulk_edit_objects(Array.from(this.selectedObjects),k4.Delete).subscribe({next:()=>{e.close(),this.toastService.showInfo("\u062A\u0645\u0651 \u062D\u0630\u0641 \u0627\u0644\u0643\u0627\u0626\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D\u064D"),this.reloadData()},error:i=>{e.componentInstance.buttonsEnabled=!0,this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0643\u0627\u0626\u0646\u0627\u062A",i)}})})}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275dir=Je({type:t,viewQuery:function(i,o){if(1&i&&Tn(Z5,5),2&i){let s;Mt(s=Tt())&&(o.headers=s)}},features:[at]})}return t})();const X5=(t,n)=>({action:t,type:n}),UB=t=>({"d-none d-sm-table-cell":t}),ngt=t=>({object:t,depth:0}),igt=(t,n)=>({object:t,depth:n});function ogt(t,n){if(1&t){const e=k();d(0,"button",45),E("click",function(){return T(e),w(p().openCreateDialog())}),O(1,"i-bs",46),N(2,"\xa0"),ge(3),b(4,9),ue(),u()}}function sgt(t,n){if(1&t){const e=k();d(0,"th",47),E("sort",function(o){return T(e),w(p().onSort(o))}),N(1),u()}if(2&t){const e=n.$implicit,i=p();m("pngxSortable",ni(e.key))("ngClass",ei(6,UB,e.hideOnMobile))("currentSortField",i.sortField)("currentSortReverse",i.sortReverse),_(),oe(e.name)}}function rgt(t,n){1&t&&(d(0,"tr")(1,"td",48),O(2,"div",49),ge(3),b(4,10),ue(),u()())}function agt(t,n){if(1&t&&Mn(0,43),2&t){const e=n.$implicit;p(),m("ngTemplateOutlet",xe(49))("ngTemplateOutletContext",ei(2,ngt,e))}}function lgt(t,n){1&t&&N(0),2&t&&He(" \xa0(",p(3).selectedObjects.size," selected) ")}function cgt(t,n){if(1&t&&(d(0,"div"),ge(1),b(2,11),ue(),y(3,lgt,1,1),u()),2&t){const e=p(2);_(2),An(e.collectionSize)(e.typeName)(e.collectionSize||0)(e.typeNamePlural),In(2),_(),P(e.selectedObjects.size>0?3:-1)}}function dgt(t,n){if(1&t){const e=k();d(0,"ngb-pagination",51),Re("pageChange",function(o){T(e);const s=p(2);return Pe(s.page,o)||(s.page=o),w(o)}),E("pageChange",function(){return T(e),w(p(2).reloadData())}),u()}if(2&t){const e=p(2);m("pageSize",25)("collectionSize",e.collectionSize),Le("page",e.page),m("maxSize",5)}}function hgt(t,n){if(1&t&&(d(0,"div",44),y(1,cgt,4,5,"div"),y(2,dgt,1,4,"ngb-pagination",50),u()),2&t){const e=p();_(),P(e.collectionSize>0?1:-1),_(),P(e.collectionSize>20?2:-1)}}function ugt(t,n){1&t&&O(0,"div",56)}function _gt(t,n){if(1&t&&(O(0,"div",73),Fe(1,"safeHtml")),2&t){const e=p().$implicit,i=p().object;m("innerHtml",lt(1,1,e.valueFn.call(null,i)),Fo)}}function ggt(t,n){if(1&t&&(d(0,"span",74),N(1),u()),2&t){const e=p().$implicit,i=p().object;_(),oe(e.valueFn.call(null,i))}}function pgt(t,n){if(1&t&&N(0),2&t){const e=p().$implicit,i=p().object;He(" ",e.valueFn.call(null,i)," ")}}function fgt(t,n){if(1&t&&(d(0,"td",60),y(1,_gt,2,3,"div",73)(2,ggt,2,1,"span",74)(3,pgt,1,1),u()),2&t){const e=n.$implicit;m("ngClass",ei(2,UB,e.hideOnMobile)),_(),P(e.rendersHtml?1:e.monospace?2:3)}}function mgt(t,n){if(1&t){const e=k();d(0,"button",75),E("click",function(){T(e);const o=p().object;return w(p().openEditDialog(o))}),b(1,12),u()}}function vgt(t,n){if(1&t){const e=k();d(0,"button",76),E("click",function(){T(e);const o=p().object;return w(p().openDeleteDialog(o))}),b(1,13),u()}}function Cgt(t,n){if(1&t){const e=k();d(0,"button",75),E("click",function(){T(e);const o=p(2).object;return w(p().filterDocuments(o))}),b(1,14),u()}if(2&t){const e=p(2).object,i=p();_(),An(i.getDocumentCount(e)),In(1)}}function Mgt(t,n){if(1&t&&ce(0,Cgt,2,1,"button",67),2&t){const e=p(2);m("pngxIfPermissions",$e(1,X5,e.PermissionAction.View,e.PermissionType.Document))}}function Tgt(t,n){if(1&t){const e=k();d(0,"button",77),E("click",function(o){T(e);const s=p().object;return p().openEditDialog(s),w(o.stopPropagation())}),O(1,"i-bs",78),N(2,"\xa0"),ge(3),b(4,15),ue(),u()}if(2&t){const e=p().object;m("disabled",!p().userCanEdit(e))}}function wgt(t,n){if(1&t){const e=k();d(0,"button",79),E("click",function(o){T(e);const s=p().object;return p().openDeleteDialog(s),w(o.stopPropagation())}),O(1,"i-bs",80),N(2,"\xa0"),ge(3),b(4,16),ue(),u()}if(2&t){const e=p().object;m("disabled",!p().userCanDelete(e))}}function bgt(t,n){if(1&t){const e=k();d(0,"button",82),E("click",function(o){T(e);const s=p(2).object;return p().filterDocuments(s),w(o.stopPropagation())}),O(1,"i-bs",83),N(2,"\xa0"),ge(3),b(4,17),ue(),d(5,"span",84),N(6),u()()}if(2&t){const e=p(2).object,i=p();_(6),oe(i.getDocumentCount(e))}}function Sgt(t,n){if(1&t&&(d(0,"div",70),ce(1,bgt,7,1,"button",81),u()),2&t){const e=p(2);_(),m("pngxIfPermissions",$e(1,X5,e.PermissionAction.View,e.PermissionType.Document))}}function Egt(t,n){if(1&t&&Mn(0,43),2&t){const e=n.$implicit,i=p(2).depth;p(),m("ngTemplateOutlet",xe(49))("ngTemplateOutletContext",$e(2,igt,e,i+1))}}function Ogt(t,n){1&t&&Ke(0,Egt,1,5,"ng-container",43,jt),2&t&&qe(p().object.children)}function Agt(t,n){if(1&t){const e=k();d(0,"tr",52),E("click",function(o){const s=T(e).object;return p().toggleSelected(s),w(o.stopPropagation())}),d(1,"td")(2,"div",35)(3,"input",53),E("click",function(o){const s=T(e).object;return p().toggleSelected(s),w(o.stopPropagation())}),u(),O(4,"label",54),u()(),d(5,"td",55),y(6,ugt,1,0,"div",56),d(7,"button",57),E("click",function(o){const s=T(e).object,r=p();return r.userCanEdit(s)&&r.openEditDialog(s),w(o.stopPropagation())}),N(8),u()(),d(9,"td",58),N(10),u(),d(11,"td",59),N(12),u(),Ke(13,fgt,4,4,"td",60,jt),d(15,"td",59)(16,"div",61)(17,"div",62)(18,"div",63)(19,"button",64),E("click",function(o){return T(e),w(o.stopPropagation())}),O(20,"i-bs",65),u(),d(21,"div",66),ce(22,mgt,2,0,"button",67)(23,vgt,2,0,"button",68),y(24,Mgt,1,4,"button",69),u()()(),d(25,"div",70),ce(26,Tgt,5,1,"button",71)(27,wgt,5,1,"button",72),u(),y(28,Sgt,2,4,"div",70),u()()(),y(29,Ogt,2,0)}if(2&t){const e=n.object,i=n.depth,o=p();we("show",o.show),_(3),m("id",e1("",o.typeName,"",e.id))("checked",o.selectedObjects.has(e.id)),_(),m("for",e1("",o.typeName,"",e.id)),_(),yu(Lt("--depth: ",i)),_(),P(i>0?6:-1),_(2),oe(e.name),_(2),oe(o.getMatching(e)),_(2),oe(o.getDocumentCount(e)),_(),qe(o.extraColumns),_(9),m("pngxIfPermissions",$e(23,X5,o.PermissionAction.Change,o.permissionType)),_(),m("pngxIfPermissions",$e(26,X5,o.PermissionAction.Delete,o.permissionType)),_(),P(o.getDocumentCount(e)>0?24:-1),_(2),m("pngxIfPermissions",$e(29,X5,o.PermissionAction.Change,o.permissionType)),_(),m("pngxIfPermissions",$e(32,X5,o.PermissionAction.Delete,o.permissionType)),_(),P(o.getDocumentCount(e)>0?28:-1),_(),P(e.children&&e.children.length>0?29:-1)}}let Ngt=(()=>{class t extends v8{constructor(){super(),this.datePipe=M(ur),this.service=M(ol),this.editDialogComponent=W4,this.filterRuleType=26,this.typeName="\u062C\u0647\u0629 \u062A\u0631\u0627\u0633\u0644",this.typeNamePlural="\u062C\u0647\u0627\u062A \u062A\u0631\u0627\u0633\u0644",this.permissionType=vt.Correspondent,this.extraColumns=[{key:"last_correspondence",name:"\u0622\u062E\u0631 \u0627\u0633\u062A\u062E\u062F\u0627\u0645",valueFn:e=>{if(e.last_correspondence){let i=new Date(e.last_correspondence);return"Invalid Date"==i.toString()&&(i=new Date(e.last_correspondence?.toString().replace(/([-+])(\d\d):\d\d:\d\d/gm,"$1$2:00"))),this.datePipe.transform(i)}return""}}]}reloadData(){super.reloadData({last_correspondence:!0})}getDeleteMessage(e){return "\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0642\u0627\u064B \u062D\u0630\u0641 \u062C\u0647\u0629 \u0627\u0644\u062A\u0631\u0627\u0633\u0644\"" + e.name + "\"\u061F"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-correspondent-list"]],features:[qt([{provide:ur}]),at],decls:50,vars:28,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G;return e="\u0627\u0633\u0645",i="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062A\u062D\u062F\u064A\u062F",o="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",s="\u062D\u0630\u0641",r="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628:",a="\u0627\u0633\u0645",l="\u0645\u0637\u0627\u0628\u0642\u0629",c="\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",h="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",g="\u0625\u0646\u0634\u0627\u0621",f="\u062A\u062D\u0645\u064A\u0644...",v="{VAR_PLURAL, plural, zero {} one {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} two {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} few {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} many {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} =1 {\u0648\u0627\u062D\u062F {INTERPOLATION}} other {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}}}",v=Ma(v,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),C="\u062A\u062D\u0631\u064A\u0631",S="\u062D\u0630\u0641",D="Filter Documents (" + "\ufffd0\ufffd" + ")",I="\u062A\u062D\u0631\u064A\u0631",L="\u062D\u0630\u0641",G="\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",[["objectRow",""],i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,["infoLink","usage/#terms-and-definitions",3,"title","info"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",e,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"ngClass","pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","ngClass","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"data-row","fade",3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row",1,"name-cell"],[1,"indicator"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],["scope","row"],["scope","row",3,"ngClass"],[1,"btn-toolbar","gap-2"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"btn-group","d-none","d-sm-inline-block"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],[1,"font-monospace"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"badge","bg-light","text-secondary","ms-2"]]},template:function(i,o){if(1&i){const s=k();d(0,"pngx-page-header",18),Fe(1,"titlecase"),d(2,"button",19),E("click",function(){return T(s),w(o.clearSelection())}),O(3,"i-bs",20),N(4,"\xa0"),ge(5),b(6,1),ue(),u(),d(7,"button",21),E("click",function(){return T(s),w(o.setPermissions())}),O(8,"i-bs",22),N(9,"\xa0"),ge(10),b(11,2),ue(),u(),d(12,"button",23),E("click",function(){return T(s),w(o.delete())}),O(13,"i-bs",24),N(14,"\xa0"),ge(15),b(16,3),ue(),u(),ce(17,ogt,5,0,"button",25),u(),d(18,"div",26)(19,"div",27)(20,"div",28)(21,"label",29),b(22,4),u(),d(23,"input",30),Re("ngModelChange",function(a){return T(s),Pe(o.nameFilter,a)||(o.nameFilter=a),w(a)}),E("keyup",function(a){return T(s),w(o.onNameFilterKeyUp(a))}),u()()(),d(24,"ngb-pagination",31),Re("pageChange",function(a){return T(s),Pe(o.page,a)||(o.page=a),w(a)}),E("pageChange",function(){return T(s),w(o.reloadData())}),u()(),d(25,"div",32)(26,"table",33)(27,"thead")(28,"tr")(29,"th",34)(30,"div",35)(31,"input",36),Re("ngModelChange",function(a){return T(s),Pe(o.togggleAll,a)||(o.togggleAll=a),w(a)}),E("click",function(a){return T(s),o.toggleAll(a),w(a.stopPropagation())}),u(),O(32,"label",37),u()(),d(33,"th",38),E("sort",function(a){return T(s),w(o.onSort(a))}),b(34,5),u(),d(35,"th",39),E("sort",function(a){return T(s),w(o.onSort(a))}),b(36,6),u(),d(37,"th",40),E("sort",function(a){return T(s),w(o.onSort(a))}),b(38,7),u(),Ke(39,sgt,2,8,"th",41,jt),d(41,"th",42),b(42,8),u()()(),d(43,"tbody"),y(44,rgt,5,0,"tr"),Ke(45,agt,1,4,"ng-container",43,jt),u()()(),y(47,hgt,3,2,"div",44),ce(48,Agt,30,35,"ng-template",null,0,xt)}2&i&&(m("title",ni(lt(1,23,o.typeNamePlural)))("info",Lt("View, add, edit and delete ",o.typeNamePlural,".")),_(2),m("hidden",0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),_(5),m("pngxIfPermissions",$e(25,X5,o.PermissionAction.Add,o.permissionType)),_(6),Le("ngModel",o.nameFilter),_(),m("pageSize",25)("collectionSize",o.collectionSize),Le("page",o.page),m("maxSize",5),_(7),Le("ngModel",o.togggleAll),m("disabled",0===o.data.length),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),qe(o.extraColumns),_(5),P(o.loading?44:-1),_(),qe(o.data),_(2),P(o.loading?-1:47))},dependencies:[Z5,ys,hr,$t,Ci,No,Gt,Ln,Wt,wa,Ao,Go,Ho,Ss,Qo,js,oa,R1,r0,Bt,en,c2],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}td.name-cell[_ngcontent-%COMP%]{padding-left:calc((var(--depth) - 1) * 1.1rem)}td.name-cell[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{display:inline-block;width:.8rem;height:.8rem;border-left:1px solid var(--bs-secondary);border-bottom:1px solid var(--bs-secondary);margin-right:.25rem;margin-left:.5rem}"]})}return t})();const bh=(t,n)=>({action:t,type:n});function Dgt(t,n){if(1&t){const e=k();d(0,"button",18),E("click",function(){return T(e),w(p().editField())}),O(1,"i-bs",19),N(2,"\xa0"),ge(3),b(4,3),ue(),u()}}function ygt(t,n){1&t&&(d(0,"li",15),O(1,"div",20),ge(2),b(3,4),ue(),u())}function Pgt(t,n){if(1&t){const e=k();d(0,"button",36),E("click",function(){T(e);const o=p().$implicit;return w(p().editField(o))}),b(1,5),u()}}function Igt(t,n){if(1&t){const e=k();d(0,"button",37),E("click",function(){T(e);const o=p().$implicit;return w(p().deleteField(o))}),b(1,6),u()}}function Lgt(t,n){if(1&t){const e=k();d(0,"button",36),E("click",function(){T(e);const o=p(2).$implicit;return w(p().filterDocuments(o))}),b(1,7),u()}if(2&t){const e=p(2).$implicit;_(),An(e.document_count),In(1)}}function Rgt(t,n){if(1&t&&ce(0,Lgt,2,1,"button",29),2&t){const e=p(2);m("pngxIfPermissions",$e(1,bh,e.PermissionAction.View,e.PermissionType.Document))}}function xgt(t,n){if(1&t){const e=k();d(0,"button",38),E("click",function(){T(e);const o=p().$implicit;return w(p().editField(o))}),O(1,"i-bs",39),N(2,"\xa0"),ge(3),b(4,8),ue(),u()}}function Fgt(t,n){if(1&t){const e=k();d(0,"button",40),E("click",function(){T(e);const o=p().$implicit;return w(p().deleteField(o))}),O(1,"i-bs",41),N(2,"\xa0"),ge(3),b(4,9),ue(),u()}}function kgt(t,n){if(1&t){const e=k();d(0,"div",35)(1,"button",38),E("click",function(){T(e);const o=p().$implicit;return w(p().filterDocuments(o))}),O(2,"i-bs",42),N(3,"\xa0"),ge(4),b(5,10),ue(),d(6,"span",43),N(7),u()()()}if(2&t){const e=p().$implicit;_(7),oe(e.document_count)}}function zgt(t,n){if(1&t){const e=k();d(0,"li",15)(1,"div",21)(2,"div",22)(3,"button",23),E("click",function(){const o=T(e).$implicit;return w(p().editField(o))}),N(4),u()(),d(5,"div",22),N(6),u(),d(7,"div",17)(8,"div",24)(9,"div",25)(10,"button",26),E("click",function(o){return T(e),w(o.stopPropagation())}),O(11,"i-bs",27),u(),d(12,"div",28),ce(13,Pgt,2,0,"button",29)(14,Igt,2,0,"button",30),y(15,Rgt,1,4,"button",31),u()()(),d(16,"div",32),ce(17,xgt,5,0,"button",33)(18,Fgt,5,0,"button",34),u(),y(19,kgt,8,1,"div",35),u()()()}if(2&t){const e=n.$implicit,i=p();_(),we("show",i.show),_(2),m("disabled",!i.permissionsService.currentUserCan(i.PermissionAction.Change,i.PermissionType.CustomField)),_(),oe(e.name),_(2),oe(i.getDataType(e)),_(7),m("pngxIfPermissions",$e(11,bh,i.PermissionAction.Change,i.PermissionType.CustomField)),_(),m("pngxIfPermissions",$e(14,bh,i.PermissionAction.Delete,i.PermissionType.CustomField)),_(),P(e.document_count>0?15:-1),_(2),m("pngxIfPermissions",$e(17,bh,i.PermissionAction.Change,i.PermissionType.CustomField)),_(),m("pngxIfPermissions",$e(20,bh,i.PermissionAction.Delete,i.PermissionType.CustomField)),_(),P(e.document_count>0?19:-1)}}function Vgt(t,n){1&t&&(d(0,"li",15),b(1,11),u())}let Hgt=(()=>{class t extends Ds{constructor(){super(...arguments),this.customFieldsService=M(g1),this.permissionsService=M(Ti),this.modalService=M(ps),this.toastService=M(eo),this.documentListViewService=M(z5),this.settingsService=M(Gn),this.documentService=M(Io),this.savedViewService=M(V5),this.fields=[]}ngOnInit(){this.reload()}reload(){this.customFieldsService.listAll().pipe(me(this.unsubscribeNotifier),_n(e=>{this.fields=e.results}),n0(100)).subscribe(()=>{this.show=!0,this.loading=!1})}editField(e){const i=this.modalService.open(Z4);i.componentInstance.dialogMode=e?wi.EDIT:wi.CREATE,i.componentInstance.object=e,i.componentInstance.succeeded.pipe(me(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("\u0627\u0644\u062D\u0642\u0644 \u0627\u0644\u0645\u062D\u0641\u0648\u0638 \"" + o.name + "\"."),this.customFieldsService.clearCache(),this.settingsService.initializeDisplayFields(),this.documentService.reload(),this.reload()}),i.componentInstance.failed.pipe(me(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u062D\u0642\u0644.",o)})}deleteField(e){const i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u062D\u0630\u0641 \u0627\u0644\u062D\u0642\u0644",i.componentInstance.messageBold="\u0633\u062A\u0624\u062F\u064A \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0625\u0644\u0649 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0646\u0647\u0627\u0626\u064A\u0627.",i.componentInstance.message="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.customFieldsService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted field \"" + e.name + "\""),this.customFieldsService.clearCache(),this.settingsService.initializeDisplayFields(),this.documentService.reload(),this.savedViewService.reload(),this.reload()},error:o=>{this.toastService.showError("Error deleting field \"" + e.name + "\".",o)}})})}getDataType(e){return hw.find(i=>i.id===e.data_type).name}filterDocuments(e){this.documentListViewService.quickFilter([{rule_type:42,value:JSON.stringify([Yl.Or,[[e.id,kn.Exists,!0]]])}])}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-custom-fields"]],features:[at],decls:15,vars:6,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S;return e="\u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u062E\u0635\u0635\u0629",i="\u062A\u062E\u0635\u064A\u0635 \u062D\u0642\u0648\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u064A \u064A\u0645\u0643\u0646 \u0625\u0631\u0641\u0627\u0642\u0647\u0627 \u0628\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A.",o="\u0627\u0633\u0645",s="\u0646\u0648\u0639 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",r="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",a="\u0625\u0636\u0627\u0641\u0629 \u062D\u0642\u0644",l="\u062A\u062D\u0645\u064A\u0644...",c="\u062A\u062D\u0631\u064A\u0631",h="\u062D\u0630\u0641",g="Filter Documents (" + "\ufffd0\ufffd" + ")",f="\u062A\u062D\u0631\u064A\u0631",v="\u062D\u0630\u0641",C="\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",S="\u0644\u0645 \u064A\u062A\u0645 \u062A\u0639\u0631\u064A\u0641 \u0623\u064A \u062D\u0642\u0648\u0644.",[o,s,r,a,l,c,h,g,f,v,C,S,["title",e,"info",i,"infoLink","usage/#custom-fields"],["type","button","class","btn btn-sm btn-outline-primary",3,"click",4,"pngxIfPermissions"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","plus-circle"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"row","fade"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"btn-group","d-none","d-sm-inline-block"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger","type","button",3,"click",4,"pngxIfPermissions"],[1,"btn-group","d-none","d-sm-inline-block","ms-2"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1em","height","1em","name","trash"],["width","1em","height","1em","name","filter"],[1,"badge","bg-light","text-secondary","ms-2"]]},template:function(i,o){1&i&&(d(0,"pngx-page-header",12),ce(1,Dgt,5,0,"button",13),u(),d(2,"ul",14)(3,"li",15)(4,"div",16)(5,"div",17),b(6,0),u(),d(7,"div",17),b(8,1),u(),d(9,"div",17),b(10,2),u()()(),y(11,ygt,4,0,"li",15),Ke(12,zgt,20,23,"li",15,jt),y(14,Vgt,2,0,"li",15),u()),2&i&&(_(),m("pngxIfPermissions",$e(3,bh,o.PermissionAction.Add,o.PermissionType.CustomField)),_(10),P(o.loading?11:-1),_(),qe(o.fields),_(2),P(o.loading||0!==o.fields.length?-1:14))},dependencies:[hr,ys,Go,Ho,Ss,Qo,js,oa,R1,Bt,en],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}return t})();const K5=(t,n)=>({action:t,type:n}),jB=t=>({"d-none d-sm-table-cell":t}),Ggt=t=>({object:t,depth:0}),$gt=(t,n)=>({object:t,depth:n});function Bgt(t,n){if(1&t){const e=k();d(0,"button",45),E("click",function(){return T(e),w(p().openCreateDialog())}),O(1,"i-bs",46),N(2,"\xa0"),ge(3),b(4,9),ue(),u()}}function Ugt(t,n){if(1&t){const e=k();d(0,"th",47),E("sort",function(o){return T(e),w(p().onSort(o))}),N(1),u()}if(2&t){const e=n.$implicit,i=p();m("pngxSortable",ni(e.key))("ngClass",ei(6,jB,e.hideOnMobile))("currentSortField",i.sortField)("currentSortReverse",i.sortReverse),_(),oe(e.name)}}function jgt(t,n){1&t&&(d(0,"tr")(1,"td",48),O(2,"div",49),ge(3),b(4,10),ue(),u()())}function Zgt(t,n){if(1&t&&Mn(0,43),2&t){const e=n.$implicit;p(),m("ngTemplateOutlet",xe(49))("ngTemplateOutletContext",ei(2,Ggt,e))}}function Wgt(t,n){1&t&&N(0),2&t&&He(" \xa0(",p(3).selectedObjects.size," selected) ")}function Xgt(t,n){if(1&t&&(d(0,"div"),ge(1),b(2,11),ue(),y(3,Wgt,1,1),u()),2&t){const e=p(2);_(2),An(e.collectionSize)(e.typeName)(e.collectionSize||0)(e.typeNamePlural),In(2),_(),P(e.selectedObjects.size>0?3:-1)}}function Kgt(t,n){if(1&t){const e=k();d(0,"ngb-pagination",51),Re("pageChange",function(o){T(e);const s=p(2);return Pe(s.page,o)||(s.page=o),w(o)}),E("pageChange",function(){return T(e),w(p(2).reloadData())}),u()}if(2&t){const e=p(2);m("pageSize",25)("collectionSize",e.collectionSize),Le("page",e.page),m("maxSize",5)}}function qgt(t,n){if(1&t&&(d(0,"div",44),y(1,Xgt,4,5,"div"),y(2,Kgt,1,4,"ngb-pagination",50),u()),2&t){const e=p();_(),P(e.collectionSize>0?1:-1),_(),P(e.collectionSize>20?2:-1)}}function Ygt(t,n){1&t&&O(0,"div",56)}function Qgt(t,n){if(1&t&&(O(0,"div",73),Fe(1,"safeHtml")),2&t){const e=p().$implicit,i=p().object;m("innerHtml",lt(1,1,e.valueFn.call(null,i)),Fo)}}function Jgt(t,n){if(1&t&&(d(0,"span",74),N(1),u()),2&t){const e=p().$implicit,i=p().object;_(),oe(e.valueFn.call(null,i))}}function ept(t,n){if(1&t&&N(0),2&t){const e=p().$implicit,i=p().object;He(" ",e.valueFn.call(null,i)," ")}}function tpt(t,n){if(1&t&&(d(0,"td",60),y(1,Qgt,2,3,"div",73)(2,Jgt,2,1,"span",74)(3,ept,1,1),u()),2&t){const e=n.$implicit;m("ngClass",ei(2,jB,e.hideOnMobile)),_(),P(e.rendersHtml?1:e.monospace?2:3)}}function npt(t,n){if(1&t){const e=k();d(0,"button",75),E("click",function(){T(e);const o=p().object;return w(p().openEditDialog(o))}),b(1,12),u()}}function ipt(t,n){if(1&t){const e=k();d(0,"button",76),E("click",function(){T(e);const o=p().object;return w(p().openDeleteDialog(o))}),b(1,13),u()}}function opt(t,n){if(1&t){const e=k();d(0,"button",75),E("click",function(){T(e);const o=p(2).object;return w(p().filterDocuments(o))}),b(1,14),u()}if(2&t){const e=p(2).object,i=p();_(),An(i.getDocumentCount(e)),In(1)}}function spt(t,n){if(1&t&&ce(0,opt,2,1,"button",67),2&t){const e=p(2);m("pngxIfPermissions",$e(1,K5,e.PermissionAction.View,e.PermissionType.Document))}}function rpt(t,n){if(1&t){const e=k();d(0,"button",77),E("click",function(o){T(e);const s=p().object;return p().openEditDialog(s),w(o.stopPropagation())}),O(1,"i-bs",78),N(2,"\xa0"),ge(3),b(4,15),ue(),u()}if(2&t){const e=p().object;m("disabled",!p().userCanEdit(e))}}function apt(t,n){if(1&t){const e=k();d(0,"button",79),E("click",function(o){T(e);const s=p().object;return p().openDeleteDialog(s),w(o.stopPropagation())}),O(1,"i-bs",80),N(2,"\xa0"),ge(3),b(4,16),ue(),u()}if(2&t){const e=p().object;m("disabled",!p().userCanDelete(e))}}function lpt(t,n){if(1&t){const e=k();d(0,"button",82),E("click",function(o){T(e);const s=p(2).object;return p().filterDocuments(s),w(o.stopPropagation())}),O(1,"i-bs",83),N(2,"\xa0"),ge(3),b(4,17),ue(),d(5,"span",84),N(6),u()()}if(2&t){const e=p(2).object,i=p();_(6),oe(i.getDocumentCount(e))}}function cpt(t,n){if(1&t&&(d(0,"div",70),ce(1,lpt,7,1,"button",81),u()),2&t){const e=p(2);_(),m("pngxIfPermissions",$e(1,K5,e.PermissionAction.View,e.PermissionType.Document))}}function dpt(t,n){if(1&t&&Mn(0,43),2&t){const e=n.$implicit,i=p(2).depth;p(),m("ngTemplateOutlet",xe(49))("ngTemplateOutletContext",$e(2,$gt,e,i+1))}}function hpt(t,n){1&t&&Ke(0,dpt,1,5,"ng-container",43,jt),2&t&&qe(p().object.children)}function upt(t,n){if(1&t){const e=k();d(0,"tr",52),E("click",function(o){const s=T(e).object;return p().toggleSelected(s),w(o.stopPropagation())}),d(1,"td")(2,"div",35)(3,"input",53),E("click",function(o){const s=T(e).object;return p().toggleSelected(s),w(o.stopPropagation())}),u(),O(4,"label",54),u()(),d(5,"td",55),y(6,Ygt,1,0,"div",56),d(7,"button",57),E("click",function(o){const s=T(e).object,r=p();return r.userCanEdit(s)&&r.openEditDialog(s),w(o.stopPropagation())}),N(8),u()(),d(9,"td",58),N(10),u(),d(11,"td",59),N(12),u(),Ke(13,tpt,4,4,"td",60,jt),d(15,"td",59)(16,"div",61)(17,"div",62)(18,"div",63)(19,"button",64),E("click",function(o){return T(e),w(o.stopPropagation())}),O(20,"i-bs",65),u(),d(21,"div",66),ce(22,npt,2,0,"button",67)(23,ipt,2,0,"button",68),y(24,spt,1,4,"button",69),u()()(),d(25,"div",70),ce(26,rpt,5,1,"button",71)(27,apt,5,1,"button",72),u(),y(28,cpt,2,4,"div",70),u()()(),y(29,hpt,2,0)}if(2&t){const e=n.object,i=n.depth,o=p();we("show",o.show),_(3),m("id",e1("",o.typeName,"",e.id))("checked",o.selectedObjects.has(e.id)),_(),m("for",e1("",o.typeName,"",e.id)),_(),yu(Lt("--depth: ",i)),_(),P(i>0?6:-1),_(2),oe(e.name),_(2),oe(o.getMatching(e)),_(2),oe(o.getDocumentCount(e)),_(),qe(o.extraColumns),_(9),m("pngxIfPermissions",$e(23,K5,o.PermissionAction.Change,o.permissionType)),_(),m("pngxIfPermissions",$e(26,K5,o.PermissionAction.Delete,o.permissionType)),_(),P(o.getDocumentCount(e)>0?24:-1),_(2),m("pngxIfPermissions",$e(29,K5,o.PermissionAction.Change,o.permissionType)),_(),m("pngxIfPermissions",$e(32,K5,o.PermissionAction.Delete,o.permissionType)),_(),P(o.getDocumentCount(e)>0?28:-1),_(),P(e.children&&e.children.length>0?29:-1)}}let _pt=(()=>{class t extends v8{constructor(){super(),this.service=M(sl),this.editDialogComponent=X4,this.filterRuleType=28,this.typeName="\u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",this.typeNamePlural="\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",this.permissionType=vt.DocumentType}getDeleteMessage(e){return "\u0647\u0644 \u062A\u0631\u063A\u0628 \u062D\u0642\u0627\u064B \u0641\u064A \u062D\u0630\u0641 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \"" + e.name + "\"\u061F"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-document-type-list"]],features:[at],decls:50,vars:28,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G;return e="\u0627\u0633\u0645",i="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062A\u062D\u062F\u064A\u062F",o="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",s="\u062D\u0630\u0641",r="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628:",a="\u0627\u0633\u0645",l="\u0645\u0637\u0627\u0628\u0642\u0629",c="\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",h="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",g="\u0625\u0646\u0634\u0627\u0621",f="\u062A\u062D\u0645\u064A\u0644...",v="{VAR_PLURAL, plural, zero {} one {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} two {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} few {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} many {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} =1 {\u0648\u0627\u062D\u062F {INTERPOLATION}} other {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}}}",v=Ma(v,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),C="\u062A\u062D\u0631\u064A\u0631",S="\u062D\u0630\u0641",D="Filter Documents (" + "\ufffd0\ufffd" + ")",I="\u062A\u062D\u0631\u064A\u0631",L="\u062D\u0630\u0641",G="\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",[["objectRow",""],i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,["infoLink","usage/#terms-and-definitions",3,"title","info"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",e,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"ngClass","pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","ngClass","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"data-row","fade",3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row",1,"name-cell"],[1,"indicator"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],["scope","row"],["scope","row",3,"ngClass"],[1,"btn-toolbar","gap-2"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"btn-group","d-none","d-sm-inline-block"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],[1,"font-monospace"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"badge","bg-light","text-secondary","ms-2"]]},template:function(i,o){if(1&i){const s=k();d(0,"pngx-page-header",18),Fe(1,"titlecase"),d(2,"button",19),E("click",function(){return T(s),w(o.clearSelection())}),O(3,"i-bs",20),N(4,"\xa0"),ge(5),b(6,1),ue(),u(),d(7,"button",21),E("click",function(){return T(s),w(o.setPermissions())}),O(8,"i-bs",22),N(9,"\xa0"),ge(10),b(11,2),ue(),u(),d(12,"button",23),E("click",function(){return T(s),w(o.delete())}),O(13,"i-bs",24),N(14,"\xa0"),ge(15),b(16,3),ue(),u(),ce(17,Bgt,5,0,"button",25),u(),d(18,"div",26)(19,"div",27)(20,"div",28)(21,"label",29),b(22,4),u(),d(23,"input",30),Re("ngModelChange",function(a){return T(s),Pe(o.nameFilter,a)||(o.nameFilter=a),w(a)}),E("keyup",function(a){return T(s),w(o.onNameFilterKeyUp(a))}),u()()(),d(24,"ngb-pagination",31),Re("pageChange",function(a){return T(s),Pe(o.page,a)||(o.page=a),w(a)}),E("pageChange",function(){return T(s),w(o.reloadData())}),u()(),d(25,"div",32)(26,"table",33)(27,"thead")(28,"tr")(29,"th",34)(30,"div",35)(31,"input",36),Re("ngModelChange",function(a){return T(s),Pe(o.togggleAll,a)||(o.togggleAll=a),w(a)}),E("click",function(a){return T(s),o.toggleAll(a),w(a.stopPropagation())}),u(),O(32,"label",37),u()(),d(33,"th",38),E("sort",function(a){return T(s),w(o.onSort(a))}),b(34,5),u(),d(35,"th",39),E("sort",function(a){return T(s),w(o.onSort(a))}),b(36,6),u(),d(37,"th",40),E("sort",function(a){return T(s),w(o.onSort(a))}),b(38,7),u(),Ke(39,Ugt,2,8,"th",41,jt),d(41,"th",42),b(42,8),u()()(),d(43,"tbody"),y(44,jgt,5,0,"tr"),Ke(45,Zgt,1,4,"ng-container",43,jt),u()()(),y(47,qgt,3,2,"div",44),ce(48,upt,30,35,"ng-template",null,0,xt)}2&i&&(m("title",ni(lt(1,23,o.typeNamePlural)))("info",Lt("View, add, edit and delete ",o.typeNamePlural,".")),_(2),m("hidden",0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),_(5),m("pngxIfPermissions",$e(25,K5,o.PermissionAction.Add,o.permissionType)),_(6),Le("ngModel",o.nameFilter),_(),m("pageSize",25)("collectionSize",o.collectionSize),Le("page",o.page),m("maxSize",5),_(7),Le("ngModel",o.togggleAll),m("disabled",0===o.data.length),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),qe(o.extraColumns),_(5),P(o.loading?44:-1),_(),qe(o.data),_(2),P(o.loading?-1:47))},dependencies:[Z5,hr,ys,$t,Ci,No,Gt,Ln,Wt,wa,Ao,Go,Ho,Ss,Qo,js,oa,R1,r0,Bt,en,c2],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}td.name-cell[_ngcontent-%COMP%]{padding-left:calc((var(--depth) - 1) * 1.1rem)}td.name-cell[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{display:inline-block;width:.8rem;height:.8rem;border-left:1px solid var(--bs-secondary);border-bottom:1px solid var(--bs-secondary);margin-right:.25rem;margin-left:.5rem}"]})}return t})(),gpt=(()=>{class t extends m0{constructor(){super(),this.resourceName="processed_mail"}bulk_delete(e){return this.http.post(`${this.getResourceUrl()}bulk_delete/`,{mail_ids:e})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ppt=(t,n)=>n.id;function fpt(t,n){1&t&&(d(0,"a",20),b(1,4),u(),O(2,"i-bs",21))}function mpt(t,n){1&t&&(d(0,"div",19)(1,"div",22)(2,"span",23),b(3,5),u()()())}function vpt(t,n){1&t&&(d(0,"span"),b(1,6),u())}function Cpt(t,n){if(1&t&&(d(0,"div",42),N(1),u()),2&t){const e=p().$implicit;_(),He(" ",e.status," ")}}function Mpt(t,n){1&t&&O(0,"i-bs",38),2&t&&(p(),m("ngbTooltip",xe(1)))}function Tpt(t,n){1&t&&O(0,"i-bs",39),2&t&&(p(),m("ngbTooltip",xe(1)))}function wpt(t,n){if(1&t&&O(0,"i-bs",40),2&t){const e=p().$implicit,i=xe(1);m("title",ni(e.status))("ngbTooltip",i)}}function bpt(t,n){if(1&t&&(d(0,"pre",43),N(1),u()),2&t){const e=p().$implicit;_(),He("                    ",e.error,"\n                  ")}}function Spt(t,n){if(1&t&&(d(0,"span",41),N(1),Fe(2,"slice"),u()),2&t){const e=p().$implicit;m("ngbPopover",xe(21)),_(),oe(V0(2,2,e.error,0,20))}}function Ept(t,n){if(1&t){const e=k();ce(0,Cpt,2,1,"ng-template",null,1,xt),d(2,"tr")(3,"td")(4,"div",27)(5,"input",36),E("click",function(o){const s=T(e).$implicit;return p(2).toggleSelected(s),w(o.stopPropagation())}),u(),O(6,"label",37),u()(),d(7,"td"),N(8),u(),d(9,"td"),N(10),Fe(11,"customDate"),u(),d(12,"td"),N(13),Fe(14,"customDate"),u(),d(15,"td"),y(16,Mpt,1,1,"i-bs",38)(17,Tpt,1,1,"i-bs",39)(18,wpt,1,3,"i-bs",40),u(),d(19,"td"),ce(20,bpt,2,1,"ng-template",null,2,xt),y(22,Spt,3,6,"span",41),u()()}if(2&t){let e;const i=n.$implicit,o=p(2);_(5),m("id",i.id)("checked",o.selectedMailIds.has(i.id)),_(),m("for",i.id),_(2),oe(i.subject),_(2),oe(zo(11,8,i.received,"longDate")),_(3),oe(zo(14,11,i.processed,"longDate")),_(3),P("SUCCESS"===(e=i.status)?16:"FAILED"===e?17:18),_(6),P(i.error?22:-1)}}function Opt(t,n){if(1&t){const e=k();d(0,"div",24)(1,"table",25)(2,"thead")(3,"tr")(4,"th",26)(5,"div",27)(6,"input",28),Re("ngModelChange",function(o){T(e);const s=p();return Pe(s.toggleAllEnabled,o)||(s.toggleAllEnabled=o),w(o)}),E("click",function(o){return T(e),p().toggleAll(o),w(o.stopPropagation())}),u(),O(7,"label",29),u()(),d(8,"th",30),b(9,7),u(),d(10,"th",30),b(11,8),u(),d(12,"th",30),b(13,9),u(),d(14,"th",30),b(15,10),u(),d(16,"th",30),b(17,11),u()()(),d(18,"tbody"),Ke(19,Ept,23,14,null,null,ppt),u()()(),d(21,"div",31)(22,"button",32),E("click",function(){return T(e),w(p().clearSelection())}),b(23,12),u(),d(24,"pngx-confirm-button",33),E("confirm",function(){return T(e),w(p().deleteSelected())}),u(),d(25,"div",34)(26,"ngb-pagination",35),Re("pageChange",function(o){T(e);const s=p();return Pe(s.page,o)||(s.page=o),w(o)}),E("pageChange",function(){return T(e),w(p().loadProcessedMails())}),u()()()}if(2&t){const e=p();_(6),Le("ngModel",e.toggleAllEnabled),m("disabled",0===e.processedMails.length),_(13),qe(e.processedMails),_(3),m("disabled",0===e.selectedMailIds.size),_(2),m("disabled",0===e.selectedMailIds.size),_(2),m("collectionSize",e.processedMails.length),Le("page",e.page),m("pageSize",50)("maxSize",5)}}let Apt=(()=>{class t{constructor(){this.activeModal=M(sa),this.processedMailService=M(gpt),this.toastService=M(eo),this.processedMails=[],this.loading=!0,this.toggleAllEnabled=!1,this.selectedMailIds=new Set,this.page=1}ngOnInit(){this.loadProcessedMails()}close(){this.activeModal.close()}loadProcessedMails(){this.loading=!0,this.clearSelection(),this.processedMailService.list(this.page,50,"processed_at",!0,{rule:this.rule.id}).subscribe(e=>{this.processedMails=e.results,this.loading=!1})}deleteSelected(){this.processedMailService.bulk_delete(Array.from(this.selectedMailIds)).subscribe(()=>{this.toastService.showInfo("Processed mail(s) deleted"),this.loadProcessedMails()})}toggleAll(e){e.target.checked?(this.selectedMailIds.clear(),this.processedMails.forEach(i=>this.selectedMailIds.add(i.id))):this.clearSelection()}clearSelection(){this.toggleAllEnabled=!1,this.selectedMailIds.clear()}toggleSelected(e){this.selectedMailIds.has(e.id)?this.selectedMailIds.delete(e.id):this.selectedMailIds.add(e.id)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-processed-mail-dialog"]],inputs:{rule:"rule"},decls:13,vars:4,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C;return e="\u0645\u0627 \u0647\u0630\u0627\u061F",i="Processed Mail for " + "\ufffd#3\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#3\ufffd" + "",o="\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064A\u062F",s="\u062A\u062D\u0645\u064A\u0644...",r="No processed email messages found.",a="\u062D\u0630\u0641 \u0627\u0644\u0645\u062D\u062F\u062F",l="\u062D\u0630\u0641 \u0627\u0644\u0645\u062D\u062F\u062F",c="Subject",h="Received",g="Processed",f="\u0627\u0644\u062D\u0627\u0644\u0629",v="\u062E\u0637\u0623",C="\u062A\u0646\u0638\u064A\u0641",[["infoPopover",""],["statusTooltip",""],["errorPopover",""],i,o,s,r,c,h,g,f,v,C,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["title",e,"type","button",1,"btn","btn-sm","btn-link","text-muted","me-auto","p-0","p-md-2",3,"ngbPopover","autoClose"],["name","question-circle"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-center","my-5"],["href","https://docs.paperless-ngx.com/usage#processed-mail","target","_blank","referrerpolicy","noopener noreferrer"],["width",".8em","height",".8em","name","box-arrow-up-right",1,"ms-1"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"table-responsive"],[1,"table","table-hover","table-sm","align-middle"],["scope","col",2,"width","40px"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col"],[1,"btn-toolbar"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click","disabled"],["label",a,"title",l,"buttonClasses","btn-outline-danger","iconName","trash",3,"confirm","disabled"],[1,"ms-auto"],[3,"pageChange","collectionSize","page","pageSize","maxSize"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["name","check-circle","title","SUCCESS",1,"text-success",3,"ngbTooltip"],["name","exclamation-triangle","title","FAILED",1,"text-danger",3,"ngbTooltip"],["name","slash-circle",1,"text-muted",3,"title","ngbTooltip"],["triggers","mouseenter:mouseleave",1,"text-danger",3,"ngbPopover"],[1,"small","text-light","font-monospace"],[1,"small","text-light"]]},template:function(i,o){if(1&i){const s=k();d(0,"div",13)(1,"h6",14),Sr(2,3),O(3,"em"),Er(),u(),d(4,"button",15),O(5,"i-bs",16),u(),ce(6,fpt,3,0,"ng-template",null,0,xt),d(8,"button",17),E("click",function(){return T(s),w(o.close())}),u()(),d(9,"div",18),y(10,mpt,4,0,"div",19)(11,vpt,2,0,"span")(12,Opt,27,8),u()}if(2&i){const s=xe(7);_(3),An(o.rule.name),In(2),_(),m("ngbPopover",s)("autoClose",!0),_(6),P(o.loading?10:0===o.processedMails.length?11:12)}},dependencies:[i8,r0,Na,Aa,Ul,N2,Bt,en,$t,No,Gt,Ln,Wt,ur,I3],styles:[".popover{max-width:350px}  .popover pre{white-space:pre-wrap;word-break:break-word}"]})}return t})();const is=(t,n)=>({action:t,type:n});function Npt(t,n){if(1&t){const e=k();d(0,"button",49),E("click",function(){return T(e),w(p(2).editMailAccount())}),O(1,"i-bs",50),N(2,"\xa0"),ge(3),b(4,6),ue(),u()}}function Dpt(t,n){1&t&&(d(0,"a",43),O(1,"i-bs",52),N(2,"\xa0"),ge(3),b(4,7),ue(),u()),2&t&&m("href",p(3).gmailOAuthUrl,Ts)}function ypt(t,n){if(1&t&&ce(0,Dpt,5,1,"a",51),2&t){const e=p(2);m("pngxIfPermissions",$e(1,is,e.PermissionAction.Add,e.PermissionType.MailAccount))}}function Ppt(t,n){1&t&&(d(0,"a",43),O(1,"i-bs",53),N(2,"\xa0"),ge(3),b(4,8),ue(),u()),2&t&&m("href",p(3).outlookOAuthUrl,Ts)}function Ipt(t,n){if(1&t&&ce(0,Ppt,5,1,"a",51),2&t){const e=p(2);m("pngxIfPermissions",$e(1,is,e.PermissionAction.Add,e.PermissionType.MailAccount))}}function Lpt(t,n){1&t&&(d(0,"li",45),O(1,"div",54),ge(2),b(3,9),ue(),u())}function Rpt(t,n){1&t&&O(0,"i-bs",58)}function xpt(t,n){1&t&&O(0,"i-bs",59)}function Fpt(t,n){1&t&&O(0,"i-bs",60)}function kpt(t,n){if(1&t){const e=k();d(0,"button",74),E("click",function(){T(e);const o=p().$implicit;return w(p(2).editMailAccount(o))}),b(1,10),u()}if(2&t){const e=p().$implicit;m("disabled",!p(2).userCanEdit(e))}}function zpt(t,n){if(1&t){const e=k();d(0,"button",75),E("click",function(){T(e);const o=p().$implicit;return w(p(2).editPermissions(o))}),b(1,11),u()}}function Vpt(t,n){if(1&t){const e=k();d(0,"button",74),E("click",function(){T(e);const o=p().$implicit;return w(p(2).deleteMailAccount(o))}),b(1,12),u()}if(2&t){const e=p().$implicit;m("disabled",!p(2).userIsOwner(e))}}function Hpt(t,n){if(1&t){const e=k();d(0,"button",74),E("click",function(){T(e);const o=p().$implicit;return w(p(2).processAccount(o))}),b(1,13),u()}if(2&t){const e=p().$implicit;m("disabled",!p(2).userIsOwner(e))}}function Gpt(t,n){if(1&t){const e=k();d(0,"button",76),E("click",function(){T(e);const o=p().$implicit;return w(p(2).editMailAccount(o))}),O(1,"i-bs",77),N(2,"\xa0"),ge(3),b(4,14),ue(),u()}if(2&t){const e=p().$implicit;m("disabled",!p(2).userCanEdit(e))}}function $pt(t,n){if(1&t){const e=k();d(0,"button",78),E("click",function(){T(e);const o=p().$implicit;return w(p(2).editPermissions(o))}),O(1,"i-bs",79),N(2,"\xa0"),ge(3),b(4,15),ue(),u()}}function Bpt(t,n){if(1&t){const e=k();d(0,"button",80),E("click",function(){T(e);const o=p().$implicit;return w(p(2).deleteMailAccount(o))}),O(1,"i-bs",81),N(2,"\xa0"),ge(3),b(4,16),ue(),u()}if(2&t){const e=p().$implicit;m("disabled",!p(2).userIsOwner(e))}}function Upt(t,n){if(1&t){const e=k();d(0,"button",76),E("click",function(){T(e);const o=p().$implicit;return w(p(2).processAccount(o))}),O(1,"i-bs",82),N(2,"\xa0"),ge(3),b(4,17),ue(),u()}if(2&t){const e=p().$implicit;m("disabled",!p(2).userIsOwner(e))}}function jpt(t,n){if(1&t){const e=k();d(0,"li",45)(1,"div",55)(2,"div",56)(3,"button",57),E("click",function(){const o=T(e).$implicit;return w(p(2).editMailAccount(o))}),N(4),y(5,Rpt,1,0,"i-bs",58)(6,xpt,1,0,"i-bs",59)(7,Fpt,1,0,"i-bs",60),u()(),d(8,"div",56),N(9),u(),d(10,"div",61),N(11),u(),d(12,"div",47)(13,"div",62)(14,"div",63)(15,"button",64),E("click",function(o){return T(e),w(o.stopPropagation())}),O(16,"i-bs",65),u(),d(17,"div",66),ce(18,kpt,2,1,"button",67)(19,zpt,2,0,"button",68)(20,Vpt,2,1,"button",67)(21,Hpt,2,1,"button",67),u()()(),d(22,"div",69)(23,"div",70),ce(24,Gpt,5,1,"button",71)(25,$pt,5,0,"button",72)(26,Bpt,5,1,"button",73),u(),d(27,"div",70),ce(28,Upt,5,1,"button",71),u()()()()()}if(2&t){let e;const i=n.$implicit,o=p(2);_(),we("show",o.showAccounts),_(2),m("disabled",!o.permissionsService.currentUserCan(o.PermissionAction.Change,o.PermissionType.MailAccount)||!o.userCanEdit(i)),_(),He(" ",i.name),_(),P((e=i.account_type)===o.MailAccountType.IMAP?5:e===o.MailAccountType.Gmail_OAuth?6:e===o.MailAccountType.Outlook_OAuth?7:-1),_(4),oe(i.imap_server),_(2),oe(i.username),_(7),m("pngxIfPermissions",$e(15,is,o.PermissionAction.Change,o.PermissionType.MailAccount)),_(),m("pngxIfOwner",i),_(),m("pngxIfPermissions",$e(18,is,o.PermissionAction.Delete,o.PermissionType.MailAccount)),_(),m("pngxIfPermissions",$e(21,is,o.PermissionAction.Change,o.PermissionType.MailAccount)),_(3),m("pngxIfPermissions",$e(24,is,o.PermissionAction.Change,o.PermissionType.MailAccount)),_(),m("pngxIfOwner",i),_(),m("pngxIfPermissions",$e(27,is,o.PermissionAction.Delete,o.PermissionType.MailAccount)),_(2),m("pngxIfPermissions",$e(30,is,o.PermissionAction.Change,o.PermissionType.MailAccount))}}function Zpt(t,n){1&t&&(d(0,"li",45),b(1,18),u())}function Wpt(t,n){if(1&t&&(ge(0),d(1,"h4"),ge(2),b(3,1),ue(),ce(4,Npt,5,0,"button",42),y(5,ypt,1,4,"a",43),y(6,Ipt,1,4,"a",43),u(),d(7,"ul",44)(8,"li",45)(9,"div",46)(10,"div",47),b(11,2),u(),d(12,"div",47),b(13,3),u(),d(14,"div",48),b(15,4),u(),d(16,"div",47),b(17,5),u()()(),y(18,Lpt,4,0,"li",45),Ke(19,jpt,29,33,"li",45,jt),y(21,Zpt,2,0,"li",45),u(),ue()),2&t){const e=p();_(4),m("pngxIfPermissions",$e(5,is,e.PermissionAction.Add,e.PermissionType.MailAccount)),_(),P(e.gmailOAuthUrl?5:-1),_(),P(e.outlookOAuthUrl?6:-1),_(12),P(e.loadingAccounts?18:-1),_(),qe(e.mailAccounts),_(2),P(e.loadingAccounts||0!==e.mailAccounts.length?-1:21)}}function Xpt(t,n){if(1&t){const e=k();d(0,"button",49),E("click",function(){return T(e),w(p(2).editMailRule())}),O(1,"i-bs",50),N(2,"\xa0"),ge(3),b(4,25),ue(),u()}}function Kpt(t,n){1&t&&(d(0,"div",48),N(1,"Processed Mail"),u())}function qpt(t,n){1&t&&(d(0,"li",45),O(1,"div",54),ge(2),b(3,26),ue(),u())}function Ypt(t,n){if(1&t){const e=k();d(0,"input",99,0),Re("ngModelChange",function(o){T(e);const s=p().$implicit;return Pe(s.enabled,o)||(s.enabled=o),w(o)}),E("change",function(){T(e);const o=p().$implicit;return w(p(2).onMailRuleEnableToggled(o))}),u()}if(2&t){const e=p().$implicit;m("id",e.id+"_enable"),Le("ngModel",e.enabled)}}function Qpt(t,n){1&t&&(ge(0),b(1,27),ue())}function Jpt(t,n){1&t&&(d(0,"span",95),b(1,28),u())}function eft(t,n){if(1&t){const e=k();d(0,"div",100)(1,"button",78),E("click",function(){T(e);const o=p().$implicit;return w(p(2).viewProcessedMail(o))}),O(2,"i-bs",101),N(3,"\xa0"),ge(4),b(5,29),ue(),u()()}}function tft(t,n){if(1&t){const e=k();d(0,"button",74),E("click",function(){T(e);const o=p().$implicit;return w(p(2).editMailRule(o))}),b(1,30),u()}if(2&t){const e=p().$implicit;m("disabled",!p(2).userCanEdit(e))}}function nft(t,n){if(1&t){const e=k();d(0,"button",75),E("click",function(){T(e);const o=p().$implicit;return w(p(2).editPermissions(o))}),b(1,31),u()}}function ift(t,n){if(1&t){const e=k();d(0,"button",74),E("click",function(){T(e);const o=p().$implicit;return w(p(2).deleteMailRule(o))}),b(1,32),u()}if(2&t){const e=p().$implicit;m("disabled",!p(2).userIsOwner(e))}}function oft(t,n){if(1&t){const e=k();d(0,"button",75),E("click",function(){T(e);const o=p().$implicit;return w(p(2).copyMailRule(o))}),b(1,33),u()}}function sft(t,n){if(1&t){const e=k();d(0,"button",76),E("click",function(){T(e);const o=p().$implicit;return w(p(2).editMailRule(o))}),O(1,"i-bs",77),N(2,"\xa0"),ge(3),b(4,34),ue(),u()}if(2&t){const e=p().$implicit;m("disabled",!p(2).userCanEdit(e))}}function rft(t,n){if(1&t){const e=k();d(0,"button",78),E("click",function(){T(e);const o=p().$implicit;return w(p(2).editPermissions(o))}),O(1,"i-bs",79),N(2,"\xa0"),ge(3),b(4,35),ue(),u()}}function aft(t,n){if(1&t){const e=k();d(0,"button",80),E("click",function(){T(e);const o=p().$implicit;return w(p(2).deleteMailRule(o))}),O(1,"i-bs",81),N(2,"\xa0"),ge(3),b(4,36),ue(),u()}if(2&t){const e=p().$implicit;m("disabled",!p(2).userIsOwner(e))}}function lft(t,n){if(1&t){const e=k();d(0,"button",78),E("click",function(){T(e);const o=p().$implicit;return w(p(2).copyMailRule(o))}),O(1,"i-bs",102),N(2,"\xa0"),ge(3),b(4,37),ue(),u()}}function cft(t,n){if(1&t){const e=k();d(0,"li",45)(1,"div",55)(2,"div",56)(3,"button",57),E("click",function(){const o=T(e).$implicit;return w(p(2).editMailRule(o))}),N(4),u()(),d(5,"div",89),N(6),u(),d(7,"div",90),N(8),Fe(9,"async"),u(),d(10,"div",91)(11,"div",92),ce(12,Ypt,2,2,"input",93),d(13,"label",94)(14,"code"),y(15,Qpt,2,0,"ng-container")(16,Jpt,2,0,"span",95),u()()()(),ce(17,eft,6,0,"div",96),d(18,"div",88)(19,"div",62)(20,"div",63)(21,"button",64),E("click",function(o){return T(e),w(o.stopPropagation())}),O(22,"i-bs",65),u(),d(23,"div",66),ce(24,tft,2,1,"button",67)(25,nft,2,0,"button",68)(26,ift,2,1,"button",67)(27,oft,2,0,"button",97),u()()(),d(28,"div",69)(29,"div",70),ce(30,sft,5,1,"button",71)(31,rft,5,0,"button",72)(32,aft,5,1,"button",73),u(),d(33,"div",70),ce(34,lft,5,0,"button",98),u()()()()()}if(2&t){let e;const i=n.$implicit,o=p(2);_(),we("show",o.showRules),_(2),m("disabled",!o.permissionsService.currentUserCan(o.PermissionAction.Change,o.PermissionType.MailRule)||!o.userCanEdit(i)),_(),oe(i.name),_(2),oe(i.order),_(2),oe(null==(e=lt(9,18,o.mailAccountService.getCached(i.account)))?null:e.name),_(4),m("pngxIfPermissions",$e(20,is,o.PermissionAction.Change,o.PermissionType.MailRule)),_(),m("for",i.id+"_enable"),_(2),P(i.enabled?15:16),_(2),m("pngxIfPermissions",$e(23,is,o.PermissionAction.View,o.PermissionType.ProcessedMail)),_(7),m("pngxIfPermissions",$e(26,is,o.PermissionAction.Change,o.PermissionType.MailRule)),_(),m("pngxIfOwner",i),_(),m("pngxIfPermissions",$e(29,is,o.PermissionAction.Delete,o.PermissionType.MailRule)),_(),m("pngxIfPermissions",$e(32,is,o.PermissionAction.Add,o.PermissionType.MailRule)),_(3),m("pngxIfPermissions",$e(35,is,o.PermissionAction.Change,o.PermissionType.MailRule)),_(),m("pngxIfOwner",i),_(),m("pngxIfPermissions",$e(38,is,o.PermissionAction.Delete,o.PermissionType.MailRule)),_(2),m("pngxIfPermissions",$e(41,is,o.PermissionAction.Add,o.PermissionType.MailRule))}}function dft(t,n){1&t&&(d(0,"li",45),b(1,38),u())}function hft(t,n){if(1&t&&(ge(0),d(1,"h4",83),ge(2),b(3,19),ue(),ce(4,Xpt,5,0,"button",42),u(),d(5,"ul",44)(6,"li",45)(7,"div",46)(8,"div",47),b(9,20),u(),d(10,"div",84),b(11,21),u(),d(12,"div",85),b(13,22),u(),d(14,"div",86),b(15,23),u(),ce(16,Kpt,2,0,"div",87),d(17,"div",88),b(18,24),u()()(),y(19,qpt,4,0,"li",45),Ke(20,cft,35,44,"li",45,jt),y(22,dft,2,0,"li",45),u(),ue()),2&t){const e=p();_(4),m("pngxIfPermissions",$e(4,is,e.PermissionAction.Add,e.PermissionType.MailRule)),_(12),m("pngxIfPermissions",$e(7,is,e.PermissionAction.View,e.PermissionType.ProcessedMail)),_(3),P(e.loadingRules?19:-1),_(),qe(e.mailRules),_(2),P(e.loadingRules||0!==e.mailRules.length?-1:22)}}function uft(t,n){1&t&&(d(0,"div"),O(1,"div",103),d(2,"div",104),b(3,39),u()())}let _ft=(()=>{class t extends H1{constructor(){super(...arguments),this.mailAccountService=M(Qw),this.mailRuleService=M(Jw),this.toastService=M(eo),this.modalService=M(ps),this.permissionsService=M(Ti),this.settingsService=M(Gn),this.route=M(V1),this.MailAccountType=DB,this.mailAccounts=[],this.mailRules=[],this.unsubscribeNotifier=new Be,this.loadingRules=!0,this.showRules=!1,this.loadingAccounts=!0,this.showAccounts=!1}get gmailOAuthUrl(){return this.settingsService.get(Ce.GMAIL_OAUTH_URL)}get outlookOAuthUrl(){return this.settingsService.get(Ce.OUTLOOK_OAUTH_URL)}ngOnInit(){this.mailAccountService.listAll(null,null,{full_perms:!0}).pipe(ut(),me(this.unsubscribeNotifier),_n(e=>{this.mailAccounts=e.results,this.oAuthAccountId&&this.editMailAccount(this.mailAccounts.find(i=>i.id===this.oAuthAccountId))}),n0(100)).subscribe({next:()=>{this.loadingAccounts=!1,this.showAccounts=!0},error:e=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0633\u062A\u0631\u062F\u0627\u062F \u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0628\u0631\u064A\u062F",e)}}),this.mailRuleService.listAll(null,null,{full_perms:!0}).pipe(ut(),me(this.unsubscribeNotifier),_n(e=>{this.mailRules=e.results}),n0(100)).subscribe({next:e=>{this.loadingRules=!1,this.showRules=!0},error:e=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0633\u062A\u0631\u062F\u0627\u062F \u0642\u0648\u0627\u0639\u062F \u0627\u0644\u0628\u0631\u064A\u062F",e)}}),this.route.queryParamMap.subscribe(e=>{e.get("oauth_success")&&("1"===e.get("oauth_success")?(this.toastService.showInfo("OAuth2 authentication success"),this.oAuthAccountId=parseInt(e.get("account_id")),this.mailAccounts.length>0&&this.editMailAccount(this.mailAccounts.find(o=>o.id===this.oAuthAccountId))):this.toastService.showError("OAuth2 authentication failed, see logs for details"))})}ngOnDestroy(){this.unsubscribeNotifier.next(!0)}editMailAccount(e=null){const i=this.modalService.open(yB,{backdrop:"static",size:"xl"});i.componentInstance.dialogMode=e?wi.EDIT:wi.CREATE,i.componentInstance.object=e,i.componentInstance.succeeded.pipe(me(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("\u062D\u0641\u0638 \u0627\u0644\u062D\u0633\u0627\u0628\"" + o.name + "\"."),this.mailAccountService.clearCache(),this.mailAccountService.listAll(null,null,{full_perms:!0}).subscribe(s=>{this.mailAccounts=s.results})}),i.componentInstance.failed.pipe(me(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u062D\u0633\u0627\u0628.",o)})}deleteMailAccount(e){const i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u062D\u0630\u0641 \u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0631\u064A\u062F",i.componentInstance.messageBold="\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0642\u0648\u0645 \u0628\u062D\u0630\u0641 \u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0631\u064A\u062F \u0647\u0630\u0627 \u0628\u0634\u0643\u0644 \u062F\u0627\u0626\u0645.",i.componentInstance.message="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.mailAccountService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted mail account \"" + e.name + "\""),this.mailAccountService.clearCache(),this.mailAccountService.listAll(null,null,{full_perms:!0}).subscribe(o=>{this.mailAccounts=o.results})},error:o=>{this.toastService.showError("Error deleting mail account \"" + e.name + "\".",o)}})})}processAccount(e){this.mailAccountService.processAccount(e).subscribe({next:()=>{this.toastService.showInfo("Processing mail account \"" + e.name + "\"")},error:i=>{this.toastService.showError("Error processing mail account \"" + e.name + "\"",i)}})}editMailRule(e=null,i=!1){const o=this.modalService.open(PB,{backdrop:"static",size:"xl"});o.componentInstance.dialogMode=e&&!i?wi.EDIT:wi.CREATE,o.componentInstance.object=e,o.componentInstance.succeeded.pipe(me(this.unsubscribeNotifier)).subscribe(s=>{this.toastService.showInfo("\u0642\u0627\u0639\u062F\u0629 \u0645\u062D\u0641\u0648\u0638\u0629 \"" + s.name + "\"."),this.mailRuleService.clearCache(),this.mailRuleService.listAll(null,null,{full_perms:!0}).subscribe(r=>{this.mailRules=r.results})}),o.componentInstance.failed.pipe(me(this.unsubscribeNotifier)).subscribe(s=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u0642\u0627\u0639\u062F\u0629.",s)})}copyMailRule(e){const i={...e};i.id=null,i.name=`${e.name} (copy)`,this.editMailRule(i,!0)}onMailRuleEnableToggled(e){this.mailRuleService.patch(e).subscribe({next:()=>{this.toastService.showInfo(e.enabled?"Rule \"" + e.name + "\" enabled.":"Rule \"" + e.name + "\" disabled.")},error:i=>{this.toastService.showError("Error toggling rule \"" + e.name + "\".",i)}})}deleteMailRule(e){const i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u062D\u0630\u0641 \u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0631\u064A\u062F",i.componentInstance.messageBold="\u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0633\u062A\u0642\u0648\u0645 \u0628\u062D\u0630\u0641 \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u0631\u064A\u062F \u0647\u0630\u0647 \u0628\u0634\u0643\u0644 \u062F\u0627\u0626\u0645.",i.componentInstance.message="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.mailRuleService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted mail rule \"" + e.name + "\""),this.mailRuleService.clearCache(),this.mailRuleService.listAll(null,null,{full_perms:!0}).subscribe(o=>{this.mailRules=o.results})},error:o=>{this.toastService.showError("Error deleting mail rule \"" + e.name + "\".",o)}})})}editPermissions(e){const i=this.modalService.open(sb,{backdrop:"static"});i.componentInstance.object=e,i.componentInstance.confirmClicked.subscribe(({permissions:s})=>{i.componentInstance.buttonsEnabled=!1;const a="account"in e?this.mailRuleService:this.mailAccountService;e.owner=s.owner,e.set_permissions=s.set_permissions,a.patch(e).subscribe({next:()=>{this.toastService.showInfo("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A"),i.close()},error:l=>{this.toastService.showError("\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",l)}})})}viewProcessedMail(e){this.modalService.open(Apt,{backdrop:"static",size:"xl"}).componentInstance.rule=e}userCanEdit(e){return this.permissionsService.currentUserHasObjectPermissions(ft.Change,e)}userIsOwner(e){return this.permissionsService.currentUserOwnsObject(e)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-mail"]],features:[at],decls:4,vars:9,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,pe,le,fe,ke,Dt,it,Ft,Yt,Qt,We,kt,ri,Si,ai,et,Yn,Yi,Hi,Ei;return e="\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0628\u0631\u064A\u062F",i="\u0625\u062F\u0627\u0631\u0629 \u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0648\u0642\u0648\u0627\u0639\u062F \u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A \u0644\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A.",o="\u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0628\u0631\u064A\u062F",s="\u0627\u0633\u0645",r="\u062E\u0627\u062F\u0645",a="\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",l="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",c="\u0625\u0636\u0627\u0641\u0629 \u062D\u0633\u0627\u0628",h="Connect Gmail Account",g="Connect Outlook Account",f="\u062A\u062D\u0645\u064A\u0644...",v="\u062A\u062D\u0631\u064A\u0631",C="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",S="\u062D\u0630\u0641",D="Process Mail",I="\u062A\u062D\u0631\u064A\u0631",L="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",G="\u062D\u0630\u0641",R="Process Mail",J="\u0644\u0627 \u062A\u0648\u062C\u062F \u062D\u0633\u0627\u0628\u0627\u062A \u0628\u0631\u064A\u062F\u064A\u0629.",se="\u0642\u0648\u0627\u0639\u062F \u0627\u0644\u0628\u0631\u064A\u062F",ve="\u0627\u0633\u0645",pe="\u062A\u0631\u062A\u064A\u0628 \u0627\u0644\u062A\u0633\u0644\u0633\u0644",le="\u0627\u0644\u062D\u0633\u0627\u0628",fe="\u0627\u0644\u062D\u0627\u0644\u0629",ke="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",Dt="\u0625\u0636\u0627\u0641\u0629 \u0642\u0627\u0639\u062F\u0629",it="\u062A\u062D\u0645\u064A\u0644...",Ft="\u0645\u064F\u0645\u064E\u0643\u0651\u0646",Yt="\u0645\u0639\u0637\u0644",Qt="View Processed Mail",We="\u062A\u062D\u0631\u064A\u0631",kt="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",ri="\u062D\u0630\u0641",Si="\u0646\u0633\u062E",ai="\u062A\u062D\u0631\u064A\u0631",et="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",Yn="\u062D\u0630\u0641",Yi="\u0646\u0633\u062E",Hi="\u0644\u0627 \u062A\u0648\u062C\u062F \u0642\u0648\u0627\u0639\u062F \u0644\u0644\u0628\u0631\u064A\u062F.",Ei="\u062A\u062D\u0645\u064A\u0644...",[["inputField",""],o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,R,J,se,ve,pe,le,fe,ke,Dt,it,Ft,Yt,Qt,We,kt,ri,Si,ai,et,Yn,Yi,Hi,Ei,["title",e,"info",i,"infoLink","usage/#usage-email"],[4,"pngxIfPermissions"],["type","button","class","btn btn-sm btn-outline-primary ms-4",3,"click",4,"pngxIfPermissions"],[1,"btn","btn-sm","btn-outline-secondary","ms-2",3,"href"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],[1,"col","d-none","d-sm-block"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-4",3,"click"],["name","plus-circle"],["class","btn btn-sm btn-outline-secondary ms-2",3,"href",4,"pngxIfPermissions"],["name","google"],["name","microsoft"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"row","fade"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],["name","envelope-at-fill",1,"ms-2"],["name","google",1,"ms-2"],["name","microsoft",1,"ms-2"],[1,"col","d-flex","align-items-center","d-none","d-sm-block"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"disabled","click",4,"pngxIfPermissions"],["ngbDropdownItem","",3,"click",4,"pngxIfOwner"],["role","toolbar",1,"btn-toolbar","d-none","d-sm-flex","gap-2"],[1,"btn-group"],["class","btn btn-sm btn-outline-secondary","type","button",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfOwner"],["class","btn btn-sm btn-outline-danger","type","button",3,"disabled","click",4,"pngxIfPermissions"],["ngbDropdownItem","",3,"click","disabled"],["ngbDropdownItem","",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","person-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["width","1em","height","1em","name","arrow-clockwise"],[1,"mt-4"],[1,"col-1","d-none","d-sm-block"],[1,"col-2"],[1,"col-2","d-none","d-sm-block"],["class","col d-none d-sm-block",4,"pngxIfPermissions"],[1,"col-3"],[1,"col-1","d-flex","align-items-center","d-none","d-sm-flex"],[1,"col-2","d-flex","align-items-center"],[1,"col-2","d-flex","align-items-center","d-none","d-sm-flex"],[1,"form-check","form-switch","mb-0"],["type","checkbox","class","form-check-input cursor-pointer",3,"id","ngModel","ngModelChange","change",4,"pngxIfPermissions"],[1,"form-check-label","cursor-pointer",3,"for"],[1,"text-muted"],["class","col d-flex align-items-center d-none d-sm-flex",4,"pngxIfPermissions"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfPermissions"],["type","checkbox",1,"form-check-input","cursor-pointer",3,"ngModelChange","change","id","ngModel"],[1,"col","d-flex","align-items-center","d-none","d-sm-flex"],["width","1em","height","1em","name","clock-history"],["width","1em","height","1em","name","files"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"]]},template:function(i,o){1&i&&(O(0,"pngx-page-header",40),ce(1,Wpt,22,8,"ng-container",41)(2,hft,23,10,"ng-container",41),y(3,uft,4,0,"div")),2&i&&(_(),m("pngxIfPermissions",$e(3,is,o.PermissionAction.View,o.PermissionType.MailAccount)),_(),m("pngxIfPermissions",$e(6,is,o.PermissionAction.View,o.PermissionType.MailRule)),_(),P(o.mailAccounts&&o.mailRules?-1:3))},dependencies:[hr,ys,zg,$t,No,Gt,Ln,Wt,Go,Ho,Ss,Qo,js,oa,Bt,en,s1],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}return t})();const gft=["selectedList"],pft=["unselectedList"],ZB=t=>[t],WB=(t,n)=>n.id;function fft(t,n){if(1&t&&(d(0,"div",5),N(1),u()),2&t){const e=n.$implicit;_(),oe(e.name)}}function mft(t,n){if(1&t&&(d(0,"div",6),N(1),u()),2&t){const e=p();_(),oe(e.emptyText)}}function vft(t,n){if(1&t&&(d(0,"div",9),N(1),u()),2&t){const e=n.$implicit;_(),oe(e.name)}}let Cft=(()=>{class t extends Ns{constructor(){super(...arguments),this.title="\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0645\u064F\u062D\u062F\u062F\u0629",this.items=[],this.selectedItems=[],this.emptyText="\u0644\u0645 \u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062F \u0623\u064A\u0629 \u0639\u0646\u0627\u0635\u0631"}get unselectedItems(){return this.items.filter(e=>!this.selectedItems.includes(e))}writeValue(e){super.writeValue(e),this.selectedItems=e?.map(i=>this.items.find(o=>o.id===i)).filter(i=>i)??[]}drop(e){e.previousContainer===e.container&&e.container===this.selectedList?qc(this.selectedItems,e.previousIndex,e.currentIndex):e.container===this.selectedList?this.selectedItems.splice(e.currentIndex,0,this.unselectedItems[e.previousIndex]):e.container===this.unselectedList&&e.previousContainer===this.selectedList&&this.selectedItems.splice(e.previousIndex,1),this.onChange(this.selectedItems.map(i=>i.id))}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-input-drag-drop-select"]],viewQuery:function(i,o){if(1&i&&(Tn(gft,5),Tn(pft,5)),2&i){let s;Mt(s=Tt())&&(o.selectedList=s.first),Mt(s=Tt())&&(o.unselectedList=s.first)}},inputs:{title:"title",items:"items",emptyText:"emptyText"},features:[qt([{provide:oi,useExisting:rn(()=>t),multi:!0}]),at],decls:13,vars:8,consts:[["selectedList","cdkDropList"],["unselectedList","cdkDropList"],[1,"d-flex","flex-row","mt-2","align-items-center"],[1,"me-2"],["cdkDropList","","cdkDropListOrientation","mixed",1,"d-flex","flex-wrap","flex-row","gap-2","w-100","mh-1",2,"min-height","1em",3,"cdkDropListDropped","cdkDropListConnectedTo"],["cdkDrag","",1,"badge","bg-primary"],[1,"badge","bg-light","text-secondary","fst-italic"],[1,"mt-2","align-items-center","bg-light","p-2"],["cdkDropList","","cdkDropListOrientation","mixed",1,"d-flex","flex-wrap","flex-row","gap-2","w-100",3,"cdkDropListDropped","cdkDropListConnectedTo"],["cdkDrag","",1,"badge","bg-secondary","opacity-50"]],template:function(i,o){if(1&i){const s=k();d(0,"div",2)(1,"span",3),N(2),u(),d(3,"div",4,0),E("cdkDropListDropped",function(a){return T(s),w(o.drop(a))}),Ke(5,fft,2,1,"div",5,WB),y(7,mft,2,1,"div",6),u()(),d(8,"div",7)(9,"div",8,1),E("cdkDropListDropped",function(a){return T(s),w(o.drop(a))}),Ke(11,vft,2,1,"div",9,WB),u()()}if(2&i){const s=xe(4),r=xe(10);_(2),He("",o.title,":"),_(),m("cdkDropListConnectedTo",ei(4,ZB,r)),_(2),qe(o.selectedItems),_(2),P(0===o.selectedItems.length?7:-1),_(2),m("cdkDropListConnectedTo",ei(6,ZB,s)),_(2),qe(o.unselectedItems)}},dependencies:[a2,r2,s2],styles:[".badge[_ngcontent-%COMP%]{cursor:move}"]})}return t})();const Mft=(t,n)=>({action:t,type:n});function Tft(t,n){if(1&t){const e=k();d(0,"pngx-confirm-button",34),E("confirm",function(){T(e);const o=p().$implicit;return w(p().deleteSavedView(o))}),u()}}function wft(t,n){1&t&&O(0,"pngx-input-drag-drop-select",33),2&t&&m("items",p(2).displayFields)}function bft(t,n){if(1&t&&(d(0,"li",14)(1,"div",18)(2,"div",19)(3,"div",20),O(4,"pngx-input-text",21),u(),d(5,"div",20)(6,"div",22),O(7,"input",23),d(8,"label",24),b(9,2),u()(),d(10,"div",25),O(11,"input",26),d(12,"label",24),b(13,3),u()()(),d(14,"div",27)(15,"label",28),b(16,4),u(),ce(17,Tft,1,0,"pngx-confirm-button",29),u()(),d(18,"div",19)(19,"div",20),O(20,"pngx-input-number",30),u(),d(21,"div",20)(22,"label",28),b(23,5),u(),d(24,"select",31)(25,"option",32),b(26,6),u(),d(27,"option",32),b(28,7),u(),d(29,"option",32),b(30,8),u()()(),y(31,wft,1,1,"pngx-input-drag-drop-select",33),u()()()),2&t){const e=n.$implicit,i=p();_(),m("formGroupName",e.id),_(6),m("id",Lt("show_on_dashboard_",e.id)),_(),m("for",Lt("show_on_dashboard_",e.id)),_(3),m("id",Lt("show_in_sidebar_",e.id)),_(),m("for",Lt("show_in_sidebar_",e.id)),_(3),m("for",Lt("name_",e.id)),_(2),m("pngxIfPermissions",$e(19,Mft,i.PermissionAction.Delete,i.PermissionType.SavedView)),_(3),m("showAdd",!1),_(2),m("for",Lt("display_mode_",e.id)),_(3),m("ngValue",i.DisplayMode.TABLE),_(2),m("ngValue",i.DisplayMode.SMALL_CARDS),_(2),m("ngValue",i.DisplayMode.LARGE_CARDS),_(2),P(i.displayFields?31:-1)}}function Sft(t,n){1&t&&(d(0,"li",15)(1,"div"),b(2,9),u()())}function Eft(t,n){1&t&&(d(0,"li",15),O(1,"div",35),d(2,"div",36),b(3,10),u()())}let Oft=(()=>{class t extends Ds{get displayFields(){return this.settings.allDisplayFields}constructor(){super(),this.savedViewService=M(V5),this.settings=M(Gn),this.toastService=M(eo),this.DisplayMode=ih,this.savedViewsGroup=new ti({}),this.savedViewsForm=new ti({savedViews:this.savedViewsGroup}),this.settings.organizingSidebarSavedViews=!0}ngOnInit(){this.loading=!0,this.savedViewService.listAll().subscribe(e=>{this.savedViews=e.results,this.initialize()})}ngOnDestroy(){this.settings.organizingSidebarSavedViews=!1,super.ngOnDestroy()}initialize(){this.loading=!1,this.emptyGroup(this.savedViewsGroup);let e={savedViews:{}};for(let i of this.savedViews)e.savedViews[i.id.toString()]={id:i.id,name:i.name,show_on_dashboard:i.show_on_dashboard,show_in_sidebar:i.show_in_sidebar,page_size:i.page_size,display_mode:i.display_mode,display_fields:i.display_fields},this.savedViewsGroup.addControl(i.id.toString(),new ti({id:new re(null),name:new re(null),show_on_dashboard:new re(null),show_in_sidebar:new re(null),page_size:new re(null),display_mode:new re(null),display_fields:new re([])}));this.store=new Qn(e),this.store.asObservable().pipe(me(this.unsubscribeNotifier)).subscribe(i=>{this.savedViewsForm.patchValue(i,{emitEvent:!1})}),this.isDirty$=S4(this.savedViewsForm,this.store.asObservable())}reset(){this.savedViewsForm.patchValue(this.store.getValue())}deleteSavedView(e){this.savedViewService.delete(e).subscribe(()=>{this.savedViewsGroup.removeControl(e.id.toString()),this.savedViews.splice(this.savedViews.indexOf(e),1),this.toastService.showInfo("\u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u062D\u0641\u0648\u0638 \"" + e.name + "\" \u0645\u064F\u0633\u062D."),this.savedViewService.clearCache(),this.savedViewService.listAll().subscribe(i=>{this.savedViews=i.results,this.initialize()})})}emptyGroup(e){Object.keys(e.controls).forEach(i=>e.removeControl(i))}save(){const e=[];Object.values(this.savedViewsGroup.controls).filter(i=>!i.pristine).forEach(i=>{e.push(i.value)}),e.length&&this.savedViewService.patchMany(e).subscribe({next:()=>{this.toastService.showInfo("\u062A\u0645 \u062D\u0641\u0638 \u0637\u0631\u0642 \u0627\u0644\u0639\u0631\u0636 \u0628\u0646\u062C\u0627\u062D."),this.store.next(this.savedViewsForm.value)},error:i=>{this.toastService.showError("Error while saving views.",i)}})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-saved-views"]],features:[at],decls:13,vars:9,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L;return e="\u0637\u0631\u0642 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",i="\u062A\u062E\u0635\u064A\u0635 \u0637\u0631\u0642 \u0639\u0631\u0636 \u0645\u0633\u062A\u0646\u062F\u0627\u062A\u0643.",o="\u0625\u0644\u063A\u0627\u0621",s="\u062D\u0641\u0638",r="\u062D\u0630\u0641",a="\u062D\u062C\u0645 \u0635\u0641\u062D\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u0646\u062F",l="\u0625\u0638\u0647\u0627\u0631",c="\u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A",h="\u0639\u0631\u0636 \u0639\u0644\u0649 \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645",g="\u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u0634\u0631\u064A\u0637 \u0627\u0644\u062C\u0627\u0646\u0628\u064A",f="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",v="\u0639\u0631\u0636 \u0643\u0640",C="\u0627\u0644\u062C\u062F\u0648\u0644",S="\u0628\u0637\u0627\u0642\u0627\u062A \u0635\u063A\u064A\u0631\u0629",D="\u0628\u0637\u0627\u0642\u0627\u062A \u0643\u0628\u064A\u0631\u0629",I="\u0644\u0627 \u062A\u0648\u062C\u062F \u0622\u0631\u0627\u0621 \u0645\u062D\u0641\u0648\u0638\u0629.",L="\u062A\u062D\u0645\u064A\u0644...",[o,s,h,g,f,v,C,S,D,I,L,["title",e,"info",i],[3,"ngSubmit","formGroup"],["formGroupName","savedViews",1,"list-group","mb-3"],[1,"list-group-item","py-3"],[1,"list-group-item"],["type","button",1,"btn","btn-outline-secondary","mb-2",3,"click","disabled"],["type","submit",1,"btn","btn-primary","ms-2","mb-2",3,"disabled"],[3,"formGroupName"],[1,"row"],[1,"col"],["title","Name","formControlName","name"],[1,"form-check","form-switch","mt-3"],["type","checkbox","formControlName","show_on_dashboard",1,"form-check-input",3,"id"],[1,"form-check-label",3,"for"],[1,"form-check","form-switch"],["type","checkbox","formControlName","show_in_sidebar",1,"form-check-input",3,"id"],[1,"col-auto"],[1,"form-label",3,"for"],["label",r,"buttonClasses","btn-sm btn-outline-danger form-control","iconName","trash",3,"confirm",4,"pngxIfPermissions"],["title",a,"formControlName","page_size",3,"showAdd"],["formControlName","display_mode",1,"form-select"],[3,"ngValue"],["title",l,"emptyText",c,"formControlName","display_fields",3,"items"],["label",r,"buttonClasses","btn-sm btn-outline-danger form-control","iconName","trash",3,"confirm"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"]]},template:function(i,o){1&i&&(O(0,"pngx-page-header",11),d(1,"form",12),E("ngSubmit",function(){return o.save()}),d(2,"ul",13),Ke(3,bft,32,22,"li",14,jt),y(5,Sft,3,0,"li",15),y(6,Eft,4,0,"li",15),u(),d(7,"button",16),Fe(8,"async"),E("click",function(){return o.reset()}),b(9,0),u(),d(10,"button",17),Fe(11,"async"),b(12,1),u()()),2&i&&(_(),m("formGroup",o.savedViewsForm),_(2),qe(o.savedViews),_(2),P(o.savedViews&&0===o.savedViews.length?5:-1),_(),P(o.loading?6:-1),_(),m("disabled",!1===lt(8,5,o.isDirty$)),_(3),m("disabled",!1===lt(11,7,o.isDirty$)))},dependencies:[hr,i8,F5,qs,ys,Cft,$t,Do,Rl,xl,No,t0,Gt,Co,Wt,ao,Mo,Ll,s1],styles:["[_nghost-%COMP%]{display:block}"]})}return t})();const q5=(t,n)=>({action:t,type:n}),XB=t=>({"d-none d-sm-table-cell":t}),Aft=t=>({object:t,depth:0}),Nft=(t,n)=>({object:t,depth:n});function Dft(t,n){if(1&t){const e=k();d(0,"button",45),E("click",function(){return T(e),w(p().openCreateDialog())}),O(1,"i-bs",46),N(2,"\xa0"),ge(3),b(4,9),ue(),u()}}function yft(t,n){if(1&t){const e=k();d(0,"th",47),E("sort",function(o){return T(e),w(p().onSort(o))}),N(1),u()}if(2&t){const e=n.$implicit,i=p();m("pngxSortable",ni(e.key))("ngClass",ei(6,XB,e.hideOnMobile))("currentSortField",i.sortField)("currentSortReverse",i.sortReverse),_(),oe(e.name)}}function Pft(t,n){1&t&&(d(0,"tr")(1,"td",48),O(2,"div",49),ge(3),b(4,10),ue(),u()())}function Ift(t,n){if(1&t&&Mn(0,43),2&t){const e=n.$implicit;p(),m("ngTemplateOutlet",xe(49))("ngTemplateOutletContext",ei(2,Aft,e))}}function Lft(t,n){1&t&&N(0),2&t&&He(" \xa0(",p(3).selectedObjects.size," selected) ")}function Rft(t,n){if(1&t&&(d(0,"div"),ge(1),b(2,11),ue(),y(3,Lft,1,1),u()),2&t){const e=p(2);_(2),An(e.collectionSize)(e.typeName)(e.collectionSize||0)(e.typeNamePlural),In(2),_(),P(e.selectedObjects.size>0?3:-1)}}function xft(t,n){if(1&t){const e=k();d(0,"ngb-pagination",51),Re("pageChange",function(o){T(e);const s=p(2);return Pe(s.page,o)||(s.page=o),w(o)}),E("pageChange",function(){return T(e),w(p(2).reloadData())}),u()}if(2&t){const e=p(2);m("pageSize",25)("collectionSize",e.collectionSize),Le("page",e.page),m("maxSize",5)}}function Fft(t,n){if(1&t&&(d(0,"div",44),y(1,Rft,4,5,"div"),y(2,xft,1,4,"ngb-pagination",50),u()),2&t){const e=p();_(),P(e.collectionSize>0?1:-1),_(),P(e.collectionSize>20?2:-1)}}function kft(t,n){1&t&&O(0,"div",56)}function zft(t,n){if(1&t&&(O(0,"div",73),Fe(1,"safeHtml")),2&t){const e=p().$implicit,i=p().object;m("innerHtml",lt(1,1,e.valueFn.call(null,i)),Fo)}}function Vft(t,n){if(1&t&&(d(0,"span",74),N(1),u()),2&t){const e=p().$implicit,i=p().object;_(),oe(e.valueFn.call(null,i))}}function Hft(t,n){if(1&t&&N(0),2&t){const e=p().$implicit,i=p().object;He(" ",e.valueFn.call(null,i)," ")}}function Gft(t,n){if(1&t&&(d(0,"td",60),y(1,zft,2,3,"div",73)(2,Vft,2,1,"span",74)(3,Hft,1,1),u()),2&t){const e=n.$implicit;m("ngClass",ei(2,XB,e.hideOnMobile)),_(),P(e.rendersHtml?1:e.monospace?2:3)}}function $ft(t,n){if(1&t){const e=k();d(0,"button",75),E("click",function(){T(e);const o=p().object;return w(p().openEditDialog(o))}),b(1,12),u()}}function Bft(t,n){if(1&t){const e=k();d(0,"button",76),E("click",function(){T(e);const o=p().object;return w(p().openDeleteDialog(o))}),b(1,13),u()}}function Uft(t,n){if(1&t){const e=k();d(0,"button",75),E("click",function(){T(e);const o=p(2).object;return w(p().filterDocuments(o))}),b(1,14),u()}if(2&t){const e=p(2).object,i=p();_(),An(i.getDocumentCount(e)),In(1)}}function jft(t,n){if(1&t&&ce(0,Uft,2,1,"button",67),2&t){const e=p(2);m("pngxIfPermissions",$e(1,q5,e.PermissionAction.View,e.PermissionType.Document))}}function Zft(t,n){if(1&t){const e=k();d(0,"button",77),E("click",function(o){T(e);const s=p().object;return p().openEditDialog(s),w(o.stopPropagation())}),O(1,"i-bs",78),N(2,"\xa0"),ge(3),b(4,15),ue(),u()}if(2&t){const e=p().object;m("disabled",!p().userCanEdit(e))}}function Wft(t,n){if(1&t){const e=k();d(0,"button",79),E("click",function(o){T(e);const s=p().object;return p().openDeleteDialog(s),w(o.stopPropagation())}),O(1,"i-bs",80),N(2,"\xa0"),ge(3),b(4,16),ue(),u()}if(2&t){const e=p().object;m("disabled",!p().userCanDelete(e))}}function Xft(t,n){if(1&t){const e=k();d(0,"button",82),E("click",function(o){T(e);const s=p(2).object;return p().filterDocuments(s),w(o.stopPropagation())}),O(1,"i-bs",83),N(2,"\xa0"),ge(3),b(4,17),ue(),d(5,"span",84),N(6),u()()}if(2&t){const e=p(2).object,i=p();_(6),oe(i.getDocumentCount(e))}}function Kft(t,n){if(1&t&&(d(0,"div",70),ce(1,Xft,7,1,"button",81),u()),2&t){const e=p(2);_(),m("pngxIfPermissions",$e(1,q5,e.PermissionAction.View,e.PermissionType.Document))}}function qft(t,n){if(1&t&&Mn(0,43),2&t){const e=n.$implicit,i=p(2).depth;p(),m("ngTemplateOutlet",xe(49))("ngTemplateOutletContext",$e(2,Nft,e,i+1))}}function Yft(t,n){1&t&&Ke(0,qft,1,5,"ng-container",43,jt),2&t&&qe(p().object.children)}function Qft(t,n){if(1&t){const e=k();d(0,"tr",52),E("click",function(o){const s=T(e).object;return p().toggleSelected(s),w(o.stopPropagation())}),d(1,"td")(2,"div",35)(3,"input",53),E("click",function(o){const s=T(e).object;return p().toggleSelected(s),w(o.stopPropagation())}),u(),O(4,"label",54),u()(),d(5,"td",55),y(6,kft,1,0,"div",56),d(7,"button",57),E("click",function(o){const s=T(e).object,r=p();return r.userCanEdit(s)&&r.openEditDialog(s),w(o.stopPropagation())}),N(8),u()(),d(9,"td",58),N(10),u(),d(11,"td",59),N(12),u(),Ke(13,Gft,4,4,"td",60,jt),d(15,"td",59)(16,"div",61)(17,"div",62)(18,"div",63)(19,"button",64),E("click",function(o){return T(e),w(o.stopPropagation())}),O(20,"i-bs",65),u(),d(21,"div",66),ce(22,$ft,2,0,"button",67)(23,Bft,2,0,"button",68),y(24,jft,1,4,"button",69),u()()(),d(25,"div",70),ce(26,Zft,5,1,"button",71)(27,Wft,5,1,"button",72),u(),y(28,Kft,2,4,"div",70),u()()(),y(29,Yft,2,0)}if(2&t){const e=n.object,i=n.depth,o=p();we("show",o.show),_(3),m("id",e1("",o.typeName,"",e.id))("checked",o.selectedObjects.has(e.id)),_(),m("for",e1("",o.typeName,"",e.id)),_(),yu(Lt("--depth: ",i)),_(),P(i>0?6:-1),_(2),oe(e.name),_(2),oe(o.getMatching(e)),_(2),oe(o.getDocumentCount(e)),_(),qe(o.extraColumns),_(9),m("pngxIfPermissions",$e(23,q5,o.PermissionAction.Change,o.permissionType)),_(),m("pngxIfPermissions",$e(26,q5,o.PermissionAction.Delete,o.permissionType)),_(),P(o.getDocumentCount(e)>0?24:-1),_(2),m("pngxIfPermissions",$e(29,q5,o.PermissionAction.Change,o.permissionType)),_(),m("pngxIfPermissions",$e(32,q5,o.PermissionAction.Delete,o.permissionType)),_(),P(o.getDocumentCount(e)>0?28:-1),_(),P(e.children&&e.children.length>0?29:-1)}}let Jft=(()=>{class t extends v8{constructor(){super(),this.service=M(nc),this.editDialogComponent=K4,this.filterRuleType=30,this.typeName="\u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646",this.typeNamePlural="\u0645\u0633\u0627\u0631\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646",this.permissionType=vt.StoragePath,this.extraColumns=[{key:"path",name:"\u0645\u0633\u0627\u0631",hideOnMobile:!0,monospace:!0,valueFn:e=>`${e.path?.slice(0,49)}${e.path?.length>50?"...":""}`}]}getDeleteMessage(e){return "\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0642\u0627\u064B \u062D\u0630\u0641 \u0645\u0633\u0627\u0631 \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \"" + e.name + "\"\u061F"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-storage-path-list"]],features:[at],decls:50,vars:28,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G;return e="\u0627\u0633\u0645",i="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062A\u062D\u062F\u064A\u062F",o="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",s="\u062D\u0630\u0641",r="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628:",a="\u0627\u0633\u0645",l="\u0645\u0637\u0627\u0628\u0642\u0629",c="\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",h="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",g="\u0625\u0646\u0634\u0627\u0621",f="\u062A\u062D\u0645\u064A\u0644...",v="{VAR_PLURAL, plural, zero {} one {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} two {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} few {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} many {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} =1 {\u0648\u0627\u062D\u062F {INTERPOLATION}} other {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}}}",v=Ma(v,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),C="\u062A\u062D\u0631\u064A\u0631",S="\u062D\u0630\u0641",D="Filter Documents (" + "\ufffd0\ufffd" + ")",I="\u062A\u062D\u0631\u064A\u0631",L="\u062D\u0630\u0641",G="\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",[["objectRow",""],i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,["infoLink","usage/#terms-and-definitions",3,"title","info"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",e,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"ngClass","pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","ngClass","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"data-row","fade",3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row",1,"name-cell"],[1,"indicator"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],["scope","row"],["scope","row",3,"ngClass"],[1,"btn-toolbar","gap-2"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"btn-group","d-none","d-sm-inline-block"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],[1,"font-monospace"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"badge","bg-light","text-secondary","ms-2"]]},template:function(i,o){if(1&i){const s=k();d(0,"pngx-page-header",18),Fe(1,"titlecase"),d(2,"button",19),E("click",function(){return T(s),w(o.clearSelection())}),O(3,"i-bs",20),N(4,"\xa0"),ge(5),b(6,1),ue(),u(),d(7,"button",21),E("click",function(){return T(s),w(o.setPermissions())}),O(8,"i-bs",22),N(9,"\xa0"),ge(10),b(11,2),ue(),u(),d(12,"button",23),E("click",function(){return T(s),w(o.delete())}),O(13,"i-bs",24),N(14,"\xa0"),ge(15),b(16,3),ue(),u(),ce(17,Dft,5,0,"button",25),u(),d(18,"div",26)(19,"div",27)(20,"div",28)(21,"label",29),b(22,4),u(),d(23,"input",30),Re("ngModelChange",function(a){return T(s),Pe(o.nameFilter,a)||(o.nameFilter=a),w(a)}),E("keyup",function(a){return T(s),w(o.onNameFilterKeyUp(a))}),u()()(),d(24,"ngb-pagination",31),Re("pageChange",function(a){return T(s),Pe(o.page,a)||(o.page=a),w(a)}),E("pageChange",function(){return T(s),w(o.reloadData())}),u()(),d(25,"div",32)(26,"table",33)(27,"thead")(28,"tr")(29,"th",34)(30,"div",35)(31,"input",36),Re("ngModelChange",function(a){return T(s),Pe(o.togggleAll,a)||(o.togggleAll=a),w(a)}),E("click",function(a){return T(s),o.toggleAll(a),w(a.stopPropagation())}),u(),O(32,"label",37),u()(),d(33,"th",38),E("sort",function(a){return T(s),w(o.onSort(a))}),b(34,5),u(),d(35,"th",39),E("sort",function(a){return T(s),w(o.onSort(a))}),b(36,6),u(),d(37,"th",40),E("sort",function(a){return T(s),w(o.onSort(a))}),b(38,7),u(),Ke(39,yft,2,8,"th",41,jt),d(41,"th",42),b(42,8),u()()(),d(43,"tbody"),y(44,Pft,5,0,"tr"),Ke(45,Ift,1,4,"ng-container",43,jt),u()()(),y(47,Fft,3,2,"div",44),ce(48,Qft,30,35,"ng-template",null,0,xt)}2&i&&(m("title",ni(lt(1,23,o.typeNamePlural)))("info",Lt("View, add, edit and delete ",o.typeNamePlural,".")),_(2),m("hidden",0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),_(5),m("pngxIfPermissions",$e(25,q5,o.PermissionAction.Add,o.permissionType)),_(6),Le("ngModel",o.nameFilter),_(),m("pageSize",25)("collectionSize",o.collectionSize),Le("page",o.page),m("maxSize",5),_(7),Le("ngModel",o.togggleAll),m("disabled",0===o.data.length),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),qe(o.extraColumns),_(5),P(o.loading?44:-1),_(),qe(o.data),_(2),P(o.loading?-1:47))},dependencies:[Z5,hr,ys,$t,Ci,No,Gt,Ln,Wt,wa,Ao,Go,Ho,Ss,Qo,js,oa,R1,r0,Bt,en,c2,k5],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}td.name-cell[_ngcontent-%COMP%]{padding-left:calc((var(--depth) - 1) * 1.1rem)}td.name-cell[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{display:inline-block;width:.8rem;height:.8rem;border-left:1px solid var(--bs-secondary);border-bottom:1px solid var(--bs-secondary);margin-right:.25rem;margin-left:.5rem}"]})}return t})();const Y5=(t,n)=>({action:t,type:n}),KB=t=>({"d-none d-sm-table-cell":t}),e3t=t=>({object:t,depth:0}),t3t=(t,n)=>({object:t,depth:n});function n3t(t,n){if(1&t){const e=k();d(0,"button",45),E("click",function(){return T(e),w(p().openCreateDialog())}),O(1,"i-bs",46),N(2,"\xa0"),ge(3),b(4,9),ue(),u()}}function i3t(t,n){if(1&t){const e=k();d(0,"th",47),E("sort",function(o){return T(e),w(p().onSort(o))}),N(1),u()}if(2&t){const e=n.$implicit,i=p();m("pngxSortable",ni(e.key))("ngClass",ei(6,KB,e.hideOnMobile))("currentSortField",i.sortField)("currentSortReverse",i.sortReverse),_(),oe(e.name)}}function o3t(t,n){1&t&&(d(0,"tr")(1,"td",48),O(2,"div",49),ge(3),b(4,10),ue(),u()())}function s3t(t,n){if(1&t&&Mn(0,43),2&t){const e=n.$implicit;p(),m("ngTemplateOutlet",xe(49))("ngTemplateOutletContext",ei(2,e3t,e))}}function r3t(t,n){1&t&&N(0),2&t&&He(" \xa0(",p(3).selectedObjects.size," selected) ")}function a3t(t,n){if(1&t&&(d(0,"div"),ge(1),b(2,11),ue(),y(3,r3t,1,1),u()),2&t){const e=p(2);_(2),An(e.collectionSize)(e.typeName)(e.collectionSize||0)(e.typeNamePlural),In(2),_(),P(e.selectedObjects.size>0?3:-1)}}function l3t(t,n){if(1&t){const e=k();d(0,"ngb-pagination",51),Re("pageChange",function(o){T(e);const s=p(2);return Pe(s.page,o)||(s.page=o),w(o)}),E("pageChange",function(){return T(e),w(p(2).reloadData())}),u()}if(2&t){const e=p(2);m("pageSize",25)("collectionSize",e.collectionSize),Le("page",e.page),m("maxSize",5)}}function c3t(t,n){if(1&t&&(d(0,"div",44),y(1,a3t,4,5,"div"),y(2,l3t,1,4,"ngb-pagination",50),u()),2&t){const e=p();_(),P(e.collectionSize>0?1:-1),_(),P(e.collectionSize>20?2:-1)}}function d3t(t,n){1&t&&O(0,"div",56)}function h3t(t,n){if(1&t&&(O(0,"div",73),Fe(1,"safeHtml")),2&t){const e=p().$implicit,i=p().object;m("innerHtml",lt(1,1,e.valueFn.call(null,i)),Fo)}}function u3t(t,n){if(1&t&&(d(0,"span",74),N(1),u()),2&t){const e=p().$implicit,i=p().object;_(),oe(e.valueFn.call(null,i))}}function _3t(t,n){if(1&t&&N(0),2&t){const e=p().$implicit,i=p().object;He(" ",e.valueFn.call(null,i)," ")}}function g3t(t,n){if(1&t&&(d(0,"td",60),y(1,h3t,2,3,"div",73)(2,u3t,2,1,"span",74)(3,_3t,1,1),u()),2&t){const e=n.$implicit;m("ngClass",ei(2,KB,e.hideOnMobile)),_(),P(e.rendersHtml?1:e.monospace?2:3)}}function p3t(t,n){if(1&t){const e=k();d(0,"button",75),E("click",function(){T(e);const o=p().object;return w(p().openEditDialog(o))}),b(1,12),u()}}function f3t(t,n){if(1&t){const e=k();d(0,"button",76),E("click",function(){T(e);const o=p().object;return w(p().openDeleteDialog(o))}),b(1,13),u()}}function m3t(t,n){if(1&t){const e=k();d(0,"button",75),E("click",function(){T(e);const o=p(2).object;return w(p().filterDocuments(o))}),b(1,14),u()}if(2&t){const e=p(2).object,i=p();_(),An(i.getDocumentCount(e)),In(1)}}function v3t(t,n){if(1&t&&ce(0,m3t,2,1,"button",67),2&t){const e=p(2);m("pngxIfPermissions",$e(1,Y5,e.PermissionAction.View,e.PermissionType.Document))}}function C3t(t,n){if(1&t){const e=k();d(0,"button",77),E("click",function(o){T(e);const s=p().object;return p().openEditDialog(s),w(o.stopPropagation())}),O(1,"i-bs",78),N(2,"\xa0"),ge(3),b(4,15),ue(),u()}if(2&t){const e=p().object;m("disabled",!p().userCanEdit(e))}}function M3t(t,n){if(1&t){const e=k();d(0,"button",79),E("click",function(o){T(e);const s=p().object;return p().openDeleteDialog(s),w(o.stopPropagation())}),O(1,"i-bs",80),N(2,"\xa0"),ge(3),b(4,16),ue(),u()}if(2&t){const e=p().object;m("disabled",!p().userCanDelete(e))}}function T3t(t,n){if(1&t){const e=k();d(0,"button",82),E("click",function(o){T(e);const s=p(2).object;return p().filterDocuments(s),w(o.stopPropagation())}),O(1,"i-bs",83),N(2,"\xa0"),ge(3),b(4,17),ue(),d(5,"span",84),N(6),u()()}if(2&t){const e=p(2).object,i=p();_(6),oe(i.getDocumentCount(e))}}function w3t(t,n){if(1&t&&(d(0,"div",70),ce(1,T3t,7,1,"button",81),u()),2&t){const e=p(2);_(),m("pngxIfPermissions",$e(1,Y5,e.PermissionAction.View,e.PermissionType.Document))}}function b3t(t,n){if(1&t&&Mn(0,43),2&t){const e=n.$implicit,i=p(2).depth;p(),m("ngTemplateOutlet",xe(49))("ngTemplateOutletContext",$e(2,t3t,e,i+1))}}function S3t(t,n){1&t&&Ke(0,b3t,1,5,"ng-container",43,jt),2&t&&qe(p().object.children)}function E3t(t,n){if(1&t){const e=k();d(0,"tr",52),E("click",function(o){const s=T(e).object;return p().toggleSelected(s),w(o.stopPropagation())}),d(1,"td")(2,"div",35)(3,"input",53),E("click",function(o){const s=T(e).object;return p().toggleSelected(s),w(o.stopPropagation())}),u(),O(4,"label",54),u()(),d(5,"td",55),y(6,d3t,1,0,"div",56),d(7,"button",57),E("click",function(o){const s=T(e).object,r=p();return r.userCanEdit(s)&&r.openEditDialog(s),w(o.stopPropagation())}),N(8),u()(),d(9,"td",58),N(10),u(),d(11,"td",59),N(12),u(),Ke(13,g3t,4,4,"td",60,jt),d(15,"td",59)(16,"div",61)(17,"div",62)(18,"div",63)(19,"button",64),E("click",function(o){return T(e),w(o.stopPropagation())}),O(20,"i-bs",65),u(),d(21,"div",66),ce(22,p3t,2,0,"button",67)(23,f3t,2,0,"button",68),y(24,v3t,1,4,"button",69),u()()(),d(25,"div",70),ce(26,C3t,5,1,"button",71)(27,M3t,5,1,"button",72),u(),y(28,w3t,2,4,"div",70),u()()(),y(29,S3t,2,0)}if(2&t){const e=n.object,i=n.depth,o=p();we("show",o.show),_(3),m("id",e1("",o.typeName,"",e.id))("checked",o.selectedObjects.has(e.id)),_(),m("for",e1("",o.typeName,"",e.id)),_(),yu(Lt("--depth: ",i)),_(),P(i>0?6:-1),_(2),oe(e.name),_(2),oe(o.getMatching(e)),_(2),oe(o.getDocumentCount(e)),_(),qe(o.extraColumns),_(9),m("pngxIfPermissions",$e(23,Y5,o.PermissionAction.Change,o.permissionType)),_(),m("pngxIfPermissions",$e(26,Y5,o.PermissionAction.Delete,o.permissionType)),_(),P(o.getDocumentCount(e)>0?24:-1),_(2),m("pngxIfPermissions",$e(29,Y5,o.PermissionAction.Change,o.permissionType)),_(),m("pngxIfPermissions",$e(32,Y5,o.PermissionAction.Delete,o.permissionType)),_(),P(o.getDocumentCount(e)>0?28:-1),_(),P(e.children&&e.children.length>0?29:-1)}}let O3t=(()=>{class t extends v8{constructor(){super(),this.service=M(fh),this.editDialogComponent=Y4,this.filterRuleType=6,this.typeName="\u0627\u0644\u0648\u0633\u0645",this.typeNamePlural="\u0627\u0644\u0648\u0633\u0648\u0645",this.permissionType=vt.Tag,this.extraColumns=[{key:"color",name:"\u0644\u0648\u0646",rendersHtml:!0,valueFn:e=>`<span class="badge" style="color: ${e.text_color}; background-color: ${e.color}">${e.color}</span>`}]}getDeleteMessage(e){return "\u0647\u0644 \u062A\u0631\u063A\u0628 \u062D\u0642\u0627\u064B \u0641\u064A \u062D\u0630\u0641 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \"" + e.name + "\"\u061F"}filterData(e){return this.nameFilter?.length?[...e]:e.filter(i=>!i.parent)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-tag-list"]],features:[at],decls:50,vars:28,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G;return e="\u0627\u0633\u0645",i="\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062A\u062D\u062F\u064A\u062F",o="\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A",s="\u062D\u0630\u0641",r="\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628:",a="\u0627\u0633\u0645",l="\u0645\u0637\u0627\u0628\u0642\u0629",c="\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",h="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",g="\u0625\u0646\u0634\u0627\u0621",f="\u062A\u062D\u0645\u064A\u0644...",v="{VAR_PLURAL, plural, zero {} one {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} two {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} few {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} many {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}} =1 {\u0648\u0627\u062D\u062F {INTERPOLATION}} other {{INTERPOLATION_1} \u0645\u062C\u0645\u0648\u0639 {INTERPOLATION_2}}}",v=Ma(v,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),C="\u062A\u062D\u0631\u064A\u0631",S="\u062D\u0630\u0641",D="Filter Documents (" + "\ufffd0\ufffd" + ")",I="\u062A\u062D\u0631\u064A\u0631",L="\u062D\u0630\u0641",G="\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A",[["objectRow",""],i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,["infoLink","usage/#terms-and-definitions",3,"title","info"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",e,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"ngClass","pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","ngClass","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"data-row","fade",3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row",1,"name-cell"],[1,"indicator"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],["scope","row"],["scope","row",3,"ngClass"],[1,"btn-toolbar","gap-2"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem",""],[1,"btn-group","d-none","d-sm-inline-block"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],[1,"font-monospace"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"badge","bg-light","text-secondary","ms-2"]]},template:function(i,o){if(1&i){const s=k();d(0,"pngx-page-header",18),Fe(1,"titlecase"),d(2,"button",19),E("click",function(){return T(s),w(o.clearSelection())}),O(3,"i-bs",20),N(4,"\xa0"),ge(5),b(6,1),ue(),u(),d(7,"button",21),E("click",function(){return T(s),w(o.setPermissions())}),O(8,"i-bs",22),N(9,"\xa0"),ge(10),b(11,2),ue(),u(),d(12,"button",23),E("click",function(){return T(s),w(o.delete())}),O(13,"i-bs",24),N(14,"\xa0"),ge(15),b(16,3),ue(),u(),ce(17,n3t,5,0,"button",25),u(),d(18,"div",26)(19,"div",27)(20,"div",28)(21,"label",29),b(22,4),u(),d(23,"input",30),Re("ngModelChange",function(a){return T(s),Pe(o.nameFilter,a)||(o.nameFilter=a),w(a)}),E("keyup",function(a){return T(s),w(o.onNameFilterKeyUp(a))}),u()()(),d(24,"ngb-pagination",31),Re("pageChange",function(a){return T(s),Pe(o.page,a)||(o.page=a),w(a)}),E("pageChange",function(){return T(s),w(o.reloadData())}),u()(),d(25,"div",32)(26,"table",33)(27,"thead")(28,"tr")(29,"th",34)(30,"div",35)(31,"input",36),Re("ngModelChange",function(a){return T(s),Pe(o.togggleAll,a)||(o.togggleAll=a),w(a)}),E("click",function(a){return T(s),o.toggleAll(a),w(a.stopPropagation())}),u(),O(32,"label",37),u()(),d(33,"th",38),E("sort",function(a){return T(s),w(o.onSort(a))}),b(34,5),u(),d(35,"th",39),E("sort",function(a){return T(s),w(o.onSort(a))}),b(36,6),u(),d(37,"th",40),E("sort",function(a){return T(s),w(o.onSort(a))}),b(38,7),u(),Ke(39,i3t,2,8,"th",41,jt),d(41,"th",42),b(42,8),u()()(),d(43,"tbody"),y(44,o3t,5,0,"tr"),Ke(45,s3t,1,4,"ng-container",43,jt),u()()(),y(47,c3t,3,2,"div",44),ce(48,E3t,30,35,"ng-template",null,0,xt)}2&i&&(m("title",ni(lt(1,23,o.typeNamePlural)))("info",Lt("View, add, edit and delete ",o.typeNamePlural,".")),_(2),m("hidden",0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),_(5),m("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),_(5),m("pngxIfPermissions",$e(25,Y5,o.PermissionAction.Add,o.permissionType)),_(6),Le("ngModel",o.nameFilter),_(),m("pageSize",25)("collectionSize",o.collectionSize),Le("page",o.page),m("maxSize",5),_(7),Le("ngModel",o.togggleAll),m("disabled",0===o.data.length),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),m("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),_(2),qe(o.extraColumns),_(5),P(o.loading?44:-1),_(),qe(o.data),_(2),P(o.loading?-1:47))},dependencies:[Z5,hr,ys,$t,Ci,No,Gt,Ln,Wt,wa,Ao,Go,Ho,Ss,Qo,js,oa,R1,r0,Bt,en,c2,k5],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}td.name-cell[_ngcontent-%COMP%]{padding-left:calc((var(--depth) - 1) * 1.1rem)}td.name-cell[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{display:inline-block;width:.8rem;height:.8rem;border-left:1px solid var(--bs-secondary);border-bottom:1px solid var(--bs-secondary);margin-right:.25rem;margin-left:.5rem}"]})}return t})();const sc=(t,n)=>({action:t,type:n}),A3t=(t,n)=>n.id;function N3t(t,n){if(1&t){const e=k();d(0,"button",25),E("click",function(){return T(e),w(p().editWorkflow())}),O(1,"i-bs",26),N(2,"\xa0"),ge(3),b(4,6),ue(),u()}}function D3t(t,n){1&t&&(d(0,"li",20),O(1,"div",27),ge(2),b(3,7),ue(),u())}function y3t(t,n){if(1&t){const e=k();d(0,"input",46,0),Re("ngModelChange",function(o){T(e);const s=p().$implicit;return Pe(s.enabled,o)||(s.enabled=o),w(o)}),E("change",function(){T(e);const o=p().$implicit;return w(p().toggleWorkflowEnabled(o))}),u()}if(2&t){const e=p().$implicit;m("id",e.id+"_enable"),Le("ngModel",e.enabled)}}function P3t(t,n){1&t&&(ge(0),b(1,8),ue())}function I3t(t,n){1&t&&(d(0,"span",35),b(1,9),u())}function L3t(t,n){if(1&t){const e=k();d(0,"button",47),E("click",function(){T(e);const o=p().$implicit;return w(p().editWorkflow(o))}),b(1,10),u()}}function R3t(t,n){if(1&t){const e=k();d(0,"button",47),E("click",function(){T(e);const o=p().$implicit;return w(p().deleteWorkflow(o))}),b(1,11),u()}}function x3t(t,n){if(1&t){const e=k();d(0,"button",47),E("click",function(){T(e);const o=p().$implicit;return w(p().copyWorkflow(o))}),b(1,12),u()}}function F3t(t,n){if(1&t){const e=k();d(0,"button",48),E("click",function(){T(e);const o=p().$implicit;return w(p().editWorkflow(o))}),O(1,"i-bs",49),N(2,"\xa0"),ge(3),b(4,13),ue(),u()}}function k3t(t,n){if(1&t){const e=k();d(0,"button",50),E("click",function(){T(e);const o=p().$implicit;return w(p().deleteWorkflow(o))}),O(1,"i-bs",51),N(2,"\xa0"),ge(3),b(4,14),ue(),u()}}function z3t(t,n){if(1&t){const e=k();d(0,"button",48),E("click",function(){T(e);const o=p().$implicit;return w(p().copyWorkflow(o))}),O(1,"i-bs",52),N(2,"\xa0"),ge(3),b(4,15),ue(),u()}}function V3t(t,n){if(1&t){const e=k();d(0,"li",20)(1,"div",28)(2,"div",29)(3,"button",30),E("click",function(){const o=T(e).$implicit;return w(p().editWorkflow(o))}),N(4),u()(),d(5,"div",31)(6,"code"),N(7),u()(),d(8,"div",29)(9,"div",32),ce(10,y3t,2,2,"input",33),d(11,"label",34)(12,"code"),y(13,P3t,2,0,"ng-container")(14,I3t,2,0,"span",35),u()()()(),d(15,"div",31),N(16),u(),d(17,"div",22)(18,"div",36)(19,"div",37)(20,"button",38),E("click",function(o){return T(e),w(o.stopPropagation())}),O(21,"i-bs",39),u(),d(22,"div",40),ce(23,L3t,2,0,"button",41)(24,R3t,2,0,"button",41)(25,x3t,2,0,"button",41),u()()(),d(26,"div",42)(27,"div",43),ce(28,F3t,5,0,"button",44)(29,k3t,5,0,"button",45),u(),d(30,"div",43),ce(31,z3t,5,0,"button",44),u()()()()()}if(2&t){const e=n.$implicit,i=p();_(),we("show",i.show),_(2),m("disabled",!i.permissionsService.currentUserCan(i.PermissionAction.Change,i.PermissionType.Workflow)),_(),oe(e.name),_(3),oe(e.order),_(3),m("pngxIfPermissions",$e(15,sc,i.PermissionAction.Change,i.PermissionType.Workflow)),_(),m("for",e.id+"_enable"),_(2),P(e.enabled?13:14),_(3),oe(i.getTypesList(e)),_(7),m("pngxIfPermissions",$e(18,sc,i.PermissionAction.Change,i.PermissionType.Workflow)),_(),m("pngxIfPermissions",$e(21,sc,i.PermissionAction.Delete,i.PermissionType.Workflow)),_(),m("pngxIfPermissions",$e(24,sc,i.PermissionAction.Add,i.PermissionType.Workflow)),_(3),m("pngxIfPermissions",$e(27,sc,i.PermissionAction.Change,i.PermissionType.Workflow)),_(),m("pngxIfPermissions",$e(30,sc,i.PermissionAction.Delete,i.PermissionType.Workflow)),_(2),m("pngxIfPermissions",$e(33,sc,i.PermissionAction.Add,i.PermissionType.Workflow))}}function H3t(t,n){1&t&&(d(0,"li",20),b(1,16),u()),2&t&&we("show",p().show)}let G3t=(()=>{class t extends Ds{constructor(){super(...arguments),this.workflowService=M(IB),this.permissionsService=M(Ti),this.modalService=M(ps),this.toastService=M(eo),this.workflows=[]}ngOnInit(){this.reload()}reload(){this.loading=!0,this.workflowService.listAll().pipe(me(this.unsubscribeNotifier),_n(e=>this.workflows=e.results),n0(100)).subscribe(()=>{this.show=!0,this.loading=!1})}getTypesList(e){return e.triggers.map(i=>LB.find(o=>o.id===i.type).name).join(", ")}editWorkflow(e,i=!1){const o=this.modalService.open(xB,{backdrop:"static",size:"xl"});if(o.componentInstance.dialogMode=e&&!i?wi.EDIT:wi.CREATE,e){const s=Object.assign({},e);s.actions=[...e.actions],s.triggers=[...e.triggers],o.componentInstance.object=s}o.componentInstance.succeeded.pipe(me(this.unsubscribeNotifier)).subscribe(s=>{this.toastService.showInfo("\u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644 \u0627\u0644\u0645\u062D\u0641\u0648\u0638 \"" + s.name + "\"."),this.workflowService.clearCache(),this.reload()}),o.componentInstance.failed.pipe(me(this.unsubscribeNotifier)).subscribe(s=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644.",s)})}copyWorkflow(e){const i=Object.assign({},e);i.id=null,i.name=`${e.name} (copy)`,i.actions=[...e.actions.map(o=>(o.id=null,o.webhook&&(o.webhook.id=null),o.email&&(o.email.id=null),o))],i.triggers=[...e.triggers.map(o=>(o.id=null,o))],this.editWorkflow(i,!0)}deleteWorkflow(e){const i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u062A\u0623\u0643\u064A\u062F \u062D\u0630\u0641 \u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644",i.componentInstance.messageBold="\u0633\u062A\u0624\u062F\u064A \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0625\u0644\u0649 \u062D\u0630\u0641 \u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644 \u0647\u0630\u0627 \u0646\u0647\u0627\u0626\u064A\u0627.",i.componentInstance.message="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629.",i.componentInstance.btnClass="btn-danger",i.componentInstance.btnCaption="\u0645\u062A\u0627\u0628\u0639\u0629",i.componentInstance.confirmClicked.subscribe(()=>{i.componentInstance.buttonsEnabled=!1,this.workflowService.delete(e).subscribe({next:()=>{i.close(),this.toastService.showInfo("Deleted workflow \"" + e.name + "\"."),this.workflowService.clearCache(),this.reload()},error:o=>{this.toastService.showError("Error deleting workflow \"" + e.name + "\".",o)}})})}toggleWorkflowEnabled(e){this.workflowService.patch(e).subscribe({next:()=>{this.toastService.showInfo(e.enabled?"Enabled workflow \"" + e.name + "\"":"Disabled workflow \"" + e.name + "\""),this.workflowService.clearCache(),this.reload()},error:i=>{this.toastService.showError("Error toggling workflow \"" + e.name + "\".",i)}})}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-workflows"]],features:[at],decls:19,vars:6,consts:()=>{let e,i,o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G;return e="\u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644",i="\u0627\u0633\u062A\u062E\u062F\u0645 \u0645\u0647\u0627\u0645 \u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644 \u0644\u062A\u062E\u0635\u064A\u0635 \u0633\u0644\u0648\u0643 Paperless-ngx \u0639\u0646\u062F\u0645\u0627 \"\u062A\u0634\u063A\u0644\" \u0627\u0644\u0623\u062D\u062F\u0627\u062B \u0633\u064A\u0631 \u0639\u0645\u0644.",o="\u0627\u0633\u0645",s="\u062A\u0633\u0644\u0633\u0644 \u0627\u0644\u062A\u0631\u062A\u064A\u0628",r="\u0627\u0644\u062D\u0627\u0644\u0629",a="\u0627\u0644\u0645\u0634\u063A\u0644\u0627\u062A",l="\u0625\u062C\u0631\u0627\u0621\u0627\u062A",c="\u0625\u0636\u0627\u0641\u0629 \u0633\u064A\u0631 \u0639\u0645\u0644",h="\u062A\u062D\u0645\u064A\u0644...",g="\u0645\u064F\u0645\u064E\u0643\u0651\u0646",f="\u0645\u0639\u0637\u0644",v="\u062A\u062D\u0631\u064A\u0631",C="\u062D\u0630\u0641",S="\u0646\u0633\u062E",D="\u062A\u062D\u0631\u064A\u0631",I="\u062D\u0630\u0641",L="\u0646\u0633\u062E",G="\u0644\u0645 \u064A\u062A\u0645 \u062A\u0639\u0631\u064A\u0641 \u0633\u064A\u0631 \u0639\u0645\u0644.",[["inputField",""],o,s,r,a,l,c,h,g,f,v,C,S,D,I,L,G,["title",e,"info",i,"infoLink","usage/#workflows"],["type","button","class","btn btn-sm btn-outline-primary",3,"click",4,"pngxIfPermissions"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],[1,"col","d-none","d-sm-flex"],[1,"list-group-item",3,"show"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","plus-circle"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"row","fade"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],[1,"col","d-flex","align-items-center","d-none","d-sm-flex"],[1,"form-check","form-switch","mb-0"],["type","checkbox","class","form-check-input cursor-pointer",3,"id","ngModel","ngModelChange","change",4,"pngxIfPermissions"],[1,"form-check-label","cursor-pointer",3,"for"],[1,"text-muted"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["role","toolbar",1,"btn-toolbar","d-none","d-sm-flex","gap-2"],[1,"btn-group"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger","type","button",3,"click",4,"pngxIfPermissions"],["type","checkbox",1,"form-check-input","cursor-pointer",3,"ngModelChange","change","id","ngModel"],["ngbDropdownItem","",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1em","height","1em","name","trash"],["width","1em","height","1em","name","files"]]},template:function(i,o){1&i&&(d(0,"pngx-page-header",17),ce(1,N3t,5,0,"button",18),u(),d(2,"ul",19)(3,"li",20)(4,"div",21)(5,"div",22),b(6,1),u(),d(7,"div",23),b(8,2),u(),d(9,"div",22),b(10,3),u(),d(11,"div",23),b(12,4),u(),d(13,"div",22),b(14,5),u()()(),y(15,D3t,4,0,"li",20),Ke(16,V3t,32,36,"li",20,A3t),y(18,H3t,2,2,"li",24),u()),2&i&&(_(),m("pngxIfPermissions",$e(3,sc,o.PermissionAction.Add,o.PermissionType.Workflow)),_(14),P(o.loading&&0===o.workflows.length?15:-1),_(),qe(o.workflows),_(2),P(o.loading||0!==o.workflows.length?-1:18))},dependencies:[hr,ys,$t,No,Gt,Ln,Wt,Go,Ho,Ss,Qo,js,oa,Bt,en],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}return t})();function $3t(t,n){if(1&t&&Kr(0,"img",2),2&t){const e=p();Zi(e.getClasses()),zi("src",ni(e.customLogo),Ts),Vn("style","height:"+e.height,Bm)}}function B3t(t,n){if(1&t&&(xh(),Hn(0,"svg",3),Kr(1,"path",4),Hn(2,"g",5),Kr(3,"path",6)(4,"path",7)(5,"path",8)(6,"path",9)(7,"rect",10)(8,"path",11)(9,"path",12)(10,"path",13)(11,"rect",14)(12,"path",15)(13,"path",16)(14,"polygon",17)(15,"path",18),Jn()()),2&t){const e=p();Zi(e.getClasses()),Vn("style","height:"+e.height,Bm)}}let U3t=(()=>{class t{constructor(){this.settingsService=M(Gn),this.height="6em"}get customLogo(){return this.settingsService.get(Ce.APP_LOGO)?.length?di.apiBaseUrl.replace(/\/api\/$/,this.settingsService.get(Ce.APP_LOGO)):null}getClasses(){return["logo"].concat(this.extra_classes).join(" ")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-logo"]],inputs:{extra_classes:"extra_classes",height:"height"},decls:2,vars:1,consts:[[3,"src","class"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 2897.4 896.6",3,"class"],[3,"src"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 2897.4 896.6"],["d","M140,713.7c-3.4-16.4-10.3-49.1-11.2-49.1c-145.7-87.1-128.4-238-80.2-324.2C59,449,251.2,524,139.1,656.8 c-0.9,1.7,5.2,22.4,10.3,41.4c22.4-37.9,56-83.6,54.3-87.9C65.9,273.9,496.9,248.1,586.6,39.4c40.5,201.8-20.7,513.9-367.2,593.2 c-1.7,0.9-62.9,108.6-65.5,109.5c0-1.7-25.9-0.9-22.4-9.5C133.1,727.4,136.6,720.6,140,713.7L140,713.7z M135.7,632.6 c44-50.9-7.8-137.9-38.8-166.4C149.5,556.7,146,609.3,135.7,632.6L135.7,632.6z","transform","translate(0)",1,"leaf",2,"fill","#17541f"],[1,"text",2,"fill","#000"],["d","M1022.3,428.7c-17.8-19.9-42.7-29.8-74.7-29.8c-22.3,0-42.4,5.7-60.5,17.3c-18.1,11.6-32.3,27.5-42.5,47.8 s-15.3,42.9-15.3,67.8c0,24.9,5.1,47.5,15.3,67.8c10.3,20.3,24.4,36.2,42.5,47.8c18.1,11.5,38.3,17.3,60.5,17.3 c32,0,56.9-9.9,74.7-29.8v20.4v0.2h84.5V408.3h-84.5V428.7z M1010.5,575c-10.2,11.7-23.6,17.6-40.2,17.6s-29.9-5.9-40-17.6 s-15.1-26.1-15.1-43.3c0-17.1,5-31.6,15.1-43.3s23.4-17.6,40-17.6c16.6,0,30,5.9,40.2,17.6s15.3,26.1,15.3,43.3 S1020.7,563.3,1010.5,575z","transform","translate(0)"],["d","M1381,416.1c-18.1-11.5-38.3-17.3-60.5-17.4c-32,0-56.9,9.9-74.7,29.8v-20.4h-84.5v390.7h84.5v-164 c17.8,19.9,42.7,29.8,74.7,29.8c22.3,0,42.4-5.7,60.5-17.3s32.3-27.5,42.5-47.8c10.2-20.3,15.3-42.9,15.3-67.8s-5.1-47.5-15.3-67.8 C1413.2,443.6,1399.1,427.7,1381,416.1z M1337.9,575c-10.1,11.7-23.4,17.6-40,17.6s-29.9-5.9-40-17.6s-15.1-26.1-15.1-43.3 c0-17.1,5-31.6,15.1-43.3s23.4-17.6,40-17.6s29.9,5.9,40,17.6s15.1,26.1,15.1,43.3S1347.9,563.3,1337.9,575z","transform","translate(0)"],["d","M1672.2,416.8c-20.5-12-43-18-67.6-18c-24.9,0-47.6,5.9-68,17.6c-20.4,11.7-36.5,27.7-48.2,48s-17.6,42.7-17.6,67.3 c0.3,25.2,6.2,47.8,17.8,68c11.5,20.2,28,36,49.3,47.6c21.3,11.5,45.9,17.3,73.8,17.3c48.6,0,86.8-14.7,114.7-44l-52.5-48.9 c-8.6,8.3-17.6,14.6-26.7,19c-9.3,4.3-21.1,6.4-35.3,6.4c-11.6,0-22.5-3.6-32.7-10.9c-10.3-7.3-17.1-16.5-20.7-27.8h180l0.4-11.6 c0-29.6-6-55.7-18-78.2S1692.6,428.8,1672.2,416.8z M1558.3,503.2c2.1-12.1,7.5-21.8,16.2-29.1s18.7-10.9,30-10.9 s21.2,3.6,29.8,10.9c8.6,7.2,13.9,16.9,16,29.1H1558.3z","transform","translate(0)"],["d","M1895.3,411.7c-11,5.6-20.3,13.7-28,24.4h-0.1v-28h-84.5v247.3h84.5V536.3c0-22.6,4.7-38.1,14.2-46.5 c9.5-8.5,22.7-12.7,39.6-12.7c6.2,0,13.5,1,21.8,3.1l10.7-72c-5.9-3.3-14.5-4.9-25.8-4.9C1917.1,403.3,1906.3,406.1,1895.3,411.7z","transform","translate(0)"],["x","1985","y","277.4","width","84.5","height","377.8","transform","translate(0)"],["d","M2313.2,416.8c-20.5-12-43-18-67.6-18c-24.9,0-47.6,5.9-68,17.6s-36.5,27.7-48.2,48c-11.7,20.3-17.6,42.7-17.6,67.3 c0.3,25.2,6.2,47.8,17.8,68c11.5,20.2,28,36,49.3,47.6c21.3,11.5,45.9,17.3,73.8,17.3c48.6,0,86.8-14.7,114.7-44l-52.5-48.9 c-8.6,8.3-17.6,14.6-26.7,19c-9.3,4.3-21.1,6.4-35.3,6.4c-11.6,0-22.5-3.6-32.7-10.9c-10.3-7.3-17.1-16.5-20.7-27.8h180l0.4-11.6 c0-29.6-6-55.7-18-78.2S2333.6,428.8,2313.2,416.8z M2199.3,503.2c2.1-12.1,7.5-21.8,16.2-29.1s18.7-10.9,30-10.9 s21.2,3.6,29.8,10.9c8.6,7.2,13.9,16.9,16,29.1H2199.3z","transform","translate(0)"],["d","M2583.6,507.7c-13.8-4.4-30.6-8.1-50.5-11.1c-15.1-2.7-26.1-5.2-32.9-7.6c-6.8-2.4-10.2-6.1-10.2-11.1s2.3-8.7,6.7-10.9 c4.4-2.2,11.5-3.3,21.3-3.3c11.6,0,24.3,2.4,38.1,7.2c13.9,4.8,26.2,11,36.9,18.4l32.4-58.2c-11.3-7.4-26.2-14.7-44.9-21.8 c-18.7-7.1-39.6-10.7-62.7-10.7c-33.7,0-60.2,7.6-79.3,22.7c-19.1,15.1-28.7,36.1-28.7,63.1c0,19,4.8,33.9,14.4,44.7 c9.6,10.8,21,18.5,34,22.9c13.1,4.5,28.9,8.3,47.6,11.6c14.6,2.7,25.1,5.3,31.6,7.8s9.8,6.5,9.8,11.8c0,10.4-9.7,15.6-29.3,15.6 c-13.7,0-28.5-2.3-44.7-6.9c-16.1-4.6-29.2-11.3-39.3-20.2l-33.3,60c9.2,7.4,24.6,14.7,46.2,22c21.7,7.3,45.2,10.9,70.7,10.9 c34.7,0,62.9-7.4,84.5-22.4c21.7-15,32.5-37.3,32.5-66.9c0-19.3-5-34.2-15.1-44.9S2597.4,512.1,2583.6,507.7z","transform","translate(0)"],["d","M2883.4,575.3c0-19.3-5-34.2-15.1-44.9s-22-18.3-35.8-22.7c-13.8-4.4-30.6-8.1-50.5-11.1c-15.1-2.7-26.1-5.2-32.9-7.6 c-6.8-2.4-10.2-6.1-10.2-11.1s2.3-8.7,6.7-10.9c4.4-2.2,11.5-3.3,21.3-3.3c11.6,0,24.3,2.4,38.1,7.2c13.9,4.8,26.2,11,36.9,18.4 l32.4-58.2c-11.3-7.4-26.2-14.7-44.9-21.8c-18.7-7.1-39.6-10.7-62.7-10.7c-33.7,0-60.2,7.6-79.3,22.7 c-19.1,15.1-28.7,36.1-28.7,63.1c0,19,4.8,33.9,14.4,44.7c9.6,10.8,21,18.5,34,22.9c13.1,4.5,28.9,8.3,47.6,11.6 c14.6,2.7,25.1,5.3,31.6,7.8s9.8,6.5,9.8,11.8c0,10.4-9.7,15.6-29.3,15.6c-13.7,0-28.5-2.3-44.7-6.9c-16.1-4.6-29.2-11.3-39.3-20.2 l-33.3,60c9.2,7.4,24.6,14.7,46.2,22c21.7,7.3,45.2,10.9,70.7,10.9c34.7,0,62.9-7.4,84.5-22.4 C2872.6,627.2,2883.4,604.9,2883.4,575.3z","transform","translate(0)"],["x","2460.7","y","738.7","width","59.6","height","17.2","transform","translate(0)"],["d","M2596.5,706.4c-5.7,0-11,1-15.8,3s-9,5-12.5,8.9v-9.4h-19.4v93.6h19.4v-52c0-8.6,2.1-15.3,6.3-20c4.2-4.7,9.5-7.1,15.9-7.1 c7.8,0,13.4,2.3,16.8,6.7c3.4,4.5,5.1,11.3,5.1,20.5v52h19.4v-56.8c0-12.8-3.2-22.6-9.5-29.3 C2615.8,709.8,2607.3,706.4,2596.5,706.4z","transform","translate(0)"],["d","M2733.8,717.7c-3.6-3.4-7.9-6.1-13.1-8.2s-10.6-3.1-16.2-3.1c-8.7,0-16.5,2.1-23.5,6.3s-12.5,10-16.5,17.3 c-4,7.3-6,15.4-6,24.4c0,8.9,2,17.1,6,24.3c4,7.3,9.5,13,16.5,17.2s14.9,6.3,23.5,6.3c5.6,0,11-1,16.2-3.1 c5.1-2.1,9.5-4.8,13.1-8.2v24.4c0,8.5-2.5,14.8-7.6,18.7c-5,3.9-11,5.9-18,5.9c-6.7,0-12.4-1.6-17.3-4.7c-4.8-3.1-7.6-7.7-8.3-13.8 h-19.4c0.6,7.7,2.9,14.2,7.1,19.5s9.6,9.3,16.2,12c6.6,2.7,13.8,4,21.7,4c12.8,0,23.5-3.4,32-10.1c8.6-6.7,12.8-17.1,12.8-31.1 V708.9h-19.2V717.7z M2732.2,770.1c-2.5,4.7-6,8.3-10.4,11.2c-4.4,2.7-9.4,4-14.9,4c-5.7,0-10.8-1.4-15.2-4.3s-7.8-6.7-10.2-11.4 c-2.3-4.8-3.5-9.8-3.5-15.2c0-5.5,1.1-10.6,3.5-15.3s5.8-8.5,10.2-11.3s9.5-4.2,15.2-4.2c5.5,0,10.5,1.4,14.9,4s7.9,6.3,10.4,11 s3.8,10,3.8,15.8S2734.7,765.4,2732.2,770.1z","transform","translate(0)"],["points","2867.9,708.9 2846.5,708.9 2820.9,741.9 2795.5,708.9 2773.1,708.9 2809.1,755 2771.5,802.5 2792.9,802.5  2820.1,767.9 2847.2,802.6 2869.6,802.6 2832,754.4 \t","transform","translate(0)"],["d","M757.6,293.7c-20-10.8-42.6-16.2-67.8-16.2H600c-8.5,39.2-21.1,76.4-37.6,111.3c-9.9,20.8-21.1,40.6-33.6,59.4v207.2h88.9 V521.5h72c25.2,0,47.8-5.4,67.8-16.2s35.7-25.6,47.1-44.2c11.4-18.7,17.1-39.1,17.1-61.3c0.1-22.7-5.6-43.3-17-61.9 C793.3,319.2,777.6,304.5,757.6,293.7z M716.6,434.3c-9.3,8.9-21.6,13.3-36.7,13.3l-62.2,0.4v-92.5l62.2-0.4 c15.1,0,27.3,4.4,36.7,13.3c9.4,8.9,14,19.9,14,32.9C730.6,414.5,726,425.4,716.6,434.3z","transform","translate(0)"]],template:function(i,o){1&i&&y(0,$3t,1,5,"img",0)(1,B3t,16,3,":svg:svg",1),2&i&&P(o.customLogo?0:1)},encapsulation:2})}return t})(),j3t=(()=>{class t{constructor(){}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-not-found"]],decls:14,vars:0,consts:()=>{let e,i;return e="\u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F",i="\u0627\u0630\u0647\u0628 \u0625\u0644\u0649 \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A",[e,i,[1,"d-sm-flex","flex-wrap","p-2","align-items-center","justify-content-center",2,"height","75vh"],[1,"p-4","pt-0"],[1,"fw-bold",2,"font-size","10rem"],[1,"display-6"],["routerLink","/dashboard",1,"btn","btn-primary"],["width","1.2em","height","1.2em","name","house"],["extra_classes","p-3 position-absolute bottom-0 start-50 translate-middle"]]},template:function(i,o){1&i&&(d(0,"div",2)(1,"div",3)(2,"h1",4),N(3,"404"),u()(),d(4,"div",3)(5,"h1",5),b(6,0),u(),d(7,"p")(8,"a",6),O(9,"i-bs",7),N(10,"\xa0"),ge(11),b(12,1),ue(),u()()(),O(13,"pngx-logo",8),u())},dependencies:[U3t,Bt,en,_1,u1],encapsulation:2})}return t})(),qB=(()=>{class t{canDeactivate(e){return!!e.canDeactivate()||confirm("\u062A\u062D\u0630\u064A\u0631: \u0644\u062F\u064A\u0643 \u062A\u063A\u064A\u064A\u0631\u0627\u062A \u063A\u064A\u0631 \u0645\u062D\u0641\u0648\u0638\u0629 \u0644\u0644\u0645\u0633\u062A\u0646\u062F \u0623\u0648 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A.")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})(),YB=(()=>{class t extends set{constructor(){super(...arguments),this.modalService=M(ps)}confirmChanges(){let e=this.modalService.open(Ki,{backdrop:"static"});e.componentInstance.title="\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u063A\u064A\u0631 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",e.componentInstance.messageBold="\u0644\u062F\u064A\u0643 \u062A\u063A\u064A\u064A\u0631\u0627\u062A \u063A\u064A\u0631 \u0645\u062D\u0641\u0648\u0638\u0629.",e.componentInstance.message="\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u063A\u0627\u062F\u0631\u0629\u061F",e.componentInstance.btnClass="btn-warning",e.componentInstance.btnCaption="\u0645\u063A\u0627\u062F\u0631\u0629 \u0627\u0644\u0635\u0641\u062D\u0629",e.componentInstance.confirmClicked.subscribe(()=>{e.componentInstance.buttonsEnabled=!1,e.close()});const i=new Be;return e.componentInstance.confirmSubject=i,i.asObservable()}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),C8=(()=>{class t{constructor(){this.modalService=M(ps),this.settings=M(Gn)}canDeactivate(e){return!e.savedViewIsModified||!this.settings.get(Ce.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE)||this.warn(e)}warn(e){let i=this.modalService.open(Ki,{backdrop:"static"});i.componentInstance.title="\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u063A\u064A\u0631 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",i.componentInstance.messageBold="\u0644\u062F\u064A\u0643 \u062A\u063A\u064A\u064A\u0631\u0627\u062A \u063A\u064A\u0631 \u0645\u062D\u0641\u0648\u0638\u0629 \u0641\u064A \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u062D\u0641\u0648\u0638"+' "'+e.getTitle(),i.componentInstance.message="\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u0625\u063A\u0644\u0627\u0642 \u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629 \u0647\u0630\u0647\u061F",i.componentInstance.btnClass="btn-secondary",i.componentInstance.btnCaption="\u0625\u063A\u0644\u0627\u0642",i.componentInstance.alternativeBtnClass="btn-primary",i.componentInstance.alternativeBtnCaption="\u062D\u0641\u0638 \u0648\u0625\u063A\u0644\u0627\u0642",i.componentInstance.alternativeClicked.pipe(ut()).subscribe(()=>{i.componentInstance.buttonsEnabled=!1,e.saveViewConfig(),i.close()}),i.componentInstance.confirmClicked.pipe(ut()).subscribe(()=>{i.componentInstance.buttonsEnabled=!1,i.close()});const o=new Be;return i.componentInstance.confirmSubject=o,i.componentInstance.alternativeSubject=o,o}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})(),jo=(()=>{class t{constructor(){this.permissionsService=M(Ti),this.router=M(ts),this.toastService=M(eo),this.tourService=M(K2)}canActivate(e,i){return!(e.data.requireAdmin&&!this.permissionsService.isAdmin()||e.data.requiredPermission&&!this.permissionsService.currentUserCan(e.data.requiredPermission.action,e.data.requiredPermission.type))||(1!==this.tourService.getStatus()&&this.toastService.showError("\u0644\u0627 \u062A\u0645\u0644\u0643 \u0635\u0644\u0627\u062D\u064A\u0651\u0627\u062A \u0644\u062A\u0646\u0641\u064A\u0630 \u0630\u0644\u0643"),this.router.parseUrl("/dashboard"))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();const Z3t=[{path:"",redirectTo:"documents",pathMatch:"full"},{path:"",component:N5t,canDeactivate:[qB],children:[{path:"documents",component:hb,canDeactivate:[C8],canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.Document},componentName:"DocumentListComponent"}},{path:"public",component:hb,canDeactivate:[C8],canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.Document},componentName:"DocumentListComponent"}},{path:"view/:id",component:hb,canDeactivate:[C8],canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.SavedView},componentName:"DocumentListComponent"}},{path:"documents/:id",component:J4,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.Document},componentName:"DocumentDetailComponent"}},{path:"documents/:id/:section",component:J4,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.Document},componentName:"DocumentDetailComponent"}},{path:"asn/:id",component:D5t,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.Document},componentName:"DocumentAsnComponent"}},{path:"tags",component:O3t,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.Tag},componentName:"TagListComponent"}},{path:"documenttypes",component:_pt,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.DocumentType},componentName:"DocumentTypeListComponent"}},{path:"correspondents",component:Ngt,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.Correspondent},componentName:"CorrespondentListComponent"}},{path:"storagepaths",component:Jft,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.StoragePath},componentName:"StoragePathListComponent"}},{path:"logs",component:Xtt,canActivate:[jo],data:{requireAdmin:!0,componentName:"LogsComponent"}},{path:"trash",component:B1t,canActivate:[jo],data:{requiredPermission:{action:ft.Delete,type:vt.Document},componentName:"TrashComponent"}},{path:"settings/mail",redirectTo:"/mail"},{path:"settings/usersgroups",redirectTo:"/usersgroups"},{path:"settings/savedviews",redirectTo:"/savedviews"},{path:"settings",component:wB,canDeactivate:[YB],canActivate:[jo],data:{requiredPermission:{action:ft.Change,type:vt.UISettings},componentName:"SettingsComponent"}},{path:"settings/:section",component:wB,canDeactivate:[YB],canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.UISettings},componentName:"SettingsComponent"}},{path:"config",component:Htt,canActivate:[jo],data:{requiredPermission:{action:ft.Change,type:vt.AppConfig},componentName:"ConfigComponent"}},{path:"tasks",component:b1t,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.PaperlessTask},componentName:"TasksComponent"}},{path:"customfields",component:Hgt,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.CustomField},componentName:"CustomFieldsComponent"}},{path:"workflows",component:G3t,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.Workflow},componentName:"WorkflowsComponent"}},{path:"mail",component:_ft,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.MailAccount},componentName:"MailComponent"}},{path:"usersgroups",component:h0t,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.User},componentName:"UsersAndGroupsComponent"}},{path:"savedviews",component:Oft,canActivate:[jo],data:{requiredPermission:{action:ft.View,type:vt.SavedView},componentName:"SavedViewsComponent"}}]},{path:"404",component:j3t},{path:"**",redirectTo:"/404",pathMatch:"full"}];let W3t=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=Bn({imports:[_1.forRoot(Z3t),_1]})}return t})();function X3t(t,n){if(1&t&&(O(0,"ngb-progressbar",11),d(1,"span",12),N(2),Fe(3,"number"),u()),2&t){const e=p();m("max",e.toast.delay)("value",e.toast.delayRemaining),_(2),He("",zo(3,3,e.toast.delayRemaining/1e3,"1.0-0")," seconds")}}function K3t(t,n){1&t&&O(0,"i-bs",5)}function q3t(t,n){1&t&&O(0,"i-bs",6)}function Y3t(t,n){if(1&t&&(d(0,"dl",14)(1,"dt",18),N(2,"URL"),u(),d(3,"dd",19),N(4),u(),d(5,"dt",18),b(6,1),u(),d(7,"dd",19),N(8),d(9,"em"),N(10),u()(),d(11,"dt",18),b(12,2),u(),d(13,"dd",19),N(14),u()()),2&t){const e=p(2);_(4),oe(e.toast.error.url),_(4),He("",e.toast.error.status," "),_(2),oe(e.toast.error.statusText),_(4),oe(e.getErrorText(e.toast.error))}}function Q3t(t,n){1&t&&(O(0,"i-bs",20),N(1,"\xa0 "))}function J3t(t,n){1&t&&(O(0,"i-bs",21),N(1,"\xa0 "))}function e6t(t,n){if(1&t){const e=k();d(0,"details",8)(1,"div",13),y(2,Y3t,15,4,"dl",14),d(3,"div",15)(4,"div",16)(5,"button",17),E("click",function(){T(e);const o=p();return w(o.copyError(o.toast.error))}),y(6,Q3t,2,0),y(7,J3t,2,0),ge(8),b(9,0),ue(),u()()()()()}if(2&t){const e=p();_(2),P(e.isDetailedError(e.toast.error)?2:-1),_(4),P(e.copied?-1:6),_(),P(e.copied?7:-1)}}function t6t(t,n){if(1&t){const e=k();d(0,"p",9)(1,"button",17),E("click",function(){T(e);const o=p();return o.closed.emit(o.toast),w(o.toast.action())}),N(2),u()()}if(2&t){const e=p();_(2),oe(e.toast.actionName)}}let n6t=(()=>{class t{constructor(){this.clipboard=M(z4),this.autohide=!0,this.hidden=new Ee,this.closed=new Ee,this.copied=!1}onShown(e){if(!this.autohide)return;const o=e.delay-500;NP(150).pipe(Or(Math.round(o/150))).subscribe(s=>{e.delayRemaining=Math.max(0,o-150*(s+1))})}isDetailedError(e){return"object"==typeof e&&"status"in e&&"statusText"in e&&"url"in e&&"message"in e&&"error"in e}copyError(e){this.clipboard.copy(JSON.stringify(e)),this.copied=!0,setTimeout(()=>{this.copied=!1},3e3)}getErrorText(e){let i=e.error?.detail??e.error??"";return"object"==typeof i&&(i=JSON.stringify(i)),`${i.slice(0,200)}${i.length>200?"...":""}`}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-toast"]],inputs:{toast:"toast",autohide:"autohide"},outputs:{hidden:"hidden",closed:"closed"},decls:11,vars:12,consts:()=>{let e,i,o;return e="\u0646\u0633\u062E \u062E\u0637\u0623 \u062E\u0627\u0645",i="\u0627\u0644\u062D\u0627\u0644\u0629",o="\u062E\u0637\u0623",[e,i,o,[3,"shown","hidden","autohide","delay"],[1,"d-flex","align-items-top"],["width","0.9em","height","0.9em","name","info-circle"],["width","0.9em","height","0.9em","name","exclamation-triangle"],[1,"ms-2","mb-0","text-break"],[1,"ms-2"],[1,"mb-0","mt-2"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","ms-auto","flex-shrink-0",3,"click"],["type","dark",1,"position-absolute","h-100","w-100","top-90","start-0","bottom-0","end-0","pe-none",3,"max","value"],[1,"visually-hidden"],[1,"mt-2","ms-n4","me-n2","small"],[1,"row","mb-0"],[1,"row"],[1,"col","offset-sm-3"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"col-sm-3","fw-normal","text-end"],[1,"col-sm-9"],["name","clipboard"],["name","clipboard-check"]]},template:function(i,o){1&i&&(d(0,"ngb-toast",3),E("shown",function(){return o.onShown(o.toast)})("hidden",function(){return o.hidden.emit(o.toast)}),y(1,X3t,4,6),d(2,"div",4),y(3,K3t,1,0,"i-bs",5),y(4,q3t,1,0,"i-bs",6),d(5,"div")(6,"p",7),N(7),u(),y(8,e6t,10,3,"details",8),y(9,t6t,3,1,"p",9),u(),d(10,"button",10),E("click",function(){return o.closed.emit(o.toast)}),u()()()),2&i&&(Zi(o.toast.classname),we("mb-2",!0),m("autohide",o.autohide)("delay",o.toast.delay),_(),P(o.autohide?1:-1),_(2),P(o.toast.error?-1:3),_(),P(o.toast.error?4:-1),_(3),oe(o.toast.content),_(),P(o.toast.error?8:-1),_(),P(o.toast.action?9:-1))},dependencies:[sM,Ede,u5,oM,Bt,en,j9],styles:[".toast-body{position:relative}  .toast.error{border-color:#b7153066}  .toast.error .toast-body{background-color:#b71530cc;border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.progress[_ngcontent-%COMP%]{background-color:var(--pngx-primary);opacity:.07}"]})}return t})();const i6t=(t,n)=>n.id;function o6t(t,n){if(1&t){const e=k();d(0,"pngx-toast",1),E("closed",function(){return T(e),w(p().closeToast())}),u()}2&t&&m("toast",n.$implicit)("autohide",!0)}let s6t=(()=>{class t{constructor(){this.toastService=M(eo),this.toasts=[]}ngOnDestroy(){this.subscription?.unsubscribe()}ngOnInit(){this.subscription=this.toastService.showToast.subscribe(e=>{this.toasts=e?[e]:[]})}closeToast(){this.toastService.closeToast(this.toasts[0]),this.toasts=[]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-toasts"]],decls:2,vars:0,consts:[[3,"toast","autohide"],[3,"closed","toast","autohide"]],template:function(i,o){1&i&&Ke(0,o6t,1,2,"pngx-toast",0,i6t),2&i&&qe(o.toasts)},dependencies:[n6t,r5,u5,Bt],styles:["[_nghost-%COMP%]{position:fixed;top:0;right:calc(50% - var(--pngx-toast-max-width) / 2);margin:.3em;z-index:1200}.toast[_ngcontent-%COMP%]:not(.show){display:block}"]})}return t})(),r6t=(()=>{class t{constructor(){this.documentService=M(Io),this.websocketStatusService=M(H4),this.uploadSubscriptions=[]}uploadFile(e){let i=new FormData;i.append("document",e,e.name),i.append("from_webui","true");let o=this.websocketStatusService.newFileUpload(e.name);o.message="\u0627\u0644\u0627\u062A\u0635\u0627\u0644...",this.uploadSubscriptions[e.name]=this.documentService.uploadDocument(i).subscribe({next:s=>{s.type==e0.UploadProgress?(o.updateProgress(Cs.UPLOADING,s.loaded,s.total),o.message="\u0627\u0644\u062A\u062D\u0645\u064A\u0644..."):s.type==e0.Response&&(o.taskId=s.body.task_id??s.body.toString(),o.message="\u0627\u0643\u062A\u0645\u0644 \u0627\u0644\u0631\u0641\u0639\u060C \u0627\u0646\u062A\u0638\u0631...",this.uploadSubscriptions[e.name]?.complete())},error:s=>{this.websocketStatusService.fail(o,400===s.status?s.error.document:"\u062E\u0637\u0623 HTTP: " + s.status + " " + s.statusText + ""),this.uploadSubscriptions[e.name]?.complete()}})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const a6t=[[["","content",""]]],l6t=["[content]"];let c6t=(()=>{class t{constructor(){this.settings=M(Gn),this.toastService=M(eo),this.uploadDocumentsService=M(r6t),this.permissionsService=M(Ti),this.fileIsOver=!1,this.hidden=!0}get dragDropEnabled(){return this.settings.globalDropzoneEnabled&&this.permissionsService.currentUserCan(ft.Add,vt.Document)}onDragOver(e){!this.dragDropEnabled||!e.dataTransfer?.types?.includes("Files")||(e.preventDefault(),e.stopImmediatePropagation(),this.settings.globalDropzoneActive=!0,setTimeout(()=>{this.fileIsOver=!0},1),this.hidden=!1,clearTimeout(this.fileLeaveTimeoutID))}onDragLeave(e,i=!1){this.dragDropEnabled&&(e?.preventDefault(),e?.stopImmediatePropagation(),this.settings.globalDropzoneActive=!1,this.fileLeaveTimeoutID=setTimeout(()=>{this.fileIsOver=!1,setTimeout(()=>{this.hidden=!0},150)},i?0:500))}traverseFileTree(e){return e.isFile?new Promise((i,o)=>{e.file(i,o)}).then(i=>[i]):e.isDirectory?new Promise((i,o)=>{const s=e.createReader(),r=[],a=()=>{s.readEntries(l=>{if(0===l.length){const c=r.map(h=>this.traverseFileTree(h));Promise.all(c).then(h=>i([].concat(...h))).catch(o)}else r.push(...l),a()},o)};a()}):Promise.resolve([])}onDrop(e){if(!this.dragDropEnabled)return;e.preventDefault(),e.stopImmediatePropagation();const i=[],o=[];if(e.dataTransfer?.items&&e.dataTransfer.items.length){for(const s of Array.from(e.dataTransfer.items))if(s.webkitGetAsEntry){const r=s.webkitGetAsEntry();r&&o.push(r)}else if("file"===s.kind){const r=s.getAsFile();r&&i.push(r)}}else if(e.dataTransfer?.files)for(const s of Array.from(e.dataTransfer.files))i.push(s);if(o.length){const s=o.map(r=>this.traverseFileTree(r));Promise.all(s).then(r=>{i.push(...[].concat(...r)),this.toastService.showInfo("\u0628\u064E\u062F\u0652\u0621 \u0627\u0644\u062A\u062D\u0645\u064A\u0644...",3e3),i.forEach(a=>this.uploadDocumentsService.uploadFile(a))}).catch(r=>{this.toastService.showError("Failed to read dropped items: " + r.message + "")})}else i.length&&(this.toastService.showInfo("\u0628\u064E\u062F\u0652\u0621 \u0627\u0644\u062A\u062D\u0645\u064A\u0644...",3e3),i.forEach(s=>this.uploadDocumentsService.uploadFile(s)));this.onDragLeave(e,!0)}onWindowBlur(){this.fileIsOver&&this.onDragLeave(null)}onVisibilityChange(){document.hidden&&this.fileIsOver&&this.onDragLeave(null)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-file-drop"]],hostBindings:function(i,o){1&i&&E("dragover",function(r){return o.onDragOver(r)},qh)("dragleave",function(r){return o.onDragLeave(r)},qh)("drop",function(r){return o.onDrop(r)},qh)("blur",function(r){return o.onWindowBlur(r)},K1)("visibilitychange",function(r){return o.onVisibilityChange(r)},qh)},ngContentSelectors:l6t,decls:5,vars:4,consts:()=>{let e;return e="\u0627\u0633\u062D\u0628 \u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0644\u0628\u062F\u0621 \u0627\u0644\u062A\u062D\u0645\u064A\u0644",[e,[1,"global-dropzone-overlay","position-fixed","top-0","start-0","bottom-0","end-0","text-center","pe-none"],[1,"pe-none","position-absolute","top-50","start-50","translate-middle"]]},template:function(i,o){1&i&&(or(a6t),Hn(0,"div"),sr(1),Jn(),Hn(2,"div",1)(3,"h2",2),b(4,0),Jn()()),2&i&&(we("pe-none",o.fileIsOver),_(2),we("active",o.fileIsOver&&!o.hidden))},styles:[".global-dropzone-overlay[_ngcontent-%COMP%]{opacity:0;transition:opacity .25s ease-in-out;background-color:hsla(var(--pngx-primary),var(--pngx-primary-lightness),.8);z-index:1200}.global-dropzone-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--pngx-primary-text-contrast)}.global-dropzone-overlay.active[_ngcontent-%COMP%]{opacity:1}"]})}return t})();function d6t(t,n){if(1&t){const e=k();d(0,"button",10),E("click",function(){return T(e),w(p(2).tourService.prev())}),N(1),u()}if(2&t){const e=p().step;_(),He(" \xab ",null==e?null:e.prevBtnTitle," ")}}function h6t(t,n){if(1&t){const e=k();d(0,"button",10),E("click",function(){return T(e),w(p(2).tourService.next())}),N(1),u()}if(2&t){const e=p().step;_(),He(" ",null==e?null:e.nextBtnTitle," \xbb ")}}function u6t(t,n){if(1&t){const e=k();O(0,"p",2)(1,"hr"),d(2,"div",3)(3,"span",4),N(4),u(),d(5,"div",5)(6,"div",6)(7,"button",7),E("click",function(){return T(e),w(p().tourService.end())}),N(8),u()(),d(9,"div",8),y(10,d6t,2,1,"button",9),y(11,h6t,2,1,"button",9),u()()()}if(2&t){const e=n.step,i=p();m("innerHTML",null==e?null:e.content,Fo),_(4),Jr("",(null==i.tourService.steps?null:i.tourService.steps.indexOf(e))+1," / ",null==i.tourService.steps?null:i.tourService.steps.length),_(4),He(" ",null==e?null:e.endBtnTitle," "),_(2),P(i.tourService.hasPrev(e)?10:-1),_(),P(i.tourService.hasNext(e)?11:-1)}}let _6t=(()=>{class t{constructor(){this.settings=M(Gn),this.websocketStatusService=M(H4),this.toastService=M(eo),this.router=M(ts),this.tasksService=M(V4),this.tourService=M(K2),this.renderer=M(S1),this.permissionsService=M(Ti),this.hotKeyService=M(Fg),this.componentRouterService=M(vB),window.pdfWorkerSrc="assets/js/pdf.worker.min.mjs",this.settings.updateAppearanceSettings()}ngOnDestroy(){this.websocketStatusService.disconnect(),this.successSubscription&&this.successSubscription.unsubscribe(),this.failedSubscription&&this.failedSubscription.unsubscribe(),this.newDocumentSubscription&&this.newDocumentSubscription.unsubscribe()}showNotification(e){return("/dashboard"!=this.router.url||!this.settings.get(Ce.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD))&&this.settings.get(e)}ngOnInit(){this.websocketStatusService.connect(),this.successSubscription=this.websocketStatusService.onDocumentConsumptionFinished().subscribe(s=>{this.tasksService.reload(),this.showNotification(Ce.NOTIFICATIONS_CONSUMER_SUCCESS)&&(this.permissionsService.currentUserCan(ft.View,vt.Document)?this.toastService.show({content:"\u062A\u0645\u0651\u062A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F " + s.filename + " \u0625\u0644\u0649 Paperless-ngx.",delay:1e4,actionName:"\u0641\u062A\u062D \u0645\u0633\u062A\u0646\u062F",action:()=>{this.router.navigate(["documents",s.documentId])}}):this.toastService.show({content:"\u062A\u0645\u0651\u062A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F " + s.filename + " \u0625\u0644\u0649 Paperless-ngx.",delay:1e4}))}),this.failedSubscription=this.websocketStatusService.onDocumentConsumptionFailed().subscribe(s=>{this.tasksService.reload(),this.showNotification(Ce.NOTIFICATIONS_CONSUMER_FAILED)&&this.toastService.showError("\u062A\u0639\u0630\u0651\u0631 \u0625\u0636\u0627\u0641\u0629 " + s.filename + ": " + s.message + "")}),this.newDocumentSubscription=this.websocketStatusService.onDocumentDetected().subscribe(s=>{this.tasksService.reload(),this.showNotification(Ce.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT)&&this.toastService.show({content:"\u0627\u0644\u0645\u0633\u062A\u0646\u062F " + s.filename + " \u064A\u062A\u0645 \u0645\u0639\u0627\u0644\u062C\u062A\u0647 \u0627\u0644\u0622\u0646 \u0645\u0646 \u0642\u0650\u0628\u064E\u0644 \u0627\u0644\u062A\u0637\u0628\u064A\u0642 Paperless-ngx.",delay:5e3})}),this.hotKeyService.addShortcut({keys:"h",description:"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645"}).subscribe(()=>{this.router.navigate(["/dashboard"])}),this.permissionsService.currentUserCan(ft.View,vt.Document)&&this.hotKeyService.addShortcut({keys:"d",description:"\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A"}).subscribe(()=>{this.router.navigate(["/documents"])}),this.permissionsService.currentUserCan(ft.Change,vt.UISettings)&&this.hotKeyService.addShortcut({keys:"s",description:"\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A"}).subscribe(()=>{this.router.navigate(["/settings"])});const e="\u0627\u0644\u0633\u0627\u0628\u0642",i="\u0627\u0644\u062A\u0627\u0644\u064A",o="\u0627\u0644\u0646\u0647\u0627\u064A\u0629";this.tourService.initialize([{anchorId:"tour.dashboard",content:"The dashboard can be used to show saved views, such as an 'Inbox'. Views are found under Manage > Saved Views once you have created some.",route:"/dashboard",delayAfterNavigation:500,isOptional:!1},{anchorId:"tour.upload-widget",content:"\u0642\u0645 \u0628\u0633\u062D\u0628 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0648\u0625\u0641\u0644\u0627\u062A\u0647\u0627 \u0647\u0646\u0627 \u0644\u0628\u062F\u0621 \u0631\u0641\u0639\u0647\u0627 \u0623\u0648 \u0648\u0636\u0639\u0647\u0627 \u0641\u064A \u0645\u062C\u0644\u062F \u0627\u0644\u0627\u0633\u062A\u0647\u0644\u0627\u0643. \u064A\u0645\u0643\u0646\u0643 \u0623\u064A\u0636\u0627 \u0633\u062D\u0628 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0648\u0625\u0641\u0644\u0627\u062A\u0647\u0627 \u0641\u064A \u0623\u064A \u0645\u0643\u0627\u0646 \u0639\u0644\u0649 \u062C\u0645\u064A\u0639 \u0627\u0644\u0635\u0641\u062D\u0627\u062A \u0627\u0644\u0623\u062E\u0631\u0649 \u0644\u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0648\u064A\u0628. \u0628\u0645\u062C\u0631\u062F \u0627\u0644\u0642\u064A\u0627\u0645 \u0628\u0630\u0644\u0643 \u060C \u0633\u064A\u0628\u062F\u0623 Paperless-ngx \u0641\u064A \u062A\u062F\u0631\u064A\u0628 \u062E\u0648\u0627\u0631\u0632\u0645\u064A\u0627\u062A \u0627\u0644\u062A\u0639\u0644\u0645 \u0627\u0644\u0622\u0644\u064A \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0647.",route:"/dashboard"},{anchorId:"tour.documents",content:"\u062A\u0638\u0647\u0631 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u062C\u0645\u064A\u0639 \u0645\u0633\u062A\u0646\u062F\u0627\u062A\u0643 \u0648\u062A\u0633\u0645\u062D \u0628\u0627\u0644\u062A\u0635\u0641\u064A\u0629 \u0648\u0627\u0644\u062A\u062D\u0631\u064A\u0631 \u0628\u0627\u0644\u062C\u0645\u0644\u0629. \u0648\u0647\u0646\u0627\u0643 \u062B\u0644\u0627\u062B \u0623\u0646\u0645\u0627\u0637 \u0645\u062E\u062A\u0644\u0641\u0629 \u0644\u0644\u0639\u0631\u0636: \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0648\u0627\u0644\u0628\u0637\u0627\u0642\u0627\u062A \u0627\u0644\u0635\u063A\u064A\u0631\u0629 \u0648\u0627\u0644\u0628\u0637\u0627\u0642\u0627\u062A \u0627\u0644\u0643\u0628\u064A\u0631\u0629\u060C \u0648\u0641\u064A \u0627\u0644\u0634\u0631\u064A\u0637 \u0627\u0644\u062C\u0627\u0646\u0628\u064A \u0642\u0627\u0626\u0645\u0629 \u0628\u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u0645\u0641\u062A\u0648\u062D\u0629 \u062D\u0627\u0644\u064A\u0627 \u0644\u0644\u062A\u062D\u0631\u064A\u0631.",route:"/documents?sort=created&reverse=1&page=1",delayAfterNavigation:500,placement:"bottom"},{anchorId:"tour.documents-filter-editor",content:"\u0623\u062F\u0648\u0627\u062A \u0627\u0644\u062A\u0635\u0641\u064A\u0629 \u062A\u0633\u0645\u062D \u0644\u0643 \u0628\u0627\u0644\u0639\u062B\u0648\u0631 \u0628\u0633\u0631\u0639\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0645\u062E\u062A\u0644\u0641 \u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u0628\u062D\u062B \u0648\u0627\u0644\u062A\u0648\u0627\u0631\u064A\u062E \u0648\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A \u0648\u0645\u0627 \u0625\u0644\u0649 \u0630\u0644\u0643.",route:"/documents?sort=created&reverse=1&page=1",placement:"bottom"},{anchorId:"tour.documents-views",content:"\u064A\u0645\u0643\u0646 \u062D\u0641\u0638 \u0623\u064A \u0645\u0632\u064A\u062C \u0645\u0646 \u0627\u0644\u062A\u0635\u0641\u064A\u0627\u062A \u0645\u062B\u0644 \"\u0639\u0631\u0636\" \u064A\u0645\u0643\u0646\u0643 \u0639\u0631\u0636\u0647 \u0628\u0639\u062F \u0630\u0644\u0643 \u0639\u0644\u0649 \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 / \u0623\u0648 \u0627\u0644\u0634\u0631\u064A\u0637 \u0627\u0644\u062C\u0627\u0646\u0628\u064A.",route:"/documents?sort=created&reverse=1&page=1"},{anchorId:"tour.tags",content:"\u064A\u0645\u0643\u0646 \u0625\u062F\u0627\u0631\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u0648\u0633\u0648\u0645 \u0648\u062C\u0647\u0627\u062A \u0627\u0644\u062A\u0631\u0627\u0633\u0644 \u0648\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0648\u0645\u0633\u0627\u0631\u0627\u062A \u0627\u0644\u062A\u062E\u0632\u064A\u0646 \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062D\u0627\u062A. \u0648\u064A\u0645\u0643\u0646 \u0625\u0646\u0634\u0627\u0624\u0647\u0627 \u0623\u064A\u0636\u0627\u064B \u0645\u0646 \u062A\u0639\u062F\u064A\u0644 \u0639\u0631\u0636 \u0627\u0644\u0645\u0633\u062A\u0646\u062F.",route:"/tags",backdropConfig:{offset:0}},{anchorId:"tour.mail",content:"\u0625\u062F\u0627\u0631\u0629 \u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0648\u0642\u0648\u0627\u0639\u062F \u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A \u0644\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A.",route:"/mail",backdropConfig:{offset:0}},{anchorId:"tour.workflows",content:"\u062A\u0645\u0646\u062D\u0643 \u0645\u0647\u0627\u0645 \u0633\u064A\u0631 \u0627\u0644\u0639\u0645\u0644 \u0645\u0632\u064A\u062F\u0627 \u0645\u0646 \u0627\u0644\u062A\u062D\u0643\u0645 \u0641\u064A \u0645\u0633\u0627\u0631 \u0627\u0644\u0645\u0633\u062A\u0646\u062F.",route:"/workflows",backdropConfig:{offset:0}},{anchorId:"tour.file-tasks",content:"\u0645\u0644\u0641 \u0627\u0644\u0645\u0647\u0627\u0645 \u064A\u0638\u0647\u0631 \u0644\u0643 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u0647\u0644\u0643\u0629\u060C \u0623\u0648 \u062A\u0646\u062A\u0638\u0631 \u0623\u0646 \u062A\u0643\u0648\u0646\u060C \u0623\u0648 \u064A\u0643\u0648\u0646 \u0623\u062E\u0641\u0642 \u0641\u064A \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0639\u0645\u0644\u064A\u0629.",route:"/tasks",backdropConfig:{offset:0}},{anchorId:"tour.settings",content:"Check out the settings for various tweaks to the web app.",route:"/settings",backdropConfig:{offset:0}},{anchorId:"tour.outro",title:"\u0634\u0643\u0631\u0627\u064B \u0644\u0643! \uD83D\uDE4F",content:"\u0647\u0646\u0627\u0643 <em>\u0623\u0637\u0646\u0627\u0646</em> \u0627\u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0645\u064A\u0632\u0627\u062A \u0648\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u064A \u0644\u0645 \u0646\u063A\u0637\u064A\u0647\u0627 \u0647\u0646\u0627\u060C \u0648\u0644\u0643\u0646 \u064A\u062C\u0628 \u064A\u0643\u0648\u0646 \u0647\u0630\u0627 \u0643\u0627\u0641\u064A\u0627 \u0644\u0643 \u0644\u0644\u0628\u062F\u0627\u064A\u0629. \u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A \u0623\u0648 \u0632\u064A\u0627\u0631\u0629 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0639\u0644\u0649 GitHub \u0644\u0645\u0639\u0631\u0641\u0629 \u0627\u0644\u0645\u0632\u064A\u062F \u0623\u0648 \u0644\u0644\u0625\u0628\u0644\u0627\u063A \u0639\u0646 \u0627\u0644\u0645\u0634\u0643\u0644\u0627\u062A."+"<br/><br/>"+"\u0623\u062E\u064A\u0631\u0627\u060C \u0628\u0627\u0644\u0646\u064A\u0627\u0628\u0629 \u0639\u0646 \u0643\u0644 \u0645\u0633\u0627\u0647\u0645 \u0641\u064A \u0647\u0630\u0627 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0627\u0644\u0645\u062F\u0639\u0648\u0645 \u0645\u0646 \u0627\u0644\u0645\u062C\u062A\u0645\u0639\u060C \u0634\u0643\u0631\u0627 \u0644\u0643 \u0639\u0644\u0649 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 Paperless-ngx!",route:"/dashboard",isOptional:!1,backdropConfig:{offset:0}}],{enableBackdrop:!0,backdropConfig:{offset:10},prevBtnTitle:e,nextBtnTitle:i,endBtnTitle:o,isOptional:!0,useLegacyTitle:!0}),this.tourService.start$.subscribe(()=>{this.renderer.addClass(document.body,"tour-active"),this.tourService.end$.pipe(ut()).subscribe(()=>{this.settings.completeTour(),setTimeout(()=>{this.renderer.removeClass(document.body,"tour-active")},500)})})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=Ge({type:t,selectors:[["pngx-root"]],decls:7,vars:0,consts:[["tourStep",""],["content",""],[1,"tour-step-content",3,"innerHTML"],[1,"d-flex","justify-content-between","align-items-center"],[1,"badge","bg-light","text-dark"],["role","toolbar","aria-label","Controls",1,"tour-step-navigation","btn-toolbar"],["role","group","aria-label","Dismiss",1,"btn-group","btn-group-sm","me-2"],[1,"btn","btn-outline-danger",3,"click"],["role","group","aria-label","Previous / Next",1,"btn-group","btn-group-sm","align-self-end"],[1,"btn","btn-outline-primary"],[1,"btn","btn-outline-primary",3,"click"]],template:function(i,o){1&i&&(O(0,"pngx-toasts"),d(1,"pngx-file-drop"),ge(2,1),O(3,"router-outlet"),ue(),u(),d(4,"tour-step-template"),ce(5,u6t,12,6,"ng-template",null,0,xt),u())},dependencies:[c6t,s6t,Y2,RG,d4],encapsulation:2})}return t})(),g6t=(()=>{class t{constructor(){}intercept(e,i){return e=e.clone({setHeaders:{Accept:`application/json; version=${di.apiVersion}`}}),i.handle(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})(),p6t=(()=>{class t{constructor(){this.cookieService=M(dT),this.meta=M(SH)}intercept(e,i){let o="";this.meta.getTag("name=cookie_prefix")&&(o=this.meta.getTag("name=cookie_prefix").content);let s=this.cookieService.get(`${o}csrftoken`);return s&&(e=e.clone({setHeaders:{"X-CSRFToken":s,"X-Special-Header":"PUBLIC_ACCESS"}})),i.handle(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})(),f6t=(()=>{class t extends D_{constructor(){super(...arguments),this.settings=M(Gn),this.separatorRegExp=/[\.,\/-]+/}getDateInputFormat(){return this.settings.getLocalizedDateInputFormat()}getDateParseRegex(){return new RegExp("^"+this.getDateInputFormat().replace("dd","(?<day>[0-9]+)").replace("mm","(?<month>[0-9]+)").replace("yyyy","(?<year>[0-9]+)").split(".").join("\\.\\s*")+"$")}preformatDateInput(e){const i=this.getDateInputFormat(),o=i.replace(/[dmy]/gi,"").charAt(0);if(this.separatorRegExp.test(e)){let s=e.split(this.separatorRegExp);if(10==e.length&&3==s.length&&4==s[0].length)return i.replace("yyyy",s[0]).replace("mm",s[1]).replace("dd",s[2]);e=s.map(r=>r.padStart(2,"0")).join("")}return 4==e.length&&"yyyy"!=i.substring(0,4)?[e.substring(0,2),e.substring(2,4),(new Date).getFullYear()].join(o):4==e.length&&"yyyy"==i.substring(0,4)?[(new Date).getFullYear(),e.substring(0,2),e.substring(2,4)].join(o):6==e.length?[e.substring(0,2),e.substring(2,4),e.substring(4,6)].join(o):8==e.length&&"yyyy"!=i.substring(0,4)?[e.substring(0,2),e.substring(2,4),e.substring(4,8)].join(o):8==e.length&&"yyyy"==i.substring(0,4)?[e.substring(0,4),e.substring(4,6),e.substring(6,8)].join(o):e}parse(e){e=this.preformatDateInput(e);let i=this.getDateParseRegex().exec(e);if(i){let o={day:+i.groups.day,month:+i.groups.month,year:+i.groups.year};return o.year<=(new Date).getFullYear()-2e3?o.year+=2e3:o.year<100&&(o.year+=1900),o}return null}format(e){return e?this.getDateInputFormat().replace("dd",e.day.toString().padStart(2,"0")).replace("mm",e.month.toString().padStart(2,"0")).replace("yyyy",e.year.toString().padStart(4,"0")):null}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=an(t)))(o||t)}})();static#t=this.\u0275prov=Te({token:t,factory:t.\u0275fac})}return t})();const da=void 0,v6t=["af",[["v","n"],["vm.","nm."],da],da,[["S","M","D","W","D","V","S"],["So.","Ma.","Di.","Wo.","Do.","Vr.","Sa."],["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],["So.","Ma.","Di.","Wo.","Do.","Vr.","Sa."]],da,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","Mrt.","Apr.","Mei","Jun.","Jul.","Aug.","Sep.","Okt.","Nov.","Des."],["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"]],da,[["v.C.","n.C."],da,["voor Christus","na Christus"]],0,[6,0],["y-MM-dd","dd MMM y","dd MMMM y","EEEE dd MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",da,da,da],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"ZAR","R","Suid-Afrikaanse rand",{BYN:[da,"\u0440."],CAD:[da,"$"],JPY:["JP\xa5","\xa5"],MXN:[da,"$"],PHP:[da,"\u20b1"],RON:[da,"leu"],THB:["\u0e3f"],TWD:["NT$"],USD:[da,"$"],ZAR:["R"]},"ltr",function m6t(t){return 1===t?1:5}],xi=void 0,M6t=["ar",[["\u0635","\u0645"],xi,xi],[["\u0635","\u0645"],xi,["\u0635\u0628\u0627\u062d\u064b\u0627","\u0645\u0633\u0627\u0621\u064b"]],[["\u062d","\u0646","\u062b","\u0631","\u062e","\u062c","\u0633"],["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],xi,["\u0623\u062d\u062f","\u0625\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"]],xi,[["\u064a","\u0641","\u0645","\u0623","\u0648","\u0646","\u0644","\u063a","\u0633","\u0643","\u0628","\u062f"],["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],xi],xi,[["\u0642.\u0645","\u0645"],xi,["\u0642\u0628\u0644 \u0627\u0644\u0645\u064a\u0644\u0627\u062f","\u0645\u064a\u0644\u0627\u062f\u064a"]],6,[5,6],["d\u200f/M\u200f/y","dd\u200f/MM\u200f/y","d MMMM y","EEEE\u060c d MMMM y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xi,"{1} \u0641\u064a {0}",xi],[".",",",";","\u200e%\u200e","\u200e+","\u200e-","E","\xd7","\u2030","\u221e","\u0644\u064a\u0633\xa0\u0631\u0642\u0645\u064b\u0627",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"EGP","\u062c.\u0645.\u200f","\u062c\u0646\u064a\u0647 \u0645\u0635\u0631\u064a",{AED:["\u062f.\u0625.\u200f"],ARS:[xi,"AR$"],AUD:["AU$"],BBD:[xi,"BB$"],BHD:["\u062f.\u0628.\u200f"],BMD:[xi,"BM$"],BND:[xi,"BN$"],BSD:[xi,"BS$"],BYN:[xi,"\u0440."],BZD:[xi,"BZ$"],CAD:["CA$"],CLP:[xi,"CL$"],CNY:["CN\xa5"],COP:[xi,"CO$"],CUP:[xi,"CU$"],DOP:[xi,"DO$"],DZD:["\u062f.\u062c.\u200f"],EGP:["\u062c.\u0645.\u200f","E\xa3"],FJD:[xi,"FJ$"],GBP:["UK\xa3"],GYD:[xi,"GY$"],HKD:["HK$"],IQD:["\u062f.\u0639.\u200f"],IRR:["\u0631.\u0625."],JMD:[xi,"JM$"],JOD:["\u062f.\u0623.\u200f"],JPY:["JP\xa5"],KWD:["\u062f.\u0643.\u200f"],KYD:[xi,"KY$"],LBP:["\u0644.\u0644.\u200f","L\xa3"],LRD:[xi,"$LR"],LYD:["\u062f.\u0644.\u200f"],MAD:["\u062f.\u0645.\u200f"],MRU:["\u0623.\u0645."],MXN:["MX$"],NZD:["NZ$"],OMR:["\u0631.\u0639.\u200f"],PHP:[xi,"\u20b1"],QAR:["\u0631.\u0642.\u200f"],SAR:["\u0631.\u0633.\u200f"],SBD:[xi,"SB$"],SDD:["\u062f.\u0633.\u200f"],SDG:["\u062c.\u0633."],SRD:[xi,"SR$"],SYP:["\u0644.\u0633.\u200f","\xa3"],THB:["\u0e3f"],TND:["\u062f.\u062a.\u200f"],TTD:[xi,"TT$"],TWD:["NT$"],USD:["US$"],UYU:[xi,"UY$"],YER:["\u0631.\u064a.\u200f"]},"rtl",function C6t(t){const n=t;return 0===n?0:1===n?1:2===n?2:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?3:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?4:5}],Vi=void 0,w6t=["be",[["am","pm"],["AM","PM"],Vi],[["AM","PM"],Vi,Vi],[["\u043d","\u043f","\u0430","\u0441","\u0447","\u043f","\u0441"],["\u043d\u0434","\u043f\u043d","\u0430\u045e","\u0441\u0440","\u0447\u0446","\u043f\u0442","\u0441\u0431"],["\u043d\u044f\u0434\u0437\u0435\u043b\u044f","\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a","\u0430\u045e\u0442\u043e\u0440\u0430\u043a","\u0441\u0435\u0440\u0430\u0434\u0430","\u0447\u0430\u0446\u0432\u0435\u0440","\u043f\u044f\u0442\u043d\u0456\u0446\u0430","\u0441\u0443\u0431\u043e\u0442\u0430"],["\u043d\u0434","\u043f\u043d","\u0430\u045e","\u0441\u0440","\u0447\u0446","\u043f\u0442","\u0441\u0431"]],Vi,[["\u0441","\u043b","\u0441","\u043a","\u043c","\u0447","\u043b","\u0436","\u0432","\u043a","\u043b","\u0441"],["\u0441\u0442\u0443","\u043b\u044e\u0442","\u0441\u0430\u043a","\u043a\u0440\u0430","\u043c\u0430\u044f","\u0447\u044d\u0440","\u043b\u0456\u043f","\u0436\u043d\u0456","\u0432\u0435\u0440","\u043a\u0430\u0441","\u043b\u0456\u0441","\u0441\u043d\u0435"],["\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f","\u043b\u044e\u0442\u0430\u0433\u0430","\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430","\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430","\u043c\u0430\u044f","\u0447\u044d\u0440\u0432\u0435\u043d\u044f","\u043b\u0456\u043f\u0435\u043d\u044f","\u0436\u043d\u0456\u045e\u043d\u044f","\u0432\u0435\u0440\u0430\u0441\u043d\u044f","\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430","\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430","\u0441\u043d\u0435\u0436\u043d\u044f"]],[["\u0441","\u043b","\u0441","\u043a","\u043c","\u0447","\u043b","\u0436","\u0432","\u043a","\u043b","\u0441"],["\u0441\u0442\u0443","\u043b\u044e\u0442","\u0441\u0430\u043a","\u043a\u0440\u0430","\u043c\u0430\u0439","\u0447\u044d\u0440","\u043b\u0456\u043f","\u0436\u043d\u0456","\u0432\u0435\u0440","\u043a\u0430\u0441","\u043b\u0456\u0441","\u0441\u043d\u0435"],["\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c","\u043b\u044e\u0442\u044b","\u0441\u0430\u043a\u0430\u0432\u0456\u043a","\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a","\u043c\u0430\u0439","\u0447\u044d\u0440\u0432\u0435\u043d\u044c","\u043b\u0456\u043f\u0435\u043d\u044c","\u0436\u043d\u0456\u0432\u0435\u043d\u044c","\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c","\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a","\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434","\u0441\u043d\u0435\u0436\u0430\u043d\u044c"]],[["\u0434\u0430 \u043d.\u044d.","\u043d.\u044d."],Vi,["\u0434\u0430 \u043d\u0430\u0440\u0430\u0434\u0436\u044d\u043d\u043d\u044f \u0425\u0440\u044b\u0441\u0442\u043e\u0432\u0430","\u0430\u0434 \u043d\u0430\u0440\u0430\u0434\u0436\u044d\u043d\u043d\u044f \u0425\u0440\u044b\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["d.MM.yy","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss, zzzz"],["{1}, {0}",Vi,"{1} '\u0443' {0}",Vi],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"BYN","Br","\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456 \u0440\u0443\u0431\u0435\u043b\u044c",{AUD:["A$"],BBD:[Vi,"Bds$"],BMD:[Vi,"BD$"],BRL:[Vi,"R$"],BSD:[Vi,"B$"],BYN:["Br"],BZD:[Vi,"BZ$"],CAD:[Vi,"CA$"],CUC:[Vi,"CUC$"],CUP:[Vi,"$MN"],DOP:[Vi,"RD$"],FJD:[Vi,"FJ$"],FKP:[Vi,"FK\xa3"],GYD:[Vi,"G$"],ISK:[Vi,"\xcdkr"],JMD:[Vi,"J$"],KYD:[Vi,"CI$"],LRD:[Vi,"L$"],MXN:["MX$"],NAD:[Vi,"N$"],NZD:[Vi,"NZ$"],PHP:[Vi,"\u20b1"],RUB:["\u20bd","\u0440\u0443\u0431."],SBD:[Vi,"SI$"],SGD:[Vi,"S$"],TTD:[Vi,"TT$"],UYU:[Vi,"$U"],XCD:["EC$"]},"ltr",function T6t(t){const n=t;return n%10==1&&n%100!=11?1:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?3:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?4:5}],Va=void 0,S6t=["bg",[["am","pm"],Va,["\u043f\u0440.\u043e\u0431.","\u0441\u043b.\u043e\u0431."]],[["am","pm"],Va,Va],[["\u043d","\u043f","\u0432","\u0441","\u0447","\u043f","\u0441"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u043d\u0435\u0434\u0435\u043b\u044f","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u044f\u0434\u0430","\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a","\u043f\u0435\u0442\u044a\u043a","\u0441\u044a\u0431\u043e\u0442\u0430"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],Va,[["\u044f","\u0444","\u043c","\u0430","\u043c","\u044e","\u044e","\u0430","\u0441","\u043e","\u043d","\u0434"],["\u044f\u043d\u0443","\u0444\u0435\u0432","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440","\u043c\u0430\u0439","\u044e\u043d\u0438","\u044e\u043b\u0438","\u0430\u0432\u0433","\u0441\u0435\u043f","\u043e\u043a\u0442","\u043d\u043e\u0435","\u0434\u0435\u043a"],["\u044f\u043d\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0439","\u044e\u043d\u0438","\u044e\u043b\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u043d\u043e\u0435\u043c\u0432\u0440\u0438","\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438"]],Va,[["\u043f\u0440.\u0425\u0440.","\u0441\u043b.\u0425\u0440."],Va,["\u043f\u0440\u0435\u0434\u0438 \u0425\u0440\u0438\u0441\u0442\u0430","\u0441\u043b\u0435\u0434 \u0425\u0440\u0438\u0441\u0442\u0430"]],1,[6,0],["d.MM.yy '\u0433'.","d.MM.y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["H:mm '\u0447'.","H:mm:ss '\u0447'.","H:mm:ss '\u0447'. z","H:mm:ss '\u0447'. zzzz"],["{1}, {0}",Va,Va,Va],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","0.00\xa0\xa4","#E0"],"BGN","\u043b\u0432.","\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u043b\u0435\u0432",{AFN:[Va,"Af"],AMD:[],ARS:[],AUD:[],AZN:[],BBD:[],BDT:[],BGN:["\u043b\u0432."],BMD:[],BND:[],BRL:[],BSD:[],BZD:[],CAD:[],CLP:[],CNY:[],COP:[],CRC:[],CUP:[],DOP:[],FJD:[],FKP:[],GBP:[Va,"\xa3"],GHS:[],GIP:[],GYD:[],HKD:[],ILS:[],INR:[],JMD:[],JPY:[Va,"\xa5"],KHR:[],KRW:[],KYD:[],KZT:[],LAK:[],LRD:[],MNT:[],MXN:[],NAD:[],NGN:[],NZD:[],PHP:[],PYG:[],RON:[],SBD:[],SGD:[],SRD:[],SSP:[],TRY:[],TTD:[],TWD:[],UAH:[],USD:["\u0449.\u0434.","$"],UYU:[],VND:[],XCD:[Va,"$"]},"ltr",function b6t(t){return 1===t?1:5}],xr=void 0,O6t=["ca",[["a.\xa0m.","p.\xa0m."],xr,xr],xr,[["dg","dl","dt","dc","dj","dv","ds"],["dg.","dl.","dt.","dc.","dj.","dv.","ds."],["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],["dg.","dl.","dt.","dc.","dj.","dv.","ds."]],xr,[["GN","FB","M\xc7","AB","MG","JN","JL","AG","ST","OC","NV","DS"],["de gen.","de febr.","de mar\xe7","d\u2019abr.","de maig","de juny","de jul.","d\u2019ag.","de set.","d\u2019oct.","de nov.","de des."],["de gener","de febrer","de mar\xe7","d\u2019abril","de maig","de juny","de juliol","d\u2019agost","de setembre","d\u2019octubre","de novembre","de desembre"]],[["GN","FB","M\xc7","AB","MG","JN","JL","AG","ST","OC","NV","DS"],["gen.","febr.","mar\xe7","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."],["gener","febrer","mar\xe7","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"]],[["aC","dC"],xr,["abans de Crist","despr\xe9s de Crist"]],1,[6,0],["d/M/yy","d MMM y","d MMMM 'de' y","EEEE, d MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}","{1}, {0}","{1}, 'a' 'les' {0}",xr],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:["AU$","$"],BRL:[xr,"R$"],BYN:[xr,"\u0440."],CAD:[xr,"$"],CNY:[xr,"\xa5"],ESP:["\u20a7"],MXN:[xr,"$"],PHP:[xr,"\u20b1"],THB:["\u0e3f"],USD:[xr,"$"],VEF:[xr,"Bs F"],XCD:[xr,"$"],XXX:[]},"ltr",function E6t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],ha=void 0,N6t=["cs",[["dop.","odp."],ha,ha],ha,[["N","P","\xda","S","\u010c","P","S"],["ne","po","\xfat","st","\u010dt","p\xe1","so"],["ned\u011ble","pond\u011bl\xed","\xfater\xfd","st\u0159eda","\u010dtvrtek","p\xe1tek","sobota"],["ne","po","\xfat","st","\u010dt","p\xe1","so"]],ha,[["1","2","3","4","5","6","7","8","9","10","11","12"],["led","\xfano","b\u0159e","dub","kv\u011b","\u010dvn","\u010dvc","srp","z\xe1\u0159","\u0159\xedj","lis","pro"],["ledna","\xfanora","b\u0159ezna","dubna","kv\u011btna","\u010dervna","\u010dervence","srpna","z\xe1\u0159\xed","\u0159\xedjna","listopadu","prosince"]],[["1","2","3","4","5","6","7","8","9","10","11","12"],["led","\xfano","b\u0159e","dub","kv\u011b","\u010dvn","\u010dvc","srp","z\xe1\u0159","\u0159\xedj","lis","pro"],["leden","\xfanor","b\u0159ezen","duben","kv\u011bten","\u010derven","\u010dervenec","srpen","z\xe1\u0159\xed","\u0159\xedjen","listopad","prosinec"]],[["p\u0159.n.l.","n.l."],["p\u0159. n. l.","n. l."],["p\u0159ed na\u0161\xedm letopo\u010dtem","na\u0161eho letopo\u010dtu"]],1,[6,0],["dd.MM.yy","d. M. y","d. MMMM y","EEEE d. MMMM y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss zzzz"],["{1} {0}",ha,ha,ha],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"CZK","K\u010d","\u010desk\xe1 koruna",{AUD:["AU$","$"],BYN:[ha,"\u0440."],CSK:["K\u010ds"],CZK:["K\u010d"],ILS:[ha,"\u20aa"],INR:[ha,"\u20b9"],JPY:["JP\xa5","\xa5"],PHP:[ha,"\u20b1"],RON:[ha,"L"],RUR:[ha,"\u0440."],TWD:["NT$"],USD:["US$","$"],VND:[ha,"\u20ab"],XEU:["ECU"],XXX:[]},"ltr",function A6t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:e===Math.floor(e)&&e>=2&&e<=4&&0===i?3:0!==i?4:5}],Ha=void 0,y6t=["da",[["a","p"],["AM","PM"],Ha],[["AM","PM"],Ha,Ha],[["S","M","T","O","T","F","L"],["s\xf8n.","man.","tir.","ons.","tor.","fre.","l\xf8r."],["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],["s\xf8","ma","ti","on","to","fr","l\xf8"]],[["S","M","T","O","T","F","L"],["s\xf8n","man","tir","ons","tor","fre","l\xf8r"],["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],["s\xf8","ma","ti","on","to","fr","l\xf8"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mar.","apr.","maj","jun.","jul.","aug.","sep.","okt.","nov.","dec."],["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"]],Ha,[["fKr","eKr"],["f.Kr.","e.Kr."],Ha],1,[6,0],["dd.MM.y","d. MMM y","d. MMMM y","EEEE 'den' d. MMMM y"],["HH.mm","HH.mm.ss","HH.mm.ss z","HH.mm.ss zzzz"],["{1} {0}",Ha,"{1} 'kl'. {0}",Ha],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN","."],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"DKK","kr.","dansk krone",{AUD:["AU$","$"],BYN:[Ha,"Br."],DKK:["kr."],ISK:[Ha,"kr."],JPY:["JP\xa5","\xa5"],NOK:[Ha,"kr."],PHP:[Ha,"\u20b1"],RON:[Ha,"L"],SEK:[Ha,"kr."],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function D6t(t){const n=t,e=Math.floor(Math.abs(t)),i=parseInt(t.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;return 1===n||0!==i&&(0===e||1===e)?1:5}],ks=void 0,I6t=["de",[["AM","PM"],ks,ks],ks,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],ks,ks],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",ks,"{1} 'um' {0}",ks],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[ks,"\u0440."],CUC:[ks,"Cub$"],DEM:["DM"],FKP:[ks,"Fl\xa3"],GHS:[ks,"\u20b5"],GNF:[ks,"F.G."],KMF:[ks,"FC"],PHP:[ks,"\u20b1"],RON:[ks,"L"],RUR:[ks,"\u0440."],RWF:[ks,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[ks,"K"]},"ltr",function P6t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],rc=void 0,R6t=["el",[["\u03c0\u03bc","\u03bc\u03bc"],["\u03c0.\u03bc.","\u03bc.\u03bc."],rc],rc,[["\u039a","\u0394","\u03a4","\u03a4","\u03a0","\u03a0","\u03a3"],["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5","\u03a4\u03c1\u03af","\u03a4\u03b5\u03c4","\u03a0\u03ad\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03ac\u03b2"],["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"],["\u039a\u03c5","\u0394\u03b5","\u03a4\u03c1","\u03a4\u03b5","\u03a0\u03ad","\u03a0\u03b1","\u03a3\u03ac"]],rc,[["\u0399","\u03a6","\u039c","\u0391","\u039c","\u0399","\u0399","\u0391","\u03a3","\u039f","\u039d","\u0394"],["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03b1\u03c1","\u0391\u03c0\u03c1","\u039c\u03b1\u0390","\u0399\u03bf\u03c5\u03bd","\u0399\u03bf\u03c5\u03bb","\u0391\u03c5\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03b5","\u0394\u03b5\u03ba"],["\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5","\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5","\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5","\u039c\u03b1\u0390\u03bf\u03c5","\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5","\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5","\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5","\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5","\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5","\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5","\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5"]],[["\u0399","\u03a6","\u039c","\u0391","\u039c","\u0399","\u0399","\u0391","\u03a3","\u039f","\u039d","\u0394"],["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03ac\u03c1","\u0391\u03c0\u03c1","\u039c\u03ac\u03b9","\u0399\u03bf\u03cd\u03bd","\u0399\u03bf\u03cd\u03bb","\u0391\u03cd\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03ad","\u0394\u03b5\u03ba"],["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"]],[["\u03c0.\u03a7.","\u03bc.\u03a7."],rc,["\u03c0\u03c1\u03bf \u03a7\u03c1\u03b9\u03c3\u03c4\u03bf\u03cd","\u03bc\u03b5\u03c4\u03ac \u03a7\u03c1\u03b9\u03c3\u03c4\u03cc\u03bd"]],1,[6,0],["d/M/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rc,"{1} - {0}",rc],[",",".",";","%","+","-","e","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","\u0395\u03c5\u03c1\u03ce",{BYN:[rc,"\u0440."],GRD:["\u0394\u03c1\u03c7"],JPY:["JP\xa5","\xa5"],PHP:[rc,"\u20b1"],THB:["\u0e3f"]},"ltr",function L6t(t){return 1===t?1:5}],Q5=void 0,F6t=["en-GB",[["a","p"],["am","pm"],Q5],[["am","pm"],Q5,Q5],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Q5,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Q5,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Q5,"{1} 'at' {0}",Q5],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"GBP","\xa3","British Pound",{JPY:["JP\xa5","\xa5"],USD:["US$","$"]},"ltr",function x6t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],co=void 0,z6t=["es",[["a.\xa0m.","p.\xa0m."],co,co],co,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],co,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],co,[["a. C.","d. C."],co,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",co,co,co],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[co,"$"],BRL:[co,"R$"],BYN:[co,"\u0440."],CAD:[co,"$"],CNY:[co,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[co,"\xa3"],HKD:[co,"$"],ILS:[co,"\u20aa"],INR:[co,"\u20b9"],JPY:[co,"\xa5"],KRW:[co,"\u20a9"],MXN:[co,"$"],NZD:[co,"$"],PHP:[co,"\u20b1"],RON:[co,"L"],THB:["\u0e3f"],TWD:[co,"NT$"],USD:["US$","$"],XAF:[],XCD:[co,"$"],XOF:[]},"ltr",function k6t(t){const n=t,e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===n?1:0===o&&0!==e&&e%1e6==0&&0===i||!(o>=0&&o<=5)?4:5}],ac=void 0,H6t=["fa",[["\u0642","\u0628"],["\u0642.\u0638.","\u0628.\u0638."],["\u0642\u0628\u0644\u200c\u0627\u0632\u0638\u0647\u0631","\u0628\u0639\u062f\u0627\u0632\u0638\u0647\u0631"]],ac,[["\u06cc","\u062f","\u0633","\u0686","\u067e","\u062c","\u0634"],["\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200c\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],ac,["\u06f1\u0634","\u06f2\u0634","\u06f3\u0634","\u06f4\u0634","\u06f5\u0634","\u062c","\u0634"]],ac,[["\u0698","\u0641","\u0645","\u0622","\u0645","\u0698","\u0698","\u0627","\u0633","\u0627","\u0646","\u062f"],["\u0698\u0627\u0646\u0648\u06cc\u0647","\u0641\u0648\u0631\u06cc\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06cc\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06cc\u0647","\u0627\u0648\u062a","\u0633\u067e\u062a\u0627\u0645\u0628\u0631","\u0627\u06a9\u062a\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062f\u0633\u0627\u0645\u0628\u0631"],["\u0698\u0627\u0646\u0648\u06cc\u0647\u0654","\u0641\u0648\u0631\u06cc\u0647\u0654","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06cc\u0644","\u0645\u0647\u0654","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06cc\u0647\u0654","\u0627\u0648\u062a","\u0633\u067e\u062a\u0627\u0645\u0628\u0631","\u0627\u06a9\u062a\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062f\u0633\u0627\u0645\u0628\u0631"]],[["\u0698","\u0641","\u0645","\u0622","\u0645","\u0698","\u0698","\u0627","\u0633","\u0627","\u0646","\u062f"],["\u0698\u0627\u0646\u0648\u06cc\u0647","\u0641\u0648\u0631\u06cc\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06cc\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06cc\u0647","\u0627\u0648\u062a","\u0633\u067e\u062a\u0627\u0645\u0628\u0631","\u0627\u06a9\u062a\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062f\u0633\u0627\u0645\u0628\u0631"],ac],[["\u0642","\u0645"],["\u0642.\u0645.","\u0645."],["\u0642\u0628\u0644 \u0627\u0632 \u0645\u06cc\u0644\u0627\u062f","\u0645\u06cc\u0644\u0627\u062f\u06cc"]],6,[5,5],["y/M/d","d MMM y","d MMMM y","EEEE d MMMM y"],["H:mm","H:mm:ss","H:mm:ss (z)","H:mm:ss (zzzz)"],["{1}\u060c\u200f {0}",ac,"{1}\u060c \u0633\u0627\u0639\u062a {0}",ac],[".",",",";","%","\u200e+","\u200e\u2212","E","\xd7","\u2030","\u221e","\u0646\u0627\u0639\u062f\u062f",":"],["#,##0.###","#,##0%","\u200e\xa4\xa0#,##0.00","#E0"],"IRR","\u0631\u06cc\u0627\u0644","\u0631\u06cc\u0627\u0644 \u0627\u06cc\u0631\u0627\u0646",{AFN:["\u060b"],BYN:[ac,"\u0440."],CAD:["$CA","$"],CNY:["\xa5CN","\xa5"],HKD:["$HK","$"],IRR:["\u0631\u06cc\u0627\u0644"],MXN:["$MX","$"],NZD:["$NZ","$"],PHP:[ac,"\u20b1"],THB:["\u0e3f"],XCD:["$EC","$"],XOF:["\u0641\u0631\u0627\u0646\u06a9\u202fCFA"]},"rtl",function V6t(t){const n=t;return 0===Math.floor(Math.abs(t))||1===n?1:5}],J5=void 0,$6t=["fi",[["ap.","ip."],J5,J5],J5,[["S","M","T","K","T","P","L"],["su","ma","ti","ke","to","pe","la"],["sunnuntaina","maanantaina","tiistaina","keskiviikkona","torstaina","perjantaina","lauantaina"],["su","ma","ti","ke","to","pe","la"]],[["S","M","T","K","T","P","L"],["su","ma","ti","ke","to","pe","la"],["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],["su","ma","ti","ke","to","pe","la"]],[["T","H","M","H","T","K","H","E","S","L","M","J"],["tammik.","helmik.","maalisk.","huhtik.","toukok.","kes\xe4k.","hein\xe4k.","elok.","syysk.","lokak.","marrask.","jouluk."],["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kes\xe4kuuta","hein\xe4kuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"]],[["T","H","M","H","T","K","H","E","S","L","M","J"],["tammi","helmi","maalis","huhti","touko","kes\xe4","hein\xe4","elo","syys","loka","marras","joulu"],["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xe4kuu","hein\xe4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"]],[["eKr","jKr"],["eKr.","jKr."],["ennen Kristuksen syntym\xe4\xe4","j\xe4lkeen Kristuksen syntym\xe4n"]],1,[6,0],["d.M.y",J5,"d. MMMM y","cccc d. MMMM y"],["H.mm","H.mm.ss","H.mm.ss z","H.mm.ss zzzz"],["{1} {0}","{1} 'klo' {0}",J5,J5],[",","\xa0",";","%","+","\u2212","E","\xd7","\u2030","\u221e","ep\xe4luku","."],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AOA:[],ARS:[],AUD:[],BAM:[],BBD:[],BDT:[],BMD:[],BND:[],BOB:[],BRL:[],BSD:[],BWP:[],BZD:[],CAD:[],CLP:[],CNY:[],COP:[],CRC:[],CUC:[],CUP:[],CZK:[],DKK:[],DOP:[],EGP:[],ESP:[],FIM:["mk"],FJD:[],FKP:[],GEL:[],GIP:[],GNF:[],GTQ:[],GYD:[],HKD:[],HNL:[],HRK:[],HUF:[],IDR:[],ILS:[],INR:[],ISK:[],JMD:[],KHR:[],KMF:[],KPW:[],KRW:[],KYD:[],KZT:[],LAK:[],LBP:[],LKR:[],LRD:[],LTL:[],LVL:[],MGA:[],MMK:[],MNT:[],MUR:[],MXN:[],MYR:[],NAD:[],NGN:[],NIO:[],NOK:[],NPR:[],NZD:[],PHP:[],PKR:[],PLN:[],PYG:[],RON:[],RWF:[],SBD:[],SEK:[],SGD:[],SHP:[],SRD:[],SSP:[],STN:[J5,"STD"],SYP:[],THB:[],TOP:[],TRY:[],TTD:[],TWD:[],UAH:[],UYU:[],VEF:[],VND:[],XCD:[],XPF:[],XXX:[],ZAR:[],ZMW:[]},"ltr",function G6t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],os=void 0,U6t=["fr",[["AM","PM"],os,os],os,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],os,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],os,[["av. J.-C.","ap. J.-C."],os,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",os],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[os,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[os,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[os,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[os,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[os,"\xa5"],KMF:[os,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[os,"$C"],NZD:["$NZ","$"],PHP:[os,"\u20b1"],RHD:["$RH"],RON:[os,"L"],RWF:[os,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[os,"$T"],TTD:["$TT","$"],TWD:[os,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[os,"$"],XPF:["FCFP"],ZMW:[os,"Kw"]},"ltr",function B6t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===e||1===e?1:0===o&&0!==e&&e%1e6==0&&0===i||!(o>=0&&o<=5)?4:5}],ho=void 0,Z6t=["hu",[["de.","du."],ho,ho],ho,[["V","H","K","Sz","Cs","P","Sz"],["V","H","K","Sze","Cs","P","Szo"],["vas\xe1rnap","h\xe9tf\u0151","kedd","szerda","cs\xfct\xf6rt\xf6k","p\xe9ntek","szombat"],["V","H","K","Sze","Cs","P","Szo"]],ho,[["J","F","M","\xc1","M","J","J","A","Sz","O","N","D"],["jan.","febr.","m\xe1rc.","\xe1pr.","m\xe1j.","j\xfan.","j\xfal.","aug.","szept.","okt.","nov.","dec."],["janu\xe1r","febru\xe1r","m\xe1rcius","\xe1prilis","m\xe1jus","j\xfanius","j\xfalius","augusztus","szeptember","okt\xf3ber","november","december"]],ho,[["ie.","isz."],["i. e.","i. sz."],["Krisztus el\u0151tt","id\u0151sz\xe1m\xedt\xe1sunk szerint"]],1,[6,0],["y. MM. dd.","y. MMM d.","y. MMMM d.","y. MMMM d., EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss zzzz"],["{1} {0}",ho,ho,ho],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"HUF","Ft","magyar forint",{AUD:[ho,"$"],BRL:[ho,"R$"],BYN:[ho,"\u0440."],CAD:[ho,"$"],CNY:[ho,"\xa5"],EUR:[ho,"\u20ac"],GBP:[ho,"\xa3"],HKD:[ho,"$"],HUF:["Ft"],ILS:[ho,"\u20aa"],INR:[ho,"\u20b9"],KRW:[ho,"\u20a9"],MXN:[ho,"$"],NZD:[ho,"$"],PHP:[ho,"\u20b1"],TWD:[ho,"NT$"],USD:[ho,"$"],VND:[ho,"\u20ab"],XCD:[ho,"$"]},"ltr",function j6t(t){return 1===t?1:5}],zs=void 0,X6t=["it",[["m.","p."],["AM","PM"],zs],zs,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],zs,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],zs,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",zs,"{1} {0}",zs],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[zs,"R$"],BYN:[zs,"Br"],EGP:[zs,"\xa3E"],HKD:[zs,"$"],INR:[zs,"\u20b9"],JPY:[zs,"\xa5"],KRW:[zs,"\u20a9"],MXN:[zs,"$"],NOK:[zs,"NKr"],THB:["\u0e3f"],TWD:[zs,"NT$"],USD:[zs,"$"],VND:[zs,"\u20ab"]},"ltr",function W6t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===e&&0===i?1:0===o&&0!==e&&e%1e6==0&&0===i||!(o>=0&&o<=5)?4:5}],Fr=void 0,q6t=["ja",[["\u5348\u524d","\u5348\u5f8c"],Fr,Fr],Fr,[["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],Fr,["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]],Fr,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],Fr],Fr,[["BC","AD"],["\u7d00\u5143\u524d","\u897f\u66a6"],Fr],0,[6,0],["y/MM/dd",Fr,"y\u5e74M\u6708d\u65e5","y\u5e74M\u6708d\u65e5EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H\u6642mm\u5206ss\u79d2 zzzz"],["{1} {0}",Fr,Fr,Fr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"JPY","\uffe5","\u65e5\u672c\u5186",{BYN:[Fr,"\u0440."],CNY:["\u5143","\uffe5"],JPY:["\uffe5"],PHP:[Fr,"\u20b1"],RON:[Fr,"\u30ec\u30a4"],XXX:[]},"ltr",function K6t(t){return 5}],ua=void 0,Q6t=["ko",[["AM","PM"],ua,["\uc624\uc804","\uc624\ud6c4"]],ua,[["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],ua,["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]],ua,[["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],ua,ua],ua,[["BC","AD"],ua,["\uae30\uc6d0\uc804","\uc11c\uae30"]],0,[6,0],["yy. M. d.","y. M. d.","y\ub144 M\uc6d4 d\uc77c","y\ub144 M\uc6d4 d\uc77c EEEE"],["a h:mm","a h:mm:ss","a h\uc2dc m\ubd84 s\ucd08 z","a h\uc2dc m\ubd84 s\ucd08 zzzz"],["{1} {0}",ua,ua,ua],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"KRW","\u20a9","\ub300\ud55c\ubbfc\uad6d \uc6d0",{AUD:["AU$","$"],BYN:[ua,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[ua,"\u20b1"],RON:[ua,"L"],TWD:["NT$"],USD:["US$","$"]},"ltr",function Y6t(t){return 5}],ll=void 0,e4t=["lb",[["mo.","nom\xeb."],["moies","nom\xebttes"],ll],[["moies","nom\xebttes"],ll,ll],[["S","M","D","M","D","F","S"],["Son.","M\xe9i.","D\xebn.","M\xebt.","Don.","Fre.","Sam."],["Sonndeg","M\xe9indeg","D\xebnschdeg","M\xebttwoch","Donneschdeg","Freideg","Samschdeg"],["So.","M\xe9.","D\xeb.","M\xeb.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["Son","M\xe9i","D\xebn","M\xebt","Don","Fre","Sam"],["Sonndeg","M\xe9indeg","D\xebnschdeg","M\xebttwoch","Donneschdeg","Freideg","Samschdeg"],["So.","M\xe9.","D\xeb.","M\xeb.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4e.","Abr.","Mee","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4erz","Abr\xebll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4e","Abr","Mee","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4erz","Abr\xebll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],ll,ll],1,[6,0],["dd.MM.yy","d. MMM y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",ll,ll,ll],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],PHP:[ll,"\u20b1"],THB:["\u0e3f"],TWD:["NT$"]},"ltr",function J6t(t){return 1===t?1:5}],M0=void 0,n4t=["nl",[["a.m.","p.m."],M0,M0],M0,[["Z","M","D","W","D","V","Z"],["zo","ma","di","wo","do","vr","za"],["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],["zo","ma","di","wo","do","vr","za"]],M0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]],M0,[["v.C.","n.C."],["v.Chr.","n.Chr."],["voor Christus","na Christus"]],1,[6,0],["dd-MM-y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",M0,"{1} 'om' {0}",M0],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00;\xa4\xa0-#,##0.00","#E0"],"EUR","\u20ac","Euro",{AUD:["AU$","$"],BYN:[M0,"\u0440."],CAD:["C$","$"],FJD:["FJ$","$"],JPY:["JP\xa5","\xa5"],PHP:[M0,"\u20b1"],RUR:[M0,"\u0440."],SBD:["SI$","$"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"],XPF:[],XXX:[]},"ltr",function t4t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],mo=void 0,o4t=["no",[["a","p"],["a.m.","p.m."],mo],[["a.m.","p.m."],mo,mo],[["S","M","T","O","T","F","L"],["s\xf8n.","man.","tir.","ons.","tor.","fre.","l\xf8r."],["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],["s\xf8.","ma.","ti.","on.","to.","fr.","l\xf8."]],mo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mar.","apr.","mai","jun.","jul.","aug.","sep.","okt.","nov.","des."],["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]],[["f.Kr.","e.Kr."],mo,["f\xf8r Kristus","etter Kristus"]],1,[6,0],["dd.MM.y","d. MMM y","d. MMMM y","EEEE d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",mo,"{1} 'kl'. {0}",mo],[",","\xa0",";","%","+","\u2212","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4\xa0#,##0.00;\xa4\xa0-#,##0.00","#E0"],"NOK","kr","norske kroner",{AUD:[mo,"$"],BRL:[mo,"R$"],BYN:[mo,"\u0440."],CAD:[mo,"$"],CNY:[mo,"\xa5"],HKD:[mo,"$"],ILS:[mo,"\u20aa"],INR:[mo,"\u20b9"],JPY:[mo,"\xa5"],KRW:[mo,"\u20a9"],MXN:[mo,"$"],NOK:["kr"],NZD:[mo,"$"],PHP:[mo,"\u20b1"],RON:[mo,"L"],TWD:[mo,"NT$"],USD:[mo,"$"],VND:[mo,"\u20ab"],XAF:[],XCD:[mo,"$"],XPF:[],XXX:[]},"ltr",function i4t(t){return 1===t?1:5}],ss=void 0,r4t=["pl",[["a","p"],["AM","PM"],ss],ss,[["n","p","w","\u015b","c","p","s"],["niedz.","pon.","wt.","\u015br.","czw.","pt.","sob."],["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"],["nie","pon","wto","\u015bro","czw","pi\u0105","sob"]],[["N","P","W","\u015a","C","P","S"],["niedz.","pon.","wt.","\u015br.","czw.","pt.","sob."],["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"],["nie","pon","wto","\u015bro","czw","pi\u0105","sob"]],[["s","l","m","k","m","c","l","s","w","p","l","g"],["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017a","lis","gru"],["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrze\u015bnia","pa\u017adziernika","listopada","grudnia"]],[["S","L","M","K","M","C","L","S","W","P","L","G"],["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017a","lis","gru"],["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"]],[["p.n.e.","n.e."],ss,["przed nasz\u0105 er\u0105","naszej ery"]],1,[6,0],["d.MM.y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",ss,"{1} {0}",ss],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"PLN","z\u0142","z\u0142oty polski",{AUD:[ss,"$"],CAD:[ss,"$"],CNY:[ss,"\xa5"],GBP:[ss,"\xa3"],HKD:[ss,"$"],ILS:[ss,"\u20aa"],INR:[ss,"\u20b9"],JPY:[ss,"\xa5"],KRW:[ss,"\u20a9"],MXN:[ss,"$"],NZD:[ss,"$"],PHP:[ss,"\u20b1"],PLN:["z\u0142"],RON:[ss,"lej"],TWD:[ss,"NT$"],USD:[ss,"$"],VND:[ss,"\u20ab"]},"ltr",function s4t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:0===i&&e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)?3:0===i&&1!==e&&e%10===Math.floor(e%10)&&e%10>=0&&e%10<=1||0===i&&e%10===Math.floor(e%10)&&e%10>=5&&e%10<=9||0===i&&e%100===Math.floor(e%100)&&e%100>=12&&e%100<=14?4:5}],Ga=void 0,QB=["pt",[["AM","PM"],Ga,Ga],Ga,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],Ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],Ga,[["a.C.","d.C."],Ga,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Ga,Ga,Ga],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[Ga,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[Ga,"\u20b1"],PTE:["Esc."],RON:[Ga,"L"],SYP:[Ga,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function a4t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===Math.floor(e)&&e>=0&&e<=1?1:0===o&&0!==e&&e%1e6==0&&0===i||!(o>=0&&o<=5)?4:5}],qi=void 0,c4t=["ro",[["a.m.","p.m."],qi,qi],qi,[["D","L","M","M","J","V","S"],["dum.","lun.","mar.","mie.","joi","vin.","s\xe2m."],["duminic\u0103","luni","mar\u021bi","miercuri","joi","vineri","s\xe2mb\u0103t\u0103"],["du.","lu.","ma.","mi.","joi","vi.","s\xe2."]],qi,[["I","F","M","A","M","I","I","A","S","O","N","D"],["ian.","feb.","mar.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."],["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"]],qi,[["\xee.Hr.","d.Hr."],qi,["\xeenainte de Hristos","dup\u0103 Hristos"]],1,[6,0],["dd.MM.y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",qi,qi,qi],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RON","RON","leu rom\xe2nesc",{AUD:[qi,"$"],BRL:[qi,"R$"],BYN:[qi,"\u0440."],CAD:[qi,"$"],CNY:[qi,"\xa5"],EUR:[qi,"\u20ac"],GBP:[qi,"\xa3"],HKD:[qi,"$"],ILS:[qi,"\u20aa"],INR:[qi,"\u20b9"],JPY:[qi,"\xa5"],KRW:[qi,"\u20a9"],MXN:[qi,"$"],NZD:[qi,"$"],PHP:[qi,"\u20b1"],TWD:[qi,"NT$"],USD:[qi,"$"],VND:[qi,"\u20ab"],XCD:[qi,"$"]},"ltr",function l4t(t){const n=t,e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:0!==i||0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=19?3:5}],U1=void 0,h4t=["ru",[["AM","PM"],U1,U1],U1,[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],U1,[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",U1,U1,U1],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{BYN:[U1,"\u0440."],GEL:[U1,"\u10da"],PHP:[U1,"\u20b1"],RON:[U1,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function d4t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 0===i&&e%10==1&&e%100!=11?1:0===i&&e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)?3:0===i&&e%10==0||0===i&&e%10===Math.floor(e%10)&&e%10>=5&&e%10<=9||0===i&&e%100===Math.floor(e%100)&&e%100>=11&&e%100<=14?4:5}],bo=void 0,_4t=["sk",[["AM","PM"],bo,bo],bo,[["n","p","u","s","\u0161","p","s"],["ne","po","ut","st","\u0161t","pi","so"],["nede\u013ea","pondelok","utorok","streda","\u0161tvrtok","piatok","sobota"],["ne","po","ut","st","\u0161t","pi","so"]],bo,[["j","f","m","a","m","j","j","a","s","o","n","d"],["jan","feb","mar","apr","m\xe1j","j\xfan","j\xfal","aug","sep","okt","nov","dec"],["janu\xe1ra","febru\xe1ra","marca","apr\xedla","m\xe1ja","j\xfana","j\xfala","augusta","septembra","okt\xf3bra","novembra","decembra"]],[["j","f","m","a","m","j","j","a","s","o","n","d"],["jan","feb","mar","apr","m\xe1j","j\xfan","j\xfal","aug","sep","okt","nov","dec"],["janu\xe1r","febru\xe1r","marec","apr\xedl","m\xe1j","j\xfan","j\xfal","august","september","okt\xf3ber","november","december"]],[["pred Kr.","po Kr."],bo,["pred Kristom","po Kristovi"]],1,[6,0],["d. M. y",bo,"d. MMMM y","EEEE d. MMMM y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss zzzz"],["{1} {0}","{1}, {0}",bo,bo],[",","\xa0",";","%","+","-","e","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[bo,"$"],BRL:[bo,"R$"],BYN:[bo,"\u0440."],CAD:[bo,"$"],CNY:[bo,"\xa5"],GBP:[bo,"\xa3"],HKD:[bo,"$"],ILS:["NIS","\u20aa"],INR:[bo,"\u20b9"],JPY:[bo,"\xa5"],KRW:[bo,"\u20a9"],NZD:[bo,"$"],PHP:[bo,"\u20b1"],RUR:[bo,"\u0440."],TWD:[bo,"NT$"],USD:[bo,"$"],VND:[bo,"\u20ab"],XXX:[]},"ltr",function u4t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:e===Math.floor(e)&&e>=2&&e<=4&&0===i?3:0!==i?4:5}],_r=void 0,p4t=["sl",[["d","p"],["dop.","pop."],_r],[["d","p"],["dop.","pop."],["dopoldne","popoldne"]],[["n","p","t","s","\u010d","p","s"],["ned.","pon.","tor.","sre.","\u010det.","pet.","sob."],["nedelja","ponedeljek","torek","sreda","\u010detrtek","petek","sobota"],["ned.","pon.","tor.","sre.","\u010det.","pet.","sob."]],_r,[["j","f","m","a","m","j","j","a","s","o","n","d"],["jan.","feb.","mar.","apr.","maj","jun.","jul.","avg.","sep.","okt.","nov.","dec."],["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"]],_r,[["pr. Kr.","po Kr."],_r,["pred Kristusom","po Kristusu"]],1,[6,0],["d. MM. yy","d. MMM y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",_r,"{1} {0}",_r],[",",".",";","%","+","\u2212","e","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","evro",{AUD:[_r,"$"],BRL:[_r,"R$"],BYN:[_r,"\u0440."],CAD:[_r,"$"],GBP:[_r,"\xa3"],MXN:[_r,"$"],NZD:[_r,"$"],PHP:[_r,"\u20b1"],TWD:[_r,"NT$"],XCD:[_r,"$"]},"ltr",function g4t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 0===i&&e%100==1?1:0===i&&e%100==2?2:0===i&&e%100===Math.floor(e%100)&&e%100>=3&&e%100<=4||0!==i?3:5}],kr=void 0,m4t=["sr",[["AM","PM"],kr,kr],[["\u043f\u0440\u0435 \u043f\u043e\u0434\u043d\u0435","\u043f\u043e \u043f\u043e\u0434\u043d\u0435"],["AM","PM"],kr],[["\u043d","\u043f","\u0443","\u0441","\u0447","\u043f","\u0441"],["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0443\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0443\u0431"],["\u043d\u0435\u0434\u0435\u0459\u0430","\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a","\u0443\u0442\u043e\u0440\u0430\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a","\u043f\u0435\u0442\u0430\u043a","\u0441\u0443\u0431\u043e\u0442\u0430"],["\u043d\u0435","\u043f\u043e","\u0443\u0442","\u0441\u0440","\u0447\u0435","\u043f\u0435","\u0441\u0443"]],kr,[["\u0458","\u0444","\u043c","\u0430","\u043c","\u0458","\u0458","\u0430","\u0441","\u043e","\u043d","\u0434"],["\u0458\u0430\u043d","\u0444\u0435\u0431","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433","\u0441\u0435\u043f","\u043e\u043a\u0442","\u043d\u043e\u0432","\u0434\u0435\u0446"],["\u0458\u0430\u043d\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440","\u043e\u043a\u0442\u043e\u0431\u0430\u0440","\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440"]],kr,[["\u043f.\u043d.\u0435.","\u043d.\u0435."],["\u043f. \u043d. \u0435.","\u043d. \u0435."],["\u043f\u0440\u0435 \u043d\u043e\u0432\u0435 \u0435\u0440\u0435","\u043d\u043e\u0432\u0435 \u0435\u0440\u0435"]],1,[6,0],["d.M.yy.","d. M. y.","d. MMMM y.","EEEE, d. MMMM y."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",kr,kr,kr],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"RSD","RSD","\u0441\u0440\u043f\u0441\u043a\u0438 \u0434\u0438\u043d\u0430\u0440",{AUD:[kr,"$"],BAM:["\u041a\u041c","KM"],BYN:[kr,"\u0440."],GEL:[kr,"\u10da"],KRW:[kr,"\u20a9"],NZD:[kr,"$"],PHP:[kr,"\u20b1"],TWD:["NT$"],USD:["US$","$"],VND:[kr,"\u20ab"]},"ltr",function f4t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(t.toString().replace(/^[^.]*\.?/,""),10)||0;return 0===i&&e%10==1&&e%100!=11||o%10==1&&o%100!=11?1:0===i&&e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)||o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?3:5}],rs=void 0,C4t=["sv",[["fm","em"],rs,rs],[["fm","em"],["f.m.","e.m."],["f\xf6rmiddag","eftermiddag"]],[["S","M","T","O","T","F","L"],["s\xf6n","m\xe5n","tis","ons","tors","fre","l\xf6r"],["s\xf6ndag","m\xe5ndag","tisdag","onsdag","torsdag","fredag","l\xf6rdag"],["s\xf6","m\xe5","ti","on","to","fr","l\xf6"]],rs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]],rs,[["f.Kr.","e.Kr."],rs,["f\xf6re Kristus","efter Kristus"]],1,[6,0],["y-MM-dd","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",rs,rs,rs],[",","\xa0",";","%","+","\u2212","\xd710^","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"SEK","kr","svensk krona",{AUD:[rs,"$"],BBD:["Bds$","$"],BMD:["BM$","$"],BRL:["BR$","R$"],BSD:["BS$","$"],BYN:[rs,"\u0440."],BZD:["BZ$","$"],CNY:[rs,"\xa5"],DKK:["Dkr","kr"],DOP:["RD$","$"],EEK:["Ekr"],EGP:["EG\xa3","E\xa3"],ESP:[],GBP:[rs,"\xa3"],HKD:[rs,"$"],IEP:["IE\xa3"],INR:[rs,"\u20b9"],ISK:["Ikr","kr"],JMD:["JM$","$"],JPY:[rs,"\xa5"],KRW:[rs,"\u20a9"],NOK:["Nkr","kr"],NZD:[rs,"$"],PHP:[rs,"\u20b1"],RON:[rs,"L"],SEK:["kr"],TWD:[rs,"NT$"],USD:["US$","$"],VND:[rs,"\u20ab"]},"ltr",function v4t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],$a=void 0,T4t=["tr",[["\xf6\xf6","\xf6s"],["\xd6\xd6","\xd6S"],$a],[["\xd6\xd6","\xd6S"],$a,$a],[["P","P","S","\xc7","P","C","C"],["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cmt"],["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],["Pa","Pt","Sa","\xc7a","Pe","Cu","Ct"]],$a,[["O","\u015e","M","N","M","H","T","A","E","E","K","A"],["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"]],$a,[["M\xd6","MS"],$a,["Milattan \xd6nce","Milattan Sonra"]],1,[6,0],["d.MM.y","d MMM y","d MMMM y","d MMMM y EEEE"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",$a,$a,$a],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","%#,##0","\xa4#,##0.00","#E0"],"TRY","\u20ba","T\xfcrk Liras\u0131",{AUD:["AU$","$"],BYN:[$a,"\u0440."],PHP:[$a,"\u20b1"],RON:[$a,"L"],RUR:[$a,"\u0440."],THB:["\u0e3f"],TRY:["\u20ba"],TWD:["NT$"]},"ltr",function M4t(t){return 1===t?1:5}],vo=void 0,b4t=["uk",[["\u0434\u043f","\u043f\u043f"],vo,vo],vo,[["\u041d","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u043d\u0435\u0434\u0456\u043b\u044f","\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0441\u0435\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440","\u043f\u02bc\u044f\u0442\u043d\u0438\u0446\u044f","\u0441\u0443\u0431\u043e\u0442\u0430"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],vo,[["\u0441","\u043b","\u0431","\u043a","\u0442","\u0447","\u043b","\u0441","\u0432","\u0436","\u043b","\u0433"],["\u0441\u0456\u0447.","\u043b\u044e\u0442.","\u0431\u0435\u0440.","\u043a\u0432\u0456\u0442.","\u0442\u0440\u0430\u0432.","\u0447\u0435\u0440\u0432.","\u043b\u0438\u043f.","\u0441\u0435\u0440\u043f.","\u0432\u0435\u0440.","\u0436\u043e\u0432\u0442.","\u043b\u0438\u0441\u0442.","\u0433\u0440\u0443\u0434."],["\u0441\u0456\u0447\u043d\u044f","\u043b\u044e\u0442\u043e\u0433\u043e","\u0431\u0435\u0440\u0435\u0437\u043d\u044f","\u043a\u0432\u0456\u0442\u043d\u044f","\u0442\u0440\u0430\u0432\u043d\u044f","\u0447\u0435\u0440\u0432\u043d\u044f","\u043b\u0438\u043f\u043d\u044f","\u0441\u0435\u0440\u043f\u043d\u044f","\u0432\u0435\u0440\u0435\u0441\u043d\u044f","\u0436\u043e\u0432\u0442\u043d\u044f","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043d\u044f"]],[["\u0421","\u041b","\u0411","\u041a","\u0422","\u0427","\u041b","\u0421","\u0412","\u0416","\u041b","\u0413"],["\u0441\u0456\u0447","\u043b\u044e\u0442","\u0431\u0435\u0440","\u043a\u0432\u0456","\u0442\u0440\u0430","\u0447\u0435\u0440","\u043b\u0438\u043f","\u0441\u0435\u0440","\u0432\u0435\u0440","\u0436\u043e\u0432","\u043b\u0438\u0441","\u0433\u0440\u0443"],["\u0441\u0456\u0447\u0435\u043d\u044c","\u043b\u044e\u0442\u0438\u0439","\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u043a\u0432\u0456\u0442\u0435\u043d\u044c","\u0442\u0440\u0430\u0432\u0435\u043d\u044c","\u0447\u0435\u0440\u0432\u0435\u043d\u044c","\u043b\u0438\u043f\u0435\u043d\u044c","\u0441\u0435\u0440\u043f\u0435\u043d\u044c","\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0436\u043e\u0432\u0442\u0435\u043d\u044c","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0433\u0440\u0443\u0434\u0435\u043d\u044c"]],[["\u0434\u043e \u043d.\u0435.","\u043d.\u0435."],["\u0434\u043e \u043d. \u0435.","\u043d. \u0435."],["\u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438","\u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438"]],1,[6,0],["dd.MM.yy","d MMM y '\u0440'.","d MMMM y '\u0440'.","EEEE, d MMMM y '\u0440'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",vo,"{1} '\u043e' {0}",vo],[",","\xa0",";","%","+","-","\u0415","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"UAH","\u20b4","\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u0433\u0440\u0438\u0432\u043d\u044f",{AUD:[vo,"$"],BRL:[vo,"R$"],BYN:[vo,"\u0440."],CAD:[vo,"$"],CNY:[vo,"\xa5"],EUR:[vo,"\u20ac"],GBP:[vo,"\xa3"],HKD:[vo,"$"],ILS:[vo,"\u20aa"],INR:[vo,"\u20b9"],KRW:[vo,"\u20a9"],MXN:[vo,"$"],NZD:[vo,"$"],PHP:[vo,"\u20b1"],RUR:[vo,"\u0440."],TWD:[vo,"$"],UAH:["\u20b4"],UAK:["\u043a\u0440\u0431."],USD:[vo,"$"],VND:[vo,"\u20ab"],XCD:[vo,"$"]},"ltr",function w4t(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 0===i&&e%10==1&&e%100!=11?1:0===i&&e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)?3:0===i&&e%10==0||0===i&&e%10===Math.floor(e%10)&&e%10>=5&&e%10<=9||0===i&&e%100===Math.floor(e%100)&&e%100>=11&&e%100<=14?4:5}],lc=void 0,E4t=["vi",[["s","c"],["SA","CH"],lc],[["SA","CH"],lc,lc],[["CN","T2","T3","T4","T5","T6","T7"],["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],["Ch\u1ee7 Nh\u1eadt","Th\u1ee9 Hai","Th\u1ee9 Ba","Th\u1ee9 T\u01b0","Th\u1ee9 N\u0103m","Th\u1ee9 S\xe1u","Th\u1ee9 B\u1ea3y"],["CN","T2","T3","T4","T5","T6","T7"]],lc,[["1","2","3","4","5","6","7","8","9","10","11","12"],["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],["th\xe1ng 1","th\xe1ng 2","th\xe1ng 3","th\xe1ng 4","th\xe1ng 5","th\xe1ng 6","th\xe1ng 7","th\xe1ng 8","th\xe1ng 9","th\xe1ng 10","th\xe1ng 11","th\xe1ng 12"]],[["1","2","3","4","5","6","7","8","9","10","11","12"],["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"]],[["tr. CN","sau CN"],["Tr\u01b0\u1edbc CN","Sau CN"],["Tr\u01b0\u1edbc Thi\xean Ch\xfaa","Sau C\xf4ng Nguy\xean"]],1,[6,0],["dd/MM/y","d MMM, y","d MMMM, y","EEEE, d MMMM, y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{0}, {1}",lc,"{0} {1}",lc],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"VND","\u20ab","\u0110\u1ed3ng Vi\u1ec7t Nam",{AUD:["AU$","$"],BYN:[lc,"\u0440."],PHP:[lc,"\u20b1"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function S4t(t){return 5}],_a=void 0,A4t=["zh",[["\u4e0a\u5348","\u4e0b\u5348"],_a,_a],_a,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"]],_a,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]],_a,[["\u516c\u5143\u524d","\u516c\u5143"],_a,_a],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",_a,"y\u5e74M\u6708d\u65e5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",_a,_a,_a],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"CNY","\xa5","\u4eba\u6c11\u5e01",{AUD:["AU$","$"],BYN:[_a,"\u0440."],CNY:["\xa5"],ILR:["ILS"],JPY:["JP\xa5","\xa5"],KRW:["\uffe6","\u20a9"],PHP:[_a,"\u20b1"],RUR:[_a,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function O4t(t){return 5}],gr=void 0,D4t=["zh-Hant",[["\u4e0a\u5348","\u4e0b\u5348"],gr,gr],gr,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u9031\u65e5","\u9031\u4e00","\u9031\u4e8c","\u9031\u4e09","\u9031\u56db","\u9031\u4e94","\u9031\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]],gr,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],gr],gr,[["\u897f\u5143\u524d","\u897f\u5143"],gr,gr],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",gr,"y\u5e74M\u6708d\u65e5 EEEE"],["Bh:mm","Bh:mm:ss","Bh:mm:ss [z]","Bh:mm:ss [zzzz]"],["{1} {0}",gr,gr,gr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","\u975e\u6578\u503c",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"TWD","$","\u65b0\u53f0\u5e63",{AUD:["AU$","$"],BYN:[gr,"\u0440."],KRW:["\uffe6","\u20a9"],PHP:[gr,"\u20b1"],RON:[gr,"L"],RUR:[gr,"\u0440."],TWD:["$"],USD:["US$","$"],XXX:[]},"ltr",function N4t(t){return 5}];gi(v6t),gi(M6t),gi(w6t),gi(S6t),gi(O6t),gi(N6t),gi(y6t),gi(I6t),gi(R6t),gi(F6t),gi(z6t),gi(H6t),gi($6t),gi(U6t),gi(Z6t),gi(X6t),gi(q6t),gi(Q6t),gi(e4t),gi(n4t),gi(o4t),gi(r4t),gi(QB,"pt-BR"),gi(QB,"pt-PT"),gi(c4t),gi(h4t),gi(_4t),gi(p4t),gi(m4t),gi(C4t),gi(T4t),gi(E4t),gi(b4t),gi(A4t),gi(D4t),function W1e(t,n){return Ine({rootComponent:t,...LR(n)})}(_6t,{providers:[Sb(Q1e,W3t,zde,$t,Wt,Z6,_5,TH,Y2,a2,Bt.pick({airplane:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-airplane" viewBox="0 0 16 16">\n  <path d="M6.428 1.151C6.708.591 7.213 0 8 0s1.292.592 1.572 1.151C9.861 1.73 10 2.431 10 3v3.691l5.17 2.585a1.5 1.5 0 0 1 .83 1.342V12a.5.5 0 0 1-.582.493l-5.507-.918-.375 2.253 1.318 1.318A.5.5 0 0 1 10.5 16h-5a.5.5 0 0 1-.354-.854l1.319-1.318-.376-2.253-5.507.918A.5.5 0 0 1 0 12v-1.382a1.5 1.5 0 0 1 .83-1.342L6 6.691V3c0-.568.14-1.271.428-1.849Zm.894.448C7.111 2.02 7 2.569 7 3v4a.5.5 0 0 1-.276.447l-5.448 2.724a.5.5 0 0 0-.276.447v.792l5.418-.903a.5.5 0 0 1 .575.41l.5 3a.5.5 0 0 1-.14.437L6.708 15h2.586l-.647-.646a.5.5 0 0 1-.14-.436l.5-3a.5.5 0 0 1 .576-.411L15 11.41v-.792a.5.5 0 0 0-.276-.447L9.276 7.447A.5.5 0 0 1 9 7V3c0-.432-.11-.979-.322-1.401C8.458 1.159 8.213 1 8 1c-.213 0-.458.158-.678.599Z"/>\n</svg>',archive:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-archive" viewBox="0 0 16 16">\n  <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>\n</svg>',arrowClockwise:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>\n  <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>\n</svg>',arrowCounterclockwise:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>\n  <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>\n</svg>',arrowDown:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-down" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>\n</svg>',arrowDownUp:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-down-up" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z"/>\n</svg>',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>\n</svg>',arrowRepeat:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16">\n  <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/>\n  <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/>\n</svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>\n</svg>',arrowRightShort:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/>\n</svg>',arrowUpRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M14 2.5a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0v-6z"/>\n</svg>',asterisk:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-asterisk" viewBox="0 0 16 16">\n  <path d="M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1z"/>\n</svg>',bell:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">\n  <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>\n</svg>',braces:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-braces" viewBox="0 0 16 16">\n  <path d="M2.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C3.25 2 2.49 2.759 2.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6zM13.886 7.9v.163c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456V7.332c-1.114 0-1.49-.362-1.49-1.456V4.352C13.51 2.759 12.75 2 11.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6z"/>\n</svg>',bodyText:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-body-text" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M0 .5A.5.5 0 0 1 .5 0h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 0 .5Zm0 2A.5.5 0 0 1 .5 2h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm9 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-9 2A.5.5 0 0 1 .5 4h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm5 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm-12 2A.5.5 0 0 1 .5 6h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Zm8 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-8 2A.5.5 0 0 1 .5 8h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm-7 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"/>\n</svg>',boxArrowUp:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M3.5 6a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 1 0-1h2A1.5 1.5 0 0 1 14 6.5v8a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-8A1.5 1.5 0 0 1 3.5 5h2a.5.5 0 0 1 0 1h-2z"/>\n  <path fill-rule="evenodd" d="M7.646.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 1.707V10.5a.5.5 0 0 1-1 0V1.707L5.354 3.854a.5.5 0 1 1-.708-.708l3-3z"/>\n</svg>',boxArrowUpRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"/>\n  <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"/>\n</svg>',boxes:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-boxes" viewBox="0 0 16 16">\n  <path d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"/>\n</svg>',calendar:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">\n  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>\n</svg>',calendarEvent:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-event" viewBox="0 0 16 16">\n  <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>\n  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>\n</svg>',calendarEventFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-event-fill" viewBox="0 0 16 16">\n  <path d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-3.5-7h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z"/>\n</svg>',cardChecklist:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-checklist" viewBox="0 0 16 16">\n  <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>\n  <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>\n</svg>',cardHeading:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-heading" viewBox="0 0 16 16">\n  <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>\n  <path d="M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z"/>\n</svg>',caretDown:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down" viewBox="0 0 16 16">\n  <path d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>\n</svg>',caretUp:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-up" viewBox="0 0 16 16">\n  <path d="M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z"/>\n</svg>',chatLeftText:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-left-text" viewBox="0 0 16 16">\n  <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>\n  <path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>\n</svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">\n  <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>\n</svg>',check2All:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2-all" viewBox="0 0 16 16">\n  <path d="M12.354 4.354a.5.5 0 0 0-.708-.708L5 10.293 1.854 7.146a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l7-7zm-4.208 7-.896-.897.707-.707.543.543 6.646-6.647a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708 0z"/>\n  <path d="m5.354 7.146.896.897-.707.707-.897-.896a.5.5 0 1 1 .708-.708z"/>\n</svg>',checkAll:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-all" viewBox="0 0 16 16">\n  <path d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z"/>\n</svg>',checkCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>\n</svg>',checkCircleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">\n  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>\n</svg>',checkLg:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-lg" viewBox="0 0 16 16">\n  <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>\n</svg>',chevronDoubleLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-left" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>\n  <path fill-rule="evenodd" d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>\n</svg>',chevronDoubleRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"/>\n  <path fill-rule="evenodd" d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"/>\n</svg>',chevronRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>\n</svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">\n  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>\n  <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>\n</svg>',clipboardCheck:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>\n  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>\n  <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>\n</svg>',clipboardCheckFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">\n  <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>\n  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>\n</svg>',clipboardFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-fill" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>\n</svg>',clockHistory:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-history" viewBox="0 0 16 16">\n  <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 0 0-.439-.27l.493-.87a8.025 8.025 0 0 1 .979.654l-.615.789a6.996 6.996 0 0 0-.418-.302zm1.834 1.79a6.99 6.99 0 0 0-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 0 0-.214-.468l.893-.45a7.976 7.976 0 0 1 .45 1.088l-.95.313a7.023 7.023 0 0 0-.179-.483zm.53 2.507a6.991 6.991 0 0 0-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1 .025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 0 1-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 0 1-.401.432l-.707-.707z"/>\n  <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0v1z"/>\n  <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"/>\n</svg>',dash:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">\n  <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>\n</svg>',dashCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>\n</svg>',diagram3:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-diagram-3" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"/>\n</svg>',dice5:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dice-5" viewBox="0 0 16 16">\n  <path d="M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h10zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z"/>\n  <path d="M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n</svg>',doorOpen:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-door-open" viewBox="0 0 16 16">\n  <path d="M8.5 10c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"/>\n  <path d="M10.828.122A.5.5 0 0 1 11 .5V1h.5A1.5 1.5 0 0 1 13 2.5V15h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117zM11.5 2H11v13h1V2.5a.5.5 0 0 0-.5-.5zM4 1.934V15h6V1.077l-6 .857z"/>\n</svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">\n  <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>\n  <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>\n</svg>',envelope:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope" viewBox="0 0 16 16">\n  <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>\n</svg>',envelopeAt:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-at" viewBox="0 0 16 16">\n  <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"/>\n  <path d="M14.247 14.269c1.01 0 1.587-.857 1.587-2.025v-.21C15.834 10.43 14.64 9 12.52 9h-.035C10.42 9 9 10.36 9 12.432v.214C9 14.82 10.438 16 12.358 16h.044c.594 0 1.018-.074 1.237-.175v-.73c-.245.11-.673.18-1.18.18h-.044c-1.334 0-2.571-.788-2.571-2.655v-.157c0-1.657 1.058-2.724 2.64-2.724h.04c1.535 0 2.484 1.05 2.484 2.326v.118c0 .975-.324 1.39-.639 1.39-.232 0-.41-.148-.41-.42v-2.19h-.906v.569h-.03c-.084-.298-.368-.63-.954-.63-.778 0-1.259.555-1.259 1.4v.528c0 .892.49 1.434 1.26 1.434.471 0 .896-.227 1.014-.643h.043c.118.42.617.648 1.12.648Zm-2.453-1.588v-.227c0-.546.227-.791.573-.791.297 0 .572.192.572.708v.367c0 .573-.253.744-.564.744-.354 0-.581-.215-.581-.8Z"/>\n</svg>',envelopeAtFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-at-fill" viewBox="0 0 16 16">\n  <path d="M2 2A2 2 0 0 0 .05 3.555L8 8.414l7.95-4.859A2 2 0 0 0 14 2H2Zm-2 9.8V4.698l5.803 3.546L0 11.801Zm6.761-2.97-6.57 4.026A2 2 0 0 0 2 14h6.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586l-1.239-.757ZM16 9.671V4.697l-5.803 3.546.338.208A4.482 4.482 0 0 1 12.5 8c1.414 0 2.675.652 3.5 1.671Z"/>\n  <path d="M15.834 12.244c0 1.168-.577 2.025-1.587 2.025-.503 0-1.002-.228-1.12-.648h-.043c-.118.416-.543.643-1.015.643-.77 0-1.259-.542-1.259-1.434v-.529c0-.844.481-1.4 1.26-1.4.585 0 .87.333.953.63h.03v-.568h.905v2.19c0 .272.18.42.411.42.315 0 .639-.415.639-1.39v-.118c0-1.277-.95-2.326-2.484-2.326h-.04c-1.582 0-2.64 1.067-2.64 2.724v.157c0 1.867 1.237 2.654 2.57 2.654h.045c.507 0 .935-.07 1.18-.18v.731c-.219.1-.643.175-1.237.175h-.044C10.438 16 9 14.82 9 12.646v-.214C9 10.36 10.421 9 12.485 9h.035c2.12 0 3.314 1.43 3.314 3.034v.21Zm-4.04.21v.227c0 .586.227.8.581.8.31 0 .564-.17.564-.743v-.367c0-.516-.275-.708-.572-.708-.346 0-.573.245-.573.791Z"/>\n</svg>',exclamationCircleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16">\n  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>\n</svg>',exclamationTriangle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle" viewBox="0 0 16 16">\n  <path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/>\n  <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"/>\n</svg>',exclamationTriangleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle-fill" viewBox="0 0 16 16">\n  <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>\n</svg>',eye:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">\n  <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>\n  <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>\n</svg>',fileEarmark:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark" viewBox="0 0 16 16">\n  <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>\n</svg>',fileEarmarkCheck:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-check" viewBox="0 0 16 16">\n  <path d="M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>\n  <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>\n</svg>',fileEarmarkFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-fill" viewBox="0 0 16 16">\n  <path d="M4 0h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm5.5 1.5v2a1 1 0 0 0 1 1h2l-3-3z"/>\n</svg>',fileEarmarkLock:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-lock" viewBox="0 0 16 16">\n  <path d="M10 7v1.076c.54.166 1 .597 1 1.224v2.4c0 .816-.781 1.3-1.5 1.3h-3c-.719 0-1.5-.484-1.5-1.3V9.3c0-.627.46-1.058 1-1.224V7a2 2 0 1 1 4 0zM7 7v1h2V7a1 1 0 0 0-2 0zM6 9.3v2.4c0 .042.02.107.105.175A.637.637 0 0 0 6.5 12h3a.64.64 0 0 0 .395-.125c.085-.068.105-.133.105-.175V9.3c0-.042-.02-.107-.105-.175A.637.637 0 0 0 9.5 9h-3a.637.637 0 0 0-.395.125C6.02 9.193 6 9.258 6 9.3z"/>\n  <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>\n</svg>',fileEarmarkMinus:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-minus" viewBox="0 0 16 16">\n  <path d="M5.5 9a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"/>\n  <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>\n</svg>',fileEarmarkRichtext:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-richtext" viewBox="0 0 16 16">\n  <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>\n  <path d="M4.5 12.5A.5.5 0 0 1 5 12h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 10h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm1.639-3.708 1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V8.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8s1.54-1.274 1.639-1.208zM6.25 6a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5z"/>\n</svg>',files:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-files" viewBox="0 0 16 16">\n  <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"/>\n</svg>',fileText:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-text" viewBox="0 0 16 16">\n  <path d="M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z"/>\n  <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>\n</svg>',filter:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-filter" viewBox="0 0 16 16">\n  <path d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>\n</svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder" viewBox="0 0 16 16">\n  <path d="M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"/>\n</svg>',folderFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder-fill" viewBox="0 0 16 16">\n  <path d="M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"/>\n</svg>',funnel:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-funnel" viewBox="0 0 16 16">\n  <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"/>\n</svg>',gear:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">\n  <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>\n  <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>\n</svg>',google:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-google" viewBox="0 0 16 16">\n  <path d="M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"/>\n</svg>',grid:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grid" viewBox="0 0 16 16">\n  <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>\n</svg>',gripVertical:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">\n  <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>\n</svg>',hash:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hash" viewBox="0 0 16 16">\n  <path d="M8.39 12.648a1.32 1.32 0 0 0-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304a1.06 1.06 0 0 0 .016-.164.51.51 0 0 0-.516-.516.54.54 0 0 0-.539.43l-.523 2.554H7.617l.477-2.304c.008-.04.015-.118.015-.164a.512.512 0 0 0-.523-.516.539.539 0 0 0-.531.43L6.53 5.484H5.414c-.43 0-.617.22-.617.532 0 .312.187.539.617.539h.906l-.515 2.523H4.609c-.421 0-.609.219-.609.531 0 .313.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242l-.515 2.492zm-1-6.109h2.266l-.515 2.563H6.859l.532-2.563z"/>\n</svg>',hddStack:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hdd-stack" viewBox="0 0 16 16">\n  <path d="M14 10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h12zM2 9a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2H2z"/>\n  <path d="M5 11.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM14 3a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12zM2 2a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"/>\n  <path d="M5 4.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>\n</svg>',house:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">\n  <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>\n</svg>',infoCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>\n</svg>',journals:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-journals" viewBox="0 0 16 16">\n  <path d="M5 0h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2 2 2 0 0 1-2 2H3a2 2 0 0 1-2-2h1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1H1a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v9a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1H3a2 2 0 0 1 2-2z"/>\n  <path d="M1 6v-.5a.5.5 0 0 1 1 0V6h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V9h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 2.5v.5H.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H2v-.5a.5.5 0 0 0-1 0z"/>\n</svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link" viewBox="0 0 16 16">\n  <path d="M6.354 5.5H4a3 3 0 0 0 0 6h3a3 3 0 0 0 2.83-4H9c-.086 0-.17.01-.25.031A2 2 0 0 1 7 10.5H4a2 2 0 1 1 0-4h1.535c.218-.376.495-.714.82-1z"/>\n  <path d="M9 5.5a3 3 0 0 0-2.83 4h1.098A2 2 0 0 1 9 6.5h3a2 2 0 1 1 0 4h-1.535a4.02 4.02 0 0 1-.82 1H12a3 3 0 1 0 0-6H9z"/>\n</svg>',listNested:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-nested" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M4.5 11.5A.5.5 0 0 1 5 11h10a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 1 3h10a.5.5 0 0 1 0 1H1a.5.5 0 0 1-.5-.5z"/>\n</svg>',listTask:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-task" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z"/>\n  <path d="M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z"/>\n  <path fill-rule="evenodd" d="M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z"/>\n</svg>',listUl:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>\n</svg>',microsoft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-microsoft" viewBox="0 0 16 16">\n  <path d="M7.462 0H0v7.19h7.462V0zM16 0H8.538v7.19H16V0zM7.462 8.211H0V16h7.462V8.211zm8.538 0H8.538V16H16V8.211z"/>\n</svg>',nodePlus:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-node-plus" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M11 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8zM6.025 7.5a5 5 0 1 1 0 1H4A1.5 1.5 0 0 1 2.5 10h-1A1.5 1.5 0 0 1 0 8.5v-1A1.5 1.5 0 0 1 1.5 6h1A1.5 1.5 0 0 1 4 7.5h2.025zM11 5a.5.5 0 0 1 .5.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2A.5.5 0 0 1 11 5zM1.5 7a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"/>\n</svg>',pencil:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">\n  <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>\n</svg>',people:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">\n  <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"/>\n</svg>',peopleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">\n  <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>\n</svg>',person:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">\n  <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>\n</svg>',personCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">\n  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>\n  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>\n</svg>',personFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">\n  <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>\n</svg>',personFillLock:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill-lock" viewBox="0 0 16 16">\n  <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h5v-1a1.9 1.9 0 0 1 .01-.2 4.49 4.49 0 0 1 1.534-3.693C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Zm7 0a1 1 0 0 1 1-1v-1a2 2 0 1 1 4 0v1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2Zm3-3a1 1 0 0 0-1 1v1h2v-1a1 1 0 0 0-1-1Z"/>\n</svg>',personLock:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-lock" viewBox="0 0 16 16">\n  <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 5.996V14H3s-1 0-1-1 1-4 6-4c.564 0 1.077.038 1.544.107a4.524 4.524 0 0 0-.803.918A10.46 10.46 0 0 0 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h5ZM9 13a1 1 0 0 1 1-1v-1a2 2 0 1 1 4 0v1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2Zm3-3a1 1 0 0 0-1 1v1h2v-1a1 1 0 0 0-1-1Z"/>\n</svg>',personSquare:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-square" viewBox="0 0 16 16">\n  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>\n  <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"/>\n</svg>',playFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">\n  <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>\n</svg>',plus:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">\n  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>\n</svg>',plusCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>\n</svg>',printer:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-printer" viewBox="0 0 16 16">\n  <path d="M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"/>\n  <path d="M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"/>\n</svg>',questionCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>\n</svg>',scissors:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-scissors" viewBox="0 0 16 16">\n  <path d="M3.5 3.5c-.614-.884-.074-1.962.858-2.5L8 7.226 11.642 1c.932.538 1.472 1.616.858 2.5L8.81 8.61l1.556 2.661a2.5 2.5 0 1 1-.794.637L8 9.73l-1.572 2.177a2.5 2.5 0 1 1-.794-.637L7.19 8.61 3.5 3.5zm2.5 10a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0zm7 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"/>\n</svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">\n  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>\n</svg>',send:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send" viewBox="0 0 16 16">\n  <path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"/>\n</svg>',slashCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-slash-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708z"/>\n</svg>',sliders2Vertical:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sliders2-vertical" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M0 10.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1H3V1.5a.5.5 0 0 0-1 0V10H.5a.5.5 0 0 0-.5.5ZM2.5 12a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 1 0v-2a.5.5 0 0 0-.5-.5Zm3-6.5A.5.5 0 0 0 6 6h1.5v8.5a.5.5 0 0 0 1 0V6H10a.5.5 0 0 0 0-1H6a.5.5 0 0 0-.5.5ZM8 1a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 1 0v-2A.5.5 0 0 0 8 1Zm3 9.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1H14V1.5a.5.5 0 0 0-1 0V10h-1.5a.5.5 0 0 0-.5.5Zm2.5 1.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 1 0v-2a.5.5 0 0 0-.5-.5Z"/>\n</svg>',sortAlphaDown:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-alpha-down" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"/>\n  <path d="M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z"/>\n</svg>',sortAlphaUpAlt:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-alpha-up-alt" viewBox="0 0 16 16">\n  <path d="M12.96 7H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V7z"/>\n  <path fill-rule="evenodd" d="M10.082 12.629 9.664 14H8.598l1.789-5.332h1.234L13.402 14h-1.12l-.419-1.371h-1.781zm1.57-.785L11 9.688h-.047l-.652 2.156h1.351z"/>\n  <path d="M4.5 13.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"/>\n</svg>',tagFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tag-fill" viewBox="0 0 16 16">\n  <path d="M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n</svg>',tag:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tag" viewBox="0 0 16 16">\n  <path d="M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0z"/>\n  <path d="M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1zm0 5.586 7 7L13.586 9l-7-7H2v4.586z"/>\n</svg>',tags:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tags" viewBox="0 0 16 16">\n  <path d="M3 2v4.586l7 7L14.586 9l-7-7H3zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586V2z"/>\n  <path d="M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z"/>\n</svg>',textIndentLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-text-indent-left" viewBox="0 0 16 16">\n  <path d="M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm.646 2.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L4.293 8 2.646 6.354a.5.5 0 0 1 0-.708zM7 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>\n</svg>',textLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-text-left" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>\n</svg>',threeDots:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">\n  <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>\n</svg>',threeDotsVertical:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">\n  <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n</svg>',trash:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">\n  <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>\n  <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>\n</svg>',uiRadios:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ui-radios" viewBox="0 0 16 16">\n  <path d="M7 2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1zM0 12a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm7-1.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1zm0-5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 8a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zM3 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm0 4.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>\n</svg>',upcScan:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upc-scan" viewBox="0 0 16 16">\n  <path d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5zM3 4.5a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7zm3 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7z"/>\n</svg>',windowStack:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-window-stack" viewBox="0 0 16 16">\n  <path d="M4.5 6a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1ZM6 6a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1Zm2-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"/>\n  <path d="M12 1a2 2 0 0 1 2 2 2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2 2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h10ZM2 12V5a2 2 0 0 1 2-2h9a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1Zm1-4v5a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V8H3Zm12-1V5a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v2h12Z"/>\n</svg>',x:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">\n  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n</svg>',xCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n</svg>',xLg:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">\n  <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>\n</svg>'})),{provide:nv,useFactory:function y4t(t){return()=>t.initializeSettings()},deps:[Gn],multi:!0},B9,dT,{provide:eC,useClass:p6t,multi:!0},{provide:eC,useClass:g6t,multi:!0},ob,G5,{provide:l5,useClass:Bw},{provide:D_,useClass:f6t},jo,qB,C8,l8,s8,r8,a8,function wae(...t){const n=[ba,bL,TL,{provide:L3,useExisting:TL},{provide:R3,useFactory:()=>M(vL,{optional:!0})??M(bL)},{provide:s_,useValue:Tae,multi:!0},{provide:tC,useValue:!0},{provide:OL,useClass:Mae}];for(const e of t)n.push(...e.\u0275providers);return _p(n)}(function bae(){return function Qc(t,n){return{\u0275kind:t,\u0275providers:n}}(yl.LegacyInterceptors,[{provide:AL,useFactory:hae},{provide:s_,useExisting:AL,multi:!0}])}())]}).catch(t=>console.error(t))}},vi=>{vi(vi.s=951)}]);